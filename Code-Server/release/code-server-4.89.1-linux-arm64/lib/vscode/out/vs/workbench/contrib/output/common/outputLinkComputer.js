"use strict";/*!--------------------------------------------------------
 * Copyright (C) Microsoft Corporation. All rights reserved.
 *--------------------------------------------------------*/(function(){var M=["require","exports","vs/base/common/platform","vs/base/common/strings","vs/base/common/extpath","vs/base/common/path","vs/base/common/network","vs/base/common/uri","vs/base/common/resources","vs/base/common/types","vs/base/common/errors","vs/workbench/contrib/output/common/outputLinkComputer","vs/editor/common/core/range"],N=function(E){for(var t=[],s=0,$=E.length;s<$;s++)t[s]=M[E[s]];return t};define(M[4],N([0,1,5,2,3,9]),function(E,t,s,$,a,P){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$og=C,t.$pg=v,t.$qg=A,t.$rg=R,t.$sg=T,t.$tg=e,t.$ug=n,t.$vg=r,t.$wg=l,t.$xg=f,t.$yg=u,t.$zg=y,t.$Ag=b,t.$Bg=k,t.$Cg=L,t.$Dg=U,t.$Eg=F;function C(i){return i===47||i===92}function v(i){return i.replace(/[\\/]/g,s.$hc.sep)}function A(i){return i.indexOf("/")===-1&&(i=v(i)),/^[a-zA-Z]:(\/|$)/.test(i)&&(i="/"+i),i}function R(i,c=s.$hc.sep){if(!i)return"";const g=i.length,d=i.charCodeAt(0);if(C(d)){if(C(i.charCodeAt(1))&&!C(i.charCodeAt(2))){let m=3;const Z=m;for(;m<g&&!C(i.charCodeAt(m));m++);if(Z!==m&&!C(i.charCodeAt(m+1))){for(m+=1;m<g;m++)if(C(i.charCodeAt(m)))return i.slice(0,m+1).replace(/[\\/]/g,c)}}return c}else if(l(d)&&i.charCodeAt(1)===58)return C(i.charCodeAt(2))?i.slice(0,2)+c:i.slice(0,2);let w=i.indexOf("://");if(w!==-1){for(w+=3;w<g;w++)if(C(i.charCodeAt(w)))return i.slice(0,w+1)}return""}function T(i){if(!$.$c||!i||i.length<5)return!1;let c=i.charCodeAt(0);if(c!==92||(c=i.charCodeAt(1),c!==92))return!1;let g=2;const d=g;for(;g<i.length&&(c=i.charCodeAt(g),c!==92);g++);return!(d===g||(c=i.charCodeAt(g+1),isNaN(c)||c===92))}const O=/[\\/:\*\?"<>\|]/g,h=/[\\/]/g,o=/^(con|prn|aux|clock\$|nul|lpt[0-9]|com[0-9])(\.(.*?))?$/i;function e(i,c=$.$c){const g=c?O:h;return!(!i||i.length===0||/^\s+$/.test(i)||(g.lastIndex=0,g.test(i))||c&&o.test(i)||i==="."||i===".."||c&&i[i.length-1]==="."||c&&i.length!==i.trim().length||i.length>255)}function n(i,c,g){const d=i===c;return!g||d?d:!i||!c?!1:(0,a.$yf)(i,c)}function r(i,c,g,d=s.sep){if(i===c)return!0;if(!i||!c||c.length>i.length)return!1;if(g){if(!(0,a.$zf)(i,c))return!1;if(c.length===i.length)return!0;let m=c.length;return c.charAt(c.length-1)===d&&m--,i.charAt(m)===d}return c.charAt(c.length-1)!==d&&(c+=d),i.indexOf(c)===0}function l(i){return i>=65&&i<=90||i>=97&&i<=122}function f(i,c){return $.$c&&i.endsWith(":")&&(i+=s.sep),(0,s.$jc)(i)||(i=(0,s.$kc)(c,i)),i=(0,s.$ic)(i),u(i)}function u(i){return $.$c?(i=(0,a.$gf)(i,s.sep),i.endsWith(":")&&(i+=s.sep)):(i=(0,a.$gf)(i,s.sep),i||(i=s.sep)),i}function y(i){const c=(0,s.$ic)(i);return $.$c?i.length>3?!1:b(c)&&(i.length===2||c.charCodeAt(2)===92):c===s.$hc.sep}function b(i,c=$.$c){return c?l(i.charCodeAt(0))&&i.charCodeAt(1)===58:!1}function k(i,c=$.$c){return b(i,c)?i[0]:void 0}function L(i,c,g){return c.length>i.length?-1:i===c?0:(g&&(i=i.toLowerCase(),c=c.toLowerCase()),i.indexOf(c))}function U(i){const c=i.split(":");let g,d,w;for(const m of c){const Z=Number(m);(0,P.$ag)(Z)?d===void 0?d=Z:w===void 0&&(w=Z):g=g?[g,m].join(":"):m}if(!g)throw new Error("Format for `--goto` should be: `FILE:LINE(:COLUMN)`");return{path:g,line:d!==void 0?d:void 0,column:w!==void 0?w:d!==void 0?1:void 0}}const I="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",q="BDEFGHIJKMOQRSTUVWXYZbdefghijkmoqrstuvwxyz0123456789";function F(i,c,g=8){let d="";for(let m=0;m<g;m++){let Z;m===0&&$.$c&&!c&&(g===3||g===4)?Z=q:Z=I,d+=Z.charAt(Math.floor(Math.random()*Z.length))}let w;return c?w=`${c}-${d}`:w=d,i?(0,s.$kc)(i,w):w}}),define(M[6],N([0,1,10,2,3,7,5]),function(E,t,s,$,a,P,C){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.COI=t.$Qg=t.$Pg=t.$Og=t.$Ng=t.$Mg=t.$Lg=t.$Jg=t.$Ig=t.$Hg=t.Schemas=void 0,t.$Fg=A,t.$Gg=R,t.$Kg=O;var v;(function(e){e.inMemory="inmemory",e.vscode="vscode",e.internal="private",e.walkThrough="walkThrough",e.walkThroughSnippet="walkThroughSnippet",e.http="http",e.https="https",e.file="file",e.mailto="mailto",e.untitled="untitled",e.data="data",e.command="command",e.vscodeRemote="vscode-remote",e.vscodeRemoteResource="vscode-remote-resource",e.vscodeManagedRemoteResource="vscode-managed-remote-resource",e.vscodeUserData="vscode-userdata",e.vscodeCustomEditor="vscode-custom-editor",e.vscodeNotebookCell="vscode-notebook-cell",e.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",e.vscodeNotebookCellOutput="vscode-notebook-cell-output",e.vscodeInteractiveInput="vscode-interactive-input",e.vscodeSettings="vscode-settings",e.vscodeWorkspaceTrust="vscode-workspace-trust",e.vscodeTerminal="vscode-terminal",e.vscodeChatCodeBlock="vscode-chat-code-block",e.vscodeChatCodeCompreBlock="vscode-chat-code-compare-block",e.vscodeChatSesssion="vscode-chat-editor",e.webviewPanel="webview-panel",e.vscodeWebview="vscode-webview",e.extension="extension",e.vscodeFileResource="vscode-file",e.tmp="tmp",e.vsls="vsls",e.vscodeSourceControl="vscode-scm",e.commentsInput="comment",e.codeSetting="code-setting"})(v||(t.Schemas=v={}));function A(e,n){return P.URI.isUri(e)?(0,a.$yf)(e.scheme,n):(0,a.$zf)(e,n+":")}function R(e,...n){return n.some(r=>A(e,r))}t.$Hg="vscode-tkn",t.$Ig="tkn";class T{constructor(){this.a=Object.create(null),this.b=Object.create(null),this.c=Object.create(null),this.d="http",this.e=null,this.f="/"}setPreferredWebSchema(n){this.d=n}setDelegate(n){this.e=n}setServerRootPath(n,r){this.f=O(n,r)}getServerRootPath(){return this.f}get g(){return C.$hc.join(this.f,v.vscodeRemoteResource)}set(n,r,l){this.a[n]=r,this.b[n]=l}setConnectionToken(n,r){this.c[n]=r}getPreferredWebSchema(){return this.d}rewrite(n){if(this.e)try{return this.e(n)}catch(b){return s.$1(b),n}const r=n.authority;let l=this.a[r];l&&l.indexOf(":")!==-1&&l.indexOf("[")===-1&&(l=`[${l}]`);const f=this.b[r],u=this.c[r];let y=`path=${encodeURIComponent(n.path)}`;return typeof u=="string"&&(y+=`&${t.$Ig}=${encodeURIComponent(u)}`),P.URI.from({scheme:$.$i?this.d:v.vscodeRemoteResource,authority:`${l}:${f}`,path:$.$i?(window.location.pathname+"/"+this.g).replace(/\/\/+/g,"/"):this.g,query:y})}}t.$Jg=new T;function O(e,n){return C.$hc.join(n??"/",`${e.quality??"oss"}-${e.commit??"dev"}`)}t.$Lg="vs/../../extensions",t.$Mg="vs/../../node_modules",t.$Ng="vs/../../node_modules.asar",t.$Og="vs/../../node_modules.asar.unpacked",t.$Pg="vscode-app";class h{asBrowserUri(n){const r=this.b(n,E);return this.uriToBrowserUri(r)}uriToBrowserUri(n){return n.scheme===v.vscodeRemote?t.$Jg.rewrite(n):n.scheme===v.file&&($.$g||$.$k===`${v.vscodeFileResource}://${h.a}`)?n.with({scheme:v.vscodeFileResource,authority:n.authority||h.a,query:null,fragment:null}):n}asFileUri(n){const r=this.b(n,E);return this.uriToFileUri(r)}uriToFileUri(n){return n.scheme===v.vscodeFileResource?n.with({scheme:v.file,authority:n.authority!==h.a?n.authority:null,query:null,fragment:null}):n}b(n,r){return P.URI.isUri(n)?n:P.URI.parse(r.toUrl(n))}}h.a=t.$Pg,t.$Qg=new h;var o;(function(e){const n=new Map([["1",{"Cross-Origin-Opener-Policy":"same-origin"}],["2",{"Cross-Origin-Embedder-Policy":"require-corp"}],["3",{"Cross-Origin-Opener-Policy":"same-origin","Cross-Origin-Embedder-Policy":"require-corp"}]]);e.CoopAndCoep=Object.freeze(n.get("3"));const r="vscode-coi";function l(u){let y;typeof u=="string"?y=new URL(u).searchParams:u instanceof URL?y=u.searchParams:P.URI.isUri(u)&&(y=new URL(u.toString(!0)).searchParams);const b=y?.get(r);if(b)return n.get(b)}e.getHeadersFromQuery=l;function f(u,y,b){if(!globalThis.crossOriginIsolated)return;const k=y&&b?"3":b?"2":"1";u instanceof URLSearchParams?u.set(r,k):u[r]=k}e.addSearchParam=f})(o||(t.COI=o={}))}),define(M[8],N([0,1,4,6,5,2,3,7]),function(E,t,s,$,a,P,C,v){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DataUri=t.$fh=t.$eh=t.$dh=t.$ch=t.$bh=t.$ah=t.$_g=t.$$g=t.$0g=t.$9g=t.$8g=t.$7g=t.$6g=t.$5g=t.$4g=t.$3g=t.$2g=t.$1g=t.$Zg=t.$Yg=void 0,t.$Xg=A,t.$gh=T,t.$hh=h;function A(o){return(0,v.$xc)(o,!0)}class R{constructor(e){this.a=e}compare(e,n,r=!1){return e===n?0:(0,C.$rf)(this.getComparisonKey(e,r),this.getComparisonKey(n,r))}isEqual(e,n,r=!1){return e===n?!0:!e||!n?!1:this.getComparisonKey(e,r)===this.getComparisonKey(n,r)}getComparisonKey(e,n=!1){return e.with({path:this.a(e)?e.path.toLowerCase():void 0,fragment:n?null:void 0}).toString()}ignorePathCasing(e){return this.a(e)}isEqualOrParent(e,n,r=!1){if(e.scheme===n.scheme){if(e.scheme===$.Schemas.file)return s.$vg(A(e),A(n),this.a(e))&&e.query===n.query&&(r||e.fragment===n.fragment);if((0,t.$ch)(e.authority,n.authority))return s.$vg(e.path,n.path,this.a(e),"/")&&e.query===n.query&&(r||e.fragment===n.fragment)}return!1}joinPath(e,...n){return v.URI.joinPath(e,...n)}basenameOrAuthority(e){return(0,t.$7g)(e)||e.authority}basename(e){return a.$hc.basename(e.path)}extname(e){return a.$hc.extname(e.path)}dirname(e){if(e.path.length===0)return e;let n;return e.scheme===$.Schemas.file?n=v.URI.file(a.$nc(A(e))).path:(n=a.$hc.dirname(e.path),e.authority&&n.length&&n.charCodeAt(0)!==47&&(console.error(`dirname("${e.toString})) resulted in a relative path`),n="/")),e.with({path:n})}normalizePath(e){if(!e.path.length)return e;let n;return e.scheme===$.Schemas.file?n=v.URI.file(a.$ic(A(e))).path:n=a.$hc.normalize(e.path),e.with({path:n})}relativePath(e,n){if(e.scheme!==n.scheme||!(0,t.$ch)(e.authority,n.authority))return;if(e.scheme===$.Schemas.file){const f=a.$mc(A(e),A(n));return P.$c?s.$pg(f):f}let r=e.path||"/";const l=n.path||"/";if(this.a(e)){let f=0;for(const u=Math.min(r.length,l.length);f<u&&!(r.charCodeAt(f)!==l.charCodeAt(f)&&r.charAt(f).toLowerCase()!==l.charAt(f).toLowerCase());f++);r=l.substr(0,f)+r.substr(f)}return a.$hc.relative(r,l)}resolvePath(e,n){if(e.scheme===$.Schemas.file){const r=v.URI.file(a.$lc(A(e),n));return e.with({authority:r.authority,path:r.path})}return n=s.$qg(n),e.with({path:a.$hc.resolve(e.path,n)})}isAbsolutePath(e){return!!e.path&&e.path[0]==="/"}isEqualAuthority(e,n){return e===n||e!==void 0&&n!==void 0&&(0,C.$yf)(e,n)}hasTrailingPathSeparator(e,n=a.sep){if(e.scheme===$.Schemas.file){const r=A(e);return r.length>s.$rg(r).length&&r[r.length-1]===n}else{const r=e.path;return r.length>1&&r.charCodeAt(r.length-1)===47&&!/^[a-zA-Z]:(\/$|\\$)/.test(e.fsPath)}}removeTrailingPathSeparator(e,n=a.sep){return(0,t.$dh)(e,n)?e.with({path:e.path.substr(0,e.path.length-1)}):e}addTrailingPathSeparator(e,n=a.sep){let r=!1;if(e.scheme===$.Schemas.file){const l=A(e);r=l!==void 0&&l.length===s.$rg(l).length&&l[l.length-1]===n}else{n="/";const l=e.path;r=l.length===1&&l.charCodeAt(l.length-1)===47}return!r&&!(0,t.$dh)(e,n)?e.with({path:e.path+"/"}):e}}t.$Yg=R,t.$Zg=new R(()=>!1),t.$1g=new R(o=>o.scheme===$.Schemas.file?!P.$e:!0),t.$2g=new R(o=>!0),t.$3g=t.$Zg.isEqual.bind(t.$Zg),t.$4g=t.$Zg.isEqualOrParent.bind(t.$Zg),t.$5g=t.$Zg.getComparisonKey.bind(t.$Zg),t.$6g=t.$Zg.basenameOrAuthority.bind(t.$Zg),t.$7g=t.$Zg.basename.bind(t.$Zg),t.$8g=t.$Zg.extname.bind(t.$Zg),t.$9g=t.$Zg.dirname.bind(t.$Zg),t.$0g=t.$Zg.joinPath.bind(t.$Zg),t.$$g=t.$Zg.normalizePath.bind(t.$Zg),t.$_g=t.$Zg.relativePath.bind(t.$Zg),t.$ah=t.$Zg.resolvePath.bind(t.$Zg),t.$bh=t.$Zg.isAbsolutePath.bind(t.$Zg),t.$ch=t.$Zg.isEqualAuthority.bind(t.$Zg),t.$dh=t.$Zg.hasTrailingPathSeparator.bind(t.$Zg),t.$eh=t.$Zg.removeTrailingPathSeparator.bind(t.$Zg),t.$fh=t.$Zg.addTrailingPathSeparator.bind(t.$Zg);function T(o,e){const n=[];for(let r=0;r<o.length;r++){const l=e(o[r]);o.some((f,u)=>u===r?!1:(0,t.$4g)(l,e(f)))||n.push(o[r])}return n}var O;(function(o){o.META_DATA_LABEL="label",o.META_DATA_DESCRIPTION="description",o.META_DATA_SIZE="size",o.META_DATA_MIME="mime";function e(n){const r=new Map;n.path.substring(n.path.indexOf(";")+1,n.path.lastIndexOf(";")).split(";").forEach(u=>{const[y,b]=u.split(":");y&&b&&r.set(y,b)});const f=n.path.substring(0,n.path.indexOf(";"));return f&&r.set(o.META_DATA_MIME,f),r}o.parseMetaData=e})(O||(t.DataUri=O={}));function h(o,e,n){if(e){let r=o.path;return r&&r[0]!==a.$hc.sep&&(r=a.$hc.sep+r),o.with({scheme:n,authority:e,path:r})}return o.with({scheme:n})}}),define(M[11],N([0,1,7,4,8,3,12,2,6]),function(E,t,s,$,a,P,C,v,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OutputLinkComputer=void 0,t.create=T;class R{constructor(h,o){this.b=h,this.a=new Map,this.c(o)}c(h){const o=h.workspaceFolders.sort((e,n)=>n.length-e.length).map(e=>s.URI.parse(e));for(const e of o){const n=R.createPatterns(e);this.a.set(e,n)}}d(h){return this.b.getMirrorModels().find(e=>e.uri.toString()===h)}computeLinks(h){const o=this.d(h);if(!o)return[];const e=[],n=P.$lf(o.getValue());for(const[r,l]of this.a){const f={toResource:u=>typeof u=="string"?a.$0g(r,u):null};for(let u=0,y=n.length;u<y;u++)e.push(...R.detectLinks(n[u],u+1,l,f))}return e}static createPatterns(h){const o=[],e=h.scheme===A.Schemas.file?h.fsPath:h.path,n=[e];v.$c&&h.scheme===A.Schemas.file&&n.push($.$pg(e));for(const r of n){const l=`[^\\s\\(\\):<>'"]`,u=`${`(?:${l}| ${l})`}+\\.${l}+`,y=`${l}+`;o.push(new RegExp(P.$af(r)+`(${u}) on line ((\\d+)(, column (\\d+))?)`,"gi")),o.push(new RegExp(P.$af(r)+`(${u}):line ((\\d+)(, column (\\d+))?)`,"gi")),o.push(new RegExp(P.$af(r)+`(${u})(\\s?\\((\\d+)(,(\\d+))?)\\)`,"gi")),o.push(new RegExp(P.$af(r)+`(${y})(:(\\d+))?(:(\\d+))?`,"gi"))}return o}static detectLinks(h,o,e,n){const r=[];return e.forEach(l=>{l.lastIndex=0;let f,u=0;for(;(f=l.exec(h))!==null;){const y=P.$gf(f[1],".").replace(/\\/g,"/");let b;try{const I=n.toResource(y);I&&(b=I.toString())}catch{continue}if(f[3]){const I=f[3];if(f[5]){const q=f[5];b=P.$9e("{0}#{1},{2}",b,I,q)}else b=P.$9e("{0}#{1}",b,I)}const k=P.$gf(f[0],"."),L=h.indexOf(k,u);u=L+k.length;const U={startColumn:L+1,startLineNumber:o,endColumn:L+1+k.length,endLineNumber:o};if(r.some(I=>C.$vt.areIntersectingOrTouching(I.range,U)))return;r.push({range:U,url:b})}}),r}}t.OutputLinkComputer=R;function T(O,h){return new R(O,h)}})}).call(this);

//# sourceMappingURL=outputLinkComputer.js.map
