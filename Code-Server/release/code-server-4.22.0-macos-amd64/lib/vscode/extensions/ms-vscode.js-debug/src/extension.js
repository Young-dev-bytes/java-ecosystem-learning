"use strict";var z5=Object.create;var Fd=Object.defineProperty;var cT=Object.getOwnPropertyDescriptor;var K5=Object.getOwnPropertyNames;var X5=Object.getPrototypeOf,J5=Object.prototype.hasOwnProperty;var Y5=(r,e)=>()=>(r&&(e=r(r=0)),e);var b=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),Q5=(r,e)=>{for(var t in e)Fd(r,t,{get:e[t],enumerable:!0})},uT=(r,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of K5(e))!J5.call(r,i)&&i!==t&&Fd(r,i,{get:()=>e[i],enumerable:!(n=cT(e,i))||n.enumerable});return r};var w=(r,e,t)=>(t=r!=null?z5(X5(r)):{},uT(e||!r||!r.__esModule?Fd(t,"default",{value:r,enumerable:!0}):t,r)),Z5=r=>uT(Fd({},"__esModule",{value:!0}),r),E=(r,e,t,n)=>{for(var i=n>1?void 0:n?cT(e,t):e,o=r.length-1,s;o>=0;o--)(s=r[o])&&(i=(n?s(e,t,i):s(i))||i);return n&&i&&Fd(e,t,i),i},H=(r,e)=>(t,n)=>e(t,n,r);var we=b((ume,fT)=>{"use strict";var Yw=Object.defineProperty,eG=Object.getOwnPropertyDescriptor,tG=Object.getOwnPropertyNames,rG=Object.prototype.hasOwnProperty,nG=(r,e)=>{for(var t in e)Yw(r,t,{get:e[t],enumerable:!0})},iG=(r,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of tG(e))!rG.call(r,i)&&i!==t&&Yw(r,i,{get:()=>e[i],enumerable:!(n=eG(e,i))||n.enumerable});return r},oG=r=>iG(Yw({},"__esModule",{value:!0}),r),pT={};nG(pT,{config:()=>lG,t:()=>dT});fT.exports=oG(pT);var sG=require("fs"),aG=require("fs/promises");async function cG(r){if(r.protocol==="file:")return await(0,aG.readFile)(r,"utf8");if(r.protocol==="http:"||r.protocol==="https:"){let e=await fetch(r.toString(),{headers:{"Accept-Encoding":"gzip, deflate",Accept:"application/json"},redirect:"follow"});if(!e.ok){let n=`Unexpected ${e.status} response while trying to read ${r}`;try{n+=`: ${await e.text()}`}catch{}throw new Error(n)}return await e.text()}throw new Error("Unsupported protocol")}function uG(r){return(0,sG.readFileSync)(r,"utf8")}var Bd;function lG(r){if("contents"in r){typeof r.contents=="string"?Bd=JSON.parse(r.contents):Bd=r.contents;return}if("fsPath"in r){let e=uG(r.fsPath),t=JSON.parse(e);Bd=lT(t)?t.contents.bundle:t;return}if(r.uri){let e=r.uri;return typeof r.uri=="string"&&(e=new URL(r.uri)),new Promise((t,n)=>{cG(e).then(i=>{try{let o=JSON.parse(i);Bd=lT(o)?o.contents.bundle:o,t()}catch(o){n(o)}}).catch(i=>{n(i)})})}}function dT(...r){let e=r[0],t,n,i;if(typeof e=="string")t=e,n=e,r.splice(0,1),i=!r||typeof r[0]!="object"?r:r[0];else if(e instanceof Array){let s=r.slice(1);if(e.length!==s.length+1)throw new Error("expected a string as the first argument to l10n.t");let a=e[0];for(let c=1;c<e.length;c++)a+=`{${c-1}}`+e[c];return dT(a,...s)}else n=e.message,t=n,e.comment&&e.comment.length>0&&(t+=`/${Array.isArray(e.comment)?e.comment.join(""):e.comment}`),i=e.args??{};let o=Bd?.[t];return o?typeof o=="string"?Oh(o,i):o.comment?Oh(o.message,i):Oh(n,i):Oh(n,i)}var pG=/{([^}]+)}/g;function Oh(r,e){return Object.keys(e).length===0?r:r.replace(pG,(t,n)=>e[n]??t)}function lT(r){return typeof r?.contents?.bundle=="object"&&typeof r?.version=="string"}});var Uo=b(xr=>{"use strict";Object.defineProperty(xr,"__esModule",{value:!0});xr.findWindowsCandidates=xr.sort=xr.preferredEdgePath=xr.preferredFirefoxPath=xr.preferredChromePath=xr.escapeRegexSpecialChars=xr.canAccess=void 0;var xG=require("path");async function Vd({access:r},e){if(!e)return!1;try{return await r(e),!0}catch{return!1}}xr.canAccess=Vd;var wG="/\\.?*()^${}|[]+";function IG(r,e){let t=wG.split("").filter(i=>!e||e.indexOf(i)<0).join("").replace(/[\\\]]/g,"\\$&"),n=new RegExp(`[${t}]`,"g");return r.replace(n,"\\$&")}xr.escapeRegexSpecialChars=IG;async function _G(r,e){if(await Vd(r,e.CHROME_PATH))return e.CHROME_PATH}xr.preferredChromePath=_G;async function AG(r,e){if(await Vd(r,e.FIREFOX_PATH))return e.FIREFOX_PATH}xr.preferredFirefoxPath=AG;async function SG(r,e){if(await Vd(r,e.EDGE_PATH))return e.EDGE_PATH}xr.preferredEdgePath=SG;function EG(r,e){return[...r].filter(n=>!!n).map(n=>{let i=e.find(o=>o.regex.test(n));return i?{path:n,weight:i.weight,quality:i.quality}:{path:n,weight:10,quality:"dev"}}).sort((n,i)=>i.weight-n.weight).map(n=>({path:n.path,quality:n.quality}))}xr.sort=EG;async function PG(r,e,t){let n=[r.LOCALAPPDATA,r.PROGRAMFILES,r["PROGRAMFILES(X86)"]].filter(o=>!!o),i=[];for(let o of n)for(let s of t){let a=xG.win32.join(o,s.name);i.push(Vd(e,a).then(c=>c?{path:a,quality:s.type}:void 0))}return(await Promise.all(i)).filter(o=>!!o)}xr.findWindowsCandidates=PG});var Jh=b(Xh=>{"use strict";Object.defineProperty(Xh,"__esModule",{value:!0});Xh.DarwinFinderBase=void 0;var CG=require("path"),TG=require("fs"),lI=Uo(),IT=/( \(0x[a-f0-9]+\))/,pI=class{constructor(e=process.env,t=TG.promises,n=n){this.env=e,this.fs=t,this.execa=n,this.lsRegisterCommand="/System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/LaunchServices.framework/Versions/A/Support/lsregister -dump",this.wellKnownPaths=[]}async findWhere(e){for(let t of this.wellKnownPaths)if(e(t)&&await(0,lI.canAccess)(this.fs,t.path))return t;return(await this.findAll()).find(e)}findAll(){var e;return(e=this.foundAll)!==null&&e!==void 0||(this.foundAll=this.findAllInner()),this.foundAll}async findLaunchRegisteredApps(e,t,n){let{stdout:i}=await this.execa.command(`${this.lsRegisterCommand} | awk 'tolower($0) ~ /${e.toLowerCase()}${IT.source}?$/ { $1=""; print $0 }'`,{shell:!0,stdio:"pipe"}),o=[...t,...i.split(`
`).map(c=>c.trim().replace(IT,""))].filter(c=>!!c),s=this.getPreferredPath();s&&o.push(s);let a=new Set;for(let c of o)for(let u of n){let l=CG.posix.join(c.trim(),u);try{await this.fs.access(l),a.add(l)}catch{}}return a}createPriorities(e){let t=this.env.HOME&&(0,lI.escapeRegexSpecialChars)(this.env.HOME),n=this.getPreferredPath(),i=e.reduce((o,s)=>[...o,{regex:new RegExp(`^/Applications/.*${s.name}`),weight:s.weight+100,quality:s.quality},{regex:new RegExp(`^${t}/Applications/.*${s.name}`),weight:s.weight,quality:s.quality},{regex:new RegExp(`^/Volumes/.*${s.name}`),weight:s.weight-100,quality:s.quality}],[]);return n&&i.unshift({regex:new RegExp((0,lI.escapeRegexSpecialChars)(n)),weight:151,quality:"custom"}),i}};Xh.DarwinFinderBase=pI});var _T=b(Yh=>{"use strict";Object.defineProperty(Yh,"__esModule",{value:!0});Yh.DarwinChromeBrowserFinder=void 0;var LG=Uo(),DG=Jh(),dI=class extends DG.DarwinFinderBase{constructor(){super(...arguments),this.wellKnownPaths=[{path:"/Applications/Google Chrome.app/Contents/MacOS/Google Chrome",quality:"stable"},{path:"/Applications/Google Chrome Canary.app/Contents/MacOS/Google Chrome Canary",quality:"canary"},{path:"/Applications/Google Chrome Beta.app/Contents/MacOS/Google Chrome Beta",quality:"beta"},{path:"/Applications/Google Chrome Dev.app/Contents/MacOS/Google Chrome Dev",quality:"dev"}]}async findAllInner(){let e=["/Contents/MacOS/Google Chrome Canary","/Contents/MacOS/Google Chrome Beta","/Contents/MacOS/Google Chrome Dev","/Contents/MacOS/Google Chrome"],t=["/Applications/Google Chrome.app","/Applications/Google Chrome Canary.app"],n=await this.findLaunchRegisteredApps("google chrome[A-Za-z() ]*.app",t,e);return(0,LG.sort)(n,this.createPriorities([{name:"Chrome.app",weight:0,quality:"stable"},{name:"Chrome Canary.app",weight:1,quality:"canary"},{name:"Chrome Beta.app",weight:2,quality:"beta"},{name:"Chrome Dev.app",weight:3,quality:"dev"}]))}getPreferredPath(){return this.env.CHROME_PATH}};Yh.DarwinChromeBrowserFinder=dI});var AT=b(Qh=>{"use strict";Object.defineProperty(Qh,"__esModule",{value:!0});Qh.DarwinEdgeBrowserFinder=void 0;var $G=Uo(),kG=Jh(),fI=class extends kG.DarwinFinderBase{constructor(){super(...arguments),this.wellKnownPaths=[{path:"/Applications/Microsoft Edge.app/Contents/MacOS/Microsoft Edge",quality:"stable"},{path:"/Applications/Microsoft Edge Canary.app/Contents/MacOS/Microsoft Edge Canary",quality:"canary"},{path:"/Applications/Microsoft Edge Beta.app/Contents/MacOS/Microsoft Edge Beta",quality:"beta"},{path:"/Applications/Microsoft Edge Dev.app/Contents/MacOS/Microsoft Edge Dev",quality:"dev"}]}async findAllInner(){let e=["/Contents/MacOS/Microsoft Edge Canary","/Contents/MacOS/Microsoft Edge Beta","/Contents/MacOS/Microsoft Edge Dev","/Contents/MacOS/Microsoft Edge"],t=["/Applications/Microsoft Edge.app"],n=await this.findLaunchRegisteredApps("Microsoft Edge[A-Za-z ]*.app",t,e);return(0,$G.sort)(n,this.createPriorities([{name:"Microsoft Edge.app",weight:0,quality:"stable"},{name:"Microsoft Edge Canary.app",weight:1,quality:"canary"},{name:"Microsoft Edge Beta.app",weight:2,quality:"beta"},{name:"Microsoft Edge Dev.app",weight:3,quality:"dev"}]))}getPreferredPath(){return this.env.EDGE_PATH}};Qh.DarwinEdgeBrowserFinder=fI});var ST=b(Zh=>{"use strict";Object.defineProperty(Zh,"__esModule",{value:!0});Zh.DarwinFirefoxBrowserFinder=void 0;var RG=Uo(),MG=Jh(),mI=class extends MG.DarwinFinderBase{constructor(){super(...arguments),this.wellKnownPaths=[{path:"/Applications/Firefox.app/Contents/MacOS/firefox",quality:"stable"},{path:"/Applications/Firefox Developer Edition.app/Contents/MacOS/firefox",quality:"dev"},{path:"/Applications/Firefox Nightly.app/Contents/MacOS/firefox",quality:"canary"}]}async findAllInner(){let e=["/Contents/MacOS/firefox"],t=["/Applications/Firefox.app"],n=await this.findLaunchRegisteredApps("Firefox[A-Za-z ]*.app",t,e);return(0,RG.sort)(n,this.createPriorities([{name:"Firefox.app",weight:0,quality:"stable"},{name:"Firefox Nightly.app",weight:1,quality:"canary"},{name:"Firefox Developer Edition.app",weight:2,quality:"dev"}]))}getPreferredPath(){return this.env.FIREFOX_PATH}};Zh.DarwinFirefoxBrowserFinder=mI});var tg=b(eg=>{"use strict";Object.defineProperty(eg,"__esModule",{value:!0});eg.LinuxChromeBrowserFinder=void 0;var OG=require("path"),xu=Uo(),hI=require("child_process"),NG=require("os"),FG=require("fs"),ET=/\r?\n/,gI=class{constructor(e=process.env,t=FG.promises){this.env=e,this.fs=t,this.pathEnvironmentVar="CHROME_PATH",this.priorities=[{regex:/chrome-wrapper$/,weight:54,quality:"custom"},{regex:/google-chrome-dev$/,weight:53,quality:"dev"},{regex:/google-chrome-canary$/,weight:52,quality:"canary"},{regex:/google-chrome-unstable$/,weight:51,quality:"canary"},{regex:/google-chrome-canary$/,weight:51,quality:"canary"},{regex:/google-chrome-stable$/,weight:50,quality:"stable"},{regex:/(google-)?chrome$/,weight:49,quality:"stable"},{regex:/chromium-browser$/,weight:48,quality:"custom"},{regex:/chromium$/,weight:47,quality:"custom"}],this.executablesOnPath=["google-chrome-unstable","google-chrome-dev","google-chrome-beta","google-chrome-canary","google-chrome-stable","google-chrome","chromium-browser","chromium"]}async findWhere(e){return(await this.findAll()).find(e)}async findAll(){let e=new Set,t=this.env[this.pathEnvironmentVar];t&&await(0,xu.canAccess)(this.fs,t)&&e.add(t),[OG.posix.join((0,NG.homedir)(),".local/share/applications/"),"/usr/share/applications/","/usr/bin","/opt/google"].forEach(s=>{for(let a in this.findChromeExecutables(s))e.add(a)}),await Promise.all(this.executablesOnPath.map(async s=>{try{let a=(0,hI.execFileSync)("which",[s],{stdio:"pipe"}).toString().split(ET)[0];await(0,xu.canAccess)(this.fs,a)&&e.add(a)}catch{}}));let o=t?[{regex:new RegExp((0,xu.escapeRegexSpecialChars)(t)),weight:101,quality:"custom"}].concat(this.priorities):this.priorities;return(0,xu.sort)(e,o)}async findChromeExecutables(e){let t=/(^[^ ]+).*/,n=`^Exec=/.*/(${this.executablesOnPath.join("|")})-.*`,i=[];if(await(0,xu.canAccess)(this.fs,e)){let o;try{o=(0,hI.execSync)(`grep -ERI "${n}" ${e} | awk -F '=' '{print $2}'`)}catch{o=(0,hI.execSync)(`grep -Er "${n}" ${e} | awk -F '=' '{print $2}'`)}let s=o.toString().split(ET).map(a=>a.replace(t,"$1"));await Promise.all(s.map(async a=>{await(0,xu.canAccess)(this.fs,a)&&i.push(a)}))}return i}};eg.LinuxChromeBrowserFinder=gI});var PT=b(rg=>{"use strict";Object.defineProperty(rg,"__esModule",{value:!0});rg.LinuxEdgeBrowserFinder=void 0;var BG=tg(),HI=class extends BG.LinuxChromeBrowserFinder{constructor(){super(...arguments),this.pathEnvironmentVar="EDGE_PATH",this.executablesOnPath=["microsoft-edge-dev","microsoft-edge-beta","microsoft-edge-stable","microsoft-edge"],this.priorities=[{regex:/microsoft-edge\-wrapper$/,weight:52,quality:"custom"},{regex:/microsoft-edge\-dev$/,weight:51,quality:"dev"},{regex:/microsoft-edge\-beta$/,weight:51,quality:"beta"},{regex:/microsoft-edge\-stable$/,weight:50,quality:"stable"},{regex:/microsoft-edge$/,weight:49,quality:"stable"}]}};rg.LinuxEdgeBrowserFinder=HI});var CT=b(ng=>{"use strict";Object.defineProperty(ng,"__esModule",{value:!0});ng.LinuxFirefoxBrowserFinder=void 0;var UG=tg(),yI=class extends UG.LinuxChromeBrowserFinder{constructor(){super(...arguments),this.pathEnvironmentVar="FIREFOX_PATH",this.executablesOnPath=["firefox-aurora","firefox-dev","firefox-developer","firefox-trunk","firefox-nightly","firefox"],this.priorities=[{regex:/firefox\-aurora$/,weight:51,quality:"dev"},{regex:/firefox\-dev$/,weight:51,quality:"dev"},{regex:/firefox\-developer$/,weight:51,quality:"dev"},{regex:/firefox\-trunk'$/,weight:50,quality:"canary"},{regex:/firefox\-nightly'$/,weight:50,quality:"canary"},{regex:/firefox$/,weight:49,quality:"stable"}]}};ng.LinuxFirefoxBrowserFinder=yI});var LT=b(ig=>{"use strict";Object.defineProperty(ig,"__esModule",{value:!0});ig.WindowsChromeBrowserFinder=void 0;var jG=require("path"),TT=Uo(),WG=require("fs"),bI=class{constructor(e=process.env,t=WG.promises){this.env=e,this.fs=t}async findWhere(e){return(await this.findAll()).find(e)}async findAll(){let e=jG.win32.sep,t=[{name:`${e}Google${e}Chrome Dev${e}Application${e}chrome.exe`,type:"dev"},{name:`${e}Google${e}Chrome SxS${e}Application${e}chrome.exe`,type:"canary"},{name:`${e}Google${e}Chrome Beta${e}Application${e}chrome.exe`,type:"beta"},{name:`${e}Google${e}Chrome${e}Application${e}chrome.exe`,type:"stable"}],n=await(0,TT.findWindowsCandidates)(this.env,this.fs,t),i=await(0,TT.preferredChromePath)(this.fs,this.env);return i&&n.unshift({path:i,quality:"custom"}),n}};ig.WindowsChromeBrowserFinder=bI});var $T=b(og=>{"use strict";Object.defineProperty(og,"__esModule",{value:!0});og.WindowsEdgeBrowserFinder=void 0;var wr=require("path"),qG=require("fs"),DT=Uo(),vI=class{constructor(e=process.env,t=qG.promises){this.env=e,this.fs=t}async findWhere(e){return(await this.findAll()).find(e)}async findAll(){let e=[{name:`${wr.sep}Microsoft${wr.sep}Edge SxS${wr.sep}Application${wr.sep}msedge.exe`,type:"canary"},{name:`${wr.sep}Microsoft${wr.sep}Edge Dev${wr.sep}Application${wr.sep}msedge.exe`,type:"dev"},{name:`${wr.sep}Microsoft${wr.sep}Edge Beta${wr.sep}Application${wr.sep}msedge.exe`,type:"beta"},{name:`${wr.sep}Microsoft${wr.sep}Edge${wr.sep}Application${wr.sep}msedge.exe`,type:"stable"}],t=await(0,DT.findWindowsCandidates)(this.env,this.fs,e),n=await(0,DT.preferredEdgePath)(this.fs,this.env);return n&&t.unshift({path:n,quality:"custom"}),t}};og.WindowsEdgeBrowserFinder=vI});var RT=b(sg=>{"use strict";Object.defineProperty(sg,"__esModule",{value:!0});sg.WindowsFirefoxBrowserFinder=void 0;var VG=require("path"),kT=Uo(),GG=require("fs"),xI=class{constructor(e=process.env,t=GG.promises){this.env=e,this.fs=t}async findWhere(e){return(await this.findAll()).find(e)}async findAll(){let e=VG.win32.sep,t=[{name:`${e}Firefox Developer Edition${e}firefox.exe`,type:"dev"},{name:`${e}Firefox Nightly${e}firefox.exe`,type:"canary"},{name:`${e}Mozilla Firefox${e}firefox.exe`,type:"stable"}],n=await(0,kT.findWindowsCandidates)(this.env,this.fs,t),i=await(0,kT.preferredFirefoxPath)(this.fs,this.env);return i&&n.unshift({path:i,quality:"custom"}),n}};sg.WindowsFirefoxBrowserFinder=xI});var wI=b(an=>{"use strict";Object.defineProperty(an,"__esModule",{value:!0});an.FirefoxBrowserFinder=an.EdgeBrowserFinder=an.ChromeBrowserFinder=an.isQuality=an.allQualities=void 0;var zG=_T(),KG=AT(),XG=ST(),JG=tg(),YG=PT(),QG=CT(),ZG=LT(),ez=$T(),tz=RT(),rz={canary:null,stable:null,beta:null,dev:null,custom:null};an.allQualities=new Set(Object.keys(rz));var nz=r=>an.allQualities.has(r);an.isQuality=nz;an.ChromeBrowserFinder=process.platform==="win32"?ZG.WindowsChromeBrowserFinder:process.platform==="darwin"?zG.DarwinChromeBrowserFinder:JG.LinuxChromeBrowserFinder;an.EdgeBrowserFinder=process.platform==="win32"?ez.WindowsEdgeBrowserFinder:process.platform==="darwin"?KG.DarwinEdgeBrowserFinder:YG.LinuxEdgeBrowserFinder;an.FirefoxBrowserFinder=process.platform==="win32"?tz.WindowsFirefoxBrowserFinder:process.platform==="darwin"?XG.DarwinFirefoxBrowserFinder:QG.LinuxFirefoxBrowserFinder});var BT=b((Pme,FT)=>{FT.exports=NT;NT.sync=oz;var MT=require("fs");function iz(r,e){var t=e.pathExt!==void 0?e.pathExt:process.env.PATHEXT;if(!t||(t=t.split(";"),t.indexOf("")!==-1))return!0;for(var n=0;n<t.length;n++){var i=t[n].toLowerCase();if(i&&r.substr(-i.length).toLowerCase()===i)return!0}return!1}function OT(r,e,t){return!r.isSymbolicLink()&&!r.isFile()?!1:iz(e,t)}function NT(r,e,t){MT.stat(r,function(n,i){t(n,n?!1:OT(i,r,e))})}function oz(r,e){return OT(MT.statSync(r),r,e)}});var VT=b((Cme,qT)=>{qT.exports=jT;jT.sync=sz;var UT=require("fs");function jT(r,e,t){UT.stat(r,function(n,i){t(n,n?!1:WT(i,e))})}function sz(r,e){return WT(UT.statSync(r),e)}function WT(r,e){return r.isFile()&&az(r,e)}function az(r,e){var t=r.mode,n=r.uid,i=r.gid,o=e.uid!==void 0?e.uid:process.getuid&&process.getuid(),s=e.gid!==void 0?e.gid:process.getgid&&process.getgid(),a=parseInt("100",8),c=parseInt("010",8),u=parseInt("001",8),l=a|c,p=t&u||t&c&&i===s||t&a&&n===o||t&l&&o===0;return p}});var _I=b((Lme,GT)=>{var Tme=require("fs"),ag;process.platform==="win32"||global.TESTING_WINDOWS?ag=BT():ag=VT();GT.exports=II;II.sync=cz;function II(r,e,t){if(typeof e=="function"&&(t=e,e={}),!t){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(n,i){II(r,e||{},function(o,s){o?i(o):n(s)})})}ag(r,e||{},function(n,i){n&&(n.code==="EACCES"||e&&e.ignoreErrors)&&(n=null,i=!1),t(n,i)})}function cz(r,e){try{return ag.sync(r,e||{})}catch(t){if(e&&e.ignoreErrors||t.code==="EACCES")return!1;throw t}}});var ZT=b((Dme,QT)=>{var wu=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",zT=require("path"),uz=wu?";":":",KT=_I(),XT=r=>Object.assign(new Error(`not found: ${r}`),{code:"ENOENT"}),JT=(r,e)=>{let t=e.colon||uz,n=r.match(/\//)||wu&&r.match(/\\/)?[""]:[...wu?[process.cwd()]:[],...(e.path||process.env.PATH||"").split(t)],i=wu?e.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",o=wu?i.split(t):[""];return wu&&r.indexOf(".")!==-1&&o[0]!==""&&o.unshift(""),{pathEnv:n,pathExt:o,pathExtExe:i}},YT=(r,e,t)=>{typeof e=="function"&&(t=e,e={}),e||(e={});let{pathEnv:n,pathExt:i,pathExtExe:o}=JT(r,e),s=[],a=u=>new Promise((l,p)=>{if(u===n.length)return e.all&&s.length?l(s):p(XT(r));let d=n[u],h=/^".*"$/.test(d)?d.slice(1,-1):d,f=zT.join(h,r),g=!h&&/^\.[\\\/]/.test(r)?r.slice(0,2)+f:f;l(c(g,u,0))}),c=(u,l,p)=>new Promise((d,h)=>{if(p===i.length)return d(a(l+1));let f=i[p];KT(u+f,{pathExt:o},(g,v)=>{if(!g&&v)if(e.all)s.push(u+f);else return d(u+f);return d(c(u,l,p+1))})});return t?a(0).then(u=>t(null,u),t):a(0)},lz=(r,e)=>{e=e||{};let{pathEnv:t,pathExt:n,pathExtExe:i}=JT(r,e),o=[];for(let s=0;s<t.length;s++){let a=t[s],c=/^".*"$/.test(a)?a.slice(1,-1):a,u=zT.join(c,r),l=!c&&/^\.[\\\/]/.test(r)?r.slice(0,2)+u:u;for(let p=0;p<n.length;p++){let d=l+n[p];try{if(KT.sync(d,{pathExt:i}))if(e.all)o.push(d);else return d}catch{}}}if(e.all&&o.length)return o;if(e.nothrow)return null;throw XT(r)};QT.exports=YT;YT.sync=lz});var tL=b(($me,AI)=>{"use strict";var eL=(r={})=>{let e=r.env||process.env;return(r.platform||process.platform)!=="win32"?"PATH":Object.keys(e).reverse().find(n=>n.toUpperCase()==="PATH")||"Path"};AI.exports=eL;AI.exports.default=eL});var oL=b((kme,iL)=>{"use strict";var rL=require("path"),pz=ZT(),dz=tL();function nL(r,e){let t=r.options.env||process.env,n=process.cwd(),i=r.options.cwd!=null,o=i&&process.chdir!==void 0&&!process.chdir.disabled;if(o)try{process.chdir(r.options.cwd)}catch{}let s;try{s=pz.sync(r.command,{path:t[dz({env:t})],pathExt:e?rL.delimiter:void 0})}catch{}finally{o&&process.chdir(n)}return s&&(s=rL.resolve(i?r.options.cwd:"",s)),s}function fz(r){return nL(r)||nL(r,!0)}iL.exports=fz});var sL=b((Rme,EI)=>{"use strict";var SI=/([()\][%!^"`<>&|;, *?])/g;function mz(r){return r=r.replace(SI,"^$1"),r}function hz(r,e){return r=`${r}`,r=r.replace(/(\\*)"/g,'$1$1\\"'),r=r.replace(/(\\*)$/,"$1$1"),r=`"${r}"`,r=r.replace(SI,"^$1"),e&&(r=r.replace(SI,"^$1")),r}EI.exports.command=mz;EI.exports.argument=hz});var cL=b((Mme,aL)=>{"use strict";aL.exports=/^#!(.*)/});var lL=b((Ome,uL)=>{"use strict";var gz=cL();uL.exports=(r="")=>{let e=r.match(gz);if(!e)return null;let[t,n]=e[0].replace(/#! ?/,"").split(" "),i=t.split("/").pop();return i==="env"?n:n?`${i} ${n}`:i}});var dL=b((Nme,pL)=>{"use strict";var PI=require("fs"),Hz=lL();function yz(r){let t=Buffer.alloc(150),n;try{n=PI.openSync(r,"r"),PI.readSync(n,t,0,150,0),PI.closeSync(n)}catch{}return Hz(t.toString())}pL.exports=yz});var gL=b((Fme,hL)=>{"use strict";var bz=require("path"),fL=oL(),mL=sL(),vz=dL(),xz=process.platform==="win32",wz=/\.(?:com|exe)$/i,Iz=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function _z(r){r.file=fL(r);let e=r.file&&vz(r.file);return e?(r.args.unshift(r.file),r.command=e,fL(r)):r.file}function Az(r){if(!xz)return r;let e=_z(r),t=!wz.test(e);if(r.options.forceShell||t){let n=Iz.test(e);r.command=bz.normalize(r.command),r.command=mL.command(r.command),r.args=r.args.map(o=>mL.argument(o,n));let i=[r.command].concat(r.args).join(" ");r.args=["/d","/s","/c",`"${i}"`],r.command=process.env.comspec||"cmd.exe",r.options.windowsVerbatimArguments=!0}return r}function Sz(r,e,t){e&&!Array.isArray(e)&&(t=e,e=null),e=e?e.slice(0):[],t=Object.assign({},t);let n={command:r,args:e,options:t,file:void 0,original:{command:r,args:e}};return t.shell?n:Az(n)}hL.exports=Sz});var bL=b((Bme,yL)=>{"use strict";var CI=process.platform==="win32";function TI(r,e){return Object.assign(new Error(`${e} ${r.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${e} ${r.command}`,path:r.command,spawnargs:r.args})}function Ez(r,e){if(!CI)return;let t=r.emit;r.emit=function(n,i){if(n==="exit"){let o=HL(i,e,"spawn");if(o)return t.call(r,"error",o)}return t.apply(r,arguments)}}function HL(r,e){return CI&&r===1&&!e.file?TI(e.original,"spawn"):null}function Pz(r,e){return CI&&r===1&&!e.file?TI(e.original,"spawnSync"):null}yL.exports={hookChildProcess:Ez,verifyENOENT:HL,verifyENOENTSync:Pz,notFoundError:TI}});var wL=b((Ume,Iu)=>{"use strict";var vL=require("child_process"),LI=gL(),DI=bL();function xL(r,e,t){let n=LI(r,e,t),i=vL.spawn(n.command,n.args,n.options);return DI.hookChildProcess(i,n),i}function Cz(r,e,t){let n=LI(r,e,t),i=vL.spawnSync(n.command,n.args,n.options);return i.error=i.error||DI.verifyENOENTSync(i.status,n),i}Iu.exports=xL;Iu.exports.spawn=xL;Iu.exports.sync=Cz;Iu.exports._parse=LI;Iu.exports._enoent=DI});var _L=b((jme,IL)=>{"use strict";IL.exports=r=>{let e=typeof r=="string"?`
`:10,t=typeof r=="string"?"\r":13;return r[r.length-1]===e&&(r=r.slice(0,r.length-1)),r[r.length-1]===t&&(r=r.slice(0,r.length-1)),r}});var SL=b((Wme,$I)=>{"use strict";var AL=(r={})=>{let e=r.env||process.env;return(r.platform||process.platform)!=="win32"?"PATH":Object.keys(e).reverse().find(n=>n.toUpperCase()==="PATH")||"Path"};$I.exports=AL;$I.exports.default=AL});var CL=b((qme,zd)=>{"use strict";var Gd=require("path"),EL=SL(),PL=r=>{r={cwd:process.cwd(),path:process.env[EL()],execPath:process.execPath,...r};let e,t=Gd.resolve(r.cwd),n=[];for(;e!==t;)n.push(Gd.join(t,"node_modules/.bin")),e=t,t=Gd.resolve(t,"..");let i=Gd.resolve(r.cwd,r.execPath,"..");return n.push(i),n.concat(r.path).join(Gd.delimiter)};zd.exports=PL;zd.exports.default=PL;zd.exports.env=r=>{r={env:process.env,...r};let e={...r.env},t=EL({env:e});return r.path=e[t],e[t]=zd.exports(r),e}});var LL=b((Vme,kI)=>{"use strict";var TL=(r,e)=>{for(let t of Reflect.ownKeys(e))Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(e,t));return r};kI.exports=TL;kI.exports.default=TL});var $L=b((Gme,ug)=>{"use strict";var Tz=LL(),cg=new WeakMap,DL=(r,e={})=>{if(typeof r!="function")throw new TypeError("Expected a function");let t,n=0,i=r.displayName||r.name||"<anonymous>",o=function(...s){if(cg.set(o,++n),n===1)t=r.apply(this,s),r=null;else if(e.throw===!0)throw new Error(`Function \`${i}\` can only be called once`);return t};return Tz(o,r),cg.set(o,n),o};ug.exports=DL;ug.exports.default=DL;ug.exports.callCount=r=>{if(!cg.has(r))throw new Error(`The given function \`${r.name}\` is not wrapped by the \`onetime\` package`);return cg.get(r)}});var kL=b(lg=>{"use strict";Object.defineProperty(lg,"__esModule",{value:!0});lg.SIGNALS=void 0;var Lz=[{name:"SIGHUP",number:1,action:"terminate",description:"Terminal closed",standard:"posix"},{name:"SIGINT",number:2,action:"terminate",description:"User interruption with CTRL-C",standard:"ansi"},{name:"SIGQUIT",number:3,action:"core",description:"User interruption with CTRL-\\",standard:"posix"},{name:"SIGILL",number:4,action:"core",description:"Invalid machine instruction",standard:"ansi"},{name:"SIGTRAP",number:5,action:"core",description:"Debugger breakpoint",standard:"posix"},{name:"SIGABRT",number:6,action:"core",description:"Aborted",standard:"ansi"},{name:"SIGIOT",number:6,action:"core",description:"Aborted",standard:"bsd"},{name:"SIGBUS",number:7,action:"core",description:"Bus error due to misaligned, non-existing address or paging error",standard:"bsd"},{name:"SIGEMT",number:7,action:"terminate",description:"Command should be emulated but is not implemented",standard:"other"},{name:"SIGFPE",number:8,action:"core",description:"Floating point arithmetic error",standard:"ansi"},{name:"SIGKILL",number:9,action:"terminate",description:"Forced termination",standard:"posix",forced:!0},{name:"SIGUSR1",number:10,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGSEGV",number:11,action:"core",description:"Segmentation fault",standard:"ansi"},{name:"SIGUSR2",number:12,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGPIPE",number:13,action:"terminate",description:"Broken pipe or socket",standard:"posix"},{name:"SIGALRM",number:14,action:"terminate",description:"Timeout or timer",standard:"posix"},{name:"SIGTERM",number:15,action:"terminate",description:"Termination",standard:"ansi"},{name:"SIGSTKFLT",number:16,action:"terminate",description:"Stack is empty or overflowed",standard:"other"},{name:"SIGCHLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"posix"},{name:"SIGCLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"other"},{name:"SIGCONT",number:18,action:"unpause",description:"Unpaused",standard:"posix",forced:!0},{name:"SIGSTOP",number:19,action:"pause",description:"Paused",standard:"posix",forced:!0},{name:"SIGTSTP",number:20,action:"pause",description:'Paused using CTRL-Z or "suspend"',standard:"posix"},{name:"SIGTTIN",number:21,action:"pause",description:"Background process cannot read terminal input",standard:"posix"},{name:"SIGBREAK",number:21,action:"terminate",description:"User interruption with CTRL-BREAK",standard:"other"},{name:"SIGTTOU",number:22,action:"pause",description:"Background process cannot write to terminal output",standard:"posix"},{name:"SIGURG",number:23,action:"ignore",description:"Socket received out-of-band data",standard:"bsd"},{name:"SIGXCPU",number:24,action:"core",description:"Process timed out",standard:"bsd"},{name:"SIGXFSZ",number:25,action:"core",description:"File too big",standard:"bsd"},{name:"SIGVTALRM",number:26,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGPROF",number:27,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGWINCH",number:28,action:"ignore",description:"Terminal window size changed",standard:"bsd"},{name:"SIGIO",number:29,action:"terminate",description:"I/O is available",standard:"other"},{name:"SIGPOLL",number:29,action:"terminate",description:"Watched event",standard:"other"},{name:"SIGINFO",number:29,action:"ignore",description:"Request for process information",standard:"other"},{name:"SIGPWR",number:30,action:"terminate",description:"Device running out of power",standard:"systemv"},{name:"SIGSYS",number:31,action:"core",description:"Invalid system call",standard:"other"},{name:"SIGUNUSED",number:31,action:"terminate",description:"Invalid system call",standard:"other"}];lg.SIGNALS=Lz});var RI=b(_u=>{"use strict";Object.defineProperty(_u,"__esModule",{value:!0});_u.SIGRTMAX=_u.getRealtimeSignals=void 0;var Dz=function(){let r=ML-RL+1;return Array.from({length:r},$z)};_u.getRealtimeSignals=Dz;var $z=function(r,e){return{name:`SIGRT${e+1}`,number:RL+e,action:"terminate",description:"Application-specific signal (realtime)",standard:"posix"}},RL=34,ML=64;_u.SIGRTMAX=ML});var OL=b(pg=>{"use strict";Object.defineProperty(pg,"__esModule",{value:!0});pg.getSignals=void 0;var kz=require("os"),Rz=kL(),Mz=RI(),Oz=function(){let r=(0,Mz.getRealtimeSignals)();return[...Rz.SIGNALS,...r].map(Nz)};pg.getSignals=Oz;var Nz=function({name:r,number:e,description:t,action:n,forced:i=!1,standard:o}){let{signals:{[r]:s}}=kz.constants,a=s!==void 0;return{name:r,number:a?s:e,description:t,supported:a,action:n,forced:i,standard:o}}});var FL=b(Au=>{"use strict";Object.defineProperty(Au,"__esModule",{value:!0});Au.signalsByNumber=Au.signalsByName=void 0;var Fz=require("os"),NL=OL(),Bz=RI(),Uz=function(){return(0,NL.getSignals)().reduce(jz,{})},jz=function(r,{name:e,number:t,description:n,supported:i,action:o,forced:s,standard:a}){return{...r,[e]:{name:e,number:t,description:n,supported:i,action:o,forced:s,standard:a}}},Wz=Uz();Au.signalsByName=Wz;var qz=function(){let r=(0,NL.getSignals)(),e=Bz.SIGRTMAX+1,t=Array.from({length:e},(n,i)=>Vz(i,r));return Object.assign({},...t)},Vz=function(r,e){let t=Gz(r,e);if(t===void 0)return{};let{name:n,description:i,supported:o,action:s,forced:a,standard:c}=t;return{[r]:{name:n,number:r,description:i,supported:o,action:s,forced:a,standard:c}}},Gz=function(r,e){let t=e.find(({name:n})=>Fz.constants.signals[n]===r);return t!==void 0?t:e.find(n=>n.number===r)},zz=qz();Au.signalsByNumber=zz});var UL=b((Yme,BL)=>{"use strict";var{signalsByName:Kz}=FL(),Xz=({timedOut:r,timeout:e,errorCode:t,signal:n,signalDescription:i,exitCode:o,isCanceled:s})=>r?`timed out after ${e} milliseconds`:s?"was canceled":t!==void 0?`failed with ${t}`:n!==void 0?`was killed with ${n} (${i})`:o!==void 0?`failed with exit code ${o}`:"failed",Jz=({stdout:r,stderr:e,all:t,error:n,signal:i,exitCode:o,command:s,escapedCommand:a,timedOut:c,isCanceled:u,killed:l,parsed:{options:{timeout:p}}})=>{o=o===null?void 0:o,i=i===null?void 0:i;let d=i===void 0?void 0:Kz[i].description,h=n&&n.code,g=`Command ${Xz({timedOut:c,timeout:p,errorCode:h,signal:i,signalDescription:d,exitCode:o,isCanceled:u})}: ${s}`,v=Object.prototype.toString.call(n)==="[object Error]",S=v?`${g}
${n.message}`:g,R=[S,e,r].filter(Boolean).join(`
`);return v?(n.originalMessage=n.message,n.message=R):n=new Error(R),n.shortMessage=S,n.command=s,n.escapedCommand=a,n.exitCode=o,n.signal=i,n.signalDescription=d,n.stdout=r,n.stderr=e,t!==void 0&&(n.all=t),"bufferedData"in n&&delete n.bufferedData,n.failed=!0,n.timedOut=!!c,n.isCanceled=u,n.killed=l&&!c,n};BL.exports=Jz});var WL=b((Qme,MI)=>{"use strict";var dg=["stdin","stdout","stderr"],Yz=r=>dg.some(e=>r[e]!==void 0),jL=r=>{if(!r)return;let{stdio:e}=r;if(e===void 0)return dg.map(n=>r[n]);if(Yz(r))throw new Error(`It's not possible to provide \`stdio\` in combination with one of ${dg.map(n=>`\`${n}\``).join(", ")}`);if(typeof e=="string")return e;if(!Array.isArray(e))throw new TypeError(`Expected \`stdio\` to be of type \`string\` or \`Array\`, got \`${typeof e}\``);let t=Math.max(e.length,dg.length);return Array.from({length:t},(n,i)=>e[i])};MI.exports=jL;MI.exports.node=r=>{let e=jL(r);return e==="ipc"?"ipc":e===void 0||typeof e=="string"?[e,e,e,"ipc"]:e.includes("ipc")?e:[...e,"ipc"]}});var qL=b((Zme,fg)=>{fg.exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"];process.platform!=="win32"&&fg.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT");process.platform==="linux"&&fg.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED")});var zL=b((ehe,Jd)=>{var Qz=require("assert"),Kd=qL(),Zz=/^win/i.test(process.platform),mg=require("events");typeof mg!="function"&&(mg=mg.EventEmitter);var fr;process.__signal_exit_emitter__?fr=process.__signal_exit_emitter__:(fr=process.__signal_exit_emitter__=new mg,fr.count=0,fr.emitted={});fr.infinite||(fr.setMaxListeners(1/0),fr.infinite=!0);Jd.exports=function(r,e){Qz.equal(typeof r,"function","a callback must be provided for exit handler"),Xd===!1&&VL();var t="exit";e&&e.alwaysLast&&(t="afterexit");var n=function(){fr.removeListener(t,r),fr.listeners("exit").length===0&&fr.listeners("afterexit").length===0&&NI()};return fr.on(t,r),n};Jd.exports.unload=NI;function NI(){Xd&&(Xd=!1,Kd.forEach(function(r){try{process.removeListener(r,FI[r])}catch{}}),process.emit=OI,process.reallyExit=GL,fr.count-=1)}function Su(r,e,t){fr.emitted[r]||(fr.emitted[r]=!0,fr.emit(r,e,t))}var FI={};Kd.forEach(function(r){FI[r]=function(){var t=process.listeners(r);t.length===fr.count&&(NI(),Su("exit",null,r),Su("afterexit",null,r),Zz&&r==="SIGHUP"&&(r="SIGINT"),process.kill(process.pid,r))}});Jd.exports.signals=function(){return Kd};Jd.exports.load=VL;var Xd=!1;function VL(){Xd||(Xd=!0,fr.count+=1,Kd=Kd.filter(function(r){try{return process.on(r,FI[r]),!0}catch{return!1}}),process.emit=tK,process.reallyExit=eK)}var GL=process.reallyExit;function eK(r){process.exitCode=r||0,Su("exit",process.exitCode,null),Su("afterexit",process.exitCode,null),GL.call(process,process.exitCode)}var OI=process.emit;function tK(r,e){if(r==="exit"){e!==void 0&&(process.exitCode=e);var t=OI.apply(this,arguments);return Su("exit",process.exitCode,null),Su("afterexit",process.exitCode,null),t}else return OI.apply(this,arguments)}});var XL=b((the,KL)=>{"use strict";var rK=require("os"),nK=zL(),iK=1e3*5,oK=(r,e="SIGTERM",t={})=>{let n=r(e);return sK(r,e,t,n),n},sK=(r,e,t,n)=>{if(!aK(e,t,n))return;let i=uK(t),o=setTimeout(()=>{r("SIGKILL")},i);o.unref&&o.unref()},aK=(r,{forceKillAfterTimeout:e},t)=>cK(r)&&e!==!1&&t,cK=r=>r===rK.constants.signals.SIGTERM||typeof r=="string"&&r.toUpperCase()==="SIGTERM",uK=({forceKillAfterTimeout:r=!0})=>{if(r===!0)return iK;if(!Number.isFinite(r)||r<0)throw new TypeError(`Expected the \`forceKillAfterTimeout\` option to be a non-negative integer, got \`${r}\` (${typeof r})`);return r},lK=(r,e)=>{r.kill()&&(e.isCanceled=!0)},pK=(r,e,t)=>{r.kill(e),t(Object.assign(new Error("Timed out"),{timedOut:!0,signal:e}))},dK=(r,{timeout:e,killSignal:t="SIGTERM"},n)=>{if(e===0||e===void 0)return n;let i,o=new Promise((a,c)=>{i=setTimeout(()=>{pK(r,t,c)},e)}),s=n.finally(()=>{clearTimeout(i)});return Promise.race([o,s])},fK=({timeout:r})=>{if(r!==void 0&&(!Number.isFinite(r)||r<0))throw new TypeError(`Expected the \`timeout\` option to be a non-negative integer, got \`${r}\` (${typeof r})`)},mK=async(r,{cleanup:e,detached:t},n)=>{if(!e||t)return n;let i=nK(()=>{r.kill()});return n.finally(()=>{i()})};KL.exports={spawnedKill:oK,spawnedCancel:lK,setupTimeout:dK,validateTimeout:fK,setExitHandler:mK}});var YL=b((rhe,JL)=>{"use strict";var Ri=r=>r!==null&&typeof r=="object"&&typeof r.pipe=="function";Ri.writable=r=>Ri(r)&&r.writable!==!1&&typeof r._write=="function"&&typeof r._writableState=="object";Ri.readable=r=>Ri(r)&&r.readable!==!1&&typeof r._read=="function"&&typeof r._readableState=="object";Ri.duplex=r=>Ri.writable(r)&&Ri.readable(r);Ri.transform=r=>Ri.duplex(r)&&typeof r._transform=="function"&&typeof r._transformState=="object";JL.exports=Ri});var ZL=b((nhe,QL)=>{"use strict";var{PassThrough:hK}=require("stream");QL.exports=r=>{r={...r};let{array:e}=r,{encoding:t}=r,n=t==="buffer",i=!1;e?i=!(t||n):t=t||"utf8",n&&(t=null);let o=new hK({objectMode:i});t&&o.setEncoding(t);let s=0,a=[];return o.on("data",c=>{a.push(c),i?s=a.length:s+=c.length}),o.getBufferedValue=()=>e?a:n?Buffer.concat(a,s):a.join(""),o.getBufferedLength=()=>s,o}});var eD=b((ihe,Yd)=>{"use strict";var{constants:gK}=require("buffer"),HK=require("stream"),{promisify:yK}=require("util"),bK=ZL(),vK=yK(HK.pipeline),hg=class extends Error{constructor(){super("maxBuffer exceeded"),this.name="MaxBufferError"}};async function BI(r,e){if(!r)throw new Error("Expected a stream");e={maxBuffer:1/0,...e};let{maxBuffer:t}=e,n=bK(e);return await new Promise((i,o)=>{let s=a=>{a&&n.getBufferedLength()<=gK.MAX_LENGTH&&(a.bufferedData=n.getBufferedValue()),o(a)};(async()=>{try{await vK(r,n),i()}catch(a){s(a)}})(),n.on("data",()=>{n.getBufferedLength()>t&&s(new hg)})}),n.getBufferedValue()}Yd.exports=BI;Yd.exports.buffer=(r,e)=>BI(r,{...e,encoding:"buffer"});Yd.exports.array=(r,e)=>BI(r,{...e,array:!0});Yd.exports.MaxBufferError=hg});var rD=b((ohe,tD)=>{"use strict";var{PassThrough:xK}=require("stream");tD.exports=function(){var r=[],e=new xK({objectMode:!0});return e.setMaxListeners(0),e.add=t,e.isEmpty=n,e.on("unpipe",i),Array.prototype.slice.call(arguments).forEach(t),e;function t(o){return Array.isArray(o)?(o.forEach(t),this):(r.push(o),o.once("end",i.bind(null,o)),o.once("error",e.emit.bind(e,"error")),o.pipe(e,{end:!1}),this)}function n(){return r.length==0}function i(o){r=r.filter(function(s){return s!==o}),!r.length&&e.readable&&e.end()}}});var sD=b((she,oD)=>{"use strict";var iD=YL(),nD=eD(),wK=rD(),IK=(r,e)=>{e===void 0||r.stdin===void 0||(iD(e)?e.pipe(r.stdin):r.stdin.end(e))},_K=(r,{all:e})=>{if(!e||!r.stdout&&!r.stderr)return;let t=wK();return r.stdout&&t.add(r.stdout),r.stderr&&t.add(r.stderr),t},UI=async(r,e)=>{if(r){r.destroy();try{return await e}catch(t){return t.bufferedData}}},jI=(r,{encoding:e,buffer:t,maxBuffer:n})=>{if(!(!r||!t))return e?nD(r,{encoding:e,maxBuffer:n}):nD.buffer(r,{maxBuffer:n})},AK=async({stdout:r,stderr:e,all:t},{encoding:n,buffer:i,maxBuffer:o},s)=>{let a=jI(r,{encoding:n,buffer:i,maxBuffer:o}),c=jI(e,{encoding:n,buffer:i,maxBuffer:o}),u=jI(t,{encoding:n,buffer:i,maxBuffer:o*2});try{return await Promise.all([s,a,c,u])}catch(l){return Promise.all([{error:l,signal:l.signal,timedOut:l.timedOut},UI(r,a),UI(e,c),UI(t,u)])}},SK=({input:r})=>{if(iD(r))throw new TypeError("The `input` option cannot be a stream in sync mode")};oD.exports={handleInput:IK,makeAllStream:_K,getSpawnedResult:AK,validateInputSync:SK}});var cD=b((ahe,aD)=>{"use strict";var EK=(async()=>{})().constructor.prototype,PK=["then","catch","finally"].map(r=>[r,Reflect.getOwnPropertyDescriptor(EK,r)]),CK=(r,e)=>{for(let[t,n]of PK){let i=typeof e=="function"?(...o)=>Reflect.apply(n.value,e(),o):n.value.bind(e);Reflect.defineProperty(r,t,{...n,value:i})}return r},TK=r=>new Promise((e,t)=>{r.on("exit",(n,i)=>{e({exitCode:n,signal:i})}),r.on("error",n=>{t(n)}),r.stdin&&r.stdin.on("error",n=>{t(n)})});aD.exports={mergePromise:CK,getSpawnedPromise:TK}});var pD=b((che,lD)=>{"use strict";var uD=(r,e=[])=>Array.isArray(e)?[r,...e]:[r],LK=/^[\w.-]+$/,DK=/"/g,$K=r=>typeof r!="string"||LK.test(r)?r:`"${r.replace(DK,'\\"')}"`,kK=(r,e)=>uD(r,e).join(" "),RK=(r,e)=>uD(r,e).map(t=>$K(t)).join(" "),MK=/ +/g,OK=r=>{let e=[];for(let t of r.trim().split(MK)){let n=e[e.length-1];n&&n.endsWith("\\")?e[e.length-1]=`${n.slice(0,-1)} ${t}`:e.push(t)}return e};lD.exports={joinCommand:kK,getEscapedCommand:RK,parseCommand:OK}});var yg=b((uhe,Eu)=>{"use strict";var NK=require("path"),WI=require("child_process"),FK=wL(),BK=_L(),UK=CL(),jK=$L(),gg=UL(),fD=WL(),{spawnedKill:WK,spawnedCancel:qK,setupTimeout:VK,validateTimeout:GK,setExitHandler:zK}=XL(),{handleInput:KK,getSpawnedResult:XK,makeAllStream:JK,validateInputSync:YK}=sD(),{mergePromise:dD,getSpawnedPromise:QK}=cD(),{joinCommand:mD,parseCommand:hD,getEscapedCommand:gD}=pD(),ZK=1e3*1e3*100,e9=({env:r,extendEnv:e,preferLocal:t,localDir:n,execPath:i})=>{let o=e?{...process.env,...r}:r;return t?UK.env({env:o,cwd:n,execPath:i}):o},HD=(r,e,t={})=>{let n=FK._parse(r,e,t);return r=n.command,e=n.args,t=n.options,t={maxBuffer:ZK,buffer:!0,stripFinalNewline:!0,extendEnv:!0,preferLocal:!1,localDir:t.cwd||process.cwd(),execPath:process.execPath,encoding:"utf8",reject:!0,cleanup:!0,all:!1,windowsHide:!0,...t},t.env=e9(t),t.stdio=fD(t),process.platform==="win32"&&NK.basename(r,".exe")==="cmd"&&e.unshift("/q"),{file:r,args:e,options:t,parsed:n}},Qd=(r,e,t)=>typeof e!="string"&&!Buffer.isBuffer(e)?t===void 0?void 0:"":r.stripFinalNewline?BK(e):e,Hg=(r,e,t)=>{let n=HD(r,e,t),i=mD(r,e),o=gD(r,e);GK(n.options);let s;try{s=WI.spawn(n.file,n.args,n.options)}catch(h){let f=new WI.ChildProcess,g=Promise.reject(gg({error:h,stdout:"",stderr:"",all:"",command:i,escapedCommand:o,parsed:n,timedOut:!1,isCanceled:!1,killed:!1}));return dD(f,g)}let a=QK(s),c=VK(s,n.options,a),u=zK(s,n.options,c),l={isCanceled:!1};s.kill=WK.bind(null,s.kill.bind(s)),s.cancel=qK.bind(null,s,l);let d=jK(async()=>{let[{error:h,exitCode:f,signal:g,timedOut:v},S,R,F]=await XK(s,n.options,u),X=Qd(n.options,S),G=Qd(n.options,R),J=Qd(n.options,F);if(h||f!==0||g!==null){let z=gg({error:h,exitCode:f,signal:g,stdout:X,stderr:G,all:J,command:i,escapedCommand:o,parsed:n,timedOut:v,isCanceled:l.isCanceled,killed:s.killed});if(!n.options.reject)return z;throw z}return{command:i,escapedCommand:o,exitCode:0,stdout:X,stderr:G,all:J,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}});return KK(s,n.options.input),s.all=JK(s,n.options),dD(s,d)};Eu.exports=Hg;Eu.exports.sync=(r,e,t)=>{let n=HD(r,e,t),i=mD(r,e),o=gD(r,e);YK(n.options);let s;try{s=WI.spawnSync(n.file,n.args,n.options)}catch(u){throw gg({error:u,stdout:"",stderr:"",all:"",command:i,escapedCommand:o,parsed:n,timedOut:!1,isCanceled:!1,killed:!1})}let a=Qd(n.options,s.stdout,s.error),c=Qd(n.options,s.stderr,s.error);if(s.error||s.status!==0||s.signal!==null){let u=gg({stdout:a,stderr:c,error:s.error,signal:s.signal,exitCode:s.status,command:i,escapedCommand:o,parsed:n,timedOut:s.error&&s.error.code==="ETIMEDOUT",isCanceled:!1,killed:s.signal!==null});if(!n.options.reject)return u;throw u}return{command:i,escapedCommand:o,exitCode:0,stdout:a,stderr:c,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}};Eu.exports.command=(r,e)=>{let[t,...n]=hD(r);return Hg(t,n,e)};Eu.exports.commandSync=(r,e)=>{let[t,...n]=hD(r);return Hg.sync(t,n,e)};Eu.exports.node=(r,e,t={})=>{e&&!Array.isArray(e)&&typeof e=="object"&&(t=e,e=[]);let n=fD.node(t),i=process.execArgv.filter(a=>!a.startsWith("--inspect")),{nodePath:o=process.execPath,nodeOptions:s=i}=t;return Hg(o,[...s,r,...Array.isArray(e)?e:[]],{...t,stdin:void 0,stdout:void 0,stderr:void 0,stdio:n,shell:!1})}});var Ot=b(Me=>{"use strict";Object.defineProperty(Me,"__esModule",{value:!0});Me.NON_CUSTOM_TAG_KEYS=Me.PRE_DESTROY=Me.POST_CONSTRUCT=Me.DESIGN_PARAM_TYPES=Me.PARAM_TYPES=Me.TAGGED_PROP=Me.TAGGED=Me.MULTI_INJECT_TAG=Me.INJECT_TAG=Me.OPTIONAL_TAG=Me.UNMANAGED_TAG=Me.NAME_TAG=Me.NAMED_TAG=void 0;Me.NAMED_TAG="named";Me.NAME_TAG="name";Me.UNMANAGED_TAG="unmanaged";Me.OPTIONAL_TAG="optional";Me.INJECT_TAG="inject";Me.MULTI_INJECT_TAG="multi_inject";Me.TAGGED="inversify:tagged";Me.TAGGED_PROP="inversify:tagged_props";Me.PARAM_TYPES="inversify:paramtypes";Me.DESIGN_PARAM_TYPES="design:paramtypes";Me.POST_CONSTRUCT="post_construct";Me.PRE_DESTROY="pre_destroy";function t9(){return[Me.INJECT_TAG,Me.MULTI_INJECT_TAG,Me.NAME_TAG,Me.UNMANAGED_TAG,Me.NAMED_TAG,Me.OPTIONAL_TAG]}Me.NON_CUSTOM_TAG_KEYS=t9()});var Tn=b(Ts=>{"use strict";Object.defineProperty(Ts,"__esModule",{value:!0});Ts.TargetTypeEnum=Ts.BindingTypeEnum=Ts.BindingScopeEnum=void 0;var r9={Request:"Request",Singleton:"Singleton",Transient:"Transient"};Ts.BindingScopeEnum=r9;var n9={ConstantValue:"ConstantValue",Constructor:"Constructor",DynamicValue:"DynamicValue",Factory:"Factory",Function:"Function",Instance:"Instance",Invalid:"Invalid",Provider:"Provider"};Ts.BindingTypeEnum=n9;var i9={ClassProperty:"ClassProperty",ConstructorArgument:"ConstructorArgument",Variable:"Variable"};Ts.TargetTypeEnum=i9});var Ls=b(bg=>{"use strict";Object.defineProperty(bg,"__esModule",{value:!0});bg.id=void 0;var o9=0;function s9(){return o9++}bg.id=s9});var bD=b(vg=>{"use strict";Object.defineProperty(vg,"__esModule",{value:!0});vg.Binding=void 0;var yD=Tn(),a9=Ls(),c9=function(){function r(e,t){this.id=(0,a9.id)(),this.activated=!1,this.serviceIdentifier=e,this.scope=t,this.type=yD.BindingTypeEnum.Invalid,this.constraint=function(n){return!0},this.implementationType=null,this.cache=null,this.factory=null,this.provider=null,this.onActivation=null,this.onDeactivation=null,this.dynamicValue=null}return r.prototype.clone=function(){var e=new r(this.serviceIdentifier,this.scope);return e.activated=e.scope===yD.BindingScopeEnum.Singleton?this.activated:!1,e.implementationType=this.implementationType,e.dynamicValue=this.dynamicValue,e.scope=this.scope,e.type=this.type,e.factory=this.factory,e.provider=this.provider,e.constraint=this.constraint,e.onActivation=this.onActivation,e.onDeactivation=this.onDeactivation,e.cache=this.cache,e},r}();vg.Binding=c9});var Ir=b(ae=>{"use strict";Object.defineProperty(ae,"__esModule",{value:!0});ae.STACK_OVERFLOW=ae.CIRCULAR_DEPENDENCY_IN_FACTORY=ae.ON_DEACTIVATION_ERROR=ae.PRE_DESTROY_ERROR=ae.POST_CONSTRUCT_ERROR=ae.ASYNC_UNBIND_REQUIRED=ae.MULTIPLE_POST_CONSTRUCT_METHODS=ae.MULTIPLE_PRE_DESTROY_METHODS=ae.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK=ae.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE=ae.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE=ae.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT=ae.ARGUMENTS_LENGTH_MISMATCH=ae.INVALID_DECORATOR_OPERATION=ae.INVALID_TO_SELF_VALUE=ae.LAZY_IN_SYNC=ae.INVALID_FUNCTION_BINDING=ae.INVALID_MIDDLEWARE_RETURN=ae.NO_MORE_SNAPSHOTS_AVAILABLE=ae.INVALID_BINDING_TYPE=ae.NOT_IMPLEMENTED=ae.CIRCULAR_DEPENDENCY=ae.UNDEFINED_INJECT_ANNOTATION=ae.MISSING_INJECT_ANNOTATION=ae.MISSING_INJECTABLE_ANNOTATION=ae.NOT_REGISTERED=ae.CANNOT_UNBIND=ae.AMBIGUOUS_MATCH=ae.KEY_NOT_FOUND=ae.NULL_ARGUMENT=ae.DUPLICATED_METADATA=ae.DUPLICATED_INJECTABLE_DECORATOR=void 0;ae.DUPLICATED_INJECTABLE_DECORATOR="Cannot apply @injectable decorator multiple times.";ae.DUPLICATED_METADATA="Metadata key was used more than once in a parameter:";ae.NULL_ARGUMENT="NULL argument";ae.KEY_NOT_FOUND="Key Not Found";ae.AMBIGUOUS_MATCH="Ambiguous match found for serviceIdentifier:";ae.CANNOT_UNBIND="Could not unbind serviceIdentifier:";ae.NOT_REGISTERED="No matching bindings found for serviceIdentifier:";ae.MISSING_INJECTABLE_ANNOTATION="Missing required @injectable annotation in:";ae.MISSING_INJECT_ANNOTATION="Missing required @inject or @multiInject annotation in:";var u9=function(r){return"@inject called with undefined this could mean that the class "+r+" has a circular dependency problem. You can use a LazyServiceIdentifier to  overcome this limitation."};ae.UNDEFINED_INJECT_ANNOTATION=u9;ae.CIRCULAR_DEPENDENCY="Circular dependency found:";ae.NOT_IMPLEMENTED="Sorry, this feature is not fully implemented yet.";ae.INVALID_BINDING_TYPE="Invalid binding type:";ae.NO_MORE_SNAPSHOTS_AVAILABLE="No snapshot available to restore.";ae.INVALID_MIDDLEWARE_RETURN="Invalid return type in middleware. Middleware must return!";ae.INVALID_FUNCTION_BINDING="Value provided to function binding must be a function!";var l9=function(r){return"You are attempting to construct '"+r+`' in a synchronous way
 but it has asynchronous dependencies.`};ae.LAZY_IN_SYNC=l9;ae.INVALID_TO_SELF_VALUE="The toSelf function can only be applied when a constructor is used as service identifier";ae.INVALID_DECORATOR_OPERATION="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.";var p9=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return"The number of constructor arguments in the derived class "+(r[0]+" must be >= than the number of constructor arguments of its base class.")};ae.ARGUMENTS_LENGTH_MISMATCH=p9;ae.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT="Invalid Container constructor argument. Container options must be an object.";ae.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE='Invalid Container option. Default scope must be a string ("singleton" or "transient").';ae.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE="Invalid Container option. Auto bind injectable must be a boolean";ae.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK="Invalid Container option. Skip base check must be a boolean";ae.MULTIPLE_PRE_DESTROY_METHODS="Cannot apply @preDestroy decorator multiple times in the same class";ae.MULTIPLE_POST_CONSTRUCT_METHODS="Cannot apply @postConstruct decorator multiple times in the same class";ae.ASYNC_UNBIND_REQUIRED="Attempting to unbind dependency with asynchronous destruction (@preDestroy or onDeactivation)";var d9=function(r,e){return"@postConstruct error in class "+r+": "+e};ae.POST_CONSTRUCT_ERROR=d9;var f9=function(r,e){return"@preDestroy error in class "+r+": "+e};ae.PRE_DESTROY_ERROR=f9;var m9=function(r,e){return"onDeactivation() error in class "+r+": "+e};ae.ON_DEACTIVATION_ERROR=m9;var h9=function(r,e){return"It looks like there is a circular dependency in one of the '"+r+"' bindings. Please investigate bindings with "+("service identifier '"+e+"'.")};ae.CIRCULAR_DEPENDENCY_IN_FACTORY=h9;ae.STACK_OVERFLOW="Maximum call stack size exceeded"});var VI=b(Mi=>{"use strict";var g9=Mi&&Mi.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),H9=Mi&&Mi.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),y9=Mi&&Mi.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&g9(e,r,t);return H9(e,r),e};Object.defineProperty(Mi,"__esModule",{value:!0});Mi.MetadataReader=void 0;var qI=y9(Ot()),b9=function(){function r(){}return r.prototype.getConstructorMetadata=function(e){var t=Reflect.getMetadata(qI.PARAM_TYPES,e),n=Reflect.getMetadata(qI.TAGGED,e);return{compilerGeneratedMetadata:t,userGeneratedMetadata:n||{}}},r.prototype.getPropertiesMetadata=function(e){var t=Reflect.getMetadata(qI.TAGGED_PROP,e)||[];return t},r}();Mi.MetadataReader=b9});var vD=b(xg=>{"use strict";Object.defineProperty(xg,"__esModule",{value:!0});xg.BindingCount=void 0;xg.BindingCount={MultipleBindingsAvailable:2,NoBindingsAvailable:0,OnlyOneBindingAvailable:1}});var GI=b(Ln=>{"use strict";var v9=Ln&&Ln.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),x9=Ln&&Ln.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),w9=Ln&&Ln.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&v9(e,r,t);return x9(e,r),e};Object.defineProperty(Ln,"__esModule",{value:!0});Ln.tryAndThrowErrorIfStackOverflow=Ln.isStackOverflowExeption=void 0;var I9=w9(Ir());function xD(r){return r instanceof RangeError||r.message===I9.STACK_OVERFLOW}Ln.isStackOverflowExeption=xD;var _9=function(r,e){try{return r()}catch(t){throw xD(t)&&(t=e()),t}};Ln.tryAndThrowErrorIfStackOverflow=_9});var Ya=b(Nt=>{"use strict";var A9=Nt&&Nt.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),S9=Nt&&Nt.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),E9=Nt&&Nt.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&A9(e,r,t);return S9(e,r),e};Object.defineProperty(Nt,"__esModule",{value:!0});Nt.getSymbolDescription=Nt.circularDependencyToException=Nt.listMetadataForTarget=Nt.listRegisteredBindingsForServiceIdentifier=Nt.getServiceIdentifierAsString=Nt.getFunctionName=void 0;var P9=E9(Ir());function wD(r){if(typeof r=="function"){var e=r;return e.name}else{if(typeof r=="symbol")return r.toString();var e=r;return e}}Nt.getServiceIdentifierAsString=wD;function C9(r,e,t){var n="",i=t(r,e);return i.length!==0&&(n=`
Registered bindings:`,i.forEach(function(o){var s="Object";o.implementationType!==null&&(s=AD(o.implementationType)),n=n+`
 `+s,o.constraint.metaData&&(n=n+" - "+o.constraint.metaData)})),n}Nt.listRegisteredBindingsForServiceIdentifier=C9;function ID(r,e){return r.parentRequest===null?!1:r.parentRequest.serviceIdentifier===e?!0:ID(r.parentRequest,e)}function T9(r){function e(n,i){i===void 0&&(i=[]);var o=wD(n.serviceIdentifier);return i.push(o),n.parentRequest!==null?e(n.parentRequest,i):i}var t=e(r);return t.reverse().join(" --> ")}function _D(r){r.childRequests.forEach(function(e){if(ID(e,e.serviceIdentifier)){var t=T9(e);throw new Error(P9.CIRCULAR_DEPENDENCY+" "+t)}else _D(e)})}Nt.circularDependencyToException=_D;function L9(r,e){if(e.isTagged()||e.isNamed()){var t="",n=e.getNamedTag(),i=e.getCustomTags();return n!==null&&(t+=n.toString()+`
`),i!==null&&i.forEach(function(o){t+=o.toString()+`
`})," "+r+`
 `+r+" - "+t}else return" "+r}Nt.listMetadataForTarget=L9;function AD(r){if(r.name)return r.name;var e=r.toString(),t=e.match(/^function\s*([^\s(]+)/);return t?t[1]:"Anonymous function: "+e}Nt.getFunctionName=AD;function D9(r){return r.toString().slice(7,-1)}Nt.getSymbolDescription=D9});var SD=b(wg=>{"use strict";Object.defineProperty(wg,"__esModule",{value:!0});wg.Context=void 0;var $9=Ls(),k9=function(){function r(e){this.id=(0,$9.id)(),this.container=e}return r.prototype.addPlan=function(e){this.plan=e},r.prototype.setCurrentRequest=function(e){this.currentRequest=e},r}();wg.Context=k9});var pi=b(Oi=>{"use strict";var R9=Oi&&Oi.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),M9=Oi&&Oi.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),O9=Oi&&Oi.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&R9(e,r,t);return M9(e,r),e};Object.defineProperty(Oi,"__esModule",{value:!0});Oi.Metadata=void 0;var N9=O9(Ot()),F9=function(){function r(e,t){this.key=e,this.value=t}return r.prototype.toString=function(){return this.key===N9.NAMED_TAG?"named: "+String(this.value).toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+String(this.value)+" }"},r}();Oi.Metadata=F9});var ED=b(Ig=>{"use strict";Object.defineProperty(Ig,"__esModule",{value:!0});Ig.Plan=void 0;var B9=function(){function r(e,t){this.parentContext=e,this.rootRequest=t}return r}();Ig.Plan=B9});var Ag=b(_g=>{"use strict";Object.defineProperty(_g,"__esModule",{value:!0});_g.LazyServiceIdentifier=void 0;var U9=function(){function r(e){this._cb=e}return r.prototype.unwrap=function(){return this._cb()},r}();_g.LazyServiceIdentifier=U9});var PD=b(Sg=>{"use strict";Object.defineProperty(Sg,"__esModule",{value:!0});Sg.QueryableString=void 0;var j9=function(){function r(e){this.str=e}return r.prototype.startsWith=function(e){return this.str.indexOf(e)===0},r.prototype.endsWith=function(e){var t="",n=e.split("").reverse().join("");return t=this.str.split("").reverse().join(""),this.startsWith.call({str:t},n)},r.prototype.contains=function(e){return this.str.indexOf(e)!==-1},r.prototype.equals=function(e){return this.str===e},r.prototype.value=function(){return this.str},r}();Sg.QueryableString=j9});var zI=b(Ni=>{"use strict";var W9=Ni&&Ni.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),q9=Ni&&Ni.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),V9=Ni&&Ni.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&W9(e,r,t);return q9(e,r),e};Object.defineProperty(Ni,"__esModule",{value:!0});Ni.Target=void 0;var jo=V9(Ot()),G9=Ls(),z9=Ya(),CD=pi(),K9=PD(),X9=function(){function r(e,t,n,i){this.id=(0,G9.id)(),this.type=e,this.serviceIdentifier=n;var o=typeof t=="symbol"?(0,z9.getSymbolDescription)(t):t;this.name=new K9.QueryableString(o||""),this.identifier=t,this.metadata=new Array;var s=null;typeof i=="string"?s=new CD.Metadata(jo.NAMED_TAG,i):i instanceof CD.Metadata&&(s=i),s!==null&&this.metadata.push(s)}return r.prototype.hasTag=function(e){for(var t=0,n=this.metadata;t<n.length;t++){var i=n[t];if(i.key===e)return!0}return!1},r.prototype.isArray=function(){return this.hasTag(jo.MULTI_INJECT_TAG)},r.prototype.matchesArray=function(e){return this.matchesTag(jo.MULTI_INJECT_TAG)(e)},r.prototype.isNamed=function(){return this.hasTag(jo.NAMED_TAG)},r.prototype.isTagged=function(){return this.metadata.some(function(e){return jo.NON_CUSTOM_TAG_KEYS.every(function(t){return e.key!==t})})},r.prototype.isOptional=function(){return this.matchesTag(jo.OPTIONAL_TAG)(!0)},r.prototype.getNamedTag=function(){return this.isNamed()?this.metadata.filter(function(e){return e.key===jo.NAMED_TAG})[0]:null},r.prototype.getCustomTags=function(){return this.isTagged()?this.metadata.filter(function(e){return jo.NON_CUSTOM_TAG_KEYS.every(function(t){return e.key!==t})}):null},r.prototype.matchesNamedTag=function(e){return this.matchesTag(jo.NAMED_TAG)(e)},r.prototype.matchesTag=function(e){var t=this;return function(n){for(var i=0,o=t.metadata;i<o.length;i++){var s=o[i];if(s.key===e&&s.value===n)return!0}return!1}},r}();Ni.Target=X9});var OD=b(_r=>{"use strict";var J9=_r&&_r.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Y9=_r&&_r.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),TD=_r&&_r.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&J9(e,r,t);return Y9(e,r),e},Eg=_r&&_r.__spreadArray||function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))};Object.defineProperty(_r,"__esModule",{value:!0});_r.getFunctionName=_r.getBaseClassDependencyCount=_r.getDependencies=void 0;var Q9=Ag(),KI=TD(Ir()),LD=Tn(),Zd=TD(Ot()),XI=Ya();Object.defineProperty(_r,"getFunctionName",{enumerable:!0,get:function(){return XI.getFunctionName}});var DD=zI();function Z9(r,e){var t=(0,XI.getFunctionName)(e);return $D(r,t,e,!1)}_r.getDependencies=Z9;function $D(r,e,t,n){var i=r.getConstructorMetadata(t),o=i.compilerGeneratedMetadata;if(o===void 0){var s=KI.MISSING_INJECTABLE_ANNOTATION+" "+e+".";throw new Error(s)}var a=i.userGeneratedMetadata,c=Object.keys(a),u=t.length===0&&c.length>0,l=c.length>t.length,p=u||l?c.length:t.length,d=t6(n,e,o,a,p),h=kD(r,t,e),f=Eg(Eg([],d,!0),h,!0);return f}function e6(r,e,t,n,i){var o=i[r.toString()]||[],s=MD(o),a=s.unmanaged!==!0,c=n[r],u=s.inject||s.multiInject;if(c=u||c,c instanceof Q9.LazyServiceIdentifier&&(c=c.unwrap()),a){var l=c===Object,p=c===Function,d=c===void 0,h=l||p||d;if(!e&&h){var f=KI.MISSING_INJECT_ANNOTATION+" argument "+r+" in class "+t+".";throw new Error(f)}var g=new DD.Target(LD.TargetTypeEnum.ConstructorArgument,s.targetName,c);return g.metadata=o,g}return null}function t6(r,e,t,n,i){for(var o=[],s=0;s<i;s++){var a=s,c=e6(a,r,e,t,n);c!==null&&o.push(c)}return o}function r6(r,e,t,n){var i=r||e;if(i===void 0){var o=KI.MISSING_INJECTABLE_ANNOTATION+" for property "+String(t)+" in class "+n+".";throw new Error(o)}return i}function kD(r,e,t){for(var n=r.getPropertiesMetadata(e),i=[],o=Object.getOwnPropertySymbols(n),s=Object.keys(n),a=s.concat(o),c=0,u=a;c<u.length;c++){var l=u[c],p=n[l],d=MD(p),h=d.targetName||l,f=r6(d.inject,d.multiInject,l,t),g=new DD.Target(LD.TargetTypeEnum.ClassProperty,h,f);g.metadata=p,i.push(g)}var v=Object.getPrototypeOf(e.prototype).constructor;if(v!==Object){var S=kD(r,v,t);i=Eg(Eg([],i,!0),S,!0)}return i}function RD(r,e){var t=Object.getPrototypeOf(e.prototype).constructor;if(t!==Object){var n=(0,XI.getFunctionName)(t),i=$D(r,n,t,!0),o=i.map(function(c){return c.metadata.filter(function(u){return u.key===Zd.UNMANAGED_TAG})}),s=[].concat.apply([],o).length,a=i.length-s;return a>0?a:RD(r,t)}else return 0}_r.getBaseClassDependencyCount=RD;function MD(r){var e={};return r.forEach(function(t){e[t.key.toString()]=t.value}),{inject:e[Zd.INJECT_TAG],multiInject:e[Zd.MULTI_INJECT_TAG],targetName:e[Zd.NAME_TAG],unmanaged:e[Zd.UNMANAGED_TAG]}}});var ND=b(Pg=>{"use strict";Object.defineProperty(Pg,"__esModule",{value:!0});Pg.Request=void 0;var n6=Ls(),i6=function(){function r(e,t,n,i,o){this.id=(0,n6.id)(),this.serviceIdentifier=e,this.parentContext=t,this.parentRequest=n,this.target=o,this.childRequests=[],this.bindings=Array.isArray(i)?i:[i],this.requestScope=n===null?new Map:null}return r.prototype.addChildRequest=function(e,t,n){var i=new r(e,this.parentContext,this,t,n);return this.childRequests.push(i),i},r}();Pg.Request=i6});var e_=b(jr=>{"use strict";var o6=jr&&jr.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),s6=jr&&jr.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),UD=jr&&jr.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&o6(e,r,t);return s6(e,r),e};Object.defineProperty(jr,"__esModule",{value:!0});jr.getBindingDictionary=jr.createMockRequest=jr.plan=void 0;var Cg=vD(),YI=UD(Ir()),jD=Tn(),FD=UD(Ot()),a6=GI(),Pu=Ya(),WD=SD(),QI=pi(),c6=ED(),JI=OD(),ZI=ND(),qD=zI();function VD(r){return r._bindingDictionary}jr.getBindingDictionary=VD;function u6(r,e,t,n,i,o){var s=r?FD.MULTI_INJECT_TAG:FD.INJECT_TAG,a=new QI.Metadata(s,t),c=new qD.Target(e,n,t,a);if(i!==void 0){var u=new QI.Metadata(i,o);c.metadata.push(u)}return c}function BD(r,e,t,n,i){var o=ef(t.container,i.serviceIdentifier),s=[];return o.length===Cg.BindingCount.NoBindingsAvailable&&t.container.options.autoBindInjectable&&typeof i.serviceIdentifier=="function"&&r.getConstructorMetadata(i.serviceIdentifier).compilerGeneratedMetadata&&(t.container.bind(i.serviceIdentifier).toSelf(),o=ef(t.container,i.serviceIdentifier)),e?s=o:s=o.filter(function(a){var c=new ZI.Request(a.serviceIdentifier,t,n,a,i);return a.constraint(c)}),l6(i.serviceIdentifier,s,i,t.container),s}function l6(r,e,t,n){switch(e.length){case Cg.BindingCount.NoBindingsAvailable:if(t.isOptional())return e;var i=(0,Pu.getServiceIdentifierAsString)(r),o=YI.NOT_REGISTERED;throw o+=(0,Pu.listMetadataForTarget)(i,t),o+=(0,Pu.listRegisteredBindingsForServiceIdentifier)(n,i,ef),new Error(o);case Cg.BindingCount.OnlyOneBindingAvailable:return e;case Cg.BindingCount.MultipleBindingsAvailable:default:if(t.isArray())return e;var i=(0,Pu.getServiceIdentifierAsString)(r),o=YI.AMBIGUOUS_MATCH+" "+i;throw o+=(0,Pu.listRegisteredBindingsForServiceIdentifier)(n,i,ef),new Error(o)}}function GD(r,e,t,n,i,o){var s,a;if(i===null){s=BD(r,e,n,null,o),a=new ZI.Request(t,n,null,s,o);var c=new c6.Plan(n,a);n.addPlan(c)}else s=BD(r,e,n,i,o),a=i.addChildRequest(o.serviceIdentifier,s,o);s.forEach(function(u){var l=null;if(o.isArray())l=a.addChildRequest(u.serviceIdentifier,u,o);else{if(u.cache)return;l=a}if(u.type===jD.BindingTypeEnum.Instance&&u.implementationType!==null){var p=(0,JI.getDependencies)(r,u.implementationType);if(!n.container.options.skipBaseClassChecks){var d=(0,JI.getBaseClassDependencyCount)(r,u.implementationType);if(p.length<d){var h=YI.ARGUMENTS_LENGTH_MISMATCH((0,JI.getFunctionName)(u.implementationType));throw new Error(h)}}p.forEach(function(f){GD(r,!1,f.serviceIdentifier,n,l,f)})}})}function ef(r,e){var t=[],n=VD(r);return n.hasKey(e)?t=n.get(e):r.parent!==null&&(t=ef(r.parent,e)),t}function p6(r,e,t,n,i,o,s,a){a===void 0&&(a=!1);var c=new WD.Context(e),u=u6(t,n,i,"",o,s);try{return GD(r,a,i,c,null,u),c}catch(l){throw(0,a6.isStackOverflowExeption)(l)&&(0,Pu.circularDependencyToException)(c.plan.rootRequest),l}}jr.plan=p6;function d6(r,e,t,n){var i=new qD.Target(jD.TargetTypeEnum.Variable,"",e,new QI.Metadata(t,n)),o=new WD.Context(r),s=new ZI.Request(e,o,null,[],i);return s}jr.createMockRequest=d6});var tf=b(Cu=>{"use strict";Object.defineProperty(Cu,"__esModule",{value:!0});Cu.isPromiseOrContainsPromise=Cu.isPromise=void 0;function t_(r){var e=typeof r=="object"&&r!==null||typeof r=="function";return e&&typeof r.then=="function"}Cu.isPromise=t_;function f6(r){return t_(r)?!0:Array.isArray(r)&&r.some(t_)}Cu.isPromiseOrContainsPromise=f6});var zD=b(Fi=>{"use strict";var m6=Fi&&Fi.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(p){s(p)}}function c(l){try{u(n.throw(l))}catch(p){s(p)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})},h6=Fi&&Fi.__generator||function(r,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,i=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){t.label=u[1];break}if(u[0]===6&&t.label<o[1]){t.label=o[1],o=u;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(u);break}o[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(r,t)}catch(l){u=[6,l],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}};Object.defineProperty(Fi,"__esModule",{value:!0});Fi.saveToScope=Fi.tryGetFromScope=void 0;var Tg=Tn(),g6=tf(),H6=function(r,e){return e.scope===Tg.BindingScopeEnum.Singleton&&e.activated?e.cache:e.scope===Tg.BindingScopeEnum.Request&&r.has(e.id)?r.get(e.id):null};Fi.tryGetFromScope=H6;var y6=function(r,e,t){e.scope===Tg.BindingScopeEnum.Singleton&&v6(e,t),e.scope===Tg.BindingScopeEnum.Request&&b6(r,e,t)};Fi.saveToScope=y6;var b6=function(r,e,t){r.has(e.id)||r.set(e.id,t)},v6=function(r,e){r.cache=e,r.activated=!0,(0,g6.isPromise)(e)&&x6(r,e)},x6=function(r,e){return m6(void 0,void 0,void 0,function(){var t,n;return h6(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,e];case 1:return t=i.sent(),r.cache=t,[3,3];case 2:throw n=i.sent(),r.cache=null,r.activated=!1,n;case 3:return[2]}})})}});var KD=b(rf=>{"use strict";Object.defineProperty(rf,"__esModule",{value:!0});rf.FactoryType=void 0;var w6;(function(r){r.DynamicValue="toDynamicValue",r.Factory="toFactory",r.Provider="toProvider"})(w6=rf.FactoryType||(rf.FactoryType={}))});var n_=b(Wr=>{"use strict";var I6=Wr&&Wr.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),_6=Wr&&Wr.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),A6=Wr&&Wr.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&I6(e,r,t);return _6(e,r),e};Object.defineProperty(Wr,"__esModule",{value:!0});Wr.getFactoryDetails=Wr.ensureFullyBound=Wr.multiBindToService=void 0;var S6=Ya(),E6=A6(Ir()),Bi=Tn(),r_=KD(),P6=function(r){return function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return t.forEach(function(i){return r.bind(i).toService(e)})}}};Wr.multiBindToService=P6;var C6=function(r){var e=null;switch(r.type){case Bi.BindingTypeEnum.ConstantValue:case Bi.BindingTypeEnum.Function:e=r.cache;break;case Bi.BindingTypeEnum.Constructor:case Bi.BindingTypeEnum.Instance:e=r.implementationType;break;case Bi.BindingTypeEnum.DynamicValue:e=r.dynamicValue;break;case Bi.BindingTypeEnum.Provider:e=r.provider;break;case Bi.BindingTypeEnum.Factory:e=r.factory;break}if(e===null){var t=(0,S6.getServiceIdentifierAsString)(r.serviceIdentifier);throw new Error(E6.INVALID_BINDING_TYPE+" "+t)}};Wr.ensureFullyBound=C6;var T6=function(r){switch(r.type){case Bi.BindingTypeEnum.Factory:return{factory:r.factory,factoryType:r_.FactoryType.Factory};case Bi.BindingTypeEnum.Provider:return{factory:r.provider,factoryType:r_.FactoryType.Provider};case Bi.BindingTypeEnum.DynamicValue:return{factory:r.dynamicValue,factoryType:r_.FactoryType.DynamicValue};default:throw new Error("Unexpected factory type "+r.type)}};Wr.getFactoryDetails=T6});var e$=b(er=>{"use strict";var Tu=er&&er.__assign||function(){return Tu=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Tu.apply(this,arguments)},L6=er&&er.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),D6=er&&er.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),$6=er&&er.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&L6(e,r,t);return D6(e,r),e},YD=er&&er.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(p){s(p)}}function c(l){try{u(n.throw(l))}catch(p){s(p)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})},QD=er&&er.__generator||function(r,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,i=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){t.label=u[1];break}if(u[0]===6&&t.label<o[1]){t.label=o[1],o=u;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(u);break}o[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(r,t)}catch(l){u=[6,l],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},k6=er&&er.__spreadArray||function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))};Object.defineProperty(er,"__esModule",{value:!0});er.resolveInstance=void 0;var i_=Ir(),s_=Tn(),o_=$6(Ot()),a_=tf();function R6(r,e){return r.reduce(function(t,n){var i=e(n),o=n.target.type;return o===s_.TargetTypeEnum.ConstructorArgument?t.constructorInjections.push(i):(t.propertyRequests.push(n),t.propertyInjections.push(i)),t.isAsync||(t.isAsync=(0,a_.isPromiseOrContainsPromise)(i)),t},{constructorInjections:[],propertyInjections:[],propertyRequests:[],isAsync:!1})}function M6(r,e,t){var n;if(e.length>0){var i=R6(e,t),o=Tu(Tu({},i),{constr:r});i.isAsync?n=O6(o):n=ZD(o)}else n=new r;return n}function ZD(r){var e,t=new((e=r.constr).bind.apply(e,k6([void 0],r.constructorInjections,!1)));return r.propertyRequests.forEach(function(n,i){var o=n.target.identifier,s=r.propertyInjections[i];(!n.target.isOptional()||s!==void 0)&&(t[o]=s)}),t}function O6(r){return YD(this,void 0,void 0,function(){var e,t;return QD(this,function(n){switch(n.label){case 0:return[4,XD(r.constructorInjections)];case 1:return e=n.sent(),[4,XD(r.propertyInjections)];case 2:return t=n.sent(),[2,ZD(Tu(Tu({},r),{constructorInjections:e,propertyInjections:t}))]}})})}function XD(r){return YD(this,void 0,void 0,function(){var e,t,n,i;return QD(this,function(o){for(e=[],t=0,n=r;t<n.length;t++)i=n[t],Array.isArray(i)?e.push(Promise.all(i)):e.push(i);return[2,Promise.all(e)]})})}function JD(r,e){var t=N6(r,e);return(0,a_.isPromise)(t)?t.then(function(){return e}):e}function N6(r,e){var t,n;if(Reflect.hasMetadata(o_.POST_CONSTRUCT,r)){var i=Reflect.getMetadata(o_.POST_CONSTRUCT,r);try{return(n=(t=e)[i.value])===null||n===void 0?void 0:n.call(t)}catch(o){if(o instanceof Error)throw new Error((0,i_.POST_CONSTRUCT_ERROR)(r.name,o.message))}}}function F6(r,e){r.scope!==s_.BindingScopeEnum.Singleton&&B6(r,e)}function B6(r,e){var t="Class cannot be instantiated in "+(r.scope===s_.BindingScopeEnum.Request?"request":"transient")+" scope.";if(typeof r.onDeactivation=="function")throw new Error((0,i_.ON_DEACTIVATION_ERROR)(e.name,t));if(Reflect.hasMetadata(o_.PRE_DESTROY,e))throw new Error((0,i_.PRE_DESTROY_ERROR)(e.name,t))}function U6(r,e,t,n){F6(r,e);var i=M6(e,t,n);return(0,a_.isPromise)(i)?i.then(function(o){return JD(e,o)}):JD(e,i)}er.resolveInstance=U6});var o$=b(qr=>{"use strict";var j6=qr&&qr.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),W6=qr&&qr.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),q6=qr&&qr.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&j6(e,r,t);return W6(e,r),e},V6=qr&&qr.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(p){s(p)}}function c(l){try{u(n.throw(l))}catch(p){s(p)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})},G6=qr&&qr.__generator||function(r,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,i=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){t.label=u[1];break}if(u[0]===6&&t.label<o[1]){t.label=o[1],o=u;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(u);break}o[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(r,t)}catch(l){u=[6,l],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}};Object.defineProperty(qr,"__esModule",{value:!0});qr.resolve=void 0;var z6=q6(Ir()),Lg=Tn(),K6=e_(),t$=zD(),c_=tf(),n$=n_(),X6=GI(),J6=e$(),u_=function(r){return function(e){e.parentContext.setCurrentRequest(e);var t=e.bindings,n=e.childRequests,i=e.target&&e.target.isArray(),o=!e.parentRequest||!e.parentRequest.target||!e.target||!e.parentRequest.target.matchesArray(e.target.serviceIdentifier);if(i&&o)return n.map(function(a){var c=u_(r);return c(a)});if(e.target.isOptional()&&t.length===0)return;var s=t[0];return eX(r,e,s)}},Y6=function(r,e){var t=(0,n$.getFactoryDetails)(r);return(0,X6.tryAndThrowErrorIfStackOverflow)(function(){return t.factory.bind(r)(e)},function(){return new Error(z6.CIRCULAR_DEPENDENCY_IN_FACTORY(t.factoryType,e.currentRequest.serviceIdentifier.toString()))})},Q6=function(r,e,t){var n,i=e.childRequests;switch((0,n$.ensureFullyBound)(t),t.type){case Lg.BindingTypeEnum.ConstantValue:case Lg.BindingTypeEnum.Function:n=t.cache;break;case Lg.BindingTypeEnum.Constructor:n=t.implementationType;break;case Lg.BindingTypeEnum.Instance:n=(0,J6.resolveInstance)(t,t.implementationType,i,u_(r));break;default:n=Y6(t,e.parentContext)}return n},Z6=function(r,e,t){var n=(0,t$.tryGetFromScope)(r,e);return n!==null||(n=t(),(0,t$.saveToScope)(r,e,n)),n},eX=function(r,e,t){return Z6(r,t,function(){var n=Q6(r,e,t);return(0,c_.isPromise)(n)?n=n.then(function(i){return r$(e,t,i)}):n=r$(e,t,n),n})};function r$(r,e,t){var n=tX(r.parentContext,e,t),i=iX(r.parentContext.container),o,s=i.next();do{o=s.value;var a=r.parentContext,c=r.serviceIdentifier,u=nX(o,c);(0,c_.isPromise)(n)?n=i$(u,a,n):n=rX(u,a,n),s=i.next()}while(s.done!==!0&&!(0,K6.getBindingDictionary)(o).hasKey(r.serviceIdentifier));return n}var tX=function(r,e,t){var n;return typeof e.onActivation=="function"?n=e.onActivation(r,t):n=t,n},rX=function(r,e,t){for(var n=r.next();!n.done;){if(t=n.value(e,t),(0,c_.isPromise)(t))return i$(r,e,t);n=r.next()}return t},i$=function(r,e,t){return V6(void 0,void 0,void 0,function(){var n,i;return G6(this,function(o){switch(o.label){case 0:return[4,t];case 1:n=o.sent(),i=r.next(),o.label=2;case 2:return i.done?[3,4]:[4,i.value(e,n)];case 3:return n=o.sent(),i=r.next(),[3,2];case 4:return[2,n]}})})},nX=function(r,e){var t=r._activations;return t.hasKey(e)?t.get(e).values():[].values()},iX=function(r){for(var e=[r],t=r.parent;t!==null;)e.push(t),t=t.parent;var n=function(){var o=e.pop();return o!==void 0?{done:!1,value:o}:{done:!0,value:void 0}},i={next:n};return i};function oX(r){var e=u_(r.plan.rootRequest.requestScope);return e(r.plan.rootRequest)}qr.resolve=oX});var l_=b(Ar=>{"use strict";var sX=Ar&&Ar.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),aX=Ar&&Ar.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),cX=Ar&&Ar.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&sX(e,r,t);return aX(e,r),e};Object.defineProperty(Ar,"__esModule",{value:!0});Ar.typeConstraint=Ar.namedConstraint=Ar.taggedConstraint=Ar.traverseAncerstors=void 0;var uX=cX(Ot()),lX=pi(),s$=function(r,e){var t=r.parentRequest;return t!==null?e(t)?!0:s$(t,e):!1};Ar.traverseAncerstors=s$;var a$=function(r){return function(e){var t=function(n){return n!==null&&n.target!==null&&n.target.matchesTag(r)(e)};return t.metaData=new lX.Metadata(r,e),t}};Ar.taggedConstraint=a$;var pX=a$(uX.NAMED_TAG);Ar.namedConstraint=pX;var dX=function(r){return function(e){var t=null;if(e!==null)if(t=e.bindings[0],typeof r=="string"){var n=t.serviceIdentifier;return n===r}else{var i=e.bindings[0].implementationType;return r===i}return!1}};Ar.typeConstraint=dX});var $g=b(Dg=>{"use strict";Object.defineProperty(Dg,"__esModule",{value:!0});Dg.BindingWhenSyntax=void 0;var kr=kg(),zt=l_(),fX=function(){function r(e){this._binding=e}return r.prototype.when=function(e){return this._binding.constraint=e,new kr.BindingOnSyntax(this._binding)},r.prototype.whenTargetNamed=function(e){return this._binding.constraint=(0,zt.namedConstraint)(e),new kr.BindingOnSyntax(this._binding)},r.prototype.whenTargetIsDefault=function(){return this._binding.constraint=function(e){if(e===null)return!1;var t=e.target!==null&&!e.target.isNamed()&&!e.target.isTagged();return t},new kr.BindingOnSyntax(this._binding)},r.prototype.whenTargetTagged=function(e,t){return this._binding.constraint=(0,zt.taggedConstraint)(e)(t),new kr.BindingOnSyntax(this._binding)},r.prototype.whenInjectedInto=function(e){return this._binding.constraint=function(t){return t!==null&&(0,zt.typeConstraint)(e)(t.parentRequest)},new kr.BindingOnSyntax(this._binding)},r.prototype.whenParentNamed=function(e){return this._binding.constraint=function(t){return t!==null&&(0,zt.namedConstraint)(e)(t.parentRequest)},new kr.BindingOnSyntax(this._binding)},r.prototype.whenParentTagged=function(e,t){return this._binding.constraint=function(n){return n!==null&&(0,zt.taggedConstraint)(e)(t)(n.parentRequest)},new kr.BindingOnSyntax(this._binding)},r.prototype.whenAnyAncestorIs=function(e){return this._binding.constraint=function(t){return t!==null&&(0,zt.traverseAncerstors)(t,(0,zt.typeConstraint)(e))},new kr.BindingOnSyntax(this._binding)},r.prototype.whenNoAncestorIs=function(e){return this._binding.constraint=function(t){return t!==null&&!(0,zt.traverseAncerstors)(t,(0,zt.typeConstraint)(e))},new kr.BindingOnSyntax(this._binding)},r.prototype.whenAnyAncestorNamed=function(e){return this._binding.constraint=function(t){return t!==null&&(0,zt.traverseAncerstors)(t,(0,zt.namedConstraint)(e))},new kr.BindingOnSyntax(this._binding)},r.prototype.whenNoAncestorNamed=function(e){return this._binding.constraint=function(t){return t!==null&&!(0,zt.traverseAncerstors)(t,(0,zt.namedConstraint)(e))},new kr.BindingOnSyntax(this._binding)},r.prototype.whenAnyAncestorTagged=function(e,t){return this._binding.constraint=function(n){return n!==null&&(0,zt.traverseAncerstors)(n,(0,zt.taggedConstraint)(e)(t))},new kr.BindingOnSyntax(this._binding)},r.prototype.whenNoAncestorTagged=function(e,t){return this._binding.constraint=function(n){return n!==null&&!(0,zt.traverseAncerstors)(n,(0,zt.taggedConstraint)(e)(t))},new kr.BindingOnSyntax(this._binding)},r.prototype.whenAnyAncestorMatches=function(e){return this._binding.constraint=function(t){return t!==null&&(0,zt.traverseAncerstors)(t,e)},new kr.BindingOnSyntax(this._binding)},r.prototype.whenNoAncestorMatches=function(e){return this._binding.constraint=function(t){return t!==null&&!(0,zt.traverseAncerstors)(t,e)},new kr.BindingOnSyntax(this._binding)},r}();Dg.BindingWhenSyntax=fX});var kg=b(Rg=>{"use strict";Object.defineProperty(Rg,"__esModule",{value:!0});Rg.BindingOnSyntax=void 0;var c$=$g(),mX=function(){function r(e){this._binding=e}return r.prototype.onActivation=function(e){return this._binding.onActivation=e,new c$.BindingWhenSyntax(this._binding)},r.prototype.onDeactivation=function(e){return this._binding.onDeactivation=e,new c$.BindingWhenSyntax(this._binding)},r}();Rg.BindingOnSyntax=mX});var p_=b(Mg=>{"use strict";Object.defineProperty(Mg,"__esModule",{value:!0});Mg.BindingWhenOnSyntax=void 0;var hX=kg(),gX=$g(),HX=function(){function r(e){this._binding=e,this._bindingWhenSyntax=new gX.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new hX.BindingOnSyntax(this._binding)}return r.prototype.when=function(e){return this._bindingWhenSyntax.when(e)},r.prototype.whenTargetNamed=function(e){return this._bindingWhenSyntax.whenTargetNamed(e)},r.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},r.prototype.whenTargetTagged=function(e,t){return this._bindingWhenSyntax.whenTargetTagged(e,t)},r.prototype.whenInjectedInto=function(e){return this._bindingWhenSyntax.whenInjectedInto(e)},r.prototype.whenParentNamed=function(e){return this._bindingWhenSyntax.whenParentNamed(e)},r.prototype.whenParentTagged=function(e,t){return this._bindingWhenSyntax.whenParentTagged(e,t)},r.prototype.whenAnyAncestorIs=function(e){return this._bindingWhenSyntax.whenAnyAncestorIs(e)},r.prototype.whenNoAncestorIs=function(e){return this._bindingWhenSyntax.whenNoAncestorIs(e)},r.prototype.whenAnyAncestorNamed=function(e){return this._bindingWhenSyntax.whenAnyAncestorNamed(e)},r.prototype.whenAnyAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenAnyAncestorTagged(e,t)},r.prototype.whenNoAncestorNamed=function(e){return this._bindingWhenSyntax.whenNoAncestorNamed(e)},r.prototype.whenNoAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenNoAncestorTagged(e,t)},r.prototype.whenAnyAncestorMatches=function(e){return this._bindingWhenSyntax.whenAnyAncestorMatches(e)},r.prototype.whenNoAncestorMatches=function(e){return this._bindingWhenSyntax.whenNoAncestorMatches(e)},r.prototype.onActivation=function(e){return this._bindingOnSyntax.onActivation(e)},r.prototype.onDeactivation=function(e){return this._bindingOnSyntax.onDeactivation(e)},r}();Mg.BindingWhenOnSyntax=HX});var u$=b(Og=>{"use strict";Object.defineProperty(Og,"__esModule",{value:!0});Og.BindingInSyntax=void 0;var d_=Tn(),f_=p_(),yX=function(){function r(e){this._binding=e}return r.prototype.inRequestScope=function(){return this._binding.scope=d_.BindingScopeEnum.Request,new f_.BindingWhenOnSyntax(this._binding)},r.prototype.inSingletonScope=function(){return this._binding.scope=d_.BindingScopeEnum.Singleton,new f_.BindingWhenOnSyntax(this._binding)},r.prototype.inTransientScope=function(){return this._binding.scope=d_.BindingScopeEnum.Transient,new f_.BindingWhenOnSyntax(this._binding)},r}();Og.BindingInSyntax=yX});var l$=b(Ng=>{"use strict";Object.defineProperty(Ng,"__esModule",{value:!0});Ng.BindingInWhenOnSyntax=void 0;var bX=u$(),vX=kg(),xX=$g(),wX=function(){function r(e){this._binding=e,this._bindingWhenSyntax=new xX.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new vX.BindingOnSyntax(this._binding),this._bindingInSyntax=new bX.BindingInSyntax(e)}return r.prototype.inRequestScope=function(){return this._bindingInSyntax.inRequestScope()},r.prototype.inSingletonScope=function(){return this._bindingInSyntax.inSingletonScope()},r.prototype.inTransientScope=function(){return this._bindingInSyntax.inTransientScope()},r.prototype.when=function(e){return this._bindingWhenSyntax.when(e)},r.prototype.whenTargetNamed=function(e){return this._bindingWhenSyntax.whenTargetNamed(e)},r.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},r.prototype.whenTargetTagged=function(e,t){return this._bindingWhenSyntax.whenTargetTagged(e,t)},r.prototype.whenInjectedInto=function(e){return this._bindingWhenSyntax.whenInjectedInto(e)},r.prototype.whenParentNamed=function(e){return this._bindingWhenSyntax.whenParentNamed(e)},r.prototype.whenParentTagged=function(e,t){return this._bindingWhenSyntax.whenParentTagged(e,t)},r.prototype.whenAnyAncestorIs=function(e){return this._bindingWhenSyntax.whenAnyAncestorIs(e)},r.prototype.whenNoAncestorIs=function(e){return this._bindingWhenSyntax.whenNoAncestorIs(e)},r.prototype.whenAnyAncestorNamed=function(e){return this._bindingWhenSyntax.whenAnyAncestorNamed(e)},r.prototype.whenAnyAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenAnyAncestorTagged(e,t)},r.prototype.whenNoAncestorNamed=function(e){return this._bindingWhenSyntax.whenNoAncestorNamed(e)},r.prototype.whenNoAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenNoAncestorTagged(e,t)},r.prototype.whenAnyAncestorMatches=function(e){return this._bindingWhenSyntax.whenAnyAncestorMatches(e)},r.prototype.whenNoAncestorMatches=function(e){return this._bindingWhenSyntax.whenNoAncestorMatches(e)},r.prototype.onActivation=function(e){return this._bindingOnSyntax.onActivation(e)},r.prototype.onDeactivation=function(e){return this._bindingOnSyntax.onDeactivation(e)},r}();Ng.BindingInWhenOnSyntax=wX});var f$=b(Ui=>{"use strict";var IX=Ui&&Ui.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),_X=Ui&&Ui.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),AX=Ui&&Ui.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&IX(e,r,t);return _X(e,r),e};Object.defineProperty(Ui,"__esModule",{value:!0});Ui.BindingToSyntax=void 0;var p$=AX(Ir()),Rr=Tn(),d$=l$(),Lu=p_(),SX=function(){function r(e){this._binding=e}return r.prototype.to=function(e){return this._binding.type=Rr.BindingTypeEnum.Instance,this._binding.implementationType=e,new d$.BindingInWhenOnSyntax(this._binding)},r.prototype.toSelf=function(){if(typeof this._binding.serviceIdentifier!="function")throw new Error(""+p$.INVALID_TO_SELF_VALUE);var e=this._binding.serviceIdentifier;return this.to(e)},r.prototype.toConstantValue=function(e){return this._binding.type=Rr.BindingTypeEnum.ConstantValue,this._binding.cache=e,this._binding.dynamicValue=null,this._binding.implementationType=null,this._binding.scope=Rr.BindingScopeEnum.Singleton,new Lu.BindingWhenOnSyntax(this._binding)},r.prototype.toDynamicValue=function(e){return this._binding.type=Rr.BindingTypeEnum.DynamicValue,this._binding.cache=null,this._binding.dynamicValue=e,this._binding.implementationType=null,new d$.BindingInWhenOnSyntax(this._binding)},r.prototype.toConstructor=function(e){return this._binding.type=Rr.BindingTypeEnum.Constructor,this._binding.implementationType=e,this._binding.scope=Rr.BindingScopeEnum.Singleton,new Lu.BindingWhenOnSyntax(this._binding)},r.prototype.toFactory=function(e){return this._binding.type=Rr.BindingTypeEnum.Factory,this._binding.factory=e,this._binding.scope=Rr.BindingScopeEnum.Singleton,new Lu.BindingWhenOnSyntax(this._binding)},r.prototype.toFunction=function(e){if(typeof e!="function")throw new Error(p$.INVALID_FUNCTION_BINDING);var t=this.toConstantValue(e);return this._binding.type=Rr.BindingTypeEnum.Function,this._binding.scope=Rr.BindingScopeEnum.Singleton,t},r.prototype.toAutoFactory=function(e){return this._binding.type=Rr.BindingTypeEnum.Factory,this._binding.factory=function(t){var n=function(){return t.container.get(e)};return n},this._binding.scope=Rr.BindingScopeEnum.Singleton,new Lu.BindingWhenOnSyntax(this._binding)},r.prototype.toAutoNamedFactory=function(e){return this._binding.type=Rr.BindingTypeEnum.Factory,this._binding.factory=function(t){return function(n){return t.container.getNamed(e,n)}},new Lu.BindingWhenOnSyntax(this._binding)},r.prototype.toProvider=function(e){return this._binding.type=Rr.BindingTypeEnum.Provider,this._binding.provider=e,this._binding.scope=Rr.BindingScopeEnum.Singleton,new Lu.BindingWhenOnSyntax(this._binding)},r.prototype.toService=function(e){this.toDynamicValue(function(t){return t.container.get(e)})},r}();Ui.BindingToSyntax=SX});var m$=b(Fg=>{"use strict";Object.defineProperty(Fg,"__esModule",{value:!0});Fg.ContainerSnapshot=void 0;var EX=function(){function r(){}return r.of=function(e,t,n,i,o){var s=new r;return s.bindings=e,s.middleware=t,s.deactivations=i,s.activations=n,s.moduleActivationStore=o,s},r}();Fg.ContainerSnapshot=EX});var h$=b(Bg=>{"use strict";Object.defineProperty(Bg,"__esModule",{value:!0});Bg.isClonable=void 0;function PX(r){return typeof r=="object"&&r!==null&&"clone"in r&&typeof r.clone=="function"}Bg.isClonable=PX});var m_=b(ji=>{"use strict";var CX=ji&&ji.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),TX=ji&&ji.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),LX=ji&&ji.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&CX(e,r,t);return TX(e,r),e};Object.defineProperty(ji,"__esModule",{value:!0});ji.Lookup=void 0;var Qa=LX(Ir()),DX=h$(),$X=function(){function r(){this._map=new Map}return r.prototype.getMap=function(){return this._map},r.prototype.add=function(e,t){if(e==null)throw new Error(Qa.NULL_ARGUMENT);if(t==null)throw new Error(Qa.NULL_ARGUMENT);var n=this._map.get(e);n!==void 0?n.push(t):this._map.set(e,[t])},r.prototype.get=function(e){if(e==null)throw new Error(Qa.NULL_ARGUMENT);var t=this._map.get(e);if(t!==void 0)return t;throw new Error(Qa.KEY_NOT_FOUND)},r.prototype.remove=function(e){if(e==null)throw new Error(Qa.NULL_ARGUMENT);if(!this._map.delete(e))throw new Error(Qa.KEY_NOT_FOUND)},r.prototype.removeIntersection=function(e){var t=this;this.traverse(function(n,i){var o=e.hasKey(n)?e.get(n):void 0;if(o!==void 0){var s=i.filter(function(a){return!o.some(function(c){return a===c})});t._setValue(n,s)}})},r.prototype.removeByCondition=function(e){var t=this,n=[];return this._map.forEach(function(i,o){for(var s=[],a=0,c=i;a<c.length;a++){var u=c[a],l=e(u);l?n.push(u):s.push(u)}t._setValue(o,s)}),n},r.prototype.hasKey=function(e){if(e==null)throw new Error(Qa.NULL_ARGUMENT);return this._map.has(e)},r.prototype.clone=function(){var e=new r;return this._map.forEach(function(t,n){t.forEach(function(i){return e.add(n,(0,DX.isClonable)(i)?i.clone():i)})}),e},r.prototype.traverse=function(e){this._map.forEach(function(t,n){e(n,t)})},r.prototype._setValue=function(e,t){t.length>0?this._map.set(e,t):this._map.delete(e)},r}();ji.Lookup=$X});var H$=b(Ug=>{"use strict";Object.defineProperty(Ug,"__esModule",{value:!0});Ug.ModuleActivationStore=void 0;var g$=m_(),kX=function(){function r(){this._map=new Map}return r.prototype.remove=function(e){if(this._map.has(e)){var t=this._map.get(e);return this._map.delete(e),t}return this._getEmptyHandlersStore()},r.prototype.addDeactivation=function(e,t,n){this._getModuleActivationHandlers(e).onDeactivations.add(t,n)},r.prototype.addActivation=function(e,t,n){this._getModuleActivationHandlers(e).onActivations.add(t,n)},r.prototype.clone=function(){var e=new r;return this._map.forEach(function(t,n){e._map.set(n,{onActivations:t.onActivations.clone(),onDeactivations:t.onDeactivations.clone()})}),e},r.prototype._getModuleActivationHandlers=function(e){var t=this._map.get(e);return t===void 0&&(t=this._getEmptyHandlersStore(),this._map.set(e,t)),t},r.prototype._getEmptyHandlersStore=function(){var e={onActivations:new g$.Lookup,onDeactivations:new g$.Lookup};return e},r}();Ug.ModuleActivationStore=kX});var b$=b(tr=>{"use strict";var Wg=tr&&tr.__assign||function(){return Wg=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Wg.apply(this,arguments)},RX=tr&&tr.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),MX=tr&&tr.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),y$=tr&&tr.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&RX(e,r,t);return MX(e,r),e},Dn=tr&&tr.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(p){s(p)}}function c(l){try{u(n.throw(l))}catch(p){s(p)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})},$n=tr&&tr.__generator||function(r,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,i=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){t.label=u[1];break}if(u[0]===6&&t.label<o[1]){t.label=o[1],o=u;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(u);break}o[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(r,t)}catch(l){u=[6,l],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},OX=tr&&tr.__spreadArray||function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))};Object.defineProperty(tr,"__esModule",{value:!0});tr.Container=void 0;var NX=bD(),di=y$(Ir()),Du=Tn(),Za=y$(Ot()),FX=VI(),jg=e_(),BX=o$(),UX=f$(),ec=tf(),jX=Ls(),WX=Ya(),qX=m$(),nf=m_(),VX=H$(),GX=function(){function r(e){var t=e||{};if(typeof t!="object")throw new Error(""+di.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT);if(t.defaultScope===void 0)t.defaultScope=Du.BindingScopeEnum.Transient;else if(t.defaultScope!==Du.BindingScopeEnum.Singleton&&t.defaultScope!==Du.BindingScopeEnum.Transient&&t.defaultScope!==Du.BindingScopeEnum.Request)throw new Error(""+di.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE);if(t.autoBindInjectable===void 0)t.autoBindInjectable=!1;else if(typeof t.autoBindInjectable!="boolean")throw new Error(""+di.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE);if(t.skipBaseClassChecks===void 0)t.skipBaseClassChecks=!1;else if(typeof t.skipBaseClassChecks!="boolean")throw new Error(""+di.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK);this.options={autoBindInjectable:t.autoBindInjectable,defaultScope:t.defaultScope,skipBaseClassChecks:t.skipBaseClassChecks},this.id=(0,jX.id)(),this._bindingDictionary=new nf.Lookup,this._snapshots=[],this._middleware=null,this._activations=new nf.Lookup,this._deactivations=new nf.Lookup,this.parent=null,this._metadataReader=new FX.MetadataReader,this._moduleActivationStore=new VX.ModuleActivationStore}return r.merge=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var o=new r,s=OX([e,t],n,!0).map(function(u){return(0,jg.getBindingDictionary)(u)}),a=(0,jg.getBindingDictionary)(o);function c(u,l){u.traverse(function(p,d){d.forEach(function(h){l.add(h.serviceIdentifier,h.clone())})})}return s.forEach(function(u){c(u,a)}),o},r.prototype.load=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=this._getContainerModuleHelpersFactory(),i=0,o=e;i<o.length;i++){var s=o[i],a=n(s.id);s.registry(a.bindFunction,a.unbindFunction,a.isboundFunction,a.rebindFunction,a.unbindAsyncFunction,a.onActivationFunction,a.onDeactivationFunction)}},r.prototype.loadAsync=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Dn(this,void 0,void 0,function(){var n,i,o,s,a;return $n(this,function(c){switch(c.label){case 0:n=this._getContainerModuleHelpersFactory(),i=0,o=e,c.label=1;case 1:return i<o.length?(s=o[i],a=n(s.id),[4,s.registry(a.bindFunction,a.unbindFunction,a.isboundFunction,a.rebindFunction,a.unbindAsyncFunction,a.onActivationFunction,a.onDeactivationFunction)]):[3,4];case 2:c.sent(),c.label=3;case 3:return i++,[3,1];case 4:return[2]}})})},r.prototype.unload=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];t.forEach(function(i){var o=e._removeModuleBindings(i.id);e._deactivateSingletons(o),e._removeModuleHandlers(i.id)})},r.prototype.unloadAsync=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Dn(this,void 0,void 0,function(){var n,i,o,s;return $n(this,function(a){switch(a.label){case 0:n=0,i=e,a.label=1;case 1:return n<i.length?(o=i[n],s=this._removeModuleBindings(o.id),[4,this._deactivateSingletonsAsync(s)]):[3,4];case 2:a.sent(),this._removeModuleHandlers(o.id),a.label=3;case 3:return n++,[3,1];case 4:return[2]}})})},r.prototype.bind=function(e){var t=this.options.defaultScope||Du.BindingScopeEnum.Transient,n=new NX.Binding(e,t);return this._bindingDictionary.add(e,n),new UX.BindingToSyntax(n)},r.prototype.rebind=function(e){return this.unbind(e),this.bind(e)},r.prototype.rebindAsync=function(e){return Dn(this,void 0,void 0,function(){return $n(this,function(t){switch(t.label){case 0:return[4,this.unbindAsync(e)];case 1:return t.sent(),[2,this.bind(e)]}})})},r.prototype.unbind=function(e){if(this._bindingDictionary.hasKey(e)){var t=this._bindingDictionary.get(e);this._deactivateSingletons(t)}this._removeServiceFromDictionary(e)},r.prototype.unbindAsync=function(e){return Dn(this,void 0,void 0,function(){var t;return $n(this,function(n){switch(n.label){case 0:return this._bindingDictionary.hasKey(e)?(t=this._bindingDictionary.get(e),[4,this._deactivateSingletonsAsync(t)]):[3,2];case 1:n.sent(),n.label=2;case 2:return this._removeServiceFromDictionary(e),[2]}})})},r.prototype.unbindAll=function(){var e=this;this._bindingDictionary.traverse(function(t,n){e._deactivateSingletons(n)}),this._bindingDictionary=new nf.Lookup},r.prototype.unbindAllAsync=function(){return Dn(this,void 0,void 0,function(){var e,t=this;return $n(this,function(n){switch(n.label){case 0:return e=[],this._bindingDictionary.traverse(function(i,o){e.push(t._deactivateSingletonsAsync(o))}),[4,Promise.all(e)];case 1:return n.sent(),this._bindingDictionary=new nf.Lookup,[2]}})})},r.prototype.onActivation=function(e,t){this._activations.add(e,t)},r.prototype.onDeactivation=function(e,t){this._deactivations.add(e,t)},r.prototype.isBound=function(e){var t=this._bindingDictionary.hasKey(e);return!t&&this.parent&&(t=this.parent.isBound(e)),t},r.prototype.isCurrentBound=function(e){return this._bindingDictionary.hasKey(e)},r.prototype.isBoundNamed=function(e,t){return this.isBoundTagged(e,Za.NAMED_TAG,t)},r.prototype.isBoundTagged=function(e,t,n){var i=!1;if(this._bindingDictionary.hasKey(e)){var o=this._bindingDictionary.get(e),s=(0,jg.createMockRequest)(this,e,t,n);i=o.some(function(a){return a.constraint(s)})}return!i&&this.parent&&(i=this.parent.isBoundTagged(e,t,n)),i},r.prototype.snapshot=function(){this._snapshots.push(qX.ContainerSnapshot.of(this._bindingDictionary.clone(),this._middleware,this._activations.clone(),this._deactivations.clone(),this._moduleActivationStore.clone()))},r.prototype.restore=function(){var e=this._snapshots.pop();if(e===void 0)throw new Error(di.NO_MORE_SNAPSHOTS_AVAILABLE);this._bindingDictionary=e.bindings,this._activations=e.activations,this._deactivations=e.deactivations,this._middleware=e.middleware,this._moduleActivationStore=e.moduleActivationStore},r.prototype.createChild=function(e){var t=new r(e||this.options);return t.parent=this,t},r.prototype.applyMiddleware=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this._middleware?this._middleware:this._planAndResolve();this._middleware=e.reduce(function(i,o){return o(i)},n)},r.prototype.applyCustomMetadataReader=function(e){this._metadataReader=e},r.prototype.get=function(e){var t=this._getNotAllArgs(e,!1);return this._getButThrowIfAsync(t)},r.prototype.getAsync=function(e){return Dn(this,void 0,void 0,function(){var t;return $n(this,function(n){return t=this._getNotAllArgs(e,!1),[2,this._get(t)]})})},r.prototype.getTagged=function(e,t,n){var i=this._getNotAllArgs(e,!1,t,n);return this._getButThrowIfAsync(i)},r.prototype.getTaggedAsync=function(e,t,n){return Dn(this,void 0,void 0,function(){var i;return $n(this,function(o){return i=this._getNotAllArgs(e,!1,t,n),[2,this._get(i)]})})},r.prototype.getNamed=function(e,t){return this.getTagged(e,Za.NAMED_TAG,t)},r.prototype.getNamedAsync=function(e,t){return this.getTaggedAsync(e,Za.NAMED_TAG,t)},r.prototype.getAll=function(e){var t=this._getAllArgs(e);return this._getButThrowIfAsync(t)},r.prototype.getAllAsync=function(e){var t=this._getAllArgs(e);return this._getAll(t)},r.prototype.getAllTagged=function(e,t,n){var i=this._getNotAllArgs(e,!0,t,n);return this._getButThrowIfAsync(i)},r.prototype.getAllTaggedAsync=function(e,t,n){var i=this._getNotAllArgs(e,!0,t,n);return this._getAll(i)},r.prototype.getAllNamed=function(e,t){return this.getAllTagged(e,Za.NAMED_TAG,t)},r.prototype.getAllNamedAsync=function(e,t){return this.getAllTaggedAsync(e,Za.NAMED_TAG,t)},r.prototype.resolve=function(e){var t=this.isBound(e);t||this.bind(e).toSelf();var n=this.get(e);return t||this.unbind(e),n},r.prototype._preDestroy=function(e,t){var n,i;if(Reflect.hasMetadata(Za.PRE_DESTROY,e)){var o=Reflect.getMetadata(Za.PRE_DESTROY,e);return(i=(n=t)[o.value])===null||i===void 0?void 0:i.call(n)}},r.prototype._removeModuleHandlers=function(e){var t=this._moduleActivationStore.remove(e);this._activations.removeIntersection(t.onActivations),this._deactivations.removeIntersection(t.onDeactivations)},r.prototype._removeModuleBindings=function(e){return this._bindingDictionary.removeByCondition(function(t){return t.moduleId===e})},r.prototype._deactivate=function(e,t){var n=this,i=Object.getPrototypeOf(t).constructor;try{if(this._deactivations.hasKey(e.serviceIdentifier)){var o=this._deactivateContainer(t,this._deactivations.get(e.serviceIdentifier).values());if((0,ec.isPromise)(o))return this._handleDeactivationError(o.then(function(){return n._propagateContainerDeactivationThenBindingAndPreDestroyAsync(e,t,i)}),i)}var s=this._propagateContainerDeactivationThenBindingAndPreDestroy(e,t,i);if((0,ec.isPromise)(s))return this._handleDeactivationError(s,i)}catch(a){if(a instanceof Error)throw new Error(di.ON_DEACTIVATION_ERROR(i.name,a.message))}},r.prototype._handleDeactivationError=function(e,t){return Dn(this,void 0,void 0,function(){var n;return $n(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,e];case 1:return i.sent(),[3,3];case 2:if(n=i.sent(),n instanceof Error)throw new Error(di.ON_DEACTIVATION_ERROR(t.name,n.message));return[3,3];case 3:return[2]}})})},r.prototype._deactivateContainer=function(e,t){for(var n=this,i=t.next();i.value;){var o=i.value(e);if((0,ec.isPromise)(o))return o.then(function(){return n._deactivateContainerAsync(e,t)});i=t.next()}},r.prototype._deactivateContainerAsync=function(e,t){return Dn(this,void 0,void 0,function(){var n;return $n(this,function(i){switch(i.label){case 0:n=t.next(),i.label=1;case 1:return n.value?[4,n.value(e)]:[3,3];case 2:return i.sent(),n=t.next(),[3,1];case 3:return[2]}})})},r.prototype._getContainerModuleHelpersFactory=function(){var e=this,t=function(l,p){l._binding.moduleId=p},n=function(l){return function(p){var d=e.bind(p);return t(d,l),d}},i=function(){return function(l){return e.unbind(l)}},o=function(){return function(l){return e.unbindAsync(l)}},s=function(){return function(l){return e.isBound(l)}},a=function(l){return function(p){var d=e.rebind(p);return t(d,l),d}},c=function(l){return function(p,d){e._moduleActivationStore.addActivation(l,p,d),e.onActivation(p,d)}},u=function(l){return function(p,d){e._moduleActivationStore.addDeactivation(l,p,d),e.onDeactivation(p,d)}};return function(l){return{bindFunction:n(l),isboundFunction:s(),onActivationFunction:c(l),onDeactivationFunction:u(l),rebindFunction:a(l),unbindFunction:i(),unbindAsyncFunction:o()}}},r.prototype._getAll=function(e){return Promise.all(this._get(e))},r.prototype._get=function(e){var t=Wg(Wg({},e),{contextInterceptor:function(i){return i},targetType:Du.TargetTypeEnum.Variable});if(this._middleware){var n=this._middleware(t);if(n==null)throw new Error(di.INVALID_MIDDLEWARE_RETURN);return n}return this._planAndResolve()(t)},r.prototype._getButThrowIfAsync=function(e){var t=this._get(e);if((0,ec.isPromiseOrContainsPromise)(t))throw new Error(di.LAZY_IN_SYNC(e.serviceIdentifier));return t},r.prototype._getAllArgs=function(e){var t={avoidConstraints:!0,isMultiInject:!0,serviceIdentifier:e};return t},r.prototype._getNotAllArgs=function(e,t,n,i){var o={avoidConstraints:!1,isMultiInject:t,serviceIdentifier:e,key:n,value:i};return o},r.prototype._planAndResolve=function(){var e=this;return function(t){var n=(0,jg.plan)(e._metadataReader,e,t.isMultiInject,t.targetType,t.serviceIdentifier,t.key,t.value,t.avoidConstraints);n=t.contextInterceptor(n);var i=(0,BX.resolve)(n);return i}},r.prototype._deactivateIfSingleton=function(e){var t=this;if(e.activated)return(0,ec.isPromise)(e.cache)?e.cache.then(function(n){return t._deactivate(e,n)}):this._deactivate(e,e.cache)},r.prototype._deactivateSingletons=function(e){for(var t=0,n=e;t<n.length;t++){var i=n[t],o=this._deactivateIfSingleton(i);if((0,ec.isPromise)(o))throw new Error(di.ASYNC_UNBIND_REQUIRED)}},r.prototype._deactivateSingletonsAsync=function(e){return Dn(this,void 0,void 0,function(){var t=this;return $n(this,function(n){switch(n.label){case 0:return[4,Promise.all(e.map(function(i){return t._deactivateIfSingleton(i)}))];case 1:return n.sent(),[2]}})})},r.prototype._propagateContainerDeactivationThenBindingAndPreDestroy=function(e,t,n){return this.parent?this._deactivate.bind(this.parent)(e,t):this._bindingDeactivationAndPreDestroy(e,t,n)},r.prototype._propagateContainerDeactivationThenBindingAndPreDestroyAsync=function(e,t,n){return Dn(this,void 0,void 0,function(){return $n(this,function(i){switch(i.label){case 0:return this.parent?[4,this._deactivate.bind(this.parent)(e,t)]:[3,2];case 1:return i.sent(),[3,4];case 2:return[4,this._bindingDeactivationAndPreDestroyAsync(e,t,n)];case 3:i.sent(),i.label=4;case 4:return[2]}})})},r.prototype._removeServiceFromDictionary=function(e){try{this._bindingDictionary.remove(e)}catch{throw new Error(di.CANNOT_UNBIND+" "+(0,WX.getServiceIdentifierAsString)(e))}},r.prototype._bindingDeactivationAndPreDestroy=function(e,t,n){var i=this;if(typeof e.onDeactivation=="function"){var o=e.onDeactivation(t);if((0,ec.isPromise)(o))return o.then(function(){return i._preDestroy(n,t)})}return this._preDestroy(n,t)},r.prototype._bindingDeactivationAndPreDestroyAsync=function(e,t,n){return Dn(this,void 0,void 0,function(){return $n(this,function(i){switch(i.label){case 0:return typeof e.onDeactivation!="function"?[3,2]:[4,e.onDeactivation(t)];case 1:i.sent(),i.label=2;case 2:return[4,this._preDestroy(n,t)];case 3:return i.sent(),[2]}})})},r}();tr.Container=GX});var x$=b($u=>{"use strict";Object.defineProperty($u,"__esModule",{value:!0});$u.AsyncContainerModule=$u.ContainerModule=void 0;var v$=Ls(),zX=function(){function r(e){this.id=(0,v$.id)(),this.registry=e}return r}();$u.ContainerModule=zX;var KX=function(){function r(e){this.id=(0,v$.id)(),this.registry=e}return r}();$u.AsyncContainerModule=KX});var w$=b(qg=>{"use strict";Object.defineProperty(qg,"__esModule",{value:!0});qg.getFirstArrayDuplicate=void 0;function XX(r){for(var e=new Set,t=0,n=r;t<n.length;t++){var i=n[t];if(e.has(i))return i;e.add(i)}}qg.getFirstArrayDuplicate=XX});var Wo=b(Sr=>{"use strict";var JX=Sr&&Sr.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),YX=Sr&&Sr.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),_$=Sr&&Sr.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&JX(e,r,t);return YX(e,r),e};Object.defineProperty(Sr,"__esModule",{value:!0});Sr.createTaggedDecorator=Sr.tagProperty=Sr.tagParameter=Sr.decorate=void 0;var Vg=_$(Ir()),A$=_$(Ot()),QX=w$();function ZX(r){return r.prototype!==void 0}function eJ(r){if(r!==void 0)throw new Error(Vg.INVALID_DECORATOR_OPERATION)}function S$(r,e,t,n){eJ(e),P$(A$.TAGGED,r,t.toString(),n)}Sr.tagParameter=S$;function E$(r,e,t){if(ZX(r))throw new Error(Vg.INVALID_DECORATOR_OPERATION);P$(A$.TAGGED_PROP,r.constructor,e,t)}Sr.tagProperty=E$;function tJ(r){var e=[];if(Array.isArray(r)){e=r;var t=(0,QX.getFirstArrayDuplicate)(e.map(function(n){return n.key}));if(t!==void 0)throw new Error(Vg.DUPLICATED_METADATA+" "+t.toString())}else e=[r];return e}function P$(r,e,t,n){var i=tJ(n),o={};Reflect.hasOwnMetadata(r,e)&&(o=Reflect.getMetadata(r,e));var s=o[t];if(s===void 0)s=[];else for(var a=function(p){if(i.some(function(d){return d.key===p.key}))throw new Error(Vg.DUPLICATED_METADATA+" "+p.key.toString())},c=0,u=s;c<u.length;c++){var l=u[c];a(l)}s.push.apply(s,i),o[t]=s,Reflect.defineMetadata(r,o,e)}function rJ(r){return function(e,t,n){typeof n=="number"?S$(e,t,n,r):E$(e,t,r)}}Sr.createTaggedDecorator=rJ;function I$(r,e){Reflect.decorate(r,e)}function nJ(r,e){return function(t,n){e(t,n,r)}}function iJ(r,e,t){typeof t=="number"?I$([nJ(t,r)],e):typeof t=="string"?Reflect.decorate([r],e,t):I$([r],e)}Sr.decorate=iJ});var T$=b(Wi=>{"use strict";var oJ=Wi&&Wi.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),sJ=Wi&&Wi.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),C$=Wi&&Wi.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&oJ(e,r,t);return sJ(e,r),e};Object.defineProperty(Wi,"__esModule",{value:!0});Wi.injectable=void 0;var aJ=C$(Ir()),h_=C$(Ot());function cJ(){return function(r){if(Reflect.hasOwnMetadata(h_.PARAM_TYPES,r))throw new Error(aJ.DUPLICATED_INJECTABLE_DECORATOR);var e=Reflect.getMetadata(h_.DESIGN_PARAM_TYPES,r)||[];return Reflect.defineMetadata(h_.PARAM_TYPES,e,r),r}}Wi.injectable=cJ});var L$=b(Gg=>{"use strict";Object.defineProperty(Gg,"__esModule",{value:!0});Gg.tagged=void 0;var uJ=pi(),lJ=Wo();function pJ(r,e){return(0,lJ.createTaggedDecorator)(new uJ.Metadata(r,e))}Gg.tagged=pJ});var D$=b(qi=>{"use strict";var dJ=qi&&qi.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),fJ=qi&&qi.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),mJ=qi&&qi.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&dJ(e,r,t);return fJ(e,r),e};Object.defineProperty(qi,"__esModule",{value:!0});qi.named=void 0;var hJ=mJ(Ot()),gJ=pi(),HJ=Wo();function yJ(r){return(0,HJ.createTaggedDecorator)(new gJ.Metadata(hJ.NAMED_TAG,r))}qi.named=yJ});var g_=b(zg=>{"use strict";Object.defineProperty(zg,"__esModule",{value:!0});zg.injectBase=void 0;var bJ=Ir(),vJ=pi(),xJ=Wo();function wJ(r){return function(e){return function(t,n,i){if(e===void 0){var o=typeof t=="function"?t.name:t.constructor.name;throw new Error((0,bJ.UNDEFINED_INJECT_ANNOTATION)(o))}return(0,xJ.createTaggedDecorator)(new vJ.Metadata(r,e))(t,n,i)}}}zg.injectBase=wJ});var $$=b(Vi=>{"use strict";var IJ=Vi&&Vi.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),_J=Vi&&Vi.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),AJ=Vi&&Vi.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&IJ(e,r,t);return _J(e,r),e};Object.defineProperty(Vi,"__esModule",{value:!0});Vi.inject=void 0;var SJ=AJ(Ot()),EJ=g_(),PJ=(0,EJ.injectBase)(SJ.INJECT_TAG);Vi.inject=PJ});var k$=b(Gi=>{"use strict";var CJ=Gi&&Gi.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),TJ=Gi&&Gi.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),LJ=Gi&&Gi.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&CJ(e,r,t);return TJ(e,r),e};Object.defineProperty(Gi,"__esModule",{value:!0});Gi.optional=void 0;var DJ=LJ(Ot()),$J=pi(),kJ=Wo();function RJ(){return(0,kJ.createTaggedDecorator)(new $J.Metadata(DJ.OPTIONAL_TAG,!0))}Gi.optional=RJ});var R$=b(zi=>{"use strict";var MJ=zi&&zi.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),OJ=zi&&zi.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),NJ=zi&&zi.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&MJ(e,r,t);return OJ(e,r),e};Object.defineProperty(zi,"__esModule",{value:!0});zi.unmanaged=void 0;var FJ=NJ(Ot()),BJ=pi(),UJ=Wo();function jJ(){return function(r,e,t){var n=new BJ.Metadata(FJ.UNMANAGED_TAG,!0);(0,UJ.tagParameter)(r,e,t,n)}}zi.unmanaged=jJ});var M$=b(Ki=>{"use strict";var WJ=Ki&&Ki.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),qJ=Ki&&Ki.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),VJ=Ki&&Ki.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&WJ(e,r,t);return qJ(e,r),e};Object.defineProperty(Ki,"__esModule",{value:!0});Ki.multiInject=void 0;var GJ=VJ(Ot()),zJ=g_(),KJ=(0,zJ.injectBase)(GJ.MULTI_INJECT_TAG);Ki.multiInject=KJ});var O$=b(Xi=>{"use strict";var XJ=Xi&&Xi.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),JJ=Xi&&Xi.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),YJ=Xi&&Xi.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&XJ(e,r,t);return JJ(e,r),e};Object.defineProperty(Xi,"__esModule",{value:!0});Xi.targetName=void 0;var QJ=YJ(Ot()),ZJ=pi(),eY=Wo();function tY(r){return function(e,t,n){var i=new ZJ.Metadata(QJ.NAME_TAG,r);(0,eY.tagParameter)(e,t,n,i)}}Xi.targetName=tY});var H_=b(Kg=>{"use strict";Object.defineProperty(Kg,"__esModule",{value:!0});Kg.propertyEventDecorator=void 0;var rY=pi();function nY(r,e){return function(){return function(t,n){var i=new rY.Metadata(r,n);if(Reflect.hasOwnMetadata(r,t.constructor))throw new Error(e);Reflect.defineMetadata(r,i,t.constructor)}}}Kg.propertyEventDecorator=nY});var F$=b(Ji=>{"use strict";var iY=Ji&&Ji.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),oY=Ji&&Ji.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),N$=Ji&&Ji.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&iY(e,r,t);return oY(e,r),e};Object.defineProperty(Ji,"__esModule",{value:!0});Ji.postConstruct=void 0;var sY=N$(Ir()),aY=N$(Ot()),cY=H_(),uY=(0,cY.propertyEventDecorator)(aY.POST_CONSTRUCT,sY.MULTIPLE_POST_CONSTRUCT_METHODS);Ji.postConstruct=uY});var U$=b(Yi=>{"use strict";var lY=Yi&&Yi.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),pY=Yi&&Yi.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),B$=Yi&&Yi.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&lY(e,r,t);return pY(e,r),e};Object.defineProperty(Yi,"__esModule",{value:!0});Yi.preDestroy=void 0;var dY=B$(Ir()),fY=B$(Ot()),mY=H_(),hY=(0,mY.propertyEventDecorator)(fY.PRE_DESTROY,dY.MULTIPLE_PRE_DESTROY_METHODS);Yi.preDestroy=hY});var j$=b(Xg=>{"use strict";Object.defineProperty(Xg,"__esModule",{value:!0});Xg.interfaces=void 0;var y_;y_||(y_={});Xg.interfaces=y_});var V=b(se=>{"use strict";var gY=se&&se.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),HY=se&&se.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),yY=se&&se.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&gY(e,r,t);return HY(e,r),e};Object.defineProperty(se,"__esModule",{value:!0});se.multiBindToService=se.getServiceIdentifierAsString=se.typeConstraint=se.namedConstraint=se.taggedConstraint=se.traverseAncerstors=se.decorate=se.interfaces=se.id=se.MetadataReader=se.preDestroy=se.postConstruct=se.targetName=se.multiInject=se.unmanaged=se.optional=se.LazyServiceIdentifer=se.LazyServiceIdentifier=se.inject=se.named=se.tagged=se.injectable=se.createTaggedDecorator=se.ContainerModule=se.AsyncContainerModule=se.TargetTypeEnum=se.BindingTypeEnum=se.BindingScopeEnum=se.Container=se.METADATA_KEY=void 0;var bY=yY(Ot());se.METADATA_KEY=bY;var vY=b$();Object.defineProperty(se,"Container",{enumerable:!0,get:function(){return vY.Container}});var b_=Tn();Object.defineProperty(se,"BindingScopeEnum",{enumerable:!0,get:function(){return b_.BindingScopeEnum}});Object.defineProperty(se,"BindingTypeEnum",{enumerable:!0,get:function(){return b_.BindingTypeEnum}});Object.defineProperty(se,"TargetTypeEnum",{enumerable:!0,get:function(){return b_.TargetTypeEnum}});var W$=x$();Object.defineProperty(se,"AsyncContainerModule",{enumerable:!0,get:function(){return W$.AsyncContainerModule}});Object.defineProperty(se,"ContainerModule",{enumerable:!0,get:function(){return W$.ContainerModule}});var xY=Wo();Object.defineProperty(se,"createTaggedDecorator",{enumerable:!0,get:function(){return xY.createTaggedDecorator}});var wY=T$();Object.defineProperty(se,"injectable",{enumerable:!0,get:function(){return wY.injectable}});var IY=L$();Object.defineProperty(se,"tagged",{enumerable:!0,get:function(){return IY.tagged}});var _Y=D$();Object.defineProperty(se,"named",{enumerable:!0,get:function(){return _Y.named}});var AY=$$();Object.defineProperty(se,"inject",{enumerable:!0,get:function(){return AY.inject}});var SY=Ag();Object.defineProperty(se,"LazyServiceIdentifier",{enumerable:!0,get:function(){return SY.LazyServiceIdentifier}});var EY=Ag();Object.defineProperty(se,"LazyServiceIdentifer",{enumerable:!0,get:function(){return EY.LazyServiceIdentifier}});var PY=k$();Object.defineProperty(se,"optional",{enumerable:!0,get:function(){return PY.optional}});var CY=R$();Object.defineProperty(se,"unmanaged",{enumerable:!0,get:function(){return CY.unmanaged}});var TY=M$();Object.defineProperty(se,"multiInject",{enumerable:!0,get:function(){return TY.multiInject}});var LY=O$();Object.defineProperty(se,"targetName",{enumerable:!0,get:function(){return LY.targetName}});var DY=F$();Object.defineProperty(se,"postConstruct",{enumerable:!0,get:function(){return DY.postConstruct}});var $Y=U$();Object.defineProperty(se,"preDestroy",{enumerable:!0,get:function(){return $Y.preDestroy}});var kY=VI();Object.defineProperty(se,"MetadataReader",{enumerable:!0,get:function(){return kY.MetadataReader}});var RY=Ls();Object.defineProperty(se,"id",{enumerable:!0,get:function(){return RY.id}});var MY=j$();Object.defineProperty(se,"interfaces",{enumerable:!0,get:function(){return MY.interfaces}});var OY=Wo();Object.defineProperty(se,"decorate",{enumerable:!0,get:function(){return OY.decorate}});var Jg=l_();Object.defineProperty(se,"traverseAncerstors",{enumerable:!0,get:function(){return Jg.traverseAncerstors}});Object.defineProperty(se,"taggedConstraint",{enumerable:!0,get:function(){return Jg.taggedConstraint}});Object.defineProperty(se,"namedConstraint",{enumerable:!0,get:function(){return Jg.namedConstraint}});Object.defineProperty(se,"typeConstraint",{enumerable:!0,get:function(){return Jg.typeConstraint}});var NY=Ya();Object.defineProperty(se,"getServiceIdentifierAsString",{enumerable:!0,get:function(){return NY.getServiceIdentifierAsString}});var FY=n_();Object.defineProperty(se,"multiBindToService",{enumerable:!0,get:function(){return FY.multiBindToService}})});var V$=b(()=>{var q$;(function(r){(function(e){var t=typeof globalThis=="object"?globalThis:typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:a(),n=i(r);typeof t.Reflect<"u"&&(n=i(t.Reflect,n)),e(n,t),typeof t.Reflect>"u"&&(t.Reflect=r);function i(c,u){return function(l,p){Object.defineProperty(c,l,{configurable:!0,writable:!0,value:p}),u&&u(l,p)}}function o(){try{return Function("return this;")()}catch{}}function s(){try{return(0,eval)("(function() { return this; })()")}catch{}}function a(){return o()||s()}})(function(e,t){var n=Object.prototype.hasOwnProperty,i=typeof Symbol=="function",o=i&&typeof Symbol.toPrimitive<"u"?Symbol.toPrimitive:"@@toPrimitive",s=i&&typeof Symbol.iterator<"u"?Symbol.iterator:"@@iterator",a=typeof Object.create=="function",c={__proto__:[]}instanceof Array,u=!a&&!c,l={create:a?function(){return B(Object.create(null))}:c?function(){return B({__proto__:null})}:function(){return B({})},has:u?function(x,I){return n.call(x,I)}:function(x,I){return I in x},get:u?function(x,I){return n.call(x,I)?x[I]:void 0}:function(x,I){return x[I]}},p=Object.getPrototypeOf(Function),d=typeof Map=="function"&&typeof Map.prototype.entries=="function"?Map:P(),h=typeof Set=="function"&&typeof Set.prototype.entries=="function"?Set:M(),f=typeof WeakMap=="function"?WeakMap:T(),g=i?Symbol.for("@reflect-metadata:registry"):void 0,v=Oo(),S=m(v);function R(x,I,C,N){if(oe(C)){if(!Y(x))throw new TypeError;if(!Qe(I))throw new TypeError;return Z(x,I)}else{if(!Y(x))throw new TypeError;if(!Ie(I))throw new TypeError;if(!Ie(N)&&!oe(N)&&!vt(N))throw new TypeError;return vt(N)&&(N=void 0),C=Pe(C),ue(x,I,C,N)}}e("decorate",R);function F(x,I){function C(N,W){if(!Ie(N))throw new TypeError;if(!oe(W)&&!Gt(W))throw new TypeError;j(x,I,N,W)}return C}e("metadata",F);function X(x,I,C,N){if(!Ie(C))throw new TypeError;return oe(N)||(N=Pe(N)),j(x,I,C,N)}e("defineMetadata",X);function G(x,I,C){if(!Ie(I))throw new TypeError;return oe(C)||(C=Pe(C)),me(x,I,C)}e("hasMetadata",G);function J(x,I,C){if(!Ie(I))throw new TypeError;return oe(C)||(C=Pe(C)),L(x,I,C)}e("hasOwnMetadata",J);function z(x,I,C){if(!Ie(I))throw new TypeError;return oe(C)||(C=Pe(C)),k(x,I,C)}e("getMetadata",z);function ee(x,I,C){if(!Ie(I))throw new TypeError;return oe(C)||(C=Pe(C)),q(x,I,C)}e("getOwnMetadata",ee);function he(x,I){if(!Ie(x))throw new TypeError;return oe(I)||(I=Pe(I)),ye(x,I)}e("getMetadataKeys",he);function Le(x,I){if(!Ie(x))throw new TypeError;return oe(I)||(I=Pe(I)),Ue(x,I)}e("getOwnMetadataKeys",Le);function O(x,I,C){if(!Ie(I))throw new TypeError;if(oe(C)||(C=Pe(C)),!Ie(I))throw new TypeError;oe(C)||(C=Pe(C));var N=A(I,C,!1);return oe(N)?!1:N.OrdinaryDeleteMetadata(x,I,C)}e("deleteMetadata",O);function Z(x,I){for(var C=x.length-1;C>=0;--C){var N=x[C],W=N(I);if(!oe(W)&&!vt(W)){if(!Qe(W))throw new TypeError;I=W}}return I}function ue(x,I,C,N){for(var W=x.length-1;W>=0;--W){var ge=x[W],Oe=ge(I,C,N);if(!oe(Oe)&&!vt(Oe)){if(!Ie(Oe))throw new TypeError;N=Oe}}return N}function me(x,I,C){var N=L(x,I,C);if(N)return!0;var W=Nd(I);return vt(W)?!1:me(x,W,C)}function L(x,I,C){var N=A(I,C,!1);return oe(N)?!1:at(N.OrdinaryHasOwnMetadata(x,I,C))}function k(x,I,C){var N=L(x,I,C);if(N)return q(x,I,C);var W=Nd(I);if(!vt(W))return k(x,W,C)}function q(x,I,C){var N=A(I,C,!1);if(!oe(N))return N.OrdinaryGetOwnMetadata(x,I,C)}function j(x,I,C,N){var W=A(C,N,!0);W.OrdinaryDefineOwnMetadata(x,I,C,N)}function ye(x,I){var C=Ue(x,I),N=Nd(x);if(N===null)return C;var W=ye(N,I);if(W.length<=0)return C;if(C.length<=0)return W;for(var ge=new h,Oe=[],He=0,re=C;He<re.length;He++){var ce=re[He],le=ge.has(ce);le||(ge.add(ce),Oe.push(ce))}for(var de=0,ke=W;de<ke.length;de++){var ce=ke[de],le=ge.has(ce);le||(ge.add(ce),Oe.push(ce))}return Oe}function Ue(x,I){var C=A(x,I,!1);return C?C.OrdinaryOwnMetadataKeys(x,I):[]}function Ae(x){if(x===null)return 1;switch(typeof x){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return x===null?1:6;default:return 6}}function oe(x){return x===void 0}function vt(x){return x===null}function Mt(x){return typeof x=="symbol"}function Ie(x){return typeof x=="object"?x!==null:typeof x=="function"}function xe(x,I){switch(Ae(x)){case 0:return x;case 1:return x;case 2:return x;case 3:return x;case 4:return x;case 5:return x}var C=I===3?"string":I===5?"number":"default",N=Ro(x,o);if(N!==void 0){var W=N.call(x,C);if(Ie(W))throw new TypeError;return W}return Cn(x,C==="default"?"number":C)}function Cn(x,I){if(I==="string"){var C=x.toString;if(be(C)){var N=C.call(x);if(!Ie(N))return N}var W=x.valueOf;if(be(W)){var N=W.call(x);if(!Ie(N))return N}}else{var W=x.valueOf;if(be(W)){var N=W.call(x);if(!Ie(N))return N}var ge=x.toString;if(be(ge)){var N=ge.call(x);if(!Ie(N))return N}}throw new TypeError}function at(x){return!!x}function ne(x){return""+x}function Pe(x){var I=xe(x,3);return Mt(I)?I:ne(I)}function Y(x){return Array.isArray?Array.isArray(x):x instanceof Object?x instanceof Array:Object.prototype.toString.call(x)==="[object Array]"}function be(x){return typeof x=="function"}function Qe(x){return typeof x=="function"}function Gt(x){switch(Ae(x)){case 3:return!0;case 4:return!0;default:return!1}}function ct(x,I){return x===I||x!==x&&I!==I}function Ro(x,I){var C=x[I];if(C!=null){if(!be(C))throw new TypeError;return C}}function Mo(x){var I=Ro(x,s);if(!be(I))throw new TypeError;var C=I.call(x);if(!Ie(C))throw new TypeError;return C}function Es(x){return x.value}function Md(x){var I=x.next();return I.done?!1:I}function Od(x){var I=x.return;I&&I.call(x)}function Nd(x){var I=Object.getPrototypeOf(x);if(typeof x!="function"||x===p||I!==p)return I;var C=x.prototype,N=C&&Object.getPrototypeOf(C);if(N==null||N===Object.prototype)return I;var W=N.constructor;return typeof W!="function"||W===x?I:W}function ve(){var x;!oe(g)&&typeof t.Reflect<"u"&&!(g in t.Reflect)&&typeof t.Reflect.defineMetadata=="function"&&(x=y(t.Reflect));var I,C,N,W=new f,ge={registerProvider:Oe,getProvider:re,setProvider:le};return ge;function Oe(de){if(!Object.isExtensible(ge))throw new Error("Cannot add provider to a frozen registry.");switch(!0){case x===de:break;case oe(I):I=de;break;case I===de:break;case oe(C):C=de;break;case C===de:break;default:N===void 0&&(N=new h),N.add(de);break}}function He(de,ke){if(!oe(I)){if(I.isProviderFor(de,ke))return I;if(!oe(C)){if(C.isProviderFor(de,ke))return I;if(!oe(N))for(var ut=Mo(N);;){var Ct=Md(ut);if(!Ct)return;var li=Es(Ct);if(li.isProviderFor(de,ke))return Od(ut),li}}}if(!oe(x)&&x.isProviderFor(de,ke))return x}function re(de,ke){var ut=W.get(de),Ct;return oe(ut)||(Ct=ut.get(ke)),oe(Ct)&&(Ct=He(de,ke),oe(Ct)||(oe(ut)&&(ut=new d,W.set(de,ut)),ut.set(ke,Ct))),Ct}function ce(de){if(oe(de))throw new TypeError;return I===de||C===de||!oe(N)&&N.has(de)}function le(de,ke,ut){if(!ce(ut))throw new Error("Metadata provider not registered.");var Ct=re(de,ke);if(Ct!==ut){if(!oe(Ct))return!1;var li=W.get(de);oe(li)&&(li=new d,W.set(de,li)),li.set(ke,ut)}return!0}}function Oo(){var x;return!oe(g)&&Ie(t.Reflect)&&Object.isExtensible(t.Reflect)&&(x=t.Reflect[g]),oe(x)&&(x=ve()),!oe(g)&&Ie(t.Reflect)&&Object.isExtensible(t.Reflect)&&Object.defineProperty(t.Reflect,g,{enumerable:!1,configurable:!1,writable:!1,value:x}),x}function m(x){var I=new f,C={isProviderFor:function(ce,le){var de=I.get(ce);return oe(de)?!1:de.has(le)},OrdinaryDefineOwnMetadata:Oe,OrdinaryHasOwnMetadata:W,OrdinaryGetOwnMetadata:ge,OrdinaryOwnMetadataKeys:He,OrdinaryDeleteMetadata:re};return v.registerProvider(C),C;function N(ce,le,de){var ke=I.get(ce),ut=!1;if(oe(ke)){if(!de)return;ke=new d,I.set(ce,ke),ut=!0}var Ct=ke.get(le);if(oe(Ct)){if(!de)return;if(Ct=new d,ke.set(le,Ct),!x.setProvider(ce,le,C))throw ke.delete(le),ut&&I.delete(ce),new Error("Wrong provider for target.")}return Ct}function W(ce,le,de){var ke=N(le,de,!1);return oe(ke)?!1:at(ke.has(ce))}function ge(ce,le,de){var ke=N(le,de,!1);if(!oe(ke))return ke.get(ce)}function Oe(ce,le,de,ke){var ut=N(de,ke,!0);ut.set(ce,le)}function He(ce,le){var de=[],ke=N(ce,le,!1);if(oe(ke))return de;for(var ut=ke.keys(),Ct=Mo(ut),li=0;;){var aT=Md(Ct);if(!aT)return de.length=li,de;var V5=Es(aT);try{de[li]=V5}catch(G5){try{Od(Ct)}finally{throw G5}}li++}}function re(ce,le,de){var ke=N(le,de,!1);if(oe(ke)||!ke.delete(ce))return!1;if(ke.size===0){var ut=I.get(le);oe(ut)||(ut.delete(de),ut.size===0&&I.delete(ut))}return!0}}function y(x){var I=x.defineMetadata,C=x.hasOwnMetadata,N=x.getOwnMetadata,W=x.getOwnMetadataKeys,ge=x.deleteMetadata,Oe=new f,He={isProviderFor:function(re,ce){var le=Oe.get(re);return oe(le)?W(re,ce).length?(oe(le)&&(le=new h,Oe.set(re,le)),le.add(ce),!0):!1:le.has(ce)},OrdinaryDefineOwnMetadata:I,OrdinaryHasOwnMetadata:C,OrdinaryGetOwnMetadata:N,OrdinaryOwnMetadataKeys:W,OrdinaryDeleteMetadata:ge};return He}function A(x,I,C){var N=v.getProvider(x,I);if(!oe(N))return N;if(C){if(v.setProvider(x,I,S))return S;throw new Error("Illegal state.")}}function P(){var x={},I=[],C=function(){function He(re,ce,le){this._index=0,this._keys=re,this._values=ce,this._selector=le}return He.prototype["@@iterator"]=function(){return this},He.prototype[s]=function(){return this},He.prototype.next=function(){var re=this._index;if(re>=0&&re<this._keys.length){var ce=this._selector(this._keys[re],this._values[re]);return re+1>=this._keys.length?(this._index=-1,this._keys=I,this._values=I):this._index++,{value:ce,done:!1}}return{value:void 0,done:!0}},He.prototype.throw=function(re){throw this._index>=0&&(this._index=-1,this._keys=I,this._values=I),re},He.prototype.return=function(re){return this._index>=0&&(this._index=-1,this._keys=I,this._values=I),{value:re,done:!0}},He}(),N=function(){function He(){this._keys=[],this._values=[],this._cacheKey=x,this._cacheIndex=-2}return Object.defineProperty(He.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),He.prototype.has=function(re){return this._find(re,!1)>=0},He.prototype.get=function(re){var ce=this._find(re,!1);return ce>=0?this._values[ce]:void 0},He.prototype.set=function(re,ce){var le=this._find(re,!0);return this._values[le]=ce,this},He.prototype.delete=function(re){var ce=this._find(re,!1);if(ce>=0){for(var le=this._keys.length,de=ce+1;de<le;de++)this._keys[de-1]=this._keys[de],this._values[de-1]=this._values[de];return this._keys.length--,this._values.length--,ct(re,this._cacheKey)&&(this._cacheKey=x,this._cacheIndex=-2),!0}return!1},He.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=x,this._cacheIndex=-2},He.prototype.keys=function(){return new C(this._keys,this._values,W)},He.prototype.values=function(){return new C(this._keys,this._values,ge)},He.prototype.entries=function(){return new C(this._keys,this._values,Oe)},He.prototype["@@iterator"]=function(){return this.entries()},He.prototype[s]=function(){return this.entries()},He.prototype._find=function(re,ce){if(!ct(this._cacheKey,re)){this._cacheIndex=-1;for(var le=0;le<this._keys.length;le++)if(ct(this._keys[le],re)){this._cacheIndex=le;break}}return this._cacheIndex<0&&ce&&(this._cacheIndex=this._keys.length,this._keys.push(re),this._values.push(void 0)),this._cacheIndex},He}();return N;function W(He,re){return He}function ge(He,re){return re}function Oe(He,re){return[He,re]}}function M(){var x=function(){function I(){this._map=new d}return Object.defineProperty(I.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),I.prototype.has=function(C){return this._map.has(C)},I.prototype.add=function(C){return this._map.set(C,C),this},I.prototype.delete=function(C){return this._map.delete(C)},I.prototype.clear=function(){this._map.clear()},I.prototype.keys=function(){return this._map.keys()},I.prototype.values=function(){return this._map.keys()},I.prototype.entries=function(){return this._map.entries()},I.prototype["@@iterator"]=function(){return this.keys()},I.prototype[s]=function(){return this.keys()},I}();return x}function T(){var x=16,I=l.create(),C=N();return function(){function re(){this._key=N()}return re.prototype.has=function(ce){var le=W(ce,!1);return le!==void 0?l.has(le,this._key):!1},re.prototype.get=function(ce){var le=W(ce,!1);return le!==void 0?l.get(le,this._key):void 0},re.prototype.set=function(ce,le){var de=W(ce,!0);return de[this._key]=le,this},re.prototype.delete=function(ce){var le=W(ce,!1);return le!==void 0?delete le[this._key]:!1},re.prototype.clear=function(){this._key=N()},re}();function N(){var re;do re="@@WeakMap@@"+He();while(l.has(I,re));return I[re]=!0,re}function W(re,ce){if(!n.call(re,C)){if(!ce)return;Object.defineProperty(re,C,{value:l.create()})}return re[C]}function ge(re,ce){for(var le=0;le<ce;++le)re[le]=Math.random()*255|0;return re}function Oe(re){return typeof Uint8Array=="function"?typeof crypto<"u"?crypto.getRandomValues(new Uint8Array(re)):typeof msCrypto<"u"?msCrypto.getRandomValues(new Uint8Array(re)):ge(new Uint8Array(re),re):ge(new Array(re),re)}function He(){var re=Oe(x);re[6]=re[6]&79|64,re[8]=re[8]&191|128;for(var ce="",le=0;le<x;++le){var de=re[le];(le===4||le===6||le===8)&&(ce+="-"),de<16&&(ce+="0"),ce+=de.toString(16).toLowerCase()}return ce}}function B(x){return x.__=void 0,delete x.__,x}})})(q$||(q$={}))});var UR=b((vye,Pf)=>{var FR={};FR.__wbindgen_placeholder__=Pf.exports;var gi,{TextDecoder:aQ}=require("util"),BR=new aQ("utf-8",{ignoreBOM:!0,fatal:!0});BR.decode();var jH=null;function oA(){return(jH===null||jH.buffer!==gi.memory.buffer)&&(jH=new Uint8Array(gi.memory.buffer)),jH}function cQ(r,e){return BR.decode(oA().subarray(r,r+e))}var nA=0;function NR(r,e){let t=e(r.length*1);return oA().set(r,t/1),nA=r.length,t}var iA=class r{static __wrap(e){let t=Object.create(r.prototype);return t.ptr=e,t}__destroy_into_raw(){let e=this.ptr;return this.ptr=0,e}free(){let e=this.__destroy_into_raw();gi.__wbg_hasher_free(e)}constructor(){var e=gi.hasher_new();return r.__wrap(e)}update(e){var t=NR(e,gi.__wbindgen_malloc),n=nA;gi.hasher_update(this.ptr,t,n)}digest(e){try{var t=NR(e,gi.__wbindgen_malloc),n=nA;gi.hasher_digest(this.ptr,t,n)}finally{e.set(oA().subarray(t/1,t/1+n)),gi.__wbindgen_free(t,n*1)}}};Pf.exports.Hasher=iA;Pf.exports.__wbindgen_throw=function(r,e){throw new Error(cQ(r,e))};var uQ=require("path").join(__dirname,"chromehash_bg.wasm"),lQ=require("fs").readFileSync(uQ),pQ=new WebAssembly.Module(lQ),dQ=new WebAssembly.Instance(pQ,FR);gi=dQ.exports;Pf.exports.__wasm=gi});var zR=b(ao=>{"use strict";Object.defineProperty(ao,"__esModule",{value:!0});ao.shaHashFile=ao.hashFile=ao.shaHash=ao.hash=void 0;var qR=UR(),VR=require("fs"),jR=require("string_decoder"),GR=require("crypto"),qH=Buffer.alloc(4*5),fQ=r=>{let e=new qR.Hasher;return e.update(HQ(r)),e.digest(qH),e.free(),qH.toString("hex")};ao.hash=fQ;var mQ=r=>{let e=(0,GR.createHash)("sha256");return e.update(yQ(r)),e.digest("hex")};ao.shaHash=mQ;var hQ=async(r,e=4096)=>{e%2===1&&e++;let t=Buffer.alloc(e),n=new qR.Hasher,i;try{i=await VR.promises.open(r,"r");let o=await i.read(t,0,t.length,null),s=t.slice(0,o.bytesRead);if(GH(s))for(n.update(s.slice(2));o.bytesRead===t.length;)o=await i.read(t,0,t.length,null),n.update(t.slice(0,o.bytesRead));else if(zH(s))for(n.update(s.slice(2).swap16());o.bytesRead===t.length;)o=await i.read(t,0,t.length,null),n.update(t.slice(0,o.bytesRead).swap16());else if(VH(s)){let a=new jR.StringDecoder("utf8");for(n.update(Buffer.from(a.write(s.slice(3)),"utf16le"));o.bytesRead===t.length;)o=await i.read(t,0,t.length,null),n.update(Buffer.from(a.write(t.slice(0,o.bytesRead)),"utf16le"))}else{let a=new jR.StringDecoder("utf8");for(n.update(Buffer.from(a.write(s),"utf16le"));o.bytesRead===t.length;)o=await i.read(t,0,t.length,null),n.update(Buffer.from(a.write(t.slice(0,o.bytesRead)),"utf16le"))}return n.digest(qH),qH.toString("hex")}finally{n.free(),i!==void 0&&await i.close()}};ao.hashFile=hQ;var WH={stream:!0},gQ=async(r,e=4096)=>{e%2===1&&e++;let t=Buffer.alloc(e),n=(0,GR.createHash)("sha256"),i;try{i=await VR.promises.open(r,"r");let o=await i.read(t,0,t.length,null),s=t.slice(0,o.bytesRead);if(GH(s)){let a=new TextDecoder("utf-16le");for(n.update(a.decode(s.slice(2),WH));o.bytesRead>0;)o=await i.read(t,0,t.length,null),n.update(a.decode(t.slice(0,o.bytesRead),WH))}else if(zH(s)){let a=new TextDecoder("utf-16be");for(n.update(a.decode(s.slice(2),WH));o.bytesRead>0;)o=await i.read(t,0,t.length,null),n.update(a.decode(t.slice(0,o.bytesRead),WH))}else if(VH(s))for(n.update(s.slice(3));o.bytesRead>0;)o=await i.read(t,0,t.length,null),n.update(t.slice(0,o.bytesRead));else for(n.update(s);o.bytesRead>0;)o=await i.read(t,0,t.length,null),n.update(t.slice(0,o.bytesRead));return n.digest("hex")}finally{await i?.close()}};ao.shaHashFile=gQ;var VH=r=>r.length>=3&&r[0]===239&&r[1]===187&&r[2]===191,GH=r=>r.length>=2&&r[0]===255&&r[1]===254,zH=r=>r.length>=2&&r[0]===254&&r[1]===255,HQ=r=>VH(r)?WR(r.slice(3)):GH(r)?r.slice(2):zH(r)?r.slice(2).swap16():WR(r),yQ=r=>VH(r)?r.slice(3):GH(r)?new TextEncoder().encode(new TextDecoder("utf-16le").decode(r.slice(2))):zH(r)?new TextEncoder().encode(new TextDecoder("utf-16be").decode(r.slice(2))):r,WR=r=>Buffer.from(r.toString("utf8"),"utf16le")});var iy=b(Nn=>{"use strict";Nn.isInteger=r=>typeof r=="number"?Number.isInteger(r):typeof r=="string"&&r.trim()!==""?Number.isInteger(Number(r)):!1;Nn.find=(r,e)=>r.nodes.find(t=>t.type===e);Nn.exceedsLimit=(r,e,t=1,n)=>n===!1||!Nn.isInteger(r)||!Nn.isInteger(e)?!1:(Number(e)-Number(r))/Number(t)>=n;Nn.escapeNode=(r,e=0,t)=>{let n=r.nodes[e];n&&(t&&n.type===t||n.type==="open"||n.type==="close")&&n.escaped!==!0&&(n.value="\\"+n.value,n.escaped=!0)};Nn.encloseBrace=r=>r.type!=="brace"||r.commas>>0+r.ranges>>0?!1:(r.invalid=!0,!0);Nn.isInvalidBrace=r=>r.type!=="brace"?!1:r.invalid===!0||r.dollar?!0:!(r.commas>>0+r.ranges>>0)||r.open!==!0||r.close!==!0?(r.invalid=!0,!0):!1;Nn.isOpenOrClose=r=>r.type==="open"||r.type==="close"?!0:r.open===!0||r.close===!0;Nn.reduce=r=>r.reduce((e,t)=>(t.type==="text"&&e.push(t.value),t.type==="range"&&(t.type="text"),e),[]);Nn.flatten=(...r)=>{let e=[],t=n=>{for(let i=0;i<n.length;i++){let o=n[i];Array.isArray(o)?t(o,e):o!==void 0&&e.push(o)}return e};return t(r),e}});var oy=b((hve,HM)=>{"use strict";var gM=iy();HM.exports=(r,e={})=>{let t=(n,i={})=>{let o=e.escapeInvalid&&gM.isInvalidBrace(i),s=n.invalid===!0&&e.escapeInvalid===!0,a="";if(n.value)return(o||s)&&gM.isOpenOrClose(n)?"\\"+n.value:n.value;if(n.value)return n.value;if(n.nodes)for(let c of n.nodes)a+=t(c);return a};return t(r)}});var bM=b((gve,yM)=>{"use strict";yM.exports=function(r){return typeof r=="number"?r-r===0:typeof r=="string"&&r.trim()!==""?Number.isFinite?Number.isFinite(+r):isFinite(+r):!1}});var PM=b((Hve,EM)=>{"use strict";var vM=bM(),yc=(r,e,t)=>{if(vM(r)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(e===void 0||r===e)return String(r);if(vM(e)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let n={relaxZeros:!0,...t};typeof n.strictZeros=="boolean"&&(n.relaxZeros=n.strictZeros===!1);let i=String(n.relaxZeros),o=String(n.shorthand),s=String(n.capture),a=String(n.wrap),c=r+":"+e+"="+i+o+s+a;if(yc.cache.hasOwnProperty(c))return yc.cache[c].result;let u=Math.min(r,e),l=Math.max(r,e);if(Math.abs(u-l)===1){let g=r+"|"+e;return n.capture?`(${g})`:n.wrap===!1?g:`(?:${g})`}let p=SM(r)||SM(e),d={min:r,max:e,a:u,b:l},h=[],f=[];if(p&&(d.isPadded=p,d.maxLen=String(d.max).length),u<0){let g=l<0?Math.abs(l):1;f=xM(g,Math.abs(u),d,n),u=d.a=0}return l>=0&&(h=xM(u,l,d,n)),d.negatives=f,d.positives=h,d.result=NQ(f,h,n),n.capture===!0?d.result=`(${d.result})`:n.wrap!==!1&&h.length+f.length>1&&(d.result=`(?:${d.result})`),yc.cache[c]=d,d.result};function NQ(r,e,t){let n=pA(r,e,"-",!1,t)||[],i=pA(e,r,"",!1,t)||[],o=pA(r,e,"-?",!0,t)||[];return n.concat(o).concat(i).join("|")}function FQ(r,e){let t=1,n=1,i=IM(r,t),o=new Set([e]);for(;r<=i&&i<=e;)o.add(i),t+=1,i=IM(r,t);for(i=_M(e+1,n)-1;r<i&&i<=e;)o.add(i),n+=1,i=_M(e+1,n)-1;return o=[...o],o.sort(jQ),o}function BQ(r,e,t){if(r===e)return{pattern:r,count:[],digits:0};let n=UQ(r,e),i=n.length,o="",s=0;for(let a=0;a<i;a++){let[c,u]=n[a];c===u?o+=c:c!=="0"||u!=="9"?o+=WQ(c,u,t):s++}return s&&(o+=t.shorthand===!0?"\\d":"[0-9]"),{pattern:o,count:[s],digits:i}}function xM(r,e,t,n){let i=FQ(r,e),o=[],s=r,a;for(let c=0;c<i.length;c++){let u=i[c],l=BQ(String(s),String(u),n),p="";if(!t.isPadded&&a&&a.pattern===l.pattern){a.count.length>1&&a.count.pop(),a.count.push(l.count[0]),a.string=a.pattern+AM(a.count),s=u+1;continue}t.isPadded&&(p=qQ(u,t,n)),l.string=p+l.pattern+AM(l.count),o.push(l),s=u+1,a=l}return o}function pA(r,e,t,n,i){let o=[];for(let s of r){let{string:a}=s;!n&&!wM(e,"string",a)&&o.push(t+a),n&&wM(e,"string",a)&&o.push(t+a)}return o}function UQ(r,e){let t=[];for(let n=0;n<r.length;n++)t.push([r[n],e[n]]);return t}function jQ(r,e){return r>e?1:e>r?-1:0}function wM(r,e,t){return r.some(n=>n[e]===t)}function IM(r,e){return Number(String(r).slice(0,-e)+"9".repeat(e))}function _M(r,e){return r-r%Math.pow(10,e)}function AM(r){let[e=0,t=""]=r;return t||e>1?`{${e+(t?","+t:"")}}`:""}function WQ(r,e,t){return`[${r}${e-r===1?"":"-"}${e}]`}function SM(r){return/^-?(0+)\d/.test(r)}function qQ(r,e,t){if(!e.isPadded)return r;let n=Math.abs(e.maxLen-String(r).length),i=t.relaxZeros!==!1;switch(n){case 0:return"";case 1:return i?"0?":"0";case 2:return i?"0{0,2}":"00";default:return i?`0{0,${n}}`:`0{${n}}`}}yc.cache={};yc.clearCache=()=>yc.cache={};EM.exports=yc});var mA=b((yve,MM)=>{"use strict";var VQ=require("util"),LM=PM(),CM=r=>r!==null&&typeof r=="object"&&!Array.isArray(r),GQ=r=>e=>r===!0?Number(e):String(e),dA=r=>typeof r=="number"||typeof r=="string"&&r!=="",Lf=r=>Number.isInteger(+r),fA=r=>{let e=`${r}`,t=-1;if(e[0]==="-"&&(e=e.slice(1)),e==="0")return!1;for(;e[++t]==="0";);return t>0},zQ=(r,e,t)=>typeof r=="string"||typeof e=="string"?!0:t.stringify===!0,KQ=(r,e,t)=>{if(e>0){let n=r[0]==="-"?"-":"";n&&(r=r.slice(1)),r=n+r.padStart(n?e-1:e,"0")}return t===!1?String(r):r},TM=(r,e)=>{let t=r[0]==="-"?"-":"";for(t&&(r=r.slice(1),e--);r.length<e;)r="0"+r;return t?"-"+r:r},XQ=(r,e)=>{r.negatives.sort((s,a)=>s<a?-1:s>a?1:0),r.positives.sort((s,a)=>s<a?-1:s>a?1:0);let t=e.capture?"":"?:",n="",i="",o;return r.positives.length&&(n=r.positives.join("|")),r.negatives.length&&(i=`-(${t}${r.negatives.join("|")})`),n&&i?o=`${n}|${i}`:o=n||i,e.wrap?`(${t}${o})`:o},DM=(r,e,t,n)=>{if(t)return LM(r,e,{wrap:!1,...n});let i=String.fromCharCode(r);if(r===e)return i;let o=String.fromCharCode(e);return`[${i}-${o}]`},$M=(r,e,t)=>{if(Array.isArray(r)){let n=t.wrap===!0,i=t.capture?"":"?:";return n?`(${i}${r.join("|")})`:r.join("|")}return LM(r,e,t)},kM=(...r)=>new RangeError("Invalid range arguments: "+VQ.inspect(...r)),RM=(r,e,t)=>{if(t.strictRanges===!0)throw kM([r,e]);return[]},JQ=(r,e)=>{if(e.strictRanges===!0)throw new TypeError(`Expected step "${r}" to be a number`);return[]},YQ=(r,e,t=1,n={})=>{let i=Number(r),o=Number(e);if(!Number.isInteger(i)||!Number.isInteger(o)){if(n.strictRanges===!0)throw kM([r,e]);return[]}i===0&&(i=0),o===0&&(o=0);let s=i>o,a=String(r),c=String(e),u=String(t);t=Math.max(Math.abs(t),1);let l=fA(a)||fA(c)||fA(u),p=l?Math.max(a.length,c.length,u.length):0,d=l===!1&&zQ(r,e,n)===!1,h=n.transform||GQ(d);if(n.toRegex&&t===1)return DM(TM(r,p),TM(e,p),!0,n);let f={negatives:[],positives:[]},g=R=>f[R<0?"negatives":"positives"].push(Math.abs(R)),v=[],S=0;for(;s?i>=o:i<=o;)n.toRegex===!0&&t>1?g(i):v.push(KQ(h(i,S),p,d)),i=s?i-t:i+t,S++;return n.toRegex===!0?t>1?XQ(f,n):$M(v,null,{wrap:!1,...n}):v},QQ=(r,e,t=1,n={})=>{if(!Lf(r)&&r.length>1||!Lf(e)&&e.length>1)return RM(r,e,n);let i=n.transform||(d=>String.fromCharCode(d)),o=`${r}`.charCodeAt(0),s=`${e}`.charCodeAt(0),a=o>s,c=Math.min(o,s),u=Math.max(o,s);if(n.toRegex&&t===1)return DM(c,u,!1,n);let l=[],p=0;for(;a?o>=s:o<=s;)l.push(i(o,p)),o=a?o-t:o+t,p++;return n.toRegex===!0?$M(l,null,{wrap:!1,options:n}):l},sy=(r,e,t,n={})=>{if(e==null&&dA(r))return[r];if(!dA(r)||!dA(e))return RM(r,e,n);if(typeof t=="function")return sy(r,e,1,{transform:t});if(CM(t))return sy(r,e,0,t);let i={...n};return i.capture===!0&&(i.wrap=!0),t=t||i.step||1,Lf(t)?Lf(r)&&Lf(e)?YQ(r,e,t,i):QQ(r,e,Math.max(Math.abs(t),1),i):t!=null&&!CM(t)?JQ(t,i):sy(r,e,1,t)};MM.exports=sy});var FM=b((bve,NM)=>{"use strict";var ZQ=mA(),OM=iy(),eZ=(r,e={})=>{let t=(n,i={})=>{let o=OM.isInvalidBrace(i),s=n.invalid===!0&&e.escapeInvalid===!0,a=o===!0||s===!0,c=e.escapeInvalid===!0?"\\":"",u="";if(n.isOpen===!0||n.isClose===!0)return c+n.value;if(n.type==="open")return a?c+n.value:"(";if(n.type==="close")return a?c+n.value:")";if(n.type==="comma")return n.prev.type==="comma"?"":a?n.value:"|";if(n.value)return n.value;if(n.nodes&&n.ranges>0){let l=OM.reduce(n.nodes),p=ZQ(...l,{...e,wrap:!1,toRegex:!0});if(p.length!==0)return l.length>1&&p.length>1?`(${p})`:p}if(n.nodes)for(let l of n.nodes)u+=t(l,n);return u};return t(r)};NM.exports=eZ});var jM=b((vve,UM)=>{"use strict";var tZ=mA(),BM=oy(),sl=iy(),bc=(r="",e="",t=!1)=>{let n=[];if(r=[].concat(r),e=[].concat(e),!e.length)return r;if(!r.length)return t?sl.flatten(e).map(i=>`{${i}}`):e;for(let i of r)if(Array.isArray(i))for(let o of i)n.push(bc(o,e,t));else for(let o of e)t===!0&&typeof o=="string"&&(o=`{${o}}`),n.push(Array.isArray(o)?bc(i,o,t):i+o);return sl.flatten(n)},rZ=(r,e={})=>{let t=e.rangeLimit===void 0?1e3:e.rangeLimit,n=(i,o={})=>{i.queue=[];let s=o,a=o.queue;for(;s.type!=="brace"&&s.type!=="root"&&s.parent;)s=s.parent,a=s.queue;if(i.invalid||i.dollar){a.push(bc(a.pop(),BM(i,e)));return}if(i.type==="brace"&&i.invalid!==!0&&i.nodes.length===2){a.push(bc(a.pop(),["{}"]));return}if(i.nodes&&i.ranges>0){let p=sl.reduce(i.nodes);if(sl.exceedsLimit(...p,e.step,t))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let d=tZ(...p,e);d.length===0&&(d=BM(i,e)),a.push(bc(a.pop(),d)),i.nodes=[];return}let c=sl.encloseBrace(i),u=i.queue,l=i;for(;l.type!=="brace"&&l.type!=="root"&&l.parent;)l=l.parent,u=l.queue;for(let p=0;p<i.nodes.length;p++){let d=i.nodes[p];if(d.type==="comma"&&i.type==="brace"){p===1&&u.push(""),u.push("");continue}if(d.type==="close"){a.push(bc(a.pop(),u,c));continue}if(d.value&&d.type!=="open"){u.push(bc(u.pop(),d.value));continue}d.nodes&&n(d,i)}return u};return sl.flatten(n(r))};UM.exports=rZ});var qM=b((xve,WM)=>{"use strict";WM.exports={MAX_LENGTH:1024*64,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:`
`,CHAR_NO_BREAK_SPACE:"\xA0",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"	",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"}});var XM=b((wve,KM)=>{"use strict";var nZ=oy(),{MAX_LENGTH:VM,CHAR_BACKSLASH:hA,CHAR_BACKTICK:iZ,CHAR_COMMA:oZ,CHAR_DOT:sZ,CHAR_LEFT_PARENTHESES:aZ,CHAR_RIGHT_PARENTHESES:cZ,CHAR_LEFT_CURLY_BRACE:uZ,CHAR_RIGHT_CURLY_BRACE:lZ,CHAR_LEFT_SQUARE_BRACKET:GM,CHAR_RIGHT_SQUARE_BRACKET:zM,CHAR_DOUBLE_QUOTE:pZ,CHAR_SINGLE_QUOTE:dZ,CHAR_NO_BREAK_SPACE:fZ,CHAR_ZERO_WIDTH_NOBREAK_SPACE:mZ}=qM(),hZ=(r,e={})=>{if(typeof r!="string")throw new TypeError("Expected a string");let t=e||{},n=typeof t.maxLength=="number"?Math.min(VM,t.maxLength):VM;if(r.length>n)throw new SyntaxError(`Input length (${r.length}), exceeds max characters (${n})`);let i={type:"root",input:r,nodes:[]},o=[i],s=i,a=i,c=0,u=r.length,l=0,p=0,d,h={},f=()=>r[l++],g=v=>{if(v.type==="text"&&a.type==="dot"&&(a.type="text"),a&&a.type==="text"&&v.type==="text"){a.value+=v.value;return}return s.nodes.push(v),v.parent=s,v.prev=a,a=v,v};for(g({type:"bos"});l<u;)if(s=o[o.length-1],d=f(),!(d===mZ||d===fZ)){if(d===hA){g({type:"text",value:(e.keepEscaping?d:"")+f()});continue}if(d===zM){g({type:"text",value:"\\"+d});continue}if(d===GM){c++;let v=!0,S;for(;l<u&&(S=f());){if(d+=S,S===GM){c++;continue}if(S===hA){d+=f();continue}if(S===zM&&(c--,c===0))break}g({type:"text",value:d});continue}if(d===aZ){s=g({type:"paren",nodes:[]}),o.push(s),g({type:"text",value:d});continue}if(d===cZ){if(s.type!=="paren"){g({type:"text",value:d});continue}s=o.pop(),g({type:"text",value:d}),s=o[o.length-1];continue}if(d===pZ||d===dZ||d===iZ){let v=d,S;for(e.keepQuotes!==!0&&(d="");l<u&&(S=f());){if(S===hA){d+=S+f();continue}if(S===v){e.keepQuotes===!0&&(d+=S);break}d+=S}g({type:"text",value:d});continue}if(d===uZ){p++;let S={type:"brace",open:!0,close:!1,dollar:a.value&&a.value.slice(-1)==="$"||s.dollar===!0,depth:p,commas:0,ranges:0,nodes:[]};s=g(S),o.push(s),g({type:"open",value:d});continue}if(d===lZ){if(s.type!=="brace"){g({type:"text",value:d});continue}let v="close";s=o.pop(),s.close=!0,g({type:v,value:d}),p--,s=o[o.length-1];continue}if(d===oZ&&p>0){if(s.ranges>0){s.ranges=0;let v=s.nodes.shift();s.nodes=[v,{type:"text",value:nZ(s)}]}g({type:"comma",value:d}),s.commas++;continue}if(d===sZ&&p>0&&s.commas===0){let v=s.nodes;if(p===0||v.length===0){g({type:"text",value:d});continue}if(a.type==="dot"){if(s.range=[],a.value+=d,a.type="range",s.nodes.length!==3&&s.nodes.length!==5){s.invalid=!0,s.ranges=0,a.type="text";continue}s.ranges++,s.args=[];continue}if(a.type==="range"){v.pop();let S=v[v.length-1];S.value+=a.value+d,a=S,s.ranges--;continue}g({type:"dot",value:d});continue}g({type:"text",value:d})}do if(s=o.pop(),s.type!=="root"){s.nodes.forEach(R=>{R.nodes||(R.type==="open"&&(R.isOpen=!0),R.type==="close"&&(R.isClose=!0),R.nodes||(R.type="text"),R.invalid=!0)});let v=o[o.length-1],S=v.nodes.indexOf(s);v.nodes.splice(S,1,...s.nodes)}while(o.length>0);return g({type:"eos"}),i};KM.exports=hZ});var QM=b((Ive,YM)=>{"use strict";var JM=oy(),gZ=FM(),HZ=jM(),yZ=XM(),dn=(r,e={})=>{let t=[];if(Array.isArray(r))for(let n of r){let i=dn.create(n,e);Array.isArray(i)?t.push(...i):t.push(i)}else t=[].concat(dn.create(r,e));return e&&e.expand===!0&&e.nodupes===!0&&(t=[...new Set(t)]),t};dn.parse=(r,e={})=>yZ(r,e);dn.stringify=(r,e={})=>JM(typeof r=="string"?dn.parse(r,e):r,e);dn.compile=(r,e={})=>(typeof r=="string"&&(r=dn.parse(r,e)),gZ(r,e));dn.expand=(r,e={})=>{typeof r=="string"&&(r=dn.parse(r,e));let t=HZ(r,e);return e.noempty===!0&&(t=t.filter(Boolean)),e.nodupes===!0&&(t=[...new Set(t)]),t};dn.create=(r,e={})=>r===""||r.length<3?[r]:e.expand!==!0?dn.compile(r,e):dn.expand(r,e);YM.exports=dn});var Df=b((_ve,n1)=>{"use strict";var bZ=require("path"),uo="\\\\/",ZM=`[^${uo}]`,Qo="\\.",vZ="\\+",xZ="\\?",ay="\\/",wZ="(?=.)",e1="[^/]",gA=`(?:${ay}|$)`,t1=`(?:^|${ay})`,HA=`${Qo}{1,2}${gA}`,IZ=`(?!${Qo})`,_Z=`(?!${t1}${HA})`,AZ=`(?!${Qo}{0,1}${gA})`,SZ=`(?!${HA})`,EZ=`[^.${ay}]`,PZ=`${e1}*?`,r1={DOT_LITERAL:Qo,PLUS_LITERAL:vZ,QMARK_LITERAL:xZ,SLASH_LITERAL:ay,ONE_CHAR:wZ,QMARK:e1,END_ANCHOR:gA,DOTS_SLASH:HA,NO_DOT:IZ,NO_DOTS:_Z,NO_DOT_SLASH:AZ,NO_DOTS_SLASH:SZ,QMARK_NO_DOT:EZ,STAR:PZ,START_ANCHOR:t1},CZ={...r1,SLASH_LITERAL:`[${uo}]`,QMARK:ZM,STAR:`${ZM}*?`,DOTS_SLASH:`${Qo}{1,2}(?:[${uo}]|$)`,NO_DOT:`(?!${Qo})`,NO_DOTS:`(?!(?:^|[${uo}])${Qo}{1,2}(?:[${uo}]|$))`,NO_DOT_SLASH:`(?!${Qo}{0,1}(?:[${uo}]|$))`,NO_DOTS_SLASH:`(?!${Qo}{1,2}(?:[${uo}]|$))`,QMARK_NO_DOT:`[^.${uo}]`,START_ANCHOR:`(?:^|[${uo}])`,END_ANCHOR:`(?:[${uo}]|$)`},TZ={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};n1.exports={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:TZ,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:bZ.sep,extglobChars(r){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${r.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(r){return r===!0?CZ:r1}}});var $f=b(Kr=>{"use strict";var LZ=require("path"),DZ=process.platform==="win32",{REGEX_BACKSLASH:$Z,REGEX_REMOVE_BACKSLASH:kZ,REGEX_SPECIAL_CHARS:RZ,REGEX_SPECIAL_CHARS_GLOBAL:MZ}=Df();Kr.isObject=r=>r!==null&&typeof r=="object"&&!Array.isArray(r);Kr.hasRegexChars=r=>RZ.test(r);Kr.isRegexChar=r=>r.length===1&&Kr.hasRegexChars(r);Kr.escapeRegex=r=>r.replace(MZ,"\\$1");Kr.toPosixSlashes=r=>r.replace($Z,"/");Kr.removeBackslashes=r=>r.replace(kZ,e=>e==="\\"?"":e);Kr.supportsLookbehinds=()=>{let r=process.version.slice(1).split(".").map(Number);return r.length===3&&r[0]>=9||r[0]===8&&r[1]>=10};Kr.isWindows=r=>r&&typeof r.windows=="boolean"?r.windows:DZ===!0||LZ.sep==="\\";Kr.escapeLast=(r,e,t)=>{let n=r.lastIndexOf(e,t);return n===-1?r:r[n-1]==="\\"?Kr.escapeLast(r,e,n-1):`${r.slice(0,n)}\\${r.slice(n)}`};Kr.removePrefix=(r,e={})=>{let t=r;return t.startsWith("./")&&(t=t.slice(2),e.prefix="./"),t};Kr.wrapOutput=(r,e={},t={})=>{let n=t.contains?"":"^",i=t.contains?"":"$",o=`${n}(?:${r})${i}`;return e.negated===!0&&(o=`(?:^(?!${o}).*$)`),o}});var p1=b((Sve,l1)=>{"use strict";var i1=$f(),{CHAR_ASTERISK:yA,CHAR_AT:OZ,CHAR_BACKWARD_SLASH:kf,CHAR_COMMA:NZ,CHAR_DOT:bA,CHAR_EXCLAMATION_MARK:vA,CHAR_FORWARD_SLASH:u1,CHAR_LEFT_CURLY_BRACE:xA,CHAR_LEFT_PARENTHESES:wA,CHAR_LEFT_SQUARE_BRACKET:FZ,CHAR_PLUS:BZ,CHAR_QUESTION_MARK:o1,CHAR_RIGHT_CURLY_BRACE:UZ,CHAR_RIGHT_PARENTHESES:s1,CHAR_RIGHT_SQUARE_BRACKET:jZ}=Df(),a1=r=>r===u1||r===kf,c1=r=>{r.isPrefix!==!0&&(r.depth=r.isGlobstar?1/0:1)},WZ=(r,e)=>{let t=e||{},n=r.length-1,i=t.parts===!0||t.scanToEnd===!0,o=[],s=[],a=[],c=r,u=-1,l=0,p=0,d=!1,h=!1,f=!1,g=!1,v=!1,S=!1,R=!1,F=!1,X=!1,G=!1,J=0,z,ee,he={value:"",depth:0,isGlob:!1},Le=()=>u>=n,O=()=>c.charCodeAt(u+1),Z=()=>(z=ee,c.charCodeAt(++u));for(;u<n;){ee=Z();let q;if(ee===kf){R=he.backslashes=!0,ee=Z(),ee===xA&&(S=!0);continue}if(S===!0||ee===xA){for(J++;Le()!==!0&&(ee=Z());){if(ee===kf){R=he.backslashes=!0,Z();continue}if(ee===xA){J++;continue}if(S!==!0&&ee===bA&&(ee=Z())===bA){if(d=he.isBrace=!0,f=he.isGlob=!0,G=!0,i===!0)continue;break}if(S!==!0&&ee===NZ){if(d=he.isBrace=!0,f=he.isGlob=!0,G=!0,i===!0)continue;break}if(ee===UZ&&(J--,J===0)){S=!1,d=he.isBrace=!0,G=!0;break}}if(i===!0)continue;break}if(ee===u1){if(o.push(u),s.push(he),he={value:"",depth:0,isGlob:!1},G===!0)continue;if(z===bA&&u===l+1){l+=2;continue}p=u+1;continue}if(t.noext!==!0&&(ee===BZ||ee===OZ||ee===yA||ee===o1||ee===vA)===!0&&O()===wA){if(f=he.isGlob=!0,g=he.isExtglob=!0,G=!0,ee===vA&&u===l&&(X=!0),i===!0){for(;Le()!==!0&&(ee=Z());){if(ee===kf){R=he.backslashes=!0,ee=Z();continue}if(ee===s1){f=he.isGlob=!0,G=!0;break}}continue}break}if(ee===yA){if(z===yA&&(v=he.isGlobstar=!0),f=he.isGlob=!0,G=!0,i===!0)continue;break}if(ee===o1){if(f=he.isGlob=!0,G=!0,i===!0)continue;break}if(ee===FZ){for(;Le()!==!0&&(q=Z());){if(q===kf){R=he.backslashes=!0,Z();continue}if(q===jZ){h=he.isBracket=!0,f=he.isGlob=!0,G=!0;break}}if(i===!0)continue;break}if(t.nonegate!==!0&&ee===vA&&u===l){F=he.negated=!0,l++;continue}if(t.noparen!==!0&&ee===wA){if(f=he.isGlob=!0,i===!0){for(;Le()!==!0&&(ee=Z());){if(ee===wA){R=he.backslashes=!0,ee=Z();continue}if(ee===s1){G=!0;break}}continue}break}if(f===!0){if(G=!0,i===!0)continue;break}}t.noext===!0&&(g=!1,f=!1);let ue=c,me="",L="";l>0&&(me=c.slice(0,l),c=c.slice(l),p-=l),ue&&f===!0&&p>0?(ue=c.slice(0,p),L=c.slice(p)):f===!0?(ue="",L=c):ue=c,ue&&ue!==""&&ue!=="/"&&ue!==c&&a1(ue.charCodeAt(ue.length-1))&&(ue=ue.slice(0,-1)),t.unescape===!0&&(L&&(L=i1.removeBackslashes(L)),ue&&R===!0&&(ue=i1.removeBackslashes(ue)));let k={prefix:me,input:r,start:l,base:ue,glob:L,isBrace:d,isBracket:h,isGlob:f,isExtglob:g,isGlobstar:v,negated:F,negatedExtglob:X};if(t.tokens===!0&&(k.maxDepth=0,a1(ee)||s.push(he),k.tokens=s),t.parts===!0||t.tokens===!0){let q;for(let j=0;j<o.length;j++){let ye=q?q+1:l,Ue=o[j],Ae=r.slice(ye,Ue);t.tokens&&(j===0&&l!==0?(s[j].isPrefix=!0,s[j].value=me):s[j].value=Ae,c1(s[j]),k.maxDepth+=s[j].depth),(j!==0||Ae!=="")&&a.push(Ae),q=Ue}if(q&&q+1<r.length){let j=r.slice(q+1);a.push(j),t.tokens&&(s[s.length-1].value=j,c1(s[s.length-1]),k.maxDepth+=s[s.length-1].depth)}k.slashes=o,k.parts=a}return k};l1.exports=WZ});var m1=b((Eve,f1)=>{"use strict";var cy=Df(),fn=$f(),{MAX_LENGTH:uy,POSIX_REGEX_SOURCE:qZ,REGEX_NON_SPECIAL_CHARS:VZ,REGEX_SPECIAL_CHARS_BACKREF:GZ,REPLACEMENTS:d1}=cy,zZ=(r,e)=>{if(typeof e.expandRange=="function")return e.expandRange(...r,e);r.sort();let t=`[${r.join("-")}]`;try{new RegExp(t)}catch{return r.map(i=>fn.escapeRegex(i)).join("..")}return t},al=(r,e)=>`Missing ${r}: "${e}" - use "\\\\${e}" to match literal characters`,IA=(r,e)=>{if(typeof r!="string")throw new TypeError("Expected a string");r=d1[r]||r;let t={...e},n=typeof t.maxLength=="number"?Math.min(uy,t.maxLength):uy,i=r.length;if(i>n)throw new SyntaxError(`Input length: ${i}, exceeds maximum allowed length: ${n}`);let o={type:"bos",value:"",output:t.prepend||""},s=[o],a=t.capture?"":"?:",c=fn.isWindows(e),u=cy.globChars(c),l=cy.extglobChars(u),{DOT_LITERAL:p,PLUS_LITERAL:d,SLASH_LITERAL:h,ONE_CHAR:f,DOTS_SLASH:g,NO_DOT:v,NO_DOT_SLASH:S,NO_DOTS_SLASH:R,QMARK:F,QMARK_NO_DOT:X,STAR:G,START_ANCHOR:J}=u,z=ne=>`(${a}(?:(?!${J}${ne.dot?g:p}).)*?)`,ee=t.dot?"":v,he=t.dot?F:X,Le=t.bash===!0?z(t):G;t.capture&&(Le=`(${Le})`),typeof t.noext=="boolean"&&(t.noextglob=t.noext);let O={input:r,index:-1,start:0,dot:t.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:s};r=fn.removePrefix(r,O),i=r.length;let Z=[],ue=[],me=[],L=o,k,q=()=>O.index===i-1,j=O.peek=(ne=1)=>r[O.index+ne],ye=O.advance=()=>r[++O.index]||"",Ue=()=>r.slice(O.index+1),Ae=(ne="",Pe=0)=>{O.consumed+=ne,O.index+=Pe},oe=ne=>{O.output+=ne.output!=null?ne.output:ne.value,Ae(ne.value)},vt=()=>{let ne=1;for(;j()==="!"&&(j(2)!=="("||j(3)==="?");)ye(),O.start++,ne++;return ne%2===0?!1:(O.negated=!0,O.start++,!0)},Mt=ne=>{O[ne]++,me.push(ne)},Ie=ne=>{O[ne]--,me.pop()},xe=ne=>{if(L.type==="globstar"){let Pe=O.braces>0&&(ne.type==="comma"||ne.type==="brace"),Y=ne.extglob===!0||Z.length&&(ne.type==="pipe"||ne.type==="paren");ne.type!=="slash"&&ne.type!=="paren"&&!Pe&&!Y&&(O.output=O.output.slice(0,-L.output.length),L.type="star",L.value="*",L.output=Le,O.output+=L.output)}if(Z.length&&ne.type!=="paren"&&(Z[Z.length-1].inner+=ne.value),(ne.value||ne.output)&&oe(ne),L&&L.type==="text"&&ne.type==="text"){L.output=(L.output||L.value)+ne.value,L.value+=ne.value;return}ne.prev=L,s.push(ne),L=ne},Cn=(ne,Pe)=>{let Y={...l[Pe],conditions:1,inner:""};Y.prev=L,Y.parens=O.parens,Y.output=O.output;let be=(t.capture?"(":"")+Y.open;Mt("parens"),xe({type:ne,value:Pe,output:O.output?"":f}),xe({type:"paren",extglob:!0,value:ye(),output:be}),Z.push(Y)},at=ne=>{let Pe=ne.close+(t.capture?")":""),Y;if(ne.type==="negate"){let be=Le;if(ne.inner&&ne.inner.length>1&&ne.inner.includes("/")&&(be=z(t)),(be!==Le||q()||/^\)+$/.test(Ue()))&&(Pe=ne.close=`)$))${be}`),ne.inner.includes("*")&&(Y=Ue())&&/^\.[^\\/.]+$/.test(Y)){let Qe=IA(Y,{...e,fastpaths:!1}).output;Pe=ne.close=`)${Qe})${be})`}ne.prev.type==="bos"&&(O.negatedExtglob=!0)}xe({type:"paren",extglob:!0,value:k,output:Pe}),Ie("parens")};if(t.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(r)){let ne=!1,Pe=r.replace(GZ,(Y,be,Qe,Gt,ct,Ro)=>Gt==="\\"?(ne=!0,Y):Gt==="?"?be?be+Gt+(ct?F.repeat(ct.length):""):Ro===0?he+(ct?F.repeat(ct.length):""):F.repeat(Qe.length):Gt==="."?p.repeat(Qe.length):Gt==="*"?be?be+Gt+(ct?Le:""):Le:be?Y:`\\${Y}`);return ne===!0&&(t.unescape===!0?Pe=Pe.replace(/\\/g,""):Pe=Pe.replace(/\\+/g,Y=>Y.length%2===0?"\\\\":Y?"\\":"")),Pe===r&&t.contains===!0?(O.output=r,O):(O.output=fn.wrapOutput(Pe,O,e),O)}for(;!q();){if(k=ye(),k==="\0")continue;if(k==="\\"){let Y=j();if(Y==="/"&&t.bash!==!0||Y==="."||Y===";")continue;if(!Y){k+="\\",xe({type:"text",value:k});continue}let be=/^\\+/.exec(Ue()),Qe=0;if(be&&be[0].length>2&&(Qe=be[0].length,O.index+=Qe,Qe%2!==0&&(k+="\\")),t.unescape===!0?k=ye():k+=ye(),O.brackets===0){xe({type:"text",value:k});continue}}if(O.brackets>0&&(k!=="]"||L.value==="["||L.value==="[^")){if(t.posix!==!1&&k===":"){let Y=L.value.slice(1);if(Y.includes("[")&&(L.posix=!0,Y.includes(":"))){let be=L.value.lastIndexOf("["),Qe=L.value.slice(0,be),Gt=L.value.slice(be+2),ct=qZ[Gt];if(ct){L.value=Qe+ct,O.backtrack=!0,ye(),!o.output&&s.indexOf(L)===1&&(o.output=f);continue}}}(k==="["&&j()!==":"||k==="-"&&j()==="]")&&(k=`\\${k}`),k==="]"&&(L.value==="["||L.value==="[^")&&(k=`\\${k}`),t.posix===!0&&k==="!"&&L.value==="["&&(k="^"),L.value+=k,oe({value:k});continue}if(O.quotes===1&&k!=='"'){k=fn.escapeRegex(k),L.value+=k,oe({value:k});continue}if(k==='"'){O.quotes=O.quotes===1?0:1,t.keepQuotes===!0&&xe({type:"text",value:k});continue}if(k==="("){Mt("parens"),xe({type:"paren",value:k});continue}if(k===")"){if(O.parens===0&&t.strictBrackets===!0)throw new SyntaxError(al("opening","("));let Y=Z[Z.length-1];if(Y&&O.parens===Y.parens+1){at(Z.pop());continue}xe({type:"paren",value:k,output:O.parens?")":"\\)"}),Ie("parens");continue}if(k==="["){if(t.nobracket===!0||!Ue().includes("]")){if(t.nobracket!==!0&&t.strictBrackets===!0)throw new SyntaxError(al("closing","]"));k=`\\${k}`}else Mt("brackets");xe({type:"bracket",value:k});continue}if(k==="]"){if(t.nobracket===!0||L&&L.type==="bracket"&&L.value.length===1){xe({type:"text",value:k,output:`\\${k}`});continue}if(O.brackets===0){if(t.strictBrackets===!0)throw new SyntaxError(al("opening","["));xe({type:"text",value:k,output:`\\${k}`});continue}Ie("brackets");let Y=L.value.slice(1);if(L.posix!==!0&&Y[0]==="^"&&!Y.includes("/")&&(k=`/${k}`),L.value+=k,oe({value:k}),t.literalBrackets===!1||fn.hasRegexChars(Y))continue;let be=fn.escapeRegex(L.value);if(O.output=O.output.slice(0,-L.value.length),t.literalBrackets===!0){O.output+=be,L.value=be;continue}L.value=`(${a}${be}|${L.value})`,O.output+=L.value;continue}if(k==="{"&&t.nobrace!==!0){Mt("braces");let Y={type:"brace",value:k,output:"(",outputIndex:O.output.length,tokensIndex:O.tokens.length};ue.push(Y),xe(Y);continue}if(k==="}"){let Y=ue[ue.length-1];if(t.nobrace===!0||!Y){xe({type:"text",value:k,output:k});continue}let be=")";if(Y.dots===!0){let Qe=s.slice(),Gt=[];for(let ct=Qe.length-1;ct>=0&&(s.pop(),Qe[ct].type!=="brace");ct--)Qe[ct].type!=="dots"&&Gt.unshift(Qe[ct].value);be=zZ(Gt,t),O.backtrack=!0}if(Y.comma!==!0&&Y.dots!==!0){let Qe=O.output.slice(0,Y.outputIndex),Gt=O.tokens.slice(Y.tokensIndex);Y.value=Y.output="\\{",k=be="\\}",O.output=Qe;for(let ct of Gt)O.output+=ct.output||ct.value}xe({type:"brace",value:k,output:be}),Ie("braces"),ue.pop();continue}if(k==="|"){Z.length>0&&Z[Z.length-1].conditions++,xe({type:"text",value:k});continue}if(k===","){let Y=k,be=ue[ue.length-1];be&&me[me.length-1]==="braces"&&(be.comma=!0,Y="|"),xe({type:"comma",value:k,output:Y});continue}if(k==="/"){if(L.type==="dot"&&O.index===O.start+1){O.start=O.index+1,O.consumed="",O.output="",s.pop(),L=o;continue}xe({type:"slash",value:k,output:h});continue}if(k==="."){if(O.braces>0&&L.type==="dot"){L.value==="."&&(L.output=p);let Y=ue[ue.length-1];L.type="dots",L.output+=k,L.value+=k,Y.dots=!0;continue}if(O.braces+O.parens===0&&L.type!=="bos"&&L.type!=="slash"){xe({type:"text",value:k,output:p});continue}xe({type:"dot",value:k,output:p});continue}if(k==="?"){if(!(L&&L.value==="(")&&t.noextglob!==!0&&j()==="("&&j(2)!=="?"){Cn("qmark",k);continue}if(L&&L.type==="paren"){let be=j(),Qe=k;if(be==="<"&&!fn.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(L.value==="("&&!/[!=<:]/.test(be)||be==="<"&&!/<([!=]|\w+>)/.test(Ue()))&&(Qe=`\\${k}`),xe({type:"text",value:k,output:Qe});continue}if(t.dot!==!0&&(L.type==="slash"||L.type==="bos")){xe({type:"qmark",value:k,output:X});continue}xe({type:"qmark",value:k,output:F});continue}if(k==="!"){if(t.noextglob!==!0&&j()==="("&&(j(2)!=="?"||!/[!=<:]/.test(j(3)))){Cn("negate",k);continue}if(t.nonegate!==!0&&O.index===0){vt();continue}}if(k==="+"){if(t.noextglob!==!0&&j()==="("&&j(2)!=="?"){Cn("plus",k);continue}if(L&&L.value==="("||t.regex===!1){xe({type:"plus",value:k,output:d});continue}if(L&&(L.type==="bracket"||L.type==="paren"||L.type==="brace")||O.parens>0){xe({type:"plus",value:k});continue}xe({type:"plus",value:d});continue}if(k==="@"){if(t.noextglob!==!0&&j()==="("&&j(2)!=="?"){xe({type:"at",extglob:!0,value:k,output:""});continue}xe({type:"text",value:k});continue}if(k!=="*"){(k==="$"||k==="^")&&(k=`\\${k}`);let Y=VZ.exec(Ue());Y&&(k+=Y[0],O.index+=Y[0].length),xe({type:"text",value:k});continue}if(L&&(L.type==="globstar"||L.star===!0)){L.type="star",L.star=!0,L.value+=k,L.output=Le,O.backtrack=!0,O.globstar=!0,Ae(k);continue}let ne=Ue();if(t.noextglob!==!0&&/^\([^?]/.test(ne)){Cn("star",k);continue}if(L.type==="star"){if(t.noglobstar===!0){Ae(k);continue}let Y=L.prev,be=Y.prev,Qe=Y.type==="slash"||Y.type==="bos",Gt=be&&(be.type==="star"||be.type==="globstar");if(t.bash===!0&&(!Qe||ne[0]&&ne[0]!=="/")){xe({type:"star",value:k,output:""});continue}let ct=O.braces>0&&(Y.type==="comma"||Y.type==="brace"),Ro=Z.length&&(Y.type==="pipe"||Y.type==="paren");if(!Qe&&Y.type!=="paren"&&!ct&&!Ro){xe({type:"star",value:k,output:""});continue}for(;ne.slice(0,3)==="/**";){let Mo=r[O.index+4];if(Mo&&Mo!=="/")break;ne=ne.slice(3),Ae("/**",3)}if(Y.type==="bos"&&q()){L.type="globstar",L.value+=k,L.output=z(t),O.output=L.output,O.globstar=!0,Ae(k);continue}if(Y.type==="slash"&&Y.prev.type!=="bos"&&!Gt&&q()){O.output=O.output.slice(0,-(Y.output+L.output).length),Y.output=`(?:${Y.output}`,L.type="globstar",L.output=z(t)+(t.strictSlashes?")":"|$)"),L.value+=k,O.globstar=!0,O.output+=Y.output+L.output,Ae(k);continue}if(Y.type==="slash"&&Y.prev.type!=="bos"&&ne[0]==="/"){let Mo=ne[1]!==void 0?"|$":"";O.output=O.output.slice(0,-(Y.output+L.output).length),Y.output=`(?:${Y.output}`,L.type="globstar",L.output=`${z(t)}${h}|${h}${Mo})`,L.value+=k,O.output+=Y.output+L.output,O.globstar=!0,Ae(k+ye()),xe({type:"slash",value:"/",output:""});continue}if(Y.type==="bos"&&ne[0]==="/"){L.type="globstar",L.value+=k,L.output=`(?:^|${h}|${z(t)}${h})`,O.output=L.output,O.globstar=!0,Ae(k+ye()),xe({type:"slash",value:"/",output:""});continue}O.output=O.output.slice(0,-L.output.length),L.type="globstar",L.output=z(t),L.value+=k,O.output+=L.output,O.globstar=!0,Ae(k);continue}let Pe={type:"star",value:k,output:Le};if(t.bash===!0){Pe.output=".*?",(L.type==="bos"||L.type==="slash")&&(Pe.output=ee+Pe.output),xe(Pe);continue}if(L&&(L.type==="bracket"||L.type==="paren")&&t.regex===!0){Pe.output=k,xe(Pe);continue}(O.index===O.start||L.type==="slash"||L.type==="dot")&&(L.type==="dot"?(O.output+=S,L.output+=S):t.dot===!0?(O.output+=R,L.output+=R):(O.output+=ee,L.output+=ee),j()!=="*"&&(O.output+=f,L.output+=f)),xe(Pe)}for(;O.brackets>0;){if(t.strictBrackets===!0)throw new SyntaxError(al("closing","]"));O.output=fn.escapeLast(O.output,"["),Ie("brackets")}for(;O.parens>0;){if(t.strictBrackets===!0)throw new SyntaxError(al("closing",")"));O.output=fn.escapeLast(O.output,"("),Ie("parens")}for(;O.braces>0;){if(t.strictBrackets===!0)throw new SyntaxError(al("closing","}"));O.output=fn.escapeLast(O.output,"{"),Ie("braces")}if(t.strictSlashes!==!0&&(L.type==="star"||L.type==="bracket")&&xe({type:"maybe_slash",value:"",output:`${h}?`}),O.backtrack===!0){O.output="";for(let ne of O.tokens)O.output+=ne.output!=null?ne.output:ne.value,ne.suffix&&(O.output+=ne.suffix)}return O};IA.fastpaths=(r,e)=>{let t={...e},n=typeof t.maxLength=="number"?Math.min(uy,t.maxLength):uy,i=r.length;if(i>n)throw new SyntaxError(`Input length: ${i}, exceeds maximum allowed length: ${n}`);r=d1[r]||r;let o=fn.isWindows(e),{DOT_LITERAL:s,SLASH_LITERAL:a,ONE_CHAR:c,DOTS_SLASH:u,NO_DOT:l,NO_DOTS:p,NO_DOTS_SLASH:d,STAR:h,START_ANCHOR:f}=cy.globChars(o),g=t.dot?p:l,v=t.dot?d:l,S=t.capture?"":"?:",R={negated:!1,prefix:""},F=t.bash===!0?".*?":h;t.capture&&(F=`(${F})`);let X=ee=>ee.noglobstar===!0?F:`(${S}(?:(?!${f}${ee.dot?u:s}).)*?)`,G=ee=>{switch(ee){case"*":return`${g}${c}${F}`;case".*":return`${s}${c}${F}`;case"*.*":return`${g}${F}${s}${c}${F}`;case"*/*":return`${g}${F}${a}${c}${v}${F}`;case"**":return g+X(t);case"**/*":return`(?:${g}${X(t)}${a})?${v}${c}${F}`;case"**/*.*":return`(?:${g}${X(t)}${a})?${v}${F}${s}${c}${F}`;case"**/.*":return`(?:${g}${X(t)}${a})?${s}${c}${F}`;default:{let he=/^(.*?)\.(\w+)$/.exec(ee);if(!he)return;let Le=G(he[1]);return Le?Le+s+he[2]:void 0}}},J=fn.removePrefix(r,R),z=G(J);return z&&t.strictSlashes!==!0&&(z+=`${a}?`),z};f1.exports=IA});var g1=b((Pve,h1)=>{"use strict";var KZ=require("path"),XZ=p1(),_A=m1(),AA=$f(),JZ=Df(),YZ=r=>r&&typeof r=="object"&&!Array.isArray(r),$t=(r,e,t=!1)=>{if(Array.isArray(r)){let l=r.map(d=>$t(d,e,t));return d=>{for(let h of l){let f=h(d);if(f)return f}return!1}}let n=YZ(r)&&r.tokens&&r.input;if(r===""||typeof r!="string"&&!n)throw new TypeError("Expected pattern to be a non-empty string");let i=e||{},o=AA.isWindows(e),s=n?$t.compileRe(r,e):$t.makeRe(r,e,!1,!0),a=s.state;delete s.state;let c=()=>!1;if(i.ignore){let l={...e,ignore:null,onMatch:null,onResult:null};c=$t(i.ignore,l,t)}let u=(l,p=!1)=>{let{isMatch:d,match:h,output:f}=$t.test(l,s,e,{glob:r,posix:o}),g={glob:r,state:a,regex:s,posix:o,input:l,output:f,match:h,isMatch:d};return typeof i.onResult=="function"&&i.onResult(g),d===!1?(g.isMatch=!1,p?g:!1):c(l)?(typeof i.onIgnore=="function"&&i.onIgnore(g),g.isMatch=!1,p?g:!1):(typeof i.onMatch=="function"&&i.onMatch(g),p?g:!0)};return t&&(u.state=a),u};$t.test=(r,e,t,{glob:n,posix:i}={})=>{if(typeof r!="string")throw new TypeError("Expected input to be a string");if(r==="")return{isMatch:!1,output:""};let o=t||{},s=o.format||(i?AA.toPosixSlashes:null),a=r===n,c=a&&s?s(r):r;return a===!1&&(c=s?s(r):r,a=c===n),(a===!1||o.capture===!0)&&(o.matchBase===!0||o.basename===!0?a=$t.matchBase(r,e,t,i):a=e.exec(c)),{isMatch:!!a,match:a,output:c}};$t.matchBase=(r,e,t,n=AA.isWindows(t))=>(e instanceof RegExp?e:$t.makeRe(e,t)).test(KZ.basename(r));$t.isMatch=(r,e,t)=>$t(e,t)(r);$t.parse=(r,e)=>Array.isArray(r)?r.map(t=>$t.parse(t,e)):_A(r,{...e,fastpaths:!1});$t.scan=(r,e)=>XZ(r,e);$t.compileRe=(r,e,t=!1,n=!1)=>{if(t===!0)return r.output;let i=e||{},o=i.contains?"":"^",s=i.contains?"":"$",a=`${o}(?:${r.output})${s}`;r&&r.negated===!0&&(a=`^(?!${a}).*$`);let c=$t.toRegex(a,e);return n===!0&&(c.state=r),c};$t.makeRe=(r,e={},t=!1,n=!1)=>{if(!r||typeof r!="string")throw new TypeError("Expected a non-empty string");let i={negated:!1,fastpaths:!0};return e.fastpaths!==!1&&(r[0]==="."||r[0]==="*")&&(i.output=_A.fastpaths(r,e)),i.output||(i=_A(r,e)),$t.compileRe(i,e,t,n)};$t.toRegex=(r,e)=>{try{let t=e||{};return new RegExp(r,t.flags||(t.nocase?"i":""))}catch(t){if(e&&e.debug===!0)throw t;return/$^/}};$t.constants=JZ;h1.exports=$t});var SA=b((Cve,H1)=>{"use strict";H1.exports=g1()});var Rf=b((Tve,x1)=>{"use strict";var b1=require("util"),v1=QM(),lo=SA(),EA=$f(),y1=r=>r===""||r==="./",yt=(r,e,t)=>{e=[].concat(e),r=[].concat(r);let n=new Set,i=new Set,o=new Set,s=0,a=l=>{o.add(l.output),t&&t.onResult&&t.onResult(l)};for(let l=0;l<e.length;l++){let p=lo(String(e[l]),{...t,onResult:a},!0),d=p.state.negated||p.state.negatedExtglob;d&&s++;for(let h of r){let f=p(h,!0);(d?!f.isMatch:f.isMatch)&&(d?n.add(f.output):(n.delete(f.output),i.add(f.output)))}}let u=(s===e.length?[...o]:[...i]).filter(l=>!n.has(l));if(t&&u.length===0){if(t.failglob===!0)throw new Error(`No matches found for "${e.join(", ")}"`);if(t.nonull===!0||t.nullglob===!0)return t.unescape?e.map(l=>l.replace(/\\/g,"")):e}return u};yt.match=yt;yt.matcher=(r,e)=>lo(r,e);yt.isMatch=(r,e,t)=>lo(e,t)(r);yt.any=yt.isMatch;yt.not=(r,e,t={})=>{e=[].concat(e).map(String);let n=new Set,i=[],o=a=>{t.onResult&&t.onResult(a),i.push(a.output)},s=new Set(yt(r,e,{...t,onResult:o}));for(let a of i)s.has(a)||n.add(a);return[...n]};yt.contains=(r,e,t)=>{if(typeof r!="string")throw new TypeError(`Expected a string: "${b1.inspect(r)}"`);if(Array.isArray(e))return e.some(n=>yt.contains(r,n,t));if(typeof e=="string"){if(y1(r)||y1(e))return!1;if(r.includes(e)||r.startsWith("./")&&r.slice(2).includes(e))return!0}return yt.isMatch(r,e,{...t,contains:!0})};yt.matchKeys=(r,e,t)=>{if(!EA.isObject(r))throw new TypeError("Expected the first argument to be an object");let n=yt(Object.keys(r),e,t),i={};for(let o of n)i[o]=r[o];return i};yt.some=(r,e,t)=>{let n=[].concat(r);for(let i of[].concat(e)){let o=lo(String(i),t);if(n.some(s=>o(s)))return!0}return!1};yt.every=(r,e,t)=>{let n=[].concat(r);for(let i of[].concat(e)){let o=lo(String(i),t);if(!n.every(s=>o(s)))return!1}return!0};yt.all=(r,e,t)=>{if(typeof r!="string")throw new TypeError(`Expected a string: "${b1.inspect(r)}"`);return[].concat(e).every(n=>lo(n,t)(r))};yt.capture=(r,e,t)=>{let n=EA.isWindows(t),o=lo.makeRe(String(r),{...t,capture:!0}).exec(n?EA.toPosixSlashes(e):e);if(o)return o.slice(1).map(s=>s===void 0?"":s)};yt.makeRe=(...r)=>lo.makeRe(...r);yt.scan=(...r)=>lo.scan(...r);yt.parse=(r,e)=>{let t=[];for(let n of[].concat(r||[]))for(let i of v1(String(n),e))t.push(lo.parse(i,e));return t};yt.braces=(r,e)=>{if(typeof r!="string")throw new TypeError("Expected a string");return e&&e.nobrace===!0||!/\{.*\}/.test(r)?[r]:v1(r,e)};yt.braceExpand=(r,e)=>{if(typeof r!="string")throw new TypeError("Expected a string");return yt.braces(r,{...e,expand:!0})};x1.exports=yt});var q1=b((Dwe,W1)=>{"use strict";var{Duplex:aee}=require("stream");function U1(r){r.emit("close")}function cee(){!this.destroyed&&this._writableState.finished&&this.destroy()}function j1(r){this.removeListener("error",j1),this.destroy(),this.listenerCount("error")===0&&this.emit("error",r)}function uee(r,e){let t=!0,n=new aee({...e,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return r.on("message",function(o,s){let a=!s&&n._readableState.objectMode?o.toString():o;n.push(a)||r.pause()}),r.once("error",function(o){n.destroyed||(t=!1,n.destroy(o))}),r.once("close",function(){n.destroyed||n.push(null)}),n._destroy=function(i,o){if(r.readyState===r.CLOSED){o(i),process.nextTick(U1,n);return}let s=!1;r.once("error",function(c){s=!0,o(c)}),r.once("close",function(){s||o(i),process.nextTick(U1,n)}),t&&r.terminate()},n._final=function(i){if(r.readyState===r.CONNECTING){r.once("open",function(){n._final(i)});return}r._socket!==null&&(r._socket._writableState.finished?(i(),n._readableState.endEmitted&&n.destroy()):(r._socket.once("finish",function(){i()}),r.close()))},n._read=function(){r.isPaused&&r.resume()},n._write=function(i,o,s){if(r.readyState===r.CONNECTING){r.once("open",function(){n._write(i,o,s)});return}r.send(i,s)},n.on("end",cee),n.on("error",j1),n}W1.exports=uee});var Gs=b(($we,V1)=>{"use strict";V1.exports={BINARY_TYPES:["nodebuffer","arraybuffer","fragments"],EMPTY_BUFFER:Buffer.alloc(0),GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",kForOnEventAttribute:Symbol("kIsForOnEventAttribute"),kListener:Symbol("kListener"),kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),NOOP:()=>{}}});var Bf=b((kwe,gy)=>{"use strict";var{EMPTY_BUFFER:lee}=Gs(),OA=Buffer[Symbol.species];function pee(r,e){if(r.length===0)return lee;if(r.length===1)return r[0];let t=Buffer.allocUnsafe(e),n=0;for(let i=0;i<r.length;i++){let o=r[i];t.set(o,n),n+=o.length}return n<e?new OA(t.buffer,t.byteOffset,n):t}function G1(r,e,t,n,i){for(let o=0;o<i;o++)t[n+o]=r[o]^e[o&3]}function z1(r,e){for(let t=0;t<r.length;t++)r[t]^=e[t&3]}function dee(r){return r.length===r.buffer.byteLength?r.buffer:r.buffer.slice(r.byteOffset,r.byteOffset+r.length)}function NA(r){if(NA.readOnly=!0,Buffer.isBuffer(r))return r;let e;return r instanceof ArrayBuffer?e=new OA(r):ArrayBuffer.isView(r)?e=new OA(r.buffer,r.byteOffset,r.byteLength):(e=Buffer.from(r),NA.readOnly=!1),e}gy.exports={concat:pee,mask:G1,toArrayBuffer:dee,toBuffer:NA,unmask:z1};if(!process.env.WS_NO_BUFFER_UTIL)try{let r=require("bufferutil");gy.exports.mask=function(e,t,n,i,o){o<48?G1(e,t,n,i,o):r.mask(e,t,n,i,o)},gy.exports.unmask=function(e,t){e.length<32?z1(e,t):r.unmask(e,t)}}catch{}});var J1=b((Rwe,X1)=>{"use strict";var K1=Symbol("kDone"),FA=Symbol("kRun"),BA=class{constructor(e){this[K1]=()=>{this.pending--,this[FA]()},this.concurrency=e||1/0,this.jobs=[],this.pending=0}add(e){this.jobs.push(e),this[FA]()}[FA](){if(this.pending!==this.concurrency&&this.jobs.length){let e=this.jobs.shift();this.pending++,e(this[K1])}}};X1.exports=BA});var Wf=b((Mwe,eO)=>{"use strict";var Uf=require("zlib"),Y1=Bf(),fee=J1(),{kStatusCode:Q1}=Gs(),mee=Buffer[Symbol.species],hee=Buffer.from([0,0,255,255]),by=Symbol("permessage-deflate"),es=Symbol("total-length"),jf=Symbol("callback"),zs=Symbol("buffers"),yy=Symbol("error"),Hy,UA=class{constructor(e,t,n){if(this._maxPayload=n|0,this._options=e||{},this._threshold=this._options.threshold!==void 0?this._options.threshold:1024,this._isServer=!!t,this._deflate=null,this._inflate=null,this.params=null,!Hy){let i=this._options.concurrencyLimit!==void 0?this._options.concurrencyLimit:10;Hy=new fee(i)}}static get extensionName(){return"permessage-deflate"}offer(){let e={};return this._options.serverNoContextTakeover&&(e.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(e.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(e.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?e.client_max_window_bits=this._options.clientMaxWindowBits:this._options.clientMaxWindowBits==null&&(e.client_max_window_bits=!0),e}accept(e){return e=this.normalizeParams(e),this.params=this._isServer?this.acceptAsServer(e):this.acceptAsClient(e),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){let e=this._deflate[jf];this._deflate.close(),this._deflate=null,e&&e(new Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(e){let t=this._options,n=e.find(i=>!(t.serverNoContextTakeover===!1&&i.server_no_context_takeover||i.server_max_window_bits&&(t.serverMaxWindowBits===!1||typeof t.serverMaxWindowBits=="number"&&t.serverMaxWindowBits>i.server_max_window_bits)||typeof t.clientMaxWindowBits=="number"&&!i.client_max_window_bits));if(!n)throw new Error("None of the extension offers can be accepted");return t.serverNoContextTakeover&&(n.server_no_context_takeover=!0),t.clientNoContextTakeover&&(n.client_no_context_takeover=!0),typeof t.serverMaxWindowBits=="number"&&(n.server_max_window_bits=t.serverMaxWindowBits),typeof t.clientMaxWindowBits=="number"?n.client_max_window_bits=t.clientMaxWindowBits:(n.client_max_window_bits===!0||t.clientMaxWindowBits===!1)&&delete n.client_max_window_bits,n}acceptAsClient(e){let t=e[0];if(this._options.clientNoContextTakeover===!1&&t.client_no_context_takeover)throw new Error('Unexpected parameter "client_no_context_takeover"');if(!t.client_max_window_bits)typeof this._options.clientMaxWindowBits=="number"&&(t.client_max_window_bits=this._options.clientMaxWindowBits);else if(this._options.clientMaxWindowBits===!1||typeof this._options.clientMaxWindowBits=="number"&&t.client_max_window_bits>this._options.clientMaxWindowBits)throw new Error('Unexpected or invalid parameter "client_max_window_bits"');return t}normalizeParams(e){return e.forEach(t=>{Object.keys(t).forEach(n=>{let i=t[n];if(i.length>1)throw new Error(`Parameter "${n}" must have only a single value`);if(i=i[0],n==="client_max_window_bits"){if(i!==!0){let o=+i;if(!Number.isInteger(o)||o<8||o>15)throw new TypeError(`Invalid value for parameter "${n}": ${i}`);i=o}else if(!this._isServer)throw new TypeError(`Invalid value for parameter "${n}": ${i}`)}else if(n==="server_max_window_bits"){let o=+i;if(!Number.isInteger(o)||o<8||o>15)throw new TypeError(`Invalid value for parameter "${n}": ${i}`);i=o}else if(n==="client_no_context_takeover"||n==="server_no_context_takeover"){if(i!==!0)throw new TypeError(`Invalid value for parameter "${n}": ${i}`)}else throw new Error(`Unknown parameter "${n}"`);t[n]=i})}),e}decompress(e,t,n){Hy.add(i=>{this._decompress(e,t,(o,s)=>{i(),n(o,s)})})}compress(e,t,n){Hy.add(i=>{this._compress(e,t,(o,s)=>{i(),n(o,s)})})}_decompress(e,t,n){let i=this._isServer?"client":"server";if(!this._inflate){let o=`${i}_max_window_bits`,s=typeof this.params[o]!="number"?Uf.Z_DEFAULT_WINDOWBITS:this.params[o];this._inflate=Uf.createInflateRaw({...this._options.zlibInflateOptions,windowBits:s}),this._inflate[by]=this,this._inflate[es]=0,this._inflate[zs]=[],this._inflate.on("error",Hee),this._inflate.on("data",Z1)}this._inflate[jf]=n,this._inflate.write(e),t&&this._inflate.write(hee),this._inflate.flush(()=>{let o=this._inflate[yy];if(o){this._inflate.close(),this._inflate=null,n(o);return}let s=Y1.concat(this._inflate[zs],this._inflate[es]);this._inflate._readableState.endEmitted?(this._inflate.close(),this._inflate=null):(this._inflate[es]=0,this._inflate[zs]=[],t&&this.params[`${i}_no_context_takeover`]&&this._inflate.reset()),n(null,s)})}_compress(e,t,n){let i=this._isServer?"server":"client";if(!this._deflate){let o=`${i}_max_window_bits`,s=typeof this.params[o]!="number"?Uf.Z_DEFAULT_WINDOWBITS:this.params[o];this._deflate=Uf.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:s}),this._deflate[es]=0,this._deflate[zs]=[],this._deflate.on("data",gee)}this._deflate[jf]=n,this._deflate.write(e),this._deflate.flush(Uf.Z_SYNC_FLUSH,()=>{if(!this._deflate)return;let o=Y1.concat(this._deflate[zs],this._deflate[es]);t&&(o=new mee(o.buffer,o.byteOffset,o.length-4)),this._deflate[jf]=null,this._deflate[es]=0,this._deflate[zs]=[],t&&this.params[`${i}_no_context_takeover`]&&this._deflate.reset(),n(null,o)})}};eO.exports=UA;function gee(r){this[zs].push(r),this[es]+=r.length}function Z1(r){if(this[es]+=r.length,this[by]._maxPayload<1||this[es]<=this[by]._maxPayload){this[zs].push(r);return}this[yy]=new RangeError("Max payload size exceeded"),this[yy].code="WS_ERR_UNSUPPORTED_MESSAGE_LENGTH",this[yy][Q1]=1009,this.removeListener("data",Z1),this.reset()}function Hee(r){this[by]._inflate=null,r[Q1]=1007,this[jf](r)}});var qf=b((Owe,vy)=>{"use strict";var{isUtf8:tO}=require("buffer"),yee=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0];function bee(r){return r>=1e3&&r<=1014&&r!==1004&&r!==1005&&r!==1006||r>=3e3&&r<=4999}function jA(r){let e=r.length,t=0;for(;t<e;)if(!(r[t]&128))t++;else if((r[t]&224)===192){if(t+1===e||(r[t+1]&192)!==128||(r[t]&254)===192)return!1;t+=2}else if((r[t]&240)===224){if(t+2>=e||(r[t+1]&192)!==128||(r[t+2]&192)!==128||r[t]===224&&(r[t+1]&224)===128||r[t]===237&&(r[t+1]&224)===160)return!1;t+=3}else if((r[t]&248)===240){if(t+3>=e||(r[t+1]&192)!==128||(r[t+2]&192)!==128||(r[t+3]&192)!==128||r[t]===240&&(r[t+1]&240)===128||r[t]===244&&r[t+1]>143||r[t]>244)return!1;t+=4}else return!1;return!0}vy.exports={isValidStatusCode:bee,isValidUTF8:jA,tokenChars:yee};if(tO)vy.exports.isValidUTF8=function(r){return r.length<24?jA(r):tO(r)};else if(!process.env.WS_NO_UTF_8_VALIDATE)try{let r=require("utf-8-validate");vy.exports.isValidUTF8=function(e){return e.length<32?jA(e):r(e)}}catch{}});var zA=b((Nwe,cO)=>{"use strict";var{Writable:vee}=require("stream"),rO=Wf(),{BINARY_TYPES:xee,EMPTY_BUFFER:nO,kStatusCode:wee,kWebSocket:Iee}=Gs(),{concat:WA,toArrayBuffer:_ee,unmask:Aee}=Bf(),{isValidStatusCode:See,isValidUTF8:iO}=qf(),xy=Buffer[Symbol.species],Eee=Promise.resolve(),qA=typeof queueMicrotask=="function"?queueMicrotask:Pee,jn=0,oO=1,sO=2,aO=3,VA=4,wy=5,Iy=6,GA=class extends vee{constructor(e={}){super(),this._allowSynchronousEvents=!!e.allowSynchronousEvents,this._binaryType=e.binaryType||xee[0],this._extensions=e.extensions||{},this._isServer=!!e.isServer,this._maxPayload=e.maxPayload|0,this._skipUTF8Validation=!!e.skipUTF8Validation,this[Iee]=void 0,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._errored=!1,this._loop=!1,this._state=jn}_write(e,t,n){if(this._opcode===8&&this._state==jn)return n();this._bufferedBytes+=e.length,this._buffers.push(e),this.startLoop(n)}consume(e){if(this._bufferedBytes-=e,e===this._buffers[0].length)return this._buffers.shift();if(e<this._buffers[0].length){let n=this._buffers[0];return this._buffers[0]=new xy(n.buffer,n.byteOffset+e,n.length-e),new xy(n.buffer,n.byteOffset,e)}let t=Buffer.allocUnsafe(e);do{let n=this._buffers[0],i=t.length-e;e>=n.length?t.set(this._buffers.shift(),i):(t.set(new Uint8Array(n.buffer,n.byteOffset,e),i),this._buffers[0]=new xy(n.buffer,n.byteOffset+e,n.length-e)),e-=n.length}while(e>0);return t}startLoop(e){this._loop=!0;do switch(this._state){case jn:this.getInfo(e);break;case oO:this.getPayloadLength16(e);break;case sO:this.getPayloadLength64(e);break;case aO:this.getMask();break;case VA:this.getData(e);break;case wy:case Iy:this._loop=!1;return}while(this._loop);this._errored||e()}getInfo(e){if(this._bufferedBytes<2){this._loop=!1;return}let t=this.consume(2);if(t[0]&48){let i=this.createError(RangeError,"RSV2 and RSV3 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_2_3");e(i);return}let n=(t[0]&64)===64;if(n&&!this._extensions[rO.extensionName]){let i=this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");e(i);return}if(this._fin=(t[0]&128)===128,this._opcode=t[0]&15,this._payloadLength=t[1]&127,this._opcode===0){if(n){let i=this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");e(i);return}if(!this._fragmented){let i=this.createError(RangeError,"invalid opcode 0",!0,1002,"WS_ERR_INVALID_OPCODE");e(i);return}this._opcode=this._fragmented}else if(this._opcode===1||this._opcode===2){if(this._fragmented){let i=this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");e(i);return}this._compressed=n}else if(this._opcode>7&&this._opcode<11){if(!this._fin){let i=this.createError(RangeError,"FIN must be set",!0,1002,"WS_ERR_EXPECTED_FIN");e(i);return}if(n){let i=this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");e(i);return}if(this._payloadLength>125||this._opcode===8&&this._payloadLength===1){let i=this.createError(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH");e(i);return}}else{let i=this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");e(i);return}if(!this._fin&&!this._fragmented&&(this._fragmented=this._opcode),this._masked=(t[1]&128)===128,this._isServer){if(!this._masked){let i=this.createError(RangeError,"MASK must be set",!0,1002,"WS_ERR_EXPECTED_MASK");e(i);return}}else if(this._masked){let i=this.createError(RangeError,"MASK must be clear",!0,1002,"WS_ERR_UNEXPECTED_MASK");e(i);return}this._payloadLength===126?this._state=oO:this._payloadLength===127?this._state=sO:this.haveLength(e)}getPayloadLength16(e){if(this._bufferedBytes<2){this._loop=!1;return}this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength(e)}getPayloadLength64(e){if(this._bufferedBytes<8){this._loop=!1;return}let t=this.consume(8),n=t.readUInt32BE(0);if(n>Math.pow(2,21)-1){let i=this.createError(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009,"WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH");e(i);return}this._payloadLength=n*Math.pow(2,32)+t.readUInt32BE(4),this.haveLength(e)}haveLength(e){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0)){let t=this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");e(t);return}this._masked?this._state=aO:this._state=VA}getMask(){if(this._bufferedBytes<4){this._loop=!1;return}this._mask=this.consume(4),this._state=VA}getData(e){let t=nO;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength){this._loop=!1;return}t=this.consume(this._payloadLength),this._masked&&this._mask[0]|this._mask[1]|this._mask[2]|this._mask[3]&&Aee(t,this._mask)}if(this._opcode>7){this.controlMessage(t,e);return}if(this._compressed){this._state=wy,this.decompress(t,e);return}t.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(t)),this.dataMessage(e)}decompress(e,t){this._extensions[rO.extensionName].decompress(e,this._fin,(i,o)=>{if(i)return t(i);if(o.length){if(this._messageLength+=o.length,this._messageLength>this._maxPayload&&this._maxPayload>0){let s=this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");t(s);return}this._fragments.push(o)}this.dataMessage(t),this._state===jn&&this.startLoop(t)})}dataMessage(e){if(!this._fin){this._state=jn;return}let t=this._messageLength,n=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],this._opcode===2){let i;this._binaryType==="nodebuffer"?i=WA(n,t):this._binaryType==="arraybuffer"?i=_ee(WA(n,t)):i=n,this._state===wy||this._allowSynchronousEvents?(this.emit("message",i,!0),this._state=jn):(this._state=Iy,qA(()=>{this.emit("message",i,!0),this._state=jn,this.startLoop(e)}))}else{let i=WA(n,t);if(!this._skipUTF8Validation&&!iO(i)){let o=this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");e(o);return}this._state===wy||this._allowSynchronousEvents?(this.emit("message",i,!1),this._state=jn):(this._state=Iy,qA(()=>{this.emit("message",i,!1),this._state=jn,this.startLoop(e)}))}}controlMessage(e,t){if(this._opcode===8){if(e.length===0)this._loop=!1,this.emit("conclude",1005,nO),this.end();else{let n=e.readUInt16BE(0);if(!See(n)){let o=this.createError(RangeError,`invalid status code ${n}`,!0,1002,"WS_ERR_INVALID_CLOSE_CODE");t(o);return}let i=new xy(e.buffer,e.byteOffset+2,e.length-2);if(!this._skipUTF8Validation&&!iO(i)){let o=this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");t(o);return}this._loop=!1,this.emit("conclude",n,i),this.end()}this._state=jn;return}this._allowSynchronousEvents?(this.emit(this._opcode===9?"ping":"pong",e),this._state=jn):(this._state=Iy,qA(()=>{this.emit(this._opcode===9?"ping":"pong",e),this._state=jn,this.startLoop(t)}))}createError(e,t,n,i,o){this._loop=!1,this._errored=!0;let s=new e(n?`Invalid WebSocket frame: ${t}`:t);return Error.captureStackTrace(s,this.createError),s.code=o,s[wee]=i,s}};cO.exports=GA;function Pee(r){Eee.then(r).catch(Tee)}function Cee(r){throw r}function Tee(r){process.nextTick(Cee,r)}});var XA=b((Bwe,pO)=>{"use strict";var{Duplex:Fwe}=require("stream"),{randomFillSync:Lee}=require("crypto"),uO=Wf(),{EMPTY_BUFFER:Dee}=Gs(),{isValidStatusCode:$ee}=qf(),{mask:lO,toBuffer:bl}=Bf(),bi=Symbol("kByteLength"),kee=Buffer.alloc(4),KA=class r{constructor(e,t,n){this._extensions=t||{},n&&(this._generateMask=n,this._maskBuffer=Buffer.alloc(4)),this._socket=e,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._deflating=!1,this._queue=[]}static frame(e,t){let n,i=!1,o=2,s=!1;t.mask&&(n=t.maskBuffer||kee,t.generateMask?t.generateMask(n):Lee(n,0,4),s=(n[0]|n[1]|n[2]|n[3])===0,o=6);let a;typeof e=="string"?(!t.mask||s)&&t[bi]!==void 0?a=t[bi]:(e=Buffer.from(e),a=e.length):(a=e.length,i=t.mask&&t.readOnly&&!s);let c=a;a>=65536?(o+=8,c=127):a>125&&(o+=2,c=126);let u=Buffer.allocUnsafe(i?a+o:o);return u[0]=t.fin?t.opcode|128:t.opcode,t.rsv1&&(u[0]|=64),u[1]=c,c===126?u.writeUInt16BE(a,2):c===127&&(u[2]=u[3]=0,u.writeUIntBE(a,4,6)),t.mask?(u[1]|=128,u[o-4]=n[0],u[o-3]=n[1],u[o-2]=n[2],u[o-1]=n[3],s?[u,e]:i?(lO(e,n,u,o,a),[u]):(lO(e,n,e,0,a),[u,e])):[u,e]}close(e,t,n,i){let o;if(e===void 0)o=Dee;else{if(typeof e!="number"||!$ee(e))throw new TypeError("First argument must be a valid error code number");if(t===void 0||!t.length)o=Buffer.allocUnsafe(2),o.writeUInt16BE(e,0);else{let a=Buffer.byteLength(t);if(a>123)throw new RangeError("The message must not be greater than 123 bytes");o=Buffer.allocUnsafe(2+a),o.writeUInt16BE(e,0),typeof t=="string"?o.write(t,2):o.set(t,2)}}let s={[bi]:o.length,fin:!0,generateMask:this._generateMask,mask:n,maskBuffer:this._maskBuffer,opcode:8,readOnly:!1,rsv1:!1};this._deflating?this.enqueue([this.dispatch,o,!1,s,i]):this.sendFrame(r.frame(o,s),i)}ping(e,t,n){let i,o;if(typeof e=="string"?(i=Buffer.byteLength(e),o=!1):(e=bl(e),i=e.length,o=bl.readOnly),i>125)throw new RangeError("The data size must not be greater than 125 bytes");let s={[bi]:i,fin:!0,generateMask:this._generateMask,mask:t,maskBuffer:this._maskBuffer,opcode:9,readOnly:o,rsv1:!1};this._deflating?this.enqueue([this.dispatch,e,!1,s,n]):this.sendFrame(r.frame(e,s),n)}pong(e,t,n){let i,o;if(typeof e=="string"?(i=Buffer.byteLength(e),o=!1):(e=bl(e),i=e.length,o=bl.readOnly),i>125)throw new RangeError("The data size must not be greater than 125 bytes");let s={[bi]:i,fin:!0,generateMask:this._generateMask,mask:t,maskBuffer:this._maskBuffer,opcode:10,readOnly:o,rsv1:!1};this._deflating?this.enqueue([this.dispatch,e,!1,s,n]):this.sendFrame(r.frame(e,s),n)}send(e,t,n){let i=this._extensions[uO.extensionName],o=t.binary?2:1,s=t.compress,a,c;if(typeof e=="string"?(a=Buffer.byteLength(e),c=!1):(e=bl(e),a=e.length,c=bl.readOnly),this._firstFragment?(this._firstFragment=!1,s&&i&&i.params[i._isServer?"server_no_context_takeover":"client_no_context_takeover"]&&(s=a>=i._threshold),this._compress=s):(s=!1,o=0),t.fin&&(this._firstFragment=!0),i){let u={[bi]:a,fin:t.fin,generateMask:this._generateMask,mask:t.mask,maskBuffer:this._maskBuffer,opcode:o,readOnly:c,rsv1:s};this._deflating?this.enqueue([this.dispatch,e,this._compress,u,n]):this.dispatch(e,this._compress,u,n)}else this.sendFrame(r.frame(e,{[bi]:a,fin:t.fin,generateMask:this._generateMask,mask:t.mask,maskBuffer:this._maskBuffer,opcode:o,readOnly:c,rsv1:!1}),n)}dispatch(e,t,n,i){if(!t){this.sendFrame(r.frame(e,n),i);return}let o=this._extensions[uO.extensionName];this._bufferedBytes+=n[bi],this._deflating=!0,o.compress(e,n.fin,(s,a)=>{if(this._socket.destroyed){let c=new Error("The socket was closed while data was being compressed");typeof i=="function"&&i(c);for(let u=0;u<this._queue.length;u++){let l=this._queue[u],p=l[l.length-1];typeof p=="function"&&p(c)}return}this._bufferedBytes-=n[bi],this._deflating=!1,n.readOnly=!1,this.sendFrame(r.frame(a,n),i),this.dequeue()})}dequeue(){for(;!this._deflating&&this._queue.length;){let e=this._queue.shift();this._bufferedBytes-=e[3][bi],Reflect.apply(e[0],this,e.slice(1))}}enqueue(e){this._bufferedBytes+=e[3][bi],this._queue.push(e)}sendFrame(e,t){e.length===2?(this._socket.cork(),this._socket.write(e[0]),this._socket.write(e[1],t),this._socket.uncork()):this._socket.write(e[0],t)}};pO.exports=KA});var vO=b((Uwe,bO)=>{"use strict";var{kForOnEventAttribute:Vf,kListener:JA}=Gs(),dO=Symbol("kCode"),fO=Symbol("kData"),mO=Symbol("kError"),hO=Symbol("kMessage"),gO=Symbol("kReason"),vl=Symbol("kTarget"),HO=Symbol("kType"),yO=Symbol("kWasClean"),ts=class{constructor(e){this[vl]=null,this[HO]=e}get target(){return this[vl]}get type(){return this[HO]}};Object.defineProperty(ts.prototype,"target",{enumerable:!0});Object.defineProperty(ts.prototype,"type",{enumerable:!0});var wc=class extends ts{constructor(e,t={}){super(e),this[dO]=t.code===void 0?0:t.code,this[gO]=t.reason===void 0?"":t.reason,this[yO]=t.wasClean===void 0?!1:t.wasClean}get code(){return this[dO]}get reason(){return this[gO]}get wasClean(){return this[yO]}};Object.defineProperty(wc.prototype,"code",{enumerable:!0});Object.defineProperty(wc.prototype,"reason",{enumerable:!0});Object.defineProperty(wc.prototype,"wasClean",{enumerable:!0});var xl=class extends ts{constructor(e,t={}){super(e),this[mO]=t.error===void 0?null:t.error,this[hO]=t.message===void 0?"":t.message}get error(){return this[mO]}get message(){return this[hO]}};Object.defineProperty(xl.prototype,"error",{enumerable:!0});Object.defineProperty(xl.prototype,"message",{enumerable:!0});var Gf=class extends ts{constructor(e,t={}){super(e),this[fO]=t.data===void 0?null:t.data}get data(){return this[fO]}};Object.defineProperty(Gf.prototype,"data",{enumerable:!0});var Ree={addEventListener(r,e,t={}){for(let i of this.listeners(r))if(!t[Vf]&&i[JA]===e&&!i[Vf])return;let n;if(r==="message")n=function(o,s){let a=new Gf("message",{data:s?o:o.toString()});a[vl]=this,_y(e,this,a)};else if(r==="close")n=function(o,s){let a=new wc("close",{code:o,reason:s.toString(),wasClean:this._closeFrameReceived&&this._closeFrameSent});a[vl]=this,_y(e,this,a)};else if(r==="error")n=function(o){let s=new xl("error",{error:o,message:o.message});s[vl]=this,_y(e,this,s)};else if(r==="open")n=function(){let o=new ts("open");o[vl]=this,_y(e,this,o)};else return;n[Vf]=!!t[Vf],n[JA]=e,t.once?this.once(r,n):this.on(r,n)},removeEventListener(r,e){for(let t of this.listeners(r))if(t[JA]===e&&!t[Vf]){this.removeListener(r,t);break}}};bO.exports={CloseEvent:wc,ErrorEvent:xl,Event:ts,EventTarget:Ree,MessageEvent:Gf};function _y(r,e,t){typeof r=="object"&&r.handleEvent?r.handleEvent.call(r,t):r.call(e,t)}});var YA=b((jwe,xO)=>{"use strict";var{tokenChars:zf}=qf();function go(r,e,t){r[e]===void 0?r[e]=[t]:r[e].push(t)}function Mee(r){let e=Object.create(null),t=Object.create(null),n=!1,i=!1,o=!1,s,a,c=-1,u=-1,l=-1,p=0;for(;p<r.length;p++)if(u=r.charCodeAt(p),s===void 0)if(l===-1&&zf[u]===1)c===-1&&(c=p);else if(p!==0&&(u===32||u===9))l===-1&&c!==-1&&(l=p);else if(u===59||u===44){if(c===-1)throw new SyntaxError(`Unexpected character at index ${p}`);l===-1&&(l=p);let h=r.slice(c,l);u===44?(go(e,h,t),t=Object.create(null)):s=h,c=l=-1}else throw new SyntaxError(`Unexpected character at index ${p}`);else if(a===void 0)if(l===-1&&zf[u]===1)c===-1&&(c=p);else if(u===32||u===9)l===-1&&c!==-1&&(l=p);else if(u===59||u===44){if(c===-1)throw new SyntaxError(`Unexpected character at index ${p}`);l===-1&&(l=p),go(t,r.slice(c,l),!0),u===44&&(go(e,s,t),t=Object.create(null),s=void 0),c=l=-1}else if(u===61&&c!==-1&&l===-1)a=r.slice(c,p),c=l=-1;else throw new SyntaxError(`Unexpected character at index ${p}`);else if(i){if(zf[u]!==1)throw new SyntaxError(`Unexpected character at index ${p}`);c===-1?c=p:n||(n=!0),i=!1}else if(o)if(zf[u]===1)c===-1&&(c=p);else if(u===34&&c!==-1)o=!1,l=p;else if(u===92)i=!0;else throw new SyntaxError(`Unexpected character at index ${p}`);else if(u===34&&r.charCodeAt(p-1)===61)o=!0;else if(l===-1&&zf[u]===1)c===-1&&(c=p);else if(c!==-1&&(u===32||u===9))l===-1&&(l=p);else if(u===59||u===44){if(c===-1)throw new SyntaxError(`Unexpected character at index ${p}`);l===-1&&(l=p);let h=r.slice(c,l);n&&(h=h.replace(/\\/g,""),n=!1),go(t,a,h),u===44&&(go(e,s,t),t=Object.create(null),s=void 0),a=void 0,c=l=-1}else throw new SyntaxError(`Unexpected character at index ${p}`);if(c===-1||o||u===32||u===9)throw new SyntaxError("Unexpected end of input");l===-1&&(l=p);let d=r.slice(c,l);return s===void 0?go(e,d,t):(a===void 0?go(t,d,!0):n?go(t,a,d.replace(/\\/g,"")):go(t,a,d),go(e,s,t)),e}function Oee(r){return Object.keys(r).map(e=>{let t=r[e];return Array.isArray(t)||(t=[t]),t.map(n=>[e].concat(Object.keys(n).map(i=>{let o=n[i];return Array.isArray(o)||(o=[o]),o.map(s=>s===!0?i:`${i}=${s}`).join("; ")})).join("; ")).join(", ")}).join(", ")}xO.exports={format:Oee,parse:Mee}});var rS=b((Vwe,DO)=>{"use strict";var Nee=require("events"),Fee=require("https"),Bee=require("http"),_O=require("net"),Uee=require("tls"),{randomBytes:jee,createHash:Wee}=require("crypto"),{Duplex:Wwe,Readable:qwe}=require("stream"),{URL:QA}=require("url"),Ks=Wf(),qee=zA(),Vee=XA(),{BINARY_TYPES:wO,EMPTY_BUFFER:Ay,GUID:Gee,kForOnEventAttribute:ZA,kListener:zee,kStatusCode:Kee,kWebSocket:Cr,NOOP:AO}=Gs(),{EventTarget:{addEventListener:Xee,removeEventListener:Jee}}=vO(),{format:Yee,parse:Qee}=YA(),{toBuffer:Zee}=Bf(),ete=30*1e3,SO=Symbol("kAborted"),eS=[8,13],rs=["CONNECTING","OPEN","CLOSING","CLOSED"],tte=/^[!#$%&'*+\-.0-9A-Z^_`|a-z~]+$/,kt=class r extends Nee{constructor(e,t,n){super(),this._binaryType=wO[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage=Ay,this._closeTimer=null,this._extensions={},this._paused=!1,this._protocol="",this._readyState=r.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,e!==null?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,t===void 0?t=[]:Array.isArray(t)||(typeof t=="object"&&t!==null?(n=t,t=[]):t=[t]),EO(this,e,t,n)):(this._autoPong=n.autoPong,this._isServer=!0)}get binaryType(){return this._binaryType}set binaryType(e){wO.includes(e)&&(this._binaryType=e,this._receiver&&(this._receiver._binaryType=e))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}get isPaused(){return this._paused}get onclose(){return null}get onerror(){return null}get onopen(){return null}get onmessage(){return null}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(e,t,n){let i=new qee({allowSynchronousEvents:n.allowSynchronousEvents,binaryType:this.binaryType,extensions:this._extensions,isServer:this._isServer,maxPayload:n.maxPayload,skipUTF8Validation:n.skipUTF8Validation});this._sender=new Vee(e,this._extensions,n.generateMask),this._receiver=i,this._socket=e,i[Cr]=this,e[Cr]=this,i.on("conclude",ite),i.on("drain",ote),i.on("error",ste),i.on("message",ate),i.on("ping",cte),i.on("pong",ute),e.setTimeout&&e.setTimeout(0),e.setNoDelay&&e.setNoDelay(),t.length>0&&e.unshift(t),e.on("close",CO),e.on("data",Ey),e.on("end",TO),e.on("error",LO),this._readyState=r.OPEN,this.emit("open")}emitClose(){if(!this._socket){this._readyState=r.CLOSED,this.emit("close",this._closeCode,this._closeMessage);return}this._extensions[Ks.extensionName]&&this._extensions[Ks.extensionName].cleanup(),this._receiver.removeAllListeners(),this._readyState=r.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(e,t){if(this.readyState!==r.CLOSED){if(this.readyState===r.CONNECTING){hn(this,this._req,"WebSocket was closed before the connection was established");return}if(this.readyState===r.CLOSING){this._closeFrameSent&&(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end();return}this._readyState=r.CLOSING,this._sender.close(e,t,!this._isServer,n=>{n||(this._closeFrameSent=!0,(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end())}),this._closeTimer=setTimeout(this._socket.destroy.bind(this._socket),ete)}}pause(){this.readyState===r.CONNECTING||this.readyState===r.CLOSED||(this._paused=!0,this._socket.pause())}ping(e,t,n){if(this.readyState===r.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof e=="function"?(n=e,e=t=void 0):typeof t=="function"&&(n=t,t=void 0),typeof e=="number"&&(e=e.toString()),this.readyState!==r.OPEN){tS(this,e,n);return}t===void 0&&(t=!this._isServer),this._sender.ping(e||Ay,t,n)}pong(e,t,n){if(this.readyState===r.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof e=="function"?(n=e,e=t=void 0):typeof t=="function"&&(n=t,t=void 0),typeof e=="number"&&(e=e.toString()),this.readyState!==r.OPEN){tS(this,e,n);return}t===void 0&&(t=!this._isServer),this._sender.pong(e||Ay,t,n)}resume(){this.readyState===r.CONNECTING||this.readyState===r.CLOSED||(this._paused=!1,this._receiver._writableState.needDrain||this._socket.resume())}send(e,t,n){if(this.readyState===r.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof t=="function"&&(n=t,t={}),typeof e=="number"&&(e=e.toString()),this.readyState!==r.OPEN){tS(this,e,n);return}let i={binary:typeof e!="string",mask:!this._isServer,compress:!0,fin:!0,...t};this._extensions[Ks.extensionName]||(i.compress=!1),this._sender.send(e||Ay,i,n)}terminate(){if(this.readyState!==r.CLOSED){if(this.readyState===r.CONNECTING){hn(this,this._req,"WebSocket was closed before the connection was established");return}this._socket&&(this._readyState=r.CLOSING,this._socket.destroy())}}};Object.defineProperty(kt,"CONNECTING",{enumerable:!0,value:rs.indexOf("CONNECTING")});Object.defineProperty(kt.prototype,"CONNECTING",{enumerable:!0,value:rs.indexOf("CONNECTING")});Object.defineProperty(kt,"OPEN",{enumerable:!0,value:rs.indexOf("OPEN")});Object.defineProperty(kt.prototype,"OPEN",{enumerable:!0,value:rs.indexOf("OPEN")});Object.defineProperty(kt,"CLOSING",{enumerable:!0,value:rs.indexOf("CLOSING")});Object.defineProperty(kt.prototype,"CLOSING",{enumerable:!0,value:rs.indexOf("CLOSING")});Object.defineProperty(kt,"CLOSED",{enumerable:!0,value:rs.indexOf("CLOSED")});Object.defineProperty(kt.prototype,"CLOSED",{enumerable:!0,value:rs.indexOf("CLOSED")});["binaryType","bufferedAmount","extensions","isPaused","protocol","readyState","url"].forEach(r=>{Object.defineProperty(kt.prototype,r,{enumerable:!0})});["open","error","close","message"].forEach(r=>{Object.defineProperty(kt.prototype,`on${r}`,{enumerable:!0,get(){for(let e of this.listeners(r))if(e[ZA])return e[zee];return null},set(e){for(let t of this.listeners(r))if(t[ZA]){this.removeListener(r,t);break}typeof e=="function"&&this.addEventListener(r,e,{[ZA]:!0})}})});kt.prototype.addEventListener=Xee;kt.prototype.removeEventListener=Jee;DO.exports=kt;function EO(r,e,t,n){let i={allowSynchronousEvents:!1,autoPong:!0,protocolVersion:eS[1],maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...n,createConnection:void 0,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:"GET",host:void 0,path:void 0,port:void 0};if(r._autoPong=i.autoPong,!eS.includes(i.protocolVersion))throw new RangeError(`Unsupported protocol version: ${i.protocolVersion} (supported versions: ${eS.join(", ")})`);let o;if(e instanceof QA)o=e;else try{o=new QA(e)}catch{throw new SyntaxError(`Invalid URL: ${e}`)}o.protocol==="http:"?o.protocol="ws:":o.protocol==="https:"&&(o.protocol="wss:"),r._url=o.href;let s=o.protocol==="wss:",a=o.protocol==="ws+unix:",c;if(o.protocol!=="ws:"&&!s&&!a?c=`The URL's protocol must be one of "ws:", "wss:", "http:", "https", or "ws+unix:"`:a&&!o.pathname?c="The URL's pathname is empty":o.hash&&(c="The URL contains a fragment identifier"),c){let g=new SyntaxError(c);if(r._redirects===0)throw g;Sy(r,g);return}let u=s?443:80,l=jee(16).toString("base64"),p=s?Fee.request:Bee.request,d=new Set,h;if(i.createConnection=s?nte:rte,i.defaultPort=i.defaultPort||u,i.port=o.port||u,i.host=o.hostname.startsWith("[")?o.hostname.slice(1,-1):o.hostname,i.headers={...i.headers,"Sec-WebSocket-Version":i.protocolVersion,"Sec-WebSocket-Key":l,Connection:"Upgrade",Upgrade:"websocket"},i.path=o.pathname+o.search,i.timeout=i.handshakeTimeout,i.perMessageDeflate&&(h=new Ks(i.perMessageDeflate!==!0?i.perMessageDeflate:{},!1,i.maxPayload),i.headers["Sec-WebSocket-Extensions"]=Yee({[Ks.extensionName]:h.offer()})),t.length){for(let g of t){if(typeof g!="string"||!tte.test(g)||d.has(g))throw new SyntaxError("An invalid or duplicated subprotocol was specified");d.add(g)}i.headers["Sec-WebSocket-Protocol"]=t.join(",")}if(i.origin&&(i.protocolVersion<13?i.headers["Sec-WebSocket-Origin"]=i.origin:i.headers.Origin=i.origin),(o.username||o.password)&&(i.auth=`${o.username}:${o.password}`),a){let g=i.path.split(":");i.socketPath=g[0],i.path=g[1]}let f;if(i.followRedirects){if(r._redirects===0){r._originalIpc=a,r._originalSecure=s,r._originalHostOrSocketPath=a?i.socketPath:o.host;let g=n&&n.headers;if(n={...n,headers:{}},g)for(let[v,S]of Object.entries(g))n.headers[v.toLowerCase()]=S}else if(r.listenerCount("redirect")===0){let g=a?r._originalIpc?i.socketPath===r._originalHostOrSocketPath:!1:r._originalIpc?!1:o.host===r._originalHostOrSocketPath;(!g||r._originalSecure&&!s)&&(delete i.headers.authorization,delete i.headers.cookie,g||delete i.headers.host,i.auth=void 0)}i.auth&&!n.headers.authorization&&(n.headers.authorization="Basic "+Buffer.from(i.auth).toString("base64")),f=r._req=p(i),r._redirects&&r.emit("redirect",r.url,f)}else f=r._req=p(i);i.timeout&&f.on("timeout",()=>{hn(r,f,"Opening handshake has timed out")}),f.on("error",g=>{f===null||f[SO]||(f=r._req=null,Sy(r,g))}),f.on("response",g=>{let v=g.headers.location,S=g.statusCode;if(v&&i.followRedirects&&S>=300&&S<400){if(++r._redirects>i.maxRedirects){hn(r,f,"Maximum redirects exceeded");return}f.abort();let R;try{R=new QA(v,e)}catch{let X=new SyntaxError(`Invalid URL: ${v}`);Sy(r,X);return}EO(r,R,t,n)}else r.emit("unexpected-response",f,g)||hn(r,f,`Unexpected server response: ${g.statusCode}`)}),f.on("upgrade",(g,v,S)=>{if(r.emit("upgrade",g),r.readyState!==kt.CONNECTING)return;if(f=r._req=null,g.headers.upgrade.toLowerCase()!=="websocket"){hn(r,v,"Invalid Upgrade header");return}let R=Wee("sha1").update(l+Gee).digest("base64");if(g.headers["sec-websocket-accept"]!==R){hn(r,v,"Invalid Sec-WebSocket-Accept header");return}let F=g.headers["sec-websocket-protocol"],X;if(F!==void 0?d.size?d.has(F)||(X="Server sent an invalid subprotocol"):X="Server sent a subprotocol but none was requested":d.size&&(X="Server sent no subprotocol"),X){hn(r,v,X);return}F&&(r._protocol=F);let G=g.headers["sec-websocket-extensions"];if(G!==void 0){if(!h){hn(r,v,"Server sent a Sec-WebSocket-Extensions header but no extension was requested");return}let J;try{J=Qee(G)}catch{hn(r,v,"Invalid Sec-WebSocket-Extensions header");return}let z=Object.keys(J);if(z.length!==1||z[0]!==Ks.extensionName){hn(r,v,"Server indicated an extension that was not requested");return}try{h.accept(J[Ks.extensionName])}catch{hn(r,v,"Invalid Sec-WebSocket-Extensions header");return}r._extensions[Ks.extensionName]=h}r.setSocket(v,S,{allowSynchronousEvents:i.allowSynchronousEvents,generateMask:i.generateMask,maxPayload:i.maxPayload,skipUTF8Validation:i.skipUTF8Validation})}),i.finishRequest?i.finishRequest(f,r):f.end()}function Sy(r,e){r._readyState=kt.CLOSING,r.emit("error",e),r.emitClose()}function rte(r){return r.path=r.socketPath,_O.connect(r)}function nte(r){return r.path=void 0,!r.servername&&r.servername!==""&&(r.servername=_O.isIP(r.host)?"":r.host),Uee.connect(r)}function hn(r,e,t){r._readyState=kt.CLOSING;let n=new Error(t);Error.captureStackTrace(n,hn),e.setHeader?(e[SO]=!0,e.abort(),e.socket&&!e.socket.destroyed&&e.socket.destroy(),process.nextTick(Sy,r,n)):(e.destroy(n),e.once("error",r.emit.bind(r,"error")),e.once("close",r.emitClose.bind(r)))}function tS(r,e,t){if(e){let n=Zee(e).length;r._socket?r._sender._bufferedBytes+=n:r._bufferedAmount+=n}if(t){let n=new Error(`WebSocket is not open: readyState ${r.readyState} (${rs[r.readyState]})`);process.nextTick(t,n)}}function ite(r,e){let t=this[Cr];t._closeFrameReceived=!0,t._closeMessage=e,t._closeCode=r,t._socket[Cr]!==void 0&&(t._socket.removeListener("data",Ey),process.nextTick(PO,t._socket),r===1005?t.close():t.close(r,e))}function ote(){let r=this[Cr];r.isPaused||r._socket.resume()}function ste(r){let e=this[Cr];e._socket[Cr]!==void 0&&(e._socket.removeListener("data",Ey),process.nextTick(PO,e._socket),e.close(r[Kee])),e.emit("error",r)}function IO(){this[Cr].emitClose()}function ate(r,e){this[Cr].emit("message",r,e)}function cte(r){let e=this[Cr];e._autoPong&&e.pong(r,!this._isServer,AO),e.emit("ping",r)}function ute(r){this[Cr].emit("pong",r)}function PO(r){r.resume()}function CO(){let r=this[Cr];this.removeListener("close",CO),this.removeListener("data",Ey),this.removeListener("end",TO),r._readyState=kt.CLOSING;let e;!this._readableState.endEmitted&&!r._closeFrameReceived&&!r._receiver._writableState.errorEmitted&&(e=r._socket.read())!==null&&r._receiver.write(e),r._receiver.end(),this[Cr]=void 0,clearTimeout(r._closeTimer),r._receiver._writableState.finished||r._receiver._writableState.errorEmitted?r.emitClose():(r._receiver.on("error",IO),r._receiver.on("finish",IO))}function Ey(r){this[Cr]._receiver.write(r)||this.pause()}function TO(){let r=this[Cr];r._readyState=kt.CLOSING,r._receiver.end(),this.end()}function LO(){let r=this[Cr];this.removeListener("error",LO),this.on("error",AO),r&&(r._readyState=kt.CLOSING,this.destroy())}});var kO=b((Gwe,$O)=>{"use strict";var{tokenChars:lte}=qf();function pte(r){let e=new Set,t=-1,n=-1,i=0;for(i;i<r.length;i++){let s=r.charCodeAt(i);if(n===-1&&lte[s]===1)t===-1&&(t=i);else if(i!==0&&(s===32||s===9))n===-1&&t!==-1&&(n=i);else if(s===44){if(t===-1)throw new SyntaxError(`Unexpected character at index ${i}`);n===-1&&(n=i);let a=r.slice(t,n);if(e.has(a))throw new SyntaxError(`The "${a}" subprotocol is duplicated`);e.add(a),t=n=-1}else throw new SyntaxError(`Unexpected character at index ${i}`)}if(t===-1||n!==-1)throw new SyntaxError("Unexpected end of input");let o=r.slice(t,i);if(e.has(o))throw new SyntaxError(`The "${o}" subprotocol is duplicated`);return e.add(o),e}$O.exports={parse:pte}});var UO=b((Kwe,BO)=>{"use strict";var dte=require("events"),Py=require("http"),{Duplex:zwe}=require("stream"),{createHash:fte}=require("crypto"),RO=YA(),Ic=Wf(),mte=kO(),hte=rS(),{GUID:gte,kWebSocket:Hte}=Gs(),yte=/^[+/0-9A-Za-z]{22}==$/,MO=0,OO=1,FO=2,nS=class extends dte{constructor(e,t){if(super(),e={allowSynchronousEvents:!1,autoPong:!0,maxPayload:100*1024*1024,skipUTF8Validation:!1,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,WebSocket:hte,...e},e.port==null&&!e.server&&!e.noServer||e.port!=null&&(e.server||e.noServer)||e.server&&e.noServer)throw new TypeError('One and only one of the "port", "server", or "noServer" options must be specified');if(e.port!=null?(this._server=Py.createServer((n,i)=>{let o=Py.STATUS_CODES[426];i.writeHead(426,{"Content-Length":o.length,"Content-Type":"text/plain"}),i.end(o)}),this._server.listen(e.port,e.host,e.backlog,t)):e.server&&(this._server=e.server),this._server){let n=this.emit.bind(this,"connection");this._removeListeners=bte(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(i,o,s)=>{this.handleUpgrade(i,o,s,n)}})}e.perMessageDeflate===!0&&(e.perMessageDeflate={}),e.clientTracking&&(this.clients=new Set,this._shouldEmitClose=!1),this.options=e,this._state=MO}address(){if(this.options.noServer)throw new Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(e){if(this._state===FO){e&&this.once("close",()=>{e(new Error("The server is not running"))}),process.nextTick(Kf,this);return}if(e&&this.once("close",e),this._state!==OO)if(this._state=OO,this.options.noServer||this.options.server)this._server&&(this._removeListeners(),this._removeListeners=this._server=null),this.clients?this.clients.size?this._shouldEmitClose=!0:process.nextTick(Kf,this):process.nextTick(Kf,this);else{let t=this._server;this._removeListeners(),this._removeListeners=this._server=null,t.close(()=>{Kf(this)})}}shouldHandle(e){if(this.options.path){let t=e.url.indexOf("?");if((t!==-1?e.url.slice(0,t):e.url)!==this.options.path)return!1}return!0}handleUpgrade(e,t,n,i){t.on("error",NO);let o=e.headers["sec-websocket-key"],s=+e.headers["sec-websocket-version"];if(e.method!=="GET"){_c(this,e,t,405,"Invalid HTTP method");return}if(e.headers.upgrade.toLowerCase()!=="websocket"){_c(this,e,t,400,"Invalid Upgrade header");return}if(!o||!yte.test(o)){_c(this,e,t,400,"Missing or invalid Sec-WebSocket-Key header");return}if(s!==8&&s!==13){_c(this,e,t,400,"Missing or invalid Sec-WebSocket-Version header");return}if(!this.shouldHandle(e)){Xf(t,400);return}let a=e.headers["sec-websocket-protocol"],c=new Set;if(a!==void 0)try{c=mte.parse(a)}catch{_c(this,e,t,400,"Invalid Sec-WebSocket-Protocol header");return}let u=e.headers["sec-websocket-extensions"],l={};if(this.options.perMessageDeflate&&u!==void 0){let p=new Ic(this.options.perMessageDeflate,!0,this.options.maxPayload);try{let d=RO.parse(u);d[Ic.extensionName]&&(p.accept(d[Ic.extensionName]),l[Ic.extensionName]=p)}catch{_c(this,e,t,400,"Invalid or unacceptable Sec-WebSocket-Extensions header");return}}if(this.options.verifyClient){let p={origin:e.headers[`${s===8?"sec-websocket-origin":"origin"}`],secure:!!(e.socket.authorized||e.socket.encrypted),req:e};if(this.options.verifyClient.length===2){this.options.verifyClient(p,(d,h,f,g)=>{if(!d)return Xf(t,h||401,f,g);this.completeUpgrade(l,o,c,e,t,n,i)});return}if(!this.options.verifyClient(p))return Xf(t,401)}this.completeUpgrade(l,o,c,e,t,n,i)}completeUpgrade(e,t,n,i,o,s,a){if(!o.readable||!o.writable)return o.destroy();if(o[Hte])throw new Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");if(this._state>MO)return Xf(o,503);let u=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${fte("sha1").update(t+gte).digest("base64")}`],l=new this.options.WebSocket(null,void 0,this.options);if(n.size){let p=this.options.handleProtocols?this.options.handleProtocols(n,i):n.values().next().value;p&&(u.push(`Sec-WebSocket-Protocol: ${p}`),l._protocol=p)}if(e[Ic.extensionName]){let p=e[Ic.extensionName].params,d=RO.format({[Ic.extensionName]:[p]});u.push(`Sec-WebSocket-Extensions: ${d}`),l._extensions=e}this.emit("headers",u,i),o.write(u.concat(`\r
`).join(`\r
`)),o.removeListener("error",NO),l.setSocket(o,s,{allowSynchronousEvents:this.options.allowSynchronousEvents,maxPayload:this.options.maxPayload,skipUTF8Validation:this.options.skipUTF8Validation}),this.clients&&(this.clients.add(l),l.on("close",()=>{this.clients.delete(l),this._shouldEmitClose&&!this.clients.size&&process.nextTick(Kf,this)})),a(l,i)}};BO.exports=nS;function bte(r,e){for(let t of Object.keys(e))r.on(t,e[t]);return function(){for(let n of Object.keys(e))r.removeListener(n,e[n])}}function Kf(r){r._state=FO,r.emit("close")}function NO(){this.destroy()}function Xf(r,e,t,n){t=t||Py.STATUS_CODES[e],n={Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(t),...n},r.once("finish",r.destroy),r.end(`HTTP/1.1 ${e} ${Py.STATUS_CODES[e]}\r
`+Object.keys(n).map(i=>`${i}: ${n[i]}`).join(`\r
`)+`\r
\r
`+t)}function _c(r,e,t,n,i){if(r.listenerCount("wsClientError")){let o=new Error(i);Error.captureStackTrace(o,_c),r.emit("wsClientError",o,t,e)}else Xf(t,n,i)}});var nN=b((EIe,rN)=>{"use strict";rN.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var oN=b((PIe,iN)=>{iN.exports=function(e){return!e||typeof e=="string"?!1:e instanceof Array||Array.isArray(e)||e.length>=0&&(e.splice instanceof Function||Object.getOwnPropertyDescriptor(e,e.length-1)&&e.constructor.name!=="String")}});var cN=b((CIe,aN)=>{"use strict";var Pte=oN(),Cte=Array.prototype.concat,Tte=Array.prototype.slice,sN=aN.exports=function(e){for(var t=[],n=0,i=e.length;n<i;n++){var o=e[n];Pte(o)?t=Cte.call(t,Tte.call(o)):t.push(o)}return t};sN.wrap=function(r){return function(){return r(sN(arguments))}}});var dN=b((TIe,pN)=>{var Yf=nN(),Qf=cN(),uN=Object.hasOwnProperty,lN={};for(ky in Yf)uN.call(Yf,ky)&&(lN[Yf[ky]]=ky);var ky,gn=pN.exports={to:{},get:{}};gn.get=function(r){var e=r.substring(0,3).toLowerCase(),t,n;switch(e){case"hsl":t=gn.get.hsl(r),n="hsl";break;case"hwb":t=gn.get.hwb(r),n="hwb";break;default:t=gn.get.rgb(r),n="rgb";break}return t?{model:n,value:t}:null};gn.get.rgb=function(r){if(!r)return null;var e=/^#([a-f0-9]{3,4})$/i,t=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,n=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,i=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,o=/^(\w+)$/,s=[0,0,0,1],a,c,u;if(a=r.match(t)){for(u=a[2],a=a[1],c=0;c<3;c++){var l=c*2;s[c]=parseInt(a.slice(l,l+2),16)}u&&(s[3]=parseInt(u,16)/255)}else if(a=r.match(e)){for(a=a[1],u=a[3],c=0;c<3;c++)s[c]=parseInt(a[c]+a[c],16);u&&(s[3]=parseInt(u+u,16)/255)}else if(a=r.match(n)){for(c=0;c<3;c++)s[c]=parseInt(a[c+1],0);a[4]&&(a[5]?s[3]=parseFloat(a[4])*.01:s[3]=parseFloat(a[4]))}else if(a=r.match(i)){for(c=0;c<3;c++)s[c]=Math.round(parseFloat(a[c+1])*2.55);a[4]&&(a[5]?s[3]=parseFloat(a[4])*.01:s[3]=parseFloat(a[4]))}else return(a=r.match(o))?a[1]==="transparent"?[0,0,0,0]:uN.call(Yf,a[1])?(s=Yf[a[1]],s[3]=1,s):null:null;for(c=0;c<3;c++)s[c]=Js(s[c],0,255);return s[3]=Js(s[3],0,1),s};gn.get.hsl=function(r){if(!r)return null;var e=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,t=r.match(e);if(t){var n=parseFloat(t[4]),i=(parseFloat(t[1])%360+360)%360,o=Js(parseFloat(t[2]),0,100),s=Js(parseFloat(t[3]),0,100),a=Js(isNaN(n)?1:n,0,1);return[i,o,s,a]}return null};gn.get.hwb=function(r){if(!r)return null;var e=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,t=r.match(e);if(t){var n=parseFloat(t[4]),i=(parseFloat(t[1])%360+360)%360,o=Js(parseFloat(t[2]),0,100),s=Js(parseFloat(t[3]),0,100),a=Js(isNaN(n)?1:n,0,1);return[i,o,s,a]}return null};gn.to.hex=function(){var r=Qf(arguments);return"#"+Ry(r[0])+Ry(r[1])+Ry(r[2])+(r[3]<1?Ry(Math.round(r[3]*255)):"")};gn.to.rgb=function(){var r=Qf(arguments);return r.length<4||r[3]===1?"rgb("+Math.round(r[0])+", "+Math.round(r[1])+", "+Math.round(r[2])+")":"rgba("+Math.round(r[0])+", "+Math.round(r[1])+", "+Math.round(r[2])+", "+r[3]+")"};gn.to.rgb.percent=function(){var r=Qf(arguments),e=Math.round(r[0]/255*100),t=Math.round(r[1]/255*100),n=Math.round(r[2]/255*100);return r.length<4||r[3]===1?"rgb("+e+"%, "+t+"%, "+n+"%)":"rgba("+e+"%, "+t+"%, "+n+"%, "+r[3]+")"};gn.to.hsl=function(){var r=Qf(arguments);return r.length<4||r[3]===1?"hsl("+r[0]+", "+r[1]+"%, "+r[2]+"%)":"hsla("+r[0]+", "+r[1]+"%, "+r[2]+"%, "+r[3]+")"};gn.to.hwb=function(){var r=Qf(arguments),e="";return r.length>=4&&r[3]!==1&&(e=", "+r[3]),"hwb("+r[0]+", "+r[1]+"%, "+r[2]+"%"+e+")"};gn.to.keyword=function(r){return lN[r.slice(0,3)]};function Js(r,e,t){return Math.min(Math.max(e,r),t)}function Ry(r){var e=Math.round(r).toString(16).toUpperCase();return e.length<2?"0"+e:e}});var mN=b((LIe,fN)=>{"use strict";fN.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var uS=b((DIe,gN)=>{var Zf=mN(),hN={};for(let r of Object.keys(Zf))hN[Zf[r]]=r;var pe={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};gN.exports=pe;for(let r of Object.keys(pe)){if(!("channels"in pe[r]))throw new Error("missing channels property: "+r);if(!("labels"in pe[r]))throw new Error("missing channel labels property: "+r);if(pe[r].labels.length!==pe[r].channels)throw new Error("channel and label counts mismatch: "+r);let{channels:e,labels:t}=pe[r];delete pe[r].channels,delete pe[r].labels,Object.defineProperty(pe[r],"channels",{value:e}),Object.defineProperty(pe[r],"labels",{value:t})}pe.rgb.hsl=function(r){let e=r[0]/255,t=r[1]/255,n=r[2]/255,i=Math.min(e,t,n),o=Math.max(e,t,n),s=o-i,a,c;o===i?a=0:e===o?a=(t-n)/s:t===o?a=2+(n-e)/s:n===o&&(a=4+(e-t)/s),a=Math.min(a*60,360),a<0&&(a+=360);let u=(i+o)/2;return o===i?c=0:u<=.5?c=s/(o+i):c=s/(2-o-i),[a,c*100,u*100]};pe.rgb.hsv=function(r){let e,t,n,i,o,s=r[0]/255,a=r[1]/255,c=r[2]/255,u=Math.max(s,a,c),l=u-Math.min(s,a,c),p=function(d){return(u-d)/6/l+1/2};return l===0?(i=0,o=0):(o=l/u,e=p(s),t=p(a),n=p(c),s===u?i=n-t:a===u?i=1/3+e-n:c===u&&(i=2/3+t-e),i<0?i+=1:i>1&&(i-=1)),[i*360,o*100,u*100]};pe.rgb.hwb=function(r){let e=r[0],t=r[1],n=r[2],i=pe.rgb.hsl(r)[0],o=1/255*Math.min(e,Math.min(t,n));return n=1-1/255*Math.max(e,Math.max(t,n)),[i,o*100,n*100]};pe.rgb.cmyk=function(r){let e=r[0]/255,t=r[1]/255,n=r[2]/255,i=Math.min(1-e,1-t,1-n),o=(1-e-i)/(1-i)||0,s=(1-t-i)/(1-i)||0,a=(1-n-i)/(1-i)||0;return[o*100,s*100,a*100,i*100]};function Lte(r,e){return(r[0]-e[0])**2+(r[1]-e[1])**2+(r[2]-e[2])**2}pe.rgb.keyword=function(r){let e=hN[r];if(e)return e;let t=1/0,n;for(let i of Object.keys(Zf)){let o=Zf[i],s=Lte(r,o);s<t&&(t=s,n=i)}return n};pe.keyword.rgb=function(r){return Zf[r]};pe.rgb.xyz=function(r){let e=r[0]/255,t=r[1]/255,n=r[2]/255;e=e>.04045?((e+.055)/1.055)**2.4:e/12.92,t=t>.04045?((t+.055)/1.055)**2.4:t/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92;let i=e*.4124+t*.3576+n*.1805,o=e*.2126+t*.7152+n*.0722,s=e*.0193+t*.1192+n*.9505;return[i*100,o*100,s*100]};pe.rgb.lab=function(r){let e=pe.rgb.xyz(r),t=e[0],n=e[1],i=e[2];t/=95.047,n/=100,i/=108.883,t=t>.008856?t**(1/3):7.787*t+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,i=i>.008856?i**(1/3):7.787*i+16/116;let o=116*n-16,s=500*(t-n),a=200*(n-i);return[o,s,a]};pe.hsl.rgb=function(r){let e=r[0]/360,t=r[1]/100,n=r[2]/100,i,o,s;if(t===0)return s=n*255,[s,s,s];n<.5?i=n*(1+t):i=n+t-n*t;let a=2*n-i,c=[0,0,0];for(let u=0;u<3;u++)o=e+1/3*-(u-1),o<0&&o++,o>1&&o--,6*o<1?s=a+(i-a)*6*o:2*o<1?s=i:3*o<2?s=a+(i-a)*(2/3-o)*6:s=a,c[u]=s*255;return c};pe.hsl.hsv=function(r){let e=r[0],t=r[1]/100,n=r[2]/100,i=t,o=Math.max(n,.01);n*=2,t*=n<=1?n:2-n,i*=o<=1?o:2-o;let s=(n+t)/2,a=n===0?2*i/(o+i):2*t/(n+t);return[e,a*100,s*100]};pe.hsv.rgb=function(r){let e=r[0]/60,t=r[1]/100,n=r[2]/100,i=Math.floor(e)%6,o=e-Math.floor(e),s=255*n*(1-t),a=255*n*(1-t*o),c=255*n*(1-t*(1-o));switch(n*=255,i){case 0:return[n,c,s];case 1:return[a,n,s];case 2:return[s,n,c];case 3:return[s,a,n];case 4:return[c,s,n];case 5:return[n,s,a]}};pe.hsv.hsl=function(r){let e=r[0],t=r[1]/100,n=r[2]/100,i=Math.max(n,.01),o,s;s=(2-t)*n;let a=(2-t)*i;return o=t*i,o/=a<=1?a:2-a,o=o||0,s/=2,[e,o*100,s*100]};pe.hwb.rgb=function(r){let e=r[0]/360,t=r[1]/100,n=r[2]/100,i=t+n,o;i>1&&(t/=i,n/=i);let s=Math.floor(6*e),a=1-n;o=6*e-s,s&1&&(o=1-o);let c=t+o*(a-t),u,l,p;switch(s){default:case 6:case 0:u=a,l=c,p=t;break;case 1:u=c,l=a,p=t;break;case 2:u=t,l=a,p=c;break;case 3:u=t,l=c,p=a;break;case 4:u=c,l=t,p=a;break;case 5:u=a,l=t,p=c;break}return[u*255,l*255,p*255]};pe.cmyk.rgb=function(r){let e=r[0]/100,t=r[1]/100,n=r[2]/100,i=r[3]/100,o=1-Math.min(1,e*(1-i)+i),s=1-Math.min(1,t*(1-i)+i),a=1-Math.min(1,n*(1-i)+i);return[o*255,s*255,a*255]};pe.xyz.rgb=function(r){let e=r[0]/100,t=r[1]/100,n=r[2]/100,i,o,s;return i=e*3.2406+t*-1.5372+n*-.4986,o=e*-.9689+t*1.8758+n*.0415,s=e*.0557+t*-.204+n*1.057,i=i>.0031308?1.055*i**(1/2.4)-.055:i*12.92,o=o>.0031308?1.055*o**(1/2.4)-.055:o*12.92,s=s>.0031308?1.055*s**(1/2.4)-.055:s*12.92,i=Math.min(Math.max(0,i),1),o=Math.min(Math.max(0,o),1),s=Math.min(Math.max(0,s),1),[i*255,o*255,s*255]};pe.xyz.lab=function(r){let e=r[0],t=r[1],n=r[2];e/=95.047,t/=100,n/=108.883,e=e>.008856?e**(1/3):7.787*e+16/116,t=t>.008856?t**(1/3):7.787*t+16/116,n=n>.008856?n**(1/3):7.787*n+16/116;let i=116*t-16,o=500*(e-t),s=200*(t-n);return[i,o,s]};pe.lab.xyz=function(r){let e=r[0],t=r[1],n=r[2],i,o,s;o=(e+16)/116,i=t/500+o,s=o-n/200;let a=o**3,c=i**3,u=s**3;return o=a>.008856?a:(o-16/116)/7.787,i=c>.008856?c:(i-16/116)/7.787,s=u>.008856?u:(s-16/116)/7.787,i*=95.047,o*=100,s*=108.883,[i,o,s]};pe.lab.lch=function(r){let e=r[0],t=r[1],n=r[2],i;i=Math.atan2(n,t)*360/2/Math.PI,i<0&&(i+=360);let s=Math.sqrt(t*t+n*n);return[e,s,i]};pe.lch.lab=function(r){let e=r[0],t=r[1],i=r[2]/360*2*Math.PI,o=t*Math.cos(i),s=t*Math.sin(i);return[e,o,s]};pe.rgb.ansi16=function(r,e=null){let[t,n,i]=r,o=e===null?pe.rgb.hsv(r)[2]:e;if(o=Math.round(o/50),o===0)return 30;let s=30+(Math.round(i/255)<<2|Math.round(n/255)<<1|Math.round(t/255));return o===2&&(s+=60),s};pe.hsv.ansi16=function(r){return pe.rgb.ansi16(pe.hsv.rgb(r),r[2])};pe.rgb.ansi256=function(r){let e=r[0],t=r[1],n=r[2];return e===t&&t===n?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(t/255*5)+Math.round(n/255*5)};pe.ansi16.rgb=function(r){let e=r%10;if(e===0||e===7)return r>50&&(e+=3.5),e=e/10.5*255,[e,e,e];let t=(~~(r>50)+1)*.5,n=(e&1)*t*255,i=(e>>1&1)*t*255,o=(e>>2&1)*t*255;return[n,i,o]};pe.ansi256.rgb=function(r){if(r>=232){let o=(r-232)*10+8;return[o,o,o]}r-=16;let e,t=Math.floor(r/36)/5*255,n=Math.floor((e=r%36)/6)/5*255,i=e%6/5*255;return[t,n,i]};pe.rgb.hex=function(r){let t=(((Math.round(r[0])&255)<<16)+((Math.round(r[1])&255)<<8)+(Math.round(r[2])&255)).toString(16).toUpperCase();return"000000".substring(t.length)+t};pe.hex.rgb=function(r){let e=r.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];let t=e[0];e[0].length===3&&(t=t.split("").map(a=>a+a).join(""));let n=parseInt(t,16),i=n>>16&255,o=n>>8&255,s=n&255;return[i,o,s]};pe.rgb.hcg=function(r){let e=r[0]/255,t=r[1]/255,n=r[2]/255,i=Math.max(Math.max(e,t),n),o=Math.min(Math.min(e,t),n),s=i-o,a,c;return s<1?a=o/(1-s):a=0,s<=0?c=0:i===e?c=(t-n)/s%6:i===t?c=2+(n-e)/s:c=4+(e-t)/s,c/=6,c%=1,[c*360,s*100,a*100]};pe.hsl.hcg=function(r){let e=r[1]/100,t=r[2]/100,n=t<.5?2*e*t:2*e*(1-t),i=0;return n<1&&(i=(t-.5*n)/(1-n)),[r[0],n*100,i*100]};pe.hsv.hcg=function(r){let e=r[1]/100,t=r[2]/100,n=e*t,i=0;return n<1&&(i=(t-n)/(1-n)),[r[0],n*100,i*100]};pe.hcg.rgb=function(r){let e=r[0]/360,t=r[1]/100,n=r[2]/100;if(t===0)return[n*255,n*255,n*255];let i=[0,0,0],o=e%1*6,s=o%1,a=1-s,c=0;switch(Math.floor(o)){case 0:i[0]=1,i[1]=s,i[2]=0;break;case 1:i[0]=a,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=s;break;case 3:i[0]=0,i[1]=a,i[2]=1;break;case 4:i[0]=s,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=a}return c=(1-t)*n,[(t*i[0]+c)*255,(t*i[1]+c)*255,(t*i[2]+c)*255]};pe.hcg.hsv=function(r){let e=r[1]/100,t=r[2]/100,n=e+t*(1-e),i=0;return n>0&&(i=e/n),[r[0],i*100,n*100]};pe.hcg.hsl=function(r){let e=r[1]/100,n=r[2]/100*(1-e)+.5*e,i=0;return n>0&&n<.5?i=e/(2*n):n>=.5&&n<1&&(i=e/(2*(1-n))),[r[0],i*100,n*100]};pe.hcg.hwb=function(r){let e=r[1]/100,t=r[2]/100,n=e+t*(1-e);return[r[0],(n-e)*100,(1-n)*100]};pe.hwb.hcg=function(r){let e=r[1]/100,n=1-r[2]/100,i=n-e,o=0;return i<1&&(o=(n-i)/(1-i)),[r[0],i*100,o*100]};pe.apple.rgb=function(r){return[r[0]/65535*255,r[1]/65535*255,r[2]/65535*255]};pe.rgb.apple=function(r){return[r[0]/255*65535,r[1]/255*65535,r[2]/255*65535]};pe.gray.rgb=function(r){return[r[0]/100*255,r[0]/100*255,r[0]/100*255]};pe.gray.hsl=function(r){return[0,0,r[0]]};pe.gray.hsv=pe.gray.hsl;pe.gray.hwb=function(r){return[0,100,r[0]]};pe.gray.cmyk=function(r){return[0,0,0,r[0]]};pe.gray.lab=function(r){return[r[0],0,0]};pe.gray.hex=function(r){let e=Math.round(r[0]/100*255)&255,n=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".substring(n.length)+n};pe.rgb.gray=function(r){return[(r[0]+r[1]+r[2])/3/255*100]}});var yN=b(($Ie,HN)=>{var My=uS();function Dte(){let r={},e=Object.keys(My);for(let t=e.length,n=0;n<t;n++)r[e[n]]={distance:-1,parent:null};return r}function $te(r){let e=Dte(),t=[r];for(e[r].distance=0;t.length;){let n=t.pop(),i=Object.keys(My[n]);for(let o=i.length,s=0;s<o;s++){let a=i[s],c=e[a];c.distance===-1&&(c.distance=e[n].distance+1,c.parent=n,t.unshift(a))}}return e}function kte(r,e){return function(t){return e(r(t))}}function Rte(r,e){let t=[e[r].parent,r],n=My[e[r].parent][r],i=e[r].parent;for(;e[i].parent;)t.unshift(e[i].parent),n=kte(My[e[i].parent][i],n),i=e[i].parent;return n.conversion=t,n}HN.exports=function(r){let e=$te(r),t={},n=Object.keys(e);for(let i=n.length,o=0;o<i;o++){let s=n[o];e[s].parent!==null&&(t[s]=Rte(s,e))}return t}});var vN=b((kIe,bN)=>{var lS=uS(),Mte=yN(),Sl={},Ote=Object.keys(lS);function Nte(r){let e=function(...t){let n=t[0];return n==null?n:(n.length>1&&(t=n),r(t))};return"conversion"in r&&(e.conversion=r.conversion),e}function Fte(r){let e=function(...t){let n=t[0];if(n==null)return n;n.length>1&&(t=n);let i=r(t);if(typeof i=="object")for(let o=i.length,s=0;s<o;s++)i[s]=Math.round(i[s]);return i};return"conversion"in r&&(e.conversion=r.conversion),e}Ote.forEach(r=>{Sl[r]={},Object.defineProperty(Sl[r],"channels",{value:lS[r].channels}),Object.defineProperty(Sl[r],"labels",{value:lS[r].labels});let e=Mte(r);Object.keys(e).forEach(n=>{let i=e[n];Sl[r][n]=Fte(i),Sl[r][n].raw=Nte(i)})});bN.exports=Sl});var IN=b((RIe,wN)=>{var El=dN(),Hn=vN(),xN=["keyword","gray","hex"],pS={};for(let r of Object.keys(Hn))pS[[...Hn[r].labels].sort().join("")]=r;var Oy={};function sr(r,e){if(!(this instanceof sr))return new sr(r,e);if(e&&e in xN&&(e=null),e&&!(e in Hn))throw new Error("Unknown model: "+e);let t,n;if(r==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(r instanceof sr)this.model=r.model,this.color=[...r.color],this.valpha=r.valpha;else if(typeof r=="string"){let i=El.get(r);if(i===null)throw new Error("Unable to parse color from string: "+r);this.model=i.model,n=Hn[this.model].channels,this.color=i.value.slice(0,n),this.valpha=typeof i.value[n]=="number"?i.value[n]:1}else if(r.length>0){this.model=e||"rgb",n=Hn[this.model].channels;let i=Array.prototype.slice.call(r,0,n);this.color=dS(i,n),this.valpha=typeof r[n]=="number"?r[n]:1}else if(typeof r=="number")this.model="rgb",this.color=[r>>16&255,r>>8&255,r&255],this.valpha=1;else{this.valpha=1;let i=Object.keys(r);"alpha"in r&&(i.splice(i.indexOf("alpha"),1),this.valpha=typeof r.alpha=="number"?r.alpha:0);let o=i.sort().join("");if(!(o in pS))throw new Error("Unable to parse color from object: "+JSON.stringify(r));this.model=pS[o];let{labels:s}=Hn[this.model],a=[];for(t=0;t<s.length;t++)a.push(r[s[t]]);this.color=dS(a)}if(Oy[this.model])for(n=Hn[this.model].channels,t=0;t<n;t++){let i=Oy[this.model][t];i&&(this.color[t]=i(this.color[t]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}sr.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string(r){let e=this.model in El.to?this:this.rgb();e=e.round(typeof r=="number"?r:1);let t=e.valpha===1?e.color:[...e.color,this.valpha];return El.to[e.model](t)},percentString(r){let e=this.rgb().round(typeof r=="number"?r:1),t=e.valpha===1?e.color:[...e.color,this.valpha];return El.to.rgb.percent(t)},array(){return this.valpha===1?[...this.color]:[...this.color,this.valpha]},object(){let r={},{channels:e}=Hn[this.model],{labels:t}=Hn[this.model];for(let n=0;n<e;n++)r[t[n]]=this.color[n];return this.valpha!==1&&(r.alpha=this.valpha),r},unitArray(){let r=this.rgb().color;return r[0]/=255,r[1]/=255,r[2]/=255,this.valpha!==1&&r.push(this.valpha),r},unitObject(){let r=this.rgb().object();return r.r/=255,r.g/=255,r.b/=255,this.valpha!==1&&(r.alpha=this.valpha),r},round(r){return r=Math.max(r||0,0),new sr([...this.color.map(Ute(r)),this.valpha],this.model)},alpha(r){return r!==void 0?new sr([...this.color,Math.max(0,Math.min(1,r))],this.model):this.valpha},red:Et("rgb",0,Jt(255)),green:Et("rgb",1,Jt(255)),blue:Et("rgb",2,Jt(255)),hue:Et(["hsl","hsv","hsl","hwb","hcg"],0,r=>(r%360+360)%360),saturationl:Et("hsl",1,Jt(100)),lightness:Et("hsl",2,Jt(100)),saturationv:Et("hsv",1,Jt(100)),value:Et("hsv",2,Jt(100)),chroma:Et("hcg",1,Jt(100)),gray:Et("hcg",2,Jt(100)),white:Et("hwb",1,Jt(100)),wblack:Et("hwb",2,Jt(100)),cyan:Et("cmyk",0,Jt(100)),magenta:Et("cmyk",1,Jt(100)),yellow:Et("cmyk",2,Jt(100)),black:Et("cmyk",3,Jt(100)),x:Et("xyz",0,Jt(95.047)),y:Et("xyz",1,Jt(100)),z:Et("xyz",2,Jt(108.833)),l:Et("lab",0,Jt(100)),a:Et("lab",1),b:Et("lab",2),keyword(r){return r!==void 0?new sr(r):Hn[this.model].keyword(this.color)},hex(r){return r!==void 0?new sr(r):El.to.hex(this.rgb().round().color)},hexa(r){if(r!==void 0)return new sr(r);let e=this.rgb().round().color,t=Math.round(this.valpha*255).toString(16).toUpperCase();return t.length===1&&(t="0"+t),El.to.hex(e)+t},rgbNumber(){let r=this.rgb().color;return(r[0]&255)<<16|(r[1]&255)<<8|r[2]&255},luminosity(){let r=this.rgb().color,e=[];for(let[t,n]of r.entries()){let i=n/255;e[t]=i<=.04045?i/12.92:((i+.055)/1.055)**2.4}return .2126*e[0]+.7152*e[1]+.0722*e[2]},contrast(r){let e=this.luminosity(),t=r.luminosity();return e>t?(e+.05)/(t+.05):(t+.05)/(e+.05)},level(r){let e=this.contrast(r);return e>=7?"AAA":e>=4.5?"AA":""},isDark(){let r=this.rgb().color;return(r[0]*2126+r[1]*7152+r[2]*722)/1e4<128},isLight(){return!this.isDark()},negate(){let r=this.rgb();for(let e=0;e<3;e++)r.color[e]=255-r.color[e];return r},lighten(r){let e=this.hsl();return e.color[2]+=e.color[2]*r,e},darken(r){let e=this.hsl();return e.color[2]-=e.color[2]*r,e},saturate(r){let e=this.hsl();return e.color[1]+=e.color[1]*r,e},desaturate(r){let e=this.hsl();return e.color[1]-=e.color[1]*r,e},whiten(r){let e=this.hwb();return e.color[1]+=e.color[1]*r,e},blacken(r){let e=this.hwb();return e.color[2]+=e.color[2]*r,e},grayscale(){let r=this.rgb().color,e=r[0]*.3+r[1]*.59+r[2]*.11;return sr.rgb(e,e,e)},fade(r){return this.alpha(this.valpha-this.valpha*r)},opaquer(r){return this.alpha(this.valpha+this.valpha*r)},rotate(r){let e=this.hsl(),t=e.color[0];return t=(t+r)%360,t=t<0?360+t:t,e.color[0]=t,e},mix(r,e){if(!r||!r.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof r);let t=r.rgb(),n=this.rgb(),i=e===void 0?.5:e,o=2*i-1,s=t.alpha()-n.alpha(),a=((o*s===-1?o:(o+s)/(1+o*s))+1)/2,c=1-a;return sr.rgb(a*t.red()+c*n.red(),a*t.green()+c*n.green(),a*t.blue()+c*n.blue(),t.alpha()*i+n.alpha()*(1-i))}};for(let r of Object.keys(Hn)){if(xN.includes(r))continue;let{channels:e}=Hn[r];sr.prototype[r]=function(...t){return this.model===r?new sr(this):t.length>0?new sr(t,r):new sr([...jte(Hn[this.model][r].raw(this.color)),this.valpha],r)},sr[r]=function(...t){let n=t[0];return typeof n=="number"&&(n=dS(t,e)),new sr(n,r)}}function Bte(r,e){return Number(r.toFixed(e))}function Ute(r){return function(e){return Bte(e,r)}}function Et(r,e,t){r=Array.isArray(r)?r:[r];for(let n of r)(Oy[n]||(Oy[n]=[]))[e]=t;return r=r[0],function(n){let i;return n!==void 0?(t&&(n=t(n)),i=this[r](),i.color[e]=n,i):(i=this[r]().color[e],t&&(i=t(i)),i)}}function Jt(r){return function(e){return Math.max(0,Math.min(r,e))}}function jte(r){return Array.isArray(r)?r:[r]}function dS(r,e){for(let t=0;t<e;t++)typeof r[t]!="number"&&(r[t]=0);return r}wN.exports=sr});var bF=b(Hb=>{"use strict";Object.defineProperty(Hb,"__esModule",{value:!0});Hb.dataUriToBuffer=void 0;function xre(r){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=[];for(let o=0;o<r.length;o+=4){let s=e.indexOf(r.charAt(o)),a=e.indexOf(r.charAt(o+1)),c=r.charAt(o+2)==="="?0:e.indexOf(r.charAt(o+2)),u=r.charAt(o+3)==="="?0:e.indexOf(r.charAt(o+3)),l=s<<2|a>>4,p=(a&15)<<4|c>>2,d=(c&3)<<6|u;t.push(l),r.charAt(o+2)!=="="&&t.push(p),r.charAt(o+3)!=="="&&t.push(d)}let n=new ArrayBuffer(t.length);return new Uint8Array(n).set(t),n}function wre(r){let e=new ArrayBuffer(r.length),t=new Uint8Array(e);for(let n=0;n<r.length;n++)t[n]=r.charCodeAt(n);return e}function Ire(r){if(r=String(r),!/^data:/i.test(r))throw new TypeError('`uri` does not appear to be a Data URI (must begin with "data:")');r=r.replace(/\r?\n/g,"");let e=r.indexOf(",");if(e===-1||e<=4)throw new TypeError("malformed data: URI");let t=r.substring(5,e).split(";"),n="",i=!1,o=t[0]||"text/plain",s=o;for(let u=1;u<t.length;u++)t[u]==="base64"?i=!0:t[u]&&(s+=`;${t[u]}`,t[u].indexOf("charset=")===0&&(n=t[u].substring(8)));!t[0]&&!n.length&&(s+=";charset=US-ASCII",n="US-ASCII");let a=unescape(r.substring(e+1)),c=i?xre(a):wre(a);return{type:o,typeFull:s,charset:n,buffer:c}}Hb.dataUriToBuffer=Ire});var os=b((is,yb)=>{"use strict";Object.defineProperty(is,"__esModule",{value:!0});var vF=["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function _re(r){return vF.includes(r)}var Are=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Blob","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","FormData","URLSearchParams","HTMLElement",...vF];function Sre(r){return Are.includes(r)}var Ere=["null","undefined","string","number","bigint","boolean","symbol"];function Pre(r){return Ere.includes(r)}function Bl(r){return e=>typeof e===r}var{toString:xF}=Object.prototype,pm=r=>{let e=xF.call(r).slice(8,-1);if(/HTML\w+Element/.test(e)&&_.domElement(r))return"HTMLElement";if(Sre(e))return e},rt=r=>e=>pm(e)===r;function _(r){if(r===null)return"null";switch(typeof r){case"undefined":return"undefined";case"string":return"string";case"number":return"number";case"boolean":return"boolean";case"function":return"Function";case"bigint":return"bigint";case"symbol":return"symbol";default:}if(_.observable(r))return"Observable";if(_.array(r))return"Array";if(_.buffer(r))return"Buffer";let e=pm(r);if(e)return e;if(r instanceof String||r instanceof Boolean||r instanceof Number)throw new TypeError("Please don't use object wrappers for primitive types");return"Object"}_.undefined=Bl("undefined");_.string=Bl("string");var Cre=Bl("number");_.number=r=>Cre(r)&&!_.nan(r);_.bigint=Bl("bigint");_.function_=Bl("function");_.null_=r=>r===null;_.class_=r=>_.function_(r)&&r.toString().startsWith("class ");_.boolean=r=>r===!0||r===!1;_.symbol=Bl("symbol");_.numericString=r=>_.string(r)&&!_.emptyStringOrWhitespace(r)&&!Number.isNaN(Number(r));_.array=(r,e)=>Array.isArray(r)?_.function_(e)?r.every(e):!0:!1;_.buffer=r=>{var e,t,n,i;return(i=(n=(t=(e=r)===null||e===void 0?void 0:e.constructor)===null||t===void 0?void 0:t.isBuffer)===null||n===void 0?void 0:n.call(t,r))!==null&&i!==void 0?i:!1};_.blob=r=>rt("Blob")(r);_.nullOrUndefined=r=>_.null_(r)||_.undefined(r);_.object=r=>!_.null_(r)&&(typeof r=="object"||_.function_(r));_.iterable=r=>{var e;return _.function_((e=r)===null||e===void 0?void 0:e[Symbol.iterator])};_.asyncIterable=r=>{var e;return _.function_((e=r)===null||e===void 0?void 0:e[Symbol.asyncIterator])};_.generator=r=>{var e,t;return _.iterable(r)&&_.function_((e=r)===null||e===void 0?void 0:e.next)&&_.function_((t=r)===null||t===void 0?void 0:t.throw)};_.asyncGenerator=r=>_.asyncIterable(r)&&_.function_(r.next)&&_.function_(r.throw);_.nativePromise=r=>rt("Promise")(r);var Tre=r=>{var e,t;return _.function_((e=r)===null||e===void 0?void 0:e.then)&&_.function_((t=r)===null||t===void 0?void 0:t.catch)};_.promise=r=>_.nativePromise(r)||Tre(r);_.generatorFunction=rt("GeneratorFunction");_.asyncGeneratorFunction=r=>pm(r)==="AsyncGeneratorFunction";_.asyncFunction=r=>pm(r)==="AsyncFunction";_.boundFunction=r=>_.function_(r)&&!r.hasOwnProperty("prototype");_.regExp=rt("RegExp");_.date=rt("Date");_.error=rt("Error");_.map=r=>rt("Map")(r);_.set=r=>rt("Set")(r);_.weakMap=r=>rt("WeakMap")(r);_.weakSet=r=>rt("WeakSet")(r);_.int8Array=rt("Int8Array");_.uint8Array=rt("Uint8Array");_.uint8ClampedArray=rt("Uint8ClampedArray");_.int16Array=rt("Int16Array");_.uint16Array=rt("Uint16Array");_.int32Array=rt("Int32Array");_.uint32Array=rt("Uint32Array");_.float32Array=rt("Float32Array");_.float64Array=rt("Float64Array");_.bigInt64Array=rt("BigInt64Array");_.bigUint64Array=rt("BigUint64Array");_.arrayBuffer=rt("ArrayBuffer");_.sharedArrayBuffer=rt("SharedArrayBuffer");_.dataView=rt("DataView");_.enumCase=(r,e)=>Object.values(e).includes(r);_.directInstanceOf=(r,e)=>Object.getPrototypeOf(r)===e.prototype;_.urlInstance=r=>rt("URL")(r);_.urlString=r=>{if(!_.string(r))return!1;try{return new URL(r),!0}catch{return!1}};_.truthy=r=>!!r;_.falsy=r=>!r;_.nan=r=>Number.isNaN(r);_.primitive=r=>_.null_(r)||Pre(typeof r);_.integer=r=>Number.isInteger(r);_.safeInteger=r=>Number.isSafeInteger(r);_.plainObject=r=>{if(xF.call(r)!=="[object Object]")return!1;let e=Object.getPrototypeOf(r);return e===null||e===Object.getPrototypeOf({})};_.typedArray=r=>_re(pm(r));var Lre=r=>_.safeInteger(r)&&r>=0;_.arrayLike=r=>!_.nullOrUndefined(r)&&!_.function_(r)&&Lre(r.length);_.inRange=(r,e)=>{if(_.number(e))return r>=Math.min(0,e)&&r<=Math.max(e,0);if(_.array(e)&&e.length===2)return r>=Math.min(...e)&&r<=Math.max(...e);throw new TypeError(`Invalid range: ${JSON.stringify(e)}`)};var Dre=1,$re=["innerHTML","ownerDocument","style","attributes","nodeValue"];_.domElement=r=>_.object(r)&&r.nodeType===Dre&&_.string(r.nodeName)&&!_.plainObject(r)&&$re.every(e=>e in r);_.observable=r=>{var e,t,n,i;return r?r===((t=(e=r)[Symbol.observable])===null||t===void 0?void 0:t.call(e))||r===((i=(n=r)["@@observable"])===null||i===void 0?void 0:i.call(n)):!1};_.nodeStream=r=>_.object(r)&&_.function_(r.pipe)&&!_.observable(r);_.infinite=r=>r===1/0||r===-1/0;var wF=r=>e=>_.integer(e)&&Math.abs(e%2)===r;_.evenInteger=wF(0);_.oddInteger=wF(1);_.emptyArray=r=>_.array(r)&&r.length===0;_.nonEmptyArray=r=>_.array(r)&&r.length>0;_.emptyString=r=>_.string(r)&&r.length===0;var kre=r=>_.string(r)&&!/\S/.test(r);_.emptyStringOrWhitespace=r=>_.emptyString(r)||kre(r);_.nonEmptyString=r=>_.string(r)&&r.length>0;_.nonEmptyStringAndNotWhitespace=r=>_.string(r)&&!_.emptyStringOrWhitespace(r);_.emptyObject=r=>_.object(r)&&!_.map(r)&&!_.set(r)&&Object.keys(r).length===0;_.nonEmptyObject=r=>_.object(r)&&!_.map(r)&&!_.set(r)&&Object.keys(r).length>0;_.emptySet=r=>_.set(r)&&r.size===0;_.nonEmptySet=r=>_.set(r)&&r.size>0;_.emptyMap=r=>_.map(r)&&r.size===0;_.nonEmptyMap=r=>_.map(r)&&r.size>0;_.propertyKey=r=>_.any([_.string,_.number,_.symbol],r);_.formData=r=>rt("FormData")(r);_.urlSearchParams=r=>rt("URLSearchParams")(r);var IF=(r,e,t)=>{if(!_.function_(e))throw new TypeError(`Invalid predicate: ${JSON.stringify(e)}`);if(t.length===0)throw new TypeError("Invalid number of values");return r.call(t,e)};_.any=(r,...e)=>(_.array(r)?r:[r]).some(n=>IF(Array.prototype.some,n,e));_.all=(r,...e)=>IF(Array.prototype.every,r,e);var Q=(r,e,t,n={})=>{if(!r){let{multipleValues:i}=n,o=i?`received values of types ${[...new Set(t.map(s=>`\`${_(s)}\``))].join(", ")}`:`received value of type \`${_(t)}\``;throw new TypeError(`Expected value which is \`${e}\`, ${o}.`)}};is.assert={undefined:r=>Q(_.undefined(r),"undefined",r),string:r=>Q(_.string(r),"string",r),number:r=>Q(_.number(r),"number",r),bigint:r=>Q(_.bigint(r),"bigint",r),function_:r=>Q(_.function_(r),"Function",r),null_:r=>Q(_.null_(r),"null",r),class_:r=>Q(_.class_(r),"Class",r),boolean:r=>Q(_.boolean(r),"boolean",r),symbol:r=>Q(_.symbol(r),"symbol",r),numericString:r=>Q(_.numericString(r),"string with a number",r),array:(r,e)=>{Q(_.array(r),"Array",r),e&&r.forEach(e)},buffer:r=>Q(_.buffer(r),"Buffer",r),blob:r=>Q(_.blob(r),"Blob",r),nullOrUndefined:r=>Q(_.nullOrUndefined(r),"null or undefined",r),object:r=>Q(_.object(r),"Object",r),iterable:r=>Q(_.iterable(r),"Iterable",r),asyncIterable:r=>Q(_.asyncIterable(r),"AsyncIterable",r),generator:r=>Q(_.generator(r),"Generator",r),asyncGenerator:r=>Q(_.asyncGenerator(r),"AsyncGenerator",r),nativePromise:r=>Q(_.nativePromise(r),"native Promise",r),promise:r=>Q(_.promise(r),"Promise",r),generatorFunction:r=>Q(_.generatorFunction(r),"GeneratorFunction",r),asyncGeneratorFunction:r=>Q(_.asyncGeneratorFunction(r),"AsyncGeneratorFunction",r),asyncFunction:r=>Q(_.asyncFunction(r),"AsyncFunction",r),boundFunction:r=>Q(_.boundFunction(r),"Function",r),regExp:r=>Q(_.regExp(r),"RegExp",r),date:r=>Q(_.date(r),"Date",r),error:r=>Q(_.error(r),"Error",r),map:r=>Q(_.map(r),"Map",r),set:r=>Q(_.set(r),"Set",r),weakMap:r=>Q(_.weakMap(r),"WeakMap",r),weakSet:r=>Q(_.weakSet(r),"WeakSet",r),int8Array:r=>Q(_.int8Array(r),"Int8Array",r),uint8Array:r=>Q(_.uint8Array(r),"Uint8Array",r),uint8ClampedArray:r=>Q(_.uint8ClampedArray(r),"Uint8ClampedArray",r),int16Array:r=>Q(_.int16Array(r),"Int16Array",r),uint16Array:r=>Q(_.uint16Array(r),"Uint16Array",r),int32Array:r=>Q(_.int32Array(r),"Int32Array",r),uint32Array:r=>Q(_.uint32Array(r),"Uint32Array",r),float32Array:r=>Q(_.float32Array(r),"Float32Array",r),float64Array:r=>Q(_.float64Array(r),"Float64Array",r),bigInt64Array:r=>Q(_.bigInt64Array(r),"BigInt64Array",r),bigUint64Array:r=>Q(_.bigUint64Array(r),"BigUint64Array",r),arrayBuffer:r=>Q(_.arrayBuffer(r),"ArrayBuffer",r),sharedArrayBuffer:r=>Q(_.sharedArrayBuffer(r),"SharedArrayBuffer",r),dataView:r=>Q(_.dataView(r),"DataView",r),enumCase:(r,e)=>Q(_.enumCase(r,e),"EnumCase",r),urlInstance:r=>Q(_.urlInstance(r),"URL",r),urlString:r=>Q(_.urlString(r),"string with a URL",r),truthy:r=>Q(_.truthy(r),"truthy",r),falsy:r=>Q(_.falsy(r),"falsy",r),nan:r=>Q(_.nan(r),"NaN",r),primitive:r=>Q(_.primitive(r),"primitive",r),integer:r=>Q(_.integer(r),"integer",r),safeInteger:r=>Q(_.safeInteger(r),"integer",r),plainObject:r=>Q(_.plainObject(r),"plain object",r),typedArray:r=>Q(_.typedArray(r),"TypedArray",r),arrayLike:r=>Q(_.arrayLike(r),"array-like",r),domElement:r=>Q(_.domElement(r),"HTMLElement",r),observable:r=>Q(_.observable(r),"Observable",r),nodeStream:r=>Q(_.nodeStream(r),"Node.js Stream",r),infinite:r=>Q(_.infinite(r),"infinite number",r),emptyArray:r=>Q(_.emptyArray(r),"empty array",r),nonEmptyArray:r=>Q(_.nonEmptyArray(r),"non-empty array",r),emptyString:r=>Q(_.emptyString(r),"empty string",r),emptyStringOrWhitespace:r=>Q(_.emptyStringOrWhitespace(r),"empty string or whitespace",r),nonEmptyString:r=>Q(_.nonEmptyString(r),"non-empty string",r),nonEmptyStringAndNotWhitespace:r=>Q(_.nonEmptyStringAndNotWhitespace(r),"non-empty string and not whitespace",r),emptyObject:r=>Q(_.emptyObject(r),"empty object",r),nonEmptyObject:r=>Q(_.nonEmptyObject(r),"non-empty object",r),emptySet:r=>Q(_.emptySet(r),"empty set",r),nonEmptySet:r=>Q(_.nonEmptySet(r),"non-empty set",r),emptyMap:r=>Q(_.emptyMap(r),"empty map",r),nonEmptyMap:r=>Q(_.nonEmptyMap(r),"non-empty map",r),propertyKey:r=>Q(_.propertyKey(r),"PropertyKey",r),formData:r=>Q(_.formData(r),"FormData",r),urlSearchParams:r=>Q(_.urlSearchParams(r),"URLSearchParams",r),evenInteger:r=>Q(_.evenInteger(r),"even integer",r),oddInteger:r=>Q(_.oddInteger(r),"odd integer",r),directInstanceOf:(r,e)=>Q(_.directInstanceOf(r,e),"T",r),inRange:(r,e)=>Q(_.inRange(r,e),"in range",r),any:(r,...e)=>Q(_.any(r,...e),"predicate returns truthy for any value",e,{multipleValues:!0}),all:(r,...e)=>Q(_.all(r,...e),"predicate returns truthy for all values",e,{multipleValues:!0})};Object.defineProperties(_,{class:{value:_.class_},function:{value:_.function_},null:{value:_.null_}});Object.defineProperties(is.assert,{class:{value:is.assert.class_},function:{value:is.assert.function_},null:{value:is.assert.null_}});is.default=_;yb.exports=_;yb.exports.default=_;yb.exports.assert=is.assert});var _F=b((cEe,zS)=>{"use strict";var bb=class extends Error{constructor(e){super(e||"Promise was canceled"),this.name="CancelError"}get isCanceled(){return!0}},vb=class r{static fn(e){return(...t)=>new r((n,i,o)=>{t.push(o),e(...t).then(n,i)})}constructor(e){this._cancelHandlers=[],this._isPending=!0,this._isCanceled=!1,this._rejectOnCancel=!0,this._promise=new Promise((t,n)=>{this._reject=n;let i=a=>{(!this._isCanceled||!s.shouldReject)&&(this._isPending=!1,t(a))},o=a=>{this._isPending=!1,n(a)},s=a=>{if(!this._isPending)throw new Error("The `onCancel` handler was attached after the promise settled.");this._cancelHandlers.push(a)};return Object.defineProperties(s,{shouldReject:{get:()=>this._rejectOnCancel,set:a=>{this._rejectOnCancel=a}}}),e(i,o,s)})}then(e,t){return this._promise.then(e,t)}catch(e){return this._promise.catch(e)}finally(e){return this._promise.finally(e)}cancel(e){if(!(!this._isPending||this._isCanceled)){if(this._isCanceled=!0,this._cancelHandlers.length>0)try{for(let t of this._cancelHandlers)t()}catch(t){this._reject(t);return}this._rejectOnCancel&&this._reject(new bb(e))}}get isCanceled(){return this._isCanceled}};Object.setPrototypeOf(vb.prototype,Promise.prototype);zS.exports=vb;zS.exports.CancelError=bb});var AF=b((XS,JS)=>{"use strict";Object.defineProperty(XS,"__esModule",{value:!0});function Rre(r){return r.encrypted}var KS=(r,e)=>{let t;typeof e=="function"?t={connect:e}:t=e;let n=typeof t.connect=="function",i=typeof t.secureConnect=="function",o=typeof t.close=="function",s=()=>{n&&t.connect(),Rre(r)&&i&&(r.authorized?t.secureConnect():r.authorizationError||r.once("secureConnect",t.secureConnect)),o&&r.once("close",t.close)};r.writable&&!r.connecting?s():r.connecting?r.once("connect",s):r.destroyed&&o&&t.close(r._hadError)};XS.default=KS;JS.exports=KS;JS.exports.default=KS});var SF=b((QS,ZS)=>{"use strict";Object.defineProperty(QS,"__esModule",{value:!0});var Mre=AF(),Ore=require("util"),Nre=Number(process.versions.node.split(".")[0]),YS=r=>{if(r.timings)return r.timings;let e={start:Date.now(),socket:void 0,lookup:void 0,connect:void 0,secureConnect:void 0,upload:void 0,response:void 0,end:void 0,error:void 0,abort:void 0,phases:{wait:void 0,dns:void 0,tcp:void 0,tls:void 0,request:void 0,firstByte:void 0,download:void 0,total:void 0}};r.timings=e;let t=a=>{let c=a.emit.bind(a);a.emit=(u,...l)=>(u==="error"&&(e.error=Date.now(),e.phases.total=e.error-e.start,a.emit=c),c(u,...l))};t(r);let n=()=>{e.abort=Date.now(),(!e.response||Nre>=13)&&(e.phases.total=Date.now()-e.start)};r.prependOnceListener("abort",n);let i=a=>{if(e.socket=Date.now(),e.phases.wait=e.socket-e.start,Ore.types.isProxy(a))return;let c=()=>{e.lookup=Date.now(),e.phases.dns=e.lookup-e.socket};a.prependOnceListener("lookup",c),Mre.default(a,{connect:()=>{e.connect=Date.now(),e.lookup===void 0&&(a.removeListener("lookup",c),e.lookup=e.connect,e.phases.dns=e.lookup-e.socket),e.phases.tcp=e.connect-e.lookup},secureConnect:()=>{e.secureConnect=Date.now(),e.phases.tls=e.secureConnect-e.connect}})};r.socket?i(r.socket):r.prependOnceListener("socket",i);let o=()=>{var a;e.upload=Date.now(),e.phases.request=e.upload-((a=e.secureConnect)!==null&&a!==void 0?a:e.connect)};return(typeof r.writableFinished=="boolean"?r.writableFinished:r.finished&&r.outputSize===0&&(!r.socket||r.socket.writableLength===0))?o():r.prependOnceListener("finish",o),r.prependOnceListener("response",a=>{e.response=Date.now(),e.phases.firstByte=e.response-e.upload,a.timings=e,t(a),a.prependOnceListener("end",()=>{e.end=Date.now(),e.phases.download=e.end-e.response,e.phases.total=e.end-e.start}),a.prependOnceListener("aborted",n)}),e};QS.default=YS;ZS.exports=YS;ZS.exports.default=YS});var $F=b((uEe,r0)=>{"use strict";var{V4MAPPED:Fre,ADDRCONFIG:Bre,ALL:DF,promises:{Resolver:EF},lookup:Ure}=require("dns"),{promisify:e0}=require("util"),jre=require("os"),Ul=Symbol("cacheableLookupCreateConnection"),t0=Symbol("cacheableLookupInstance"),PF=Symbol("expires"),Wre=typeof DF=="number",CF=r=>{if(!(r&&typeof r.createConnection=="function"))throw new Error("Expected an Agent instance as the first argument")},qre=r=>{for(let e of r)e.family!==6&&(e.address=`::ffff:${e.address}`,e.family=6)},TF=()=>{let r=!1,e=!1;for(let t of Object.values(jre.networkInterfaces()))for(let n of t)if(!n.internal&&(n.family==="IPv6"?e=!0:r=!0,r&&e))return{has4:r,has6:e};return{has4:r,has6:e}},Vre=r=>Symbol.iterator in r,LF={ttl:!0},Gre={all:!0},xb=class{constructor({cache:e=new Map,maxTtl:t=1/0,fallbackDuration:n=3600,errorTtl:i=.15,resolver:o=new EF,lookup:s=Ure}={}){if(this.maxTtl=t,this.errorTtl=i,this._cache=e,this._resolver=o,this._dnsLookup=e0(s),this._resolver instanceof EF?(this._resolve4=this._resolver.resolve4.bind(this._resolver),this._resolve6=this._resolver.resolve6.bind(this._resolver)):(this._resolve4=e0(this._resolver.resolve4.bind(this._resolver)),this._resolve6=e0(this._resolver.resolve6.bind(this._resolver))),this._iface=TF(),this._pending={},this._nextRemovalTime=!1,this._hostnamesToFallback=new Set,n<1)this._fallback=!1;else{this._fallback=!0;let a=setInterval(()=>{this._hostnamesToFallback.clear()},n*1e3);a.unref&&a.unref()}this.lookup=this.lookup.bind(this),this.lookupAsync=this.lookupAsync.bind(this)}set servers(e){this.clear(),this._resolver.setServers(e)}get servers(){return this._resolver.getServers()}lookup(e,t,n){if(typeof t=="function"?(n=t,t={}):typeof t=="number"&&(t={family:t}),!n)throw new Error("Callback must be a function.");this.lookupAsync(e,t).then(i=>{t.all?n(null,i):n(null,i.address,i.family,i.expires,i.ttl)},n)}async lookupAsync(e,t={}){typeof t=="number"&&(t={family:t});let n=await this.query(e);if(t.family===6){let i=n.filter(o=>o.family===6);t.hints&Fre&&(Wre&&t.hints&DF||i.length===0)?qre(n):n=i}else t.family===4&&(n=n.filter(i=>i.family===4));if(t.hints&Bre){let{_iface:i}=this;n=n.filter(o=>o.family===6?i.has6:i.has4)}if(n.length===0){let i=new Error(`cacheableLookup ENOTFOUND ${e}`);throw i.code="ENOTFOUND",i.hostname=e,i}return t.all?n:n[0]}async query(e){let t=await this._cache.get(e);if(!t){let n=this._pending[e];if(n)t=await n;else{let i=this.queryAndCache(e);this._pending[e]=i;try{t=await i}finally{delete this._pending[e]}}}return t=t.map(n=>({...n})),t}async _resolve(e){let t=async u=>{try{return await u}catch(l){if(l.code==="ENODATA"||l.code==="ENOTFOUND")return[];throw l}},[n,i]=await Promise.all([this._resolve4(e,LF),this._resolve6(e,LF)].map(u=>t(u))),o=0,s=0,a=0,c=Date.now();for(let u of n)u.family=4,u.expires=c+u.ttl*1e3,o=Math.max(o,u.ttl);for(let u of i)u.family=6,u.expires=c+u.ttl*1e3,s=Math.max(s,u.ttl);return n.length>0?i.length>0?a=Math.min(o,s):a=o:a=s,{entries:[...n,...i],cacheTtl:a}}async _lookup(e){try{return{entries:await this._dnsLookup(e,{all:!0}),cacheTtl:0}}catch{return{entries:[],cacheTtl:0}}}async _set(e,t,n){if(this.maxTtl>0&&n>0){n=Math.min(n,this.maxTtl)*1e3,t[PF]=Date.now()+n;try{await this._cache.set(e,t,n)}catch(i){this.lookupAsync=async()=>{let o=new Error("Cache Error. Please recreate the CacheableLookup instance.");throw o.cause=i,o}}Vre(this._cache)&&this._tick(n)}}async queryAndCache(e){if(this._hostnamesToFallback.has(e))return this._dnsLookup(e,Gre);let t=await this._resolve(e);t.entries.length===0&&this._fallback&&(t=await this._lookup(e),t.entries.length!==0&&this._hostnamesToFallback.add(e));let n=t.entries.length===0?this.errorTtl:t.cacheTtl;return await this._set(e,t.entries,n),t.entries}_tick(e){let t=this._nextRemovalTime;(!t||e<t)&&(clearTimeout(this._removalTimeout),this._nextRemovalTime=e,this._removalTimeout=setTimeout(()=>{this._nextRemovalTime=!1;let n=1/0,i=Date.now();for(let[o,s]of this._cache){let a=s[PF];i>=a?this._cache.delete(o):a<n&&(n=a)}n!==1/0&&this._tick(n-i)},e),this._removalTimeout.unref&&this._removalTimeout.unref())}install(e){if(CF(e),Ul in e)throw new Error("CacheableLookup has been already installed");e[Ul]=e.createConnection,e[t0]=this,e.createConnection=(t,n)=>("lookup"in t||(t.lookup=this.lookup),e[Ul](t,n))}uninstall(e){if(CF(e),e[Ul]){if(e[t0]!==this)throw new Error("The agent is not owned by this CacheableLookup instance");e.createConnection=e[Ul],delete e[Ul],delete e[t0]}}updateInterfaceInfo(){let{_iface:e}=this;this._iface=TF(),(e.has4&&!this._iface.has4||e.has6&&!this._iface.has6)&&this._cache.clear()}clear(e){if(e){this._cache.delete(e);return}this._cache.clear()}};r0.exports=xb;r0.exports.default=xb});var MF=b((lEe,RF)=>{"use strict";var zre="text/plain",Kre="us-ascii",kF=(r,e)=>e.some(t=>t instanceof RegExp?t.test(r):t===r),Xre=(r,{stripHash:e})=>{let t=/^data:(?<type>[^,]*?),(?<data>[^#]*?)(?:#(?<hash>.*))?$/.exec(r);if(!t)throw new Error(`Invalid URL: ${r}`);let{type:n,data:i,hash:o}=t.groups,s=n.split(";");o=e?"":o;let a=!1;s[s.length-1]==="base64"&&(s.pop(),a=!0);let c=(s.shift()||"").toLowerCase(),l=[...s.map(p=>{let[d,h=""]=p.split("=").map(f=>f.trim());return d==="charset"&&(h=h.toLowerCase(),h===Kre)?"":`${d}${h?`=${h}`:""}`}).filter(Boolean)];return a&&l.push("base64"),(l.length!==0||c&&c!==zre)&&l.unshift(c),`data:${l.join(";")},${a?i.trim():i}${o?`#${o}`:""}`},Jre=(r,e)=>{if(e={defaultProtocol:"http:",normalizeProtocol:!0,forceHttp:!1,forceHttps:!1,stripAuthentication:!0,stripHash:!1,stripTextFragment:!0,stripWWW:!0,removeQueryParameters:[/^utm_\w+/i],removeTrailingSlash:!0,removeSingleSlash:!0,removeDirectoryIndex:!1,sortQueryParameters:!0,...e},r=r.trim(),/^data:/i.test(r))return Xre(r,e);if(/^view-source:/i.test(r))throw new Error("`view-source:` is not supported as it is a non-standard protocol");let t=r.startsWith("//");!t&&/^\.*\//.test(r)||(r=r.replace(/^(?!(?:\w+:)?\/\/)|^\/\//,e.defaultProtocol));let i=new URL(r);if(e.forceHttp&&e.forceHttps)throw new Error("The `forceHttp` and `forceHttps` options cannot be used together");if(e.forceHttp&&i.protocol==="https:"&&(i.protocol="http:"),e.forceHttps&&i.protocol==="http:"&&(i.protocol="https:"),e.stripAuthentication&&(i.username="",i.password=""),e.stripHash?i.hash="":e.stripTextFragment&&(i.hash=i.hash.replace(/#?:~:text.*?$/i,"")),i.pathname&&(i.pathname=i.pathname.replace(/(?<!\b(?:[a-z][a-z\d+\-.]{1,50}:))\/{2,}/g,"/")),i.pathname)try{i.pathname=decodeURI(i.pathname)}catch{}if(e.removeDirectoryIndex===!0&&(e.removeDirectoryIndex=[/^index\.[a-z]+$/]),Array.isArray(e.removeDirectoryIndex)&&e.removeDirectoryIndex.length>0){let s=i.pathname.split("/"),a=s[s.length-1];kF(a,e.removeDirectoryIndex)&&(s=s.slice(0,s.length-1),i.pathname=s.slice(1).join("/")+"/")}if(i.hostname&&(i.hostname=i.hostname.replace(/\.$/,""),e.stripWWW&&/^www\.(?!www\.)(?:[a-z\-\d]{1,63})\.(?:[a-z.\-\d]{2,63})$/.test(i.hostname)&&(i.hostname=i.hostname.replace(/^www\./,""))),Array.isArray(e.removeQueryParameters))for(let s of[...i.searchParams.keys()])kF(s,e.removeQueryParameters)&&i.searchParams.delete(s);e.removeQueryParameters===!0&&(i.search=""),e.sortQueryParameters&&i.searchParams.sort(),e.removeTrailingSlash&&(i.pathname=i.pathname.replace(/\/$/,""));let o=r;return r=i.toString(),!e.removeSingleSlash&&i.pathname==="/"&&!o.endsWith("/")&&i.hash===""&&(r=r.replace(/\/$/,"")),(e.removeTrailingSlash||i.pathname==="/")&&i.hash===""&&e.removeSingleSlash&&(r=r.replace(/\/$/,"")),t&&!e.normalizeProtocol&&(r=r.replace(/^http:\/\//,"//")),e.stripProtocol&&(r=r.replace(/^(?:https?:)?\/\//,"")),r};RF.exports=Jre});var FF=b((pEe,NF)=>{NF.exports=OF;function OF(r,e){if(r&&e)return OF(r)(e);if(typeof r!="function")throw new TypeError("need wrapper function");return Object.keys(r).forEach(function(n){t[n]=r[n]}),t;function t(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];var o=r.apply(this,n),s=n[n.length-1];return typeof o=="function"&&o!==s&&Object.keys(s).forEach(function(a){o[a]=s[a]}),o}}});var i0=b((dEe,n0)=>{var BF=FF();n0.exports=BF(wb);n0.exports.strict=BF(UF);wb.proto=wb(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return wb(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return UF(this)},configurable:!0})});function wb(r){var e=function(){return e.called?e.value:(e.called=!0,e.value=r.apply(this,arguments))};return e.called=!1,e}function UF(r){var e=function(){if(e.called)throw new Error(e.onceError);return e.called=!0,e.value=r.apply(this,arguments)},t=r.name||"Function wrapped with `once`";return e.onceError=t+" shouldn't be called more than once",e.called=!1,e}});var qF=b((fEe,WF)=>{var Yre=i0(),Qre=function(){},Zre=function(r){return r.setHeader&&typeof r.abort=="function"},ene=function(r){return r.stdio&&Array.isArray(r.stdio)&&r.stdio.length===3},jF=function(r,e,t){if(typeof e=="function")return jF(r,null,e);e||(e={}),t=Yre(t||Qre);var n=r._writableState,i=r._readableState,o=e.readable||e.readable!==!1&&r.readable,s=e.writable||e.writable!==!1&&r.writable,a=!1,c=function(){r.writable||u()},u=function(){s=!1,o||t.call(r)},l=function(){o=!1,s||t.call(r)},p=function(v){t.call(r,v?new Error("exited with error code: "+v):null)},d=function(v){t.call(r,v)},h=function(){process.nextTick(f)},f=function(){if(!a){if(o&&!(i&&i.ended&&!i.destroyed))return t.call(r,new Error("premature close"));if(s&&!(n&&n.ended&&!n.destroyed))return t.call(r,new Error("premature close"))}},g=function(){r.req.on("finish",u)};return Zre(r)?(r.on("complete",u),r.on("abort",h),r.req?g():r.on("request",g)):s&&!n&&(r.on("end",c),r.on("close",c)),ene(r)&&r.on("exit",p),r.on("end",l),r.on("finish",u),e.error!==!1&&r.on("error",d),r.on("close",h),function(){a=!0,r.removeListener("complete",u),r.removeListener("abort",h),r.removeListener("request",g),r.req&&r.req.removeListener("finish",u),r.removeListener("end",c),r.removeListener("close",c),r.removeListener("finish",u),r.removeListener("exit",p),r.removeListener("end",l),r.removeListener("error",d),r.removeListener("close",h)}};WF.exports=jF});var zF=b((mEe,GF)=>{var tne=i0(),rne=qF(),o0=require("fs"),dm=function(){},nne=/^v?\.0/.test(process.version),Ib=function(r){return typeof r=="function"},ine=function(r){return!nne||!o0?!1:(r instanceof(o0.ReadStream||dm)||r instanceof(o0.WriteStream||dm))&&Ib(r.close)},one=function(r){return r.setHeader&&Ib(r.abort)},sne=function(r,e,t,n){n=tne(n);var i=!1;r.on("close",function(){i=!0}),rne(r,{readable:e,writable:t},function(s){if(s)return n(s);i=!0,n()});var o=!1;return function(s){if(!i&&!o){if(o=!0,ine(r))return r.close(dm);if(one(r))return r.abort();if(Ib(r.destroy))return r.destroy();n(s||new Error("stream was destroyed"))}}},VF=function(r){r()},ane=function(r,e){return r.pipe(e)},cne=function(){var r=Array.prototype.slice.call(arguments),e=Ib(r[r.length-1]||dm)&&r.pop()||dm;if(Array.isArray(r[0])&&(r=r[0]),r.length<2)throw new Error("pump requires two streams per minimum");var t,n=r.map(function(i,o){var s=o<r.length-1,a=o>0;return sne(i,s,a,function(c){t||(t=c),c&&n.forEach(VF),!s&&(n.forEach(VF),e(t))})});return r.reduce(ane)};GF.exports=cne});var XF=b((hEe,KF)=>{"use strict";var{PassThrough:une}=require("stream");KF.exports=r=>{r={...r};let{array:e}=r,{encoding:t}=r,n=t==="buffer",i=!1;e?i=!(t||n):t=t||"utf8",n&&(t=null);let o=new une({objectMode:i});t&&o.setEncoding(t);let s=0,a=[];return o.on("data",c=>{a.push(c),i?s=a.length:s+=c.length}),o.getBufferedValue=()=>e?a:n?Buffer.concat(a,s):a.join(""),o.getBufferedLength=()=>s,o}});var JF=b((gEe,jl)=>{"use strict";var{constants:lne}=require("buffer"),pne=zF(),dne=XF(),_b=class extends Error{constructor(){super("maxBuffer exceeded"),this.name="MaxBufferError"}};async function Ab(r,e){if(!r)return Promise.reject(new Error("Expected a stream"));e={maxBuffer:1/0,...e};let{maxBuffer:t}=e,n;return await new Promise((i,o)=>{let s=a=>{a&&n.getBufferedLength()<=lne.MAX_LENGTH&&(a.bufferedData=n.getBufferedValue()),o(a)};n=pne(r,dne(e),a=>{if(a){s(a);return}i()}),n.on("data",()=>{n.getBufferedLength()>t&&s(new _b)})}),n.getBufferedValue()}jl.exports=Ab;jl.exports.default=Ab;jl.exports.buffer=(r,e)=>Ab(r,{...e,encoding:"buffer"});jl.exports.array=(r,e)=>Ab(r,{...e,array:!0});jl.exports.MaxBufferError=_b});var QF=b((yEe,YF)=>{"use strict";var fne=new Set([200,203,204,206,300,301,308,404,405,410,414,501]),mne=new Set([200,203,204,300,301,302,303,307,308,404,405,410,414,501]),hne=new Set([500,502,503,504]),gne={date:!0,connection:!0,"keep-alive":!0,"proxy-authenticate":!0,"proxy-authorization":!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0},Hne={"content-length":!0,"content-encoding":!0,"transfer-encoding":!0,"content-range":!0};function Rc(r){let e=parseInt(r,10);return isFinite(e)?e:0}function yne(r){return r?hne.has(r.status):!0}function s0(r){let e={};if(!r)return e;let t=r.trim().split(/,/);for(let n of t){let[i,o]=n.split(/=/,2);e[i.trim()]=o===void 0?!0:o.trim().replace(/^"|"$/g,"")}return e}function bne(r){let e=[];for(let t in r){let n=r[t];e.push(n===!0?t:t+"="+n)}if(e.length)return e.join(", ")}YF.exports=class{constructor(e,t,{shared:n,cacheHeuristic:i,immutableMinTimeToLive:o,ignoreCargoCult:s,_fromObject:a}={}){if(a){this._fromObject(a);return}if(!t||!t.headers)throw Error("Response headers missing");this._assertRequestHasHeaders(e),this._responseTime=this.now(),this._isShared=n!==!1,this._cacheHeuristic=i!==void 0?i:.1,this._immutableMinTtl=o!==void 0?o:24*3600*1e3,this._status="status"in t?t.status:200,this._resHeaders=t.headers,this._rescc=s0(t.headers["cache-control"]),this._method="method"in e?e.method:"GET",this._url=e.url,this._host=e.headers.host,this._noAuthorization=!e.headers.authorization,this._reqHeaders=t.headers.vary?e.headers:null,this._reqcc=s0(e.headers["cache-control"]),s&&"pre-check"in this._rescc&&"post-check"in this._rescc&&(delete this._rescc["pre-check"],delete this._rescc["post-check"],delete this._rescc["no-cache"],delete this._rescc["no-store"],delete this._rescc["must-revalidate"],this._resHeaders=Object.assign({},this._resHeaders,{"cache-control":bne(this._rescc)}),delete this._resHeaders.expires,delete this._resHeaders.pragma),t.headers["cache-control"]==null&&/no-cache/.test(t.headers.pragma)&&(this._rescc["no-cache"]=!0)}now(){return Date.now()}storable(){return!!(!this._reqcc["no-store"]&&(this._method==="GET"||this._method==="HEAD"||this._method==="POST"&&this._hasExplicitExpiration())&&mne.has(this._status)&&!this._rescc["no-store"]&&(!this._isShared||!this._rescc.private)&&(!this._isShared||this._noAuthorization||this._allowsStoringAuthenticated())&&(this._resHeaders.expires||this._rescc["max-age"]||this._isShared&&this._rescc["s-maxage"]||this._rescc.public||fne.has(this._status)))}_hasExplicitExpiration(){return this._isShared&&this._rescc["s-maxage"]||this._rescc["max-age"]||this._resHeaders.expires}_assertRequestHasHeaders(e){if(!e||!e.headers)throw Error("Request headers missing")}satisfiesWithoutRevalidation(e){this._assertRequestHasHeaders(e);let t=s0(e.headers["cache-control"]);return t["no-cache"]||/no-cache/.test(e.headers.pragma)||t["max-age"]&&this.age()>t["max-age"]||t["min-fresh"]&&this.timeToLive()<1e3*t["min-fresh"]||this.stale()&&!(t["max-stale"]&&!this._rescc["must-revalidate"]&&(t["max-stale"]===!0||t["max-stale"]>this.age()-this.maxAge()))?!1:this._requestMatches(e,!1)}_requestMatches(e,t){return(!this._url||this._url===e.url)&&this._host===e.headers.host&&(!e.method||this._method===e.method||t&&e.method==="HEAD")&&this._varyMatches(e)}_allowsStoringAuthenticated(){return this._rescc["must-revalidate"]||this._rescc.public||this._rescc["s-maxage"]}_varyMatches(e){if(!this._resHeaders.vary)return!0;if(this._resHeaders.vary==="*")return!1;let t=this._resHeaders.vary.trim().toLowerCase().split(/\s*,\s*/);for(let n of t)if(e.headers[n]!==this._reqHeaders[n])return!1;return!0}_copyWithoutHopByHopHeaders(e){let t={};for(let n in e)gne[n]||(t[n]=e[n]);if(e.connection){let n=e.connection.trim().split(/\s*,\s*/);for(let i of n)delete t[i]}if(t.warning){let n=t.warning.split(/,/).filter(i=>!/^\s*1[0-9][0-9]/.test(i));n.length?t.warning=n.join(",").trim():delete t.warning}return t}responseHeaders(){let e=this._copyWithoutHopByHopHeaders(this._resHeaders),t=this.age();return t>3600*24&&!this._hasExplicitExpiration()&&this.maxAge()>3600*24&&(e.warning=(e.warning?`${e.warning}, `:"")+'113 - "rfc7234 5.5.4"'),e.age=`${Math.round(t)}`,e.date=new Date(this.now()).toUTCString(),e}date(){let e=Date.parse(this._resHeaders.date);return isFinite(e)?e:this._responseTime}age(){let e=this._ageValue(),t=(this.now()-this._responseTime)/1e3;return e+t}_ageValue(){return Rc(this._resHeaders.age)}maxAge(){if(!this.storable()||this._rescc["no-cache"]||this._isShared&&this._resHeaders["set-cookie"]&&!this._rescc.public&&!this._rescc.immutable||this._resHeaders.vary==="*")return 0;if(this._isShared){if(this._rescc["proxy-revalidate"])return 0;if(this._rescc["s-maxage"])return Rc(this._rescc["s-maxage"])}if(this._rescc["max-age"])return Rc(this._rescc["max-age"]);let e=this._rescc.immutable?this._immutableMinTtl:0,t=this.date();if(this._resHeaders.expires){let n=Date.parse(this._resHeaders.expires);return Number.isNaN(n)||n<t?0:Math.max(e,(n-t)/1e3)}if(this._resHeaders["last-modified"]){let n=Date.parse(this._resHeaders["last-modified"]);if(isFinite(n)&&t>n)return Math.max(e,(t-n)/1e3*this._cacheHeuristic)}return e}timeToLive(){let e=this.maxAge()-this.age(),t=e+Rc(this._rescc["stale-if-error"]),n=e+Rc(this._rescc["stale-while-revalidate"]);return Math.max(0,e,t,n)*1e3}stale(){return this.maxAge()<=this.age()}_useStaleIfError(){return this.maxAge()+Rc(this._rescc["stale-if-error"])>this.age()}useStaleWhileRevalidate(){return this.maxAge()+Rc(this._rescc["stale-while-revalidate"])>this.age()}static fromObject(e){return new this(void 0,void 0,{_fromObject:e})}_fromObject(e){if(this._responseTime)throw Error("Reinitialized");if(!e||e.v!==1)throw Error("Invalid serialization");this._responseTime=e.t,this._isShared=e.sh,this._cacheHeuristic=e.ch,this._immutableMinTtl=e.imm!==void 0?e.imm:24*3600*1e3,this._status=e.st,this._resHeaders=e.resh,this._rescc=e.rescc,this._method=e.m,this._url=e.u,this._host=e.h,this._noAuthorization=e.a,this._reqHeaders=e.reqh,this._reqcc=e.reqcc}toObject(){return{v:1,t:this._responseTime,sh:this._isShared,ch:this._cacheHeuristic,imm:this._immutableMinTtl,st:this._status,resh:this._resHeaders,rescc:this._rescc,m:this._method,u:this._url,h:this._host,a:this._noAuthorization,reqh:this._reqHeaders,reqcc:this._reqcc}}revalidationHeaders(e){this._assertRequestHasHeaders(e);let t=this._copyWithoutHopByHopHeaders(e.headers);if(delete t["if-range"],!this._requestMatches(e,!0)||!this.storable())return delete t["if-none-match"],delete t["if-modified-since"],t;if(this._resHeaders.etag&&(t["if-none-match"]=t["if-none-match"]?`${t["if-none-match"]}, ${this._resHeaders.etag}`:this._resHeaders.etag),t["accept-ranges"]||t["if-match"]||t["if-unmodified-since"]||this._method&&this._method!="GET"){if(delete t["if-modified-since"],t["if-none-match"]){let i=t["if-none-match"].split(/,/).filter(o=>!/^\s*W\//.test(o));i.length?t["if-none-match"]=i.join(",").trim():delete t["if-none-match"]}}else this._resHeaders["last-modified"]&&!t["if-modified-since"]&&(t["if-modified-since"]=this._resHeaders["last-modified"]);return t}revalidatedPolicy(e,t){if(this._assertRequestHasHeaders(e),this._useStaleIfError()&&yne(t))return{modified:!1,matches:!1,policy:this};if(!t||!t.headers)throw Error("Response headers missing");let n=!1;if(t.status!==void 0&&t.status!=304?n=!1:t.headers.etag&&!/^\s*W\//.test(t.headers.etag)?n=this._resHeaders.etag&&this._resHeaders.etag.replace(/^\s*W\//,"")===t.headers.etag:this._resHeaders.etag&&t.headers.etag?n=this._resHeaders.etag.replace(/^\s*W\//,"")===t.headers.etag.replace(/^\s*W\//,""):this._resHeaders["last-modified"]?n=this._resHeaders["last-modified"]===t.headers["last-modified"]:!this._resHeaders.etag&&!this._resHeaders["last-modified"]&&!t.headers.etag&&!t.headers["last-modified"]&&(n=!0),!n)return{policy:new this.constructor(e,t),modified:t.status!=304,matches:!1};let i={};for(let s in this._resHeaders)i[s]=s in t.headers&&!Hne[s]?t.headers[s]:this._resHeaders[s];let o=Object.assign({},t,{status:this._status,method:this._method,headers:i});return{policy:new this.constructor(e,o,{shared:this._isShared,cacheHeuristic:this._cacheHeuristic,immutableMinTimeToLive:this._immutableMinTtl}),modified:!1,matches:!0}}}});var Sb=b((bEe,ZF)=>{"use strict";ZF.exports=r=>{let e={};for(let[t,n]of Object.entries(r))e[t.toLowerCase()]=n;return e}});var tB=b((vEe,eB)=>{"use strict";var vne=require("stream").Readable,xne=Sb(),a0=class extends vne{constructor(e,t,n,i){if(typeof e!="number")throw new TypeError("Argument `statusCode` should be a number");if(typeof t!="object")throw new TypeError("Argument `headers` should be an object");if(!(n instanceof Buffer))throw new TypeError("Argument `body` should be a buffer");if(typeof i!="string")throw new TypeError("Argument `url` should be a string");super(),this.statusCode=e,this.headers=xne(t),this.body=n,this.url=i}_read(){this.push(this.body),this.push(null)}};eB.exports=a0});var nB=b((xEe,rB)=>{"use strict";var wne=["destroy","setTimeout","socket","headers","trailers","rawHeaders","statusCode","httpVersion","httpVersionMinor","httpVersionMajor","rawTrailers","statusMessage"];rB.exports=(r,e)=>{let t=new Set(Object.keys(r).concat(wne));for(let n of t)n in e||(e[n]=typeof r[n]=="function"?r[n].bind(r):r[n])}});var oB=b((wEe,iB)=>{"use strict";var Ine=require("stream").PassThrough,_ne=nB(),Ane=r=>{if(!(r&&r.pipe))throw new TypeError("Parameter `response` must be a response stream.");let e=new Ine;return _ne(r,e),r.pipe(e)};iB.exports=Ane});var sB=b(c0=>{c0.stringify=function r(e){if(typeof e>"u")return e;if(e&&Buffer.isBuffer(e))return JSON.stringify(":base64:"+e.toString("base64"));if(e&&e.toJSON&&(e=e.toJSON()),e&&typeof e=="object"){var t="",n=Array.isArray(e);t=n?"[":"{";var i=!0;for(var o in e){var s=typeof e[o]=="function"||!n&&typeof e[o]>"u";Object.hasOwnProperty.call(e,o)&&!s&&(i||(t+=","),i=!1,n?e[o]==null?t+="null":t+=r(e[o]):e[o]!==void 0&&(t+=r(o)+":"+r(e[o])))}return t+=n?"]":"}",t}else return typeof e=="string"?JSON.stringify(/^:/.test(e)?":"+e:e):typeof e>"u"?"null":JSON.stringify(e)};c0.parse=function(r){return JSON.parse(r,function(e,t){return typeof t=="string"?/^:base64:/.test(t)?Buffer.from(t.substring(8),"base64"):/^:/.test(t)?t.substring(1):t:t})}});var lB=b((_Ee,uB)=>{"use strict";var Sne=require("events"),aB=sB(),Ene=r=>{let e={redis:"@keyv/redis",rediss:"@keyv/redis",mongodb:"@keyv/mongo",mongo:"@keyv/mongo",sqlite:"@keyv/sqlite",postgresql:"@keyv/postgres",postgres:"@keyv/postgres",mysql:"@keyv/mysql",etcd:"@keyv/etcd",offline:"@keyv/offline",tiered:"@keyv/tiered"};if(r.adapter||r.uri){let t=r.adapter||/^[^:+]*/.exec(r.uri)[0];return new(require(e[t]))(r)}return new Map},cB=["sqlite","postgres","mysql","mongo","redis","tiered"],u0=class extends Sne{constructor(e,{emitErrors:t=!0,...n}={}){if(super(),this.opts={namespace:"keyv",serialize:aB.stringify,deserialize:aB.parse,...typeof e=="string"?{uri:e}:e,...n},!this.opts.store){let o={...this.opts};this.opts.store=Ene(o)}if(this.opts.compression){let o=this.opts.compression;this.opts.serialize=o.serialize.bind(o),this.opts.deserialize=o.deserialize.bind(o)}typeof this.opts.store.on=="function"&&t&&this.opts.store.on("error",o=>this.emit("error",o)),this.opts.store.namespace=this.opts.namespace;let i=o=>async function*(){for await(let[s,a]of typeof o=="function"?o(this.opts.store.namespace):o){let c=await this.opts.deserialize(a);if(!(this.opts.store.namespace&&!s.includes(this.opts.store.namespace))){if(typeof c.expires=="number"&&Date.now()>c.expires){this.delete(s);continue}yield[this._getKeyUnprefix(s),c.value]}}};typeof this.opts.store[Symbol.iterator]=="function"&&this.opts.store instanceof Map?this.iterator=i(this.opts.store):typeof this.opts.store.iterator=="function"&&this.opts.store.opts&&this._checkIterableAdaptar()&&(this.iterator=i(this.opts.store.iterator.bind(this.opts.store)))}_checkIterableAdaptar(){return cB.includes(this.opts.store.opts.dialect)||cB.findIndex(e=>this.opts.store.opts.url.includes(e))>=0}_getKeyPrefix(e){return`${this.opts.namespace}:${e}`}_getKeyPrefixArray(e){return e.map(t=>`${this.opts.namespace}:${t}`)}_getKeyUnprefix(e){return e.split(":").splice(1).join(":")}get(e,t){let{store:n}=this.opts,i=Array.isArray(e),o=i?this._getKeyPrefixArray(e):this._getKeyPrefix(e);if(i&&n.getMany===void 0){let s=[];for(let a of o)s.push(Promise.resolve().then(()=>n.get(a)).then(c=>typeof c=="string"?this.opts.deserialize(c):this.opts.compression?this.opts.deserialize(c):c).then(c=>{if(c!=null)return typeof c.expires=="number"&&Date.now()>c.expires?this.delete(a).then(()=>{}):t&&t.raw?c:c.value}));return Promise.allSettled(s).then(a=>{let c=[];for(let u of a)c.push(u.value);return c})}return Promise.resolve().then(()=>i?n.getMany(o):n.get(o)).then(s=>typeof s=="string"?this.opts.deserialize(s):this.opts.compression?this.opts.deserialize(s):s).then(s=>{if(s!=null)return i?s.map((a,c)=>{if(typeof a=="string"&&(a=this.opts.deserialize(a)),a!=null){if(typeof a.expires=="number"&&Date.now()>a.expires){this.delete(e[c]).then(()=>{});return}return t&&t.raw?a:a.value}}):typeof s.expires=="number"&&Date.now()>s.expires?this.delete(e).then(()=>{}):t&&t.raw?s:s.value})}set(e,t,n){let i=this._getKeyPrefix(e);typeof n>"u"&&(n=this.opts.ttl),n===0&&(n=void 0);let{store:o}=this.opts;return Promise.resolve().then(()=>{let s=typeof n=="number"?Date.now()+n:null;return typeof t=="symbol"&&this.emit("error","symbol cannot be serialized"),t={value:t,expires:s},this.opts.serialize(t)}).then(s=>o.set(i,s,n)).then(()=>!0)}delete(e){let{store:t}=this.opts;if(Array.isArray(e)){let i=this._getKeyPrefixArray(e);if(t.deleteMany===void 0){let o=[];for(let s of i)o.push(t.delete(s));return Promise.allSettled(o).then(s=>s.every(a=>a.value===!0))}return Promise.resolve().then(()=>t.deleteMany(i))}let n=this._getKeyPrefix(e);return Promise.resolve().then(()=>t.delete(n))}clear(){let{store:e}=this.opts;return Promise.resolve().then(()=>e.clear())}has(e){let t=this._getKeyPrefix(e),{store:n}=this.opts;return Promise.resolve().then(async()=>typeof n.has=="function"?n.has(t):await n.get(t)!==void 0)}disconnect(){let{store:e}=this.opts;if(typeof e.disconnect=="function")return e.disconnect()}};uB.exports=u0});var fB=b((AEe,dB)=>{"use strict";var Pne=require("events"),Eb=require("url"),Cne=MF(),Tne=JF(),l0=QF(),pB=tB(),Lne=Sb(),Dne=oB(),$ne=lB(),fm=class r{constructor(e,t){if(typeof e!="function")throw new TypeError("Parameter `request` must be a function");return this.cache=new $ne({uri:typeof t=="string"&&t,store:typeof t!="string"&&t,namespace:"cacheable-request"}),this.createCacheableRequest(e)}createCacheableRequest(e){return(t,n)=>{let i;if(typeof t=="string")i=p0(Eb.parse(t)),t={};else if(t instanceof Eb.URL)i=p0(Eb.parse(t.toString())),t={};else{let[p,...d]=(t.path||"").split("?"),h=d.length>0?`?${d.join("?")}`:"";i=p0({...t,pathname:p,search:h})}t={headers:{},method:"GET",cache:!0,strictTtl:!1,automaticFailover:!1,...t,...kne(i)},t.headers=Lne(t.headers);let o=new Pne,s=Cne(Eb.format(i),{stripWWW:!1,removeTrailingSlash:!1,stripAuthentication:!1}),a=`${t.method}:${s}`,c=!1,u=!1,l=p=>{u=!0;let d=!1,h,f=new Promise(v=>{h=()=>{d||(d=!0,v())}}),g=v=>{if(c&&!p.forceRefresh){v.status=v.statusCode;let R=l0.fromObject(c.cachePolicy).revalidatedPolicy(p,v);if(!R.modified){let F=R.policy.responseHeaders();v=new pB(c.statusCode,F,c.body,c.url),v.cachePolicy=R.policy,v.fromCache=!0}}v.fromCache||(v.cachePolicy=new l0(p,v,p),v.fromCache=!1);let S;p.cache&&v.cachePolicy.storable()?(S=Dne(v),(async()=>{try{let R=Tne.buffer(v);if(await Promise.race([f,new Promise(J=>v.once("end",J))]),d)return;let F=await R,X={cachePolicy:v.cachePolicy.toObject(),url:v.url,statusCode:v.fromCache?c.statusCode:v.statusCode,body:F},G=p.strictTtl?v.cachePolicy.timeToLive():void 0;p.maxTtl&&(G=G?Math.min(G,p.maxTtl):p.maxTtl),await this.cache.set(a,X,G)}catch(R){o.emit("error",new r.CacheError(R))}})()):p.cache&&c&&(async()=>{try{await this.cache.delete(a)}catch(R){o.emit("error",new r.CacheError(R))}})(),o.emit("response",S||v),typeof n=="function"&&n(S||v)};try{let v=e(p,g);v.once("error",h),v.once("abort",h),o.emit("request",v)}catch(v){o.emit("error",new r.RequestError(v))}};return(async()=>{let p=async h=>{await Promise.resolve();let f=h.cache?await this.cache.get(a):void 0;if(typeof f>"u")return l(h);let g=l0.fromObject(f.cachePolicy);if(g.satisfiesWithoutRevalidation(h)&&!h.forceRefresh){let v=g.responseHeaders(),S=new pB(f.statusCode,v,f.body,f.url);S.cachePolicy=g,S.fromCache=!0,o.emit("response",S),typeof n=="function"&&n(S)}else c=f,h.headers=g.revalidationHeaders(h),l(h)},d=h=>o.emit("error",new r.CacheError(h));this.cache.once("error",d),o.on("response",()=>this.cache.removeListener("error",d));try{await p(t)}catch(h){t.automaticFailover&&!u&&l(t),o.emit("error",new r.CacheError(h))}})(),o}}};function kne(r){let e={...r};return e.path=`${r.pathname||"/"}${r.search||""}`,delete e.pathname,delete e.search,e}function p0(r){return{protocol:r.protocol,auth:r.auth,hostname:r.hostname||r.host||"localhost",port:r.port,pathname:r.pathname,search:r.search}}fm.RequestError=class extends Error{constructor(r){super(r.message),this.name="RequestError",Object.assign(this,r)}};fm.CacheError=class extends Error{constructor(r){super(r.message),this.name="CacheError",Object.assign(this,r)}};dB.exports=fm});var hB=b((PEe,mB)=>{"use strict";var Rne=["aborted","complete","headers","httpVersion","httpVersionMinor","httpVersionMajor","method","rawHeaders","rawTrailers","setTimeout","socket","statusCode","statusMessage","trailers","url"];mB.exports=(r,e)=>{if(e._readableState.autoDestroy)throw new Error("The second stream must have the `autoDestroy` option set to `false`");let t=new Set(Object.keys(r).concat(Rne)),n={};for(let i of t)i in e||(n[i]={get(){let o=r[i];return typeof o=="function"?o.bind(r):o},set(o){r[i]=o},enumerable:!0,configurable:!1});return Object.defineProperties(e,n),r.once("aborted",()=>{e.destroy(),e.emit("aborted")}),r.once("close",()=>{r.complete&&e.readable?e.once("end",()=>{e.emit("close")}):e.emit("close")}),e}});var HB=b((CEe,gB)=>{"use strict";var{Transform:Mne,PassThrough:One}=require("stream"),d0=require("zlib"),Nne=hB();gB.exports=r=>{let e=(r.headers["content-encoding"]||"").toLowerCase();if(!["gzip","deflate","br"].includes(e))return r;let t=e==="br";if(t&&typeof d0.createBrotliDecompress!="function")return r.destroy(new Error("Brotli is not supported on Node.js < 12")),r;let n=!0,i=new Mne({transform(a,c,u){n=!1,u(null,a)},flush(a){a()}}),o=new One({autoDestroy:!1,destroy(a,c){r.destroy(),c(a)}}),s=t?d0.createBrotliDecompress():d0.createUnzip();return s.once("error",a=>{if(n&&!r.readable){o.end();return}o.destroy(a)}),Nne(r,o),r.pipe(i).pipe(s).pipe(o),o}});var m0=b((TEe,yB)=>{"use strict";var f0=class{constructor(e={}){if(!(e.maxSize&&e.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");this.maxSize=e.maxSize,this.onEviction=e.onEviction,this.cache=new Map,this.oldCache=new Map,this._size=0}_set(e,t){if(this.cache.set(e,t),this._size++,this._size>=this.maxSize){if(this._size=0,typeof this.onEviction=="function")for(let[n,i]of this.oldCache.entries())this.onEviction(n,i);this.oldCache=this.cache,this.cache=new Map}}get(e){if(this.cache.has(e))return this.cache.get(e);if(this.oldCache.has(e)){let t=this.oldCache.get(e);return this.oldCache.delete(e),this._set(e,t),t}}set(e,t){return this.cache.has(e)?this.cache.set(e,t):this._set(e,t),this}has(e){return this.cache.has(e)||this.oldCache.has(e)}peek(e){if(this.cache.has(e))return this.cache.get(e);if(this.oldCache.has(e))return this.oldCache.get(e)}delete(e){let t=this.cache.delete(e);return t&&this._size--,this.oldCache.delete(e)||t}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}*keys(){for(let[e]of this)yield e}*values(){for(let[,e]of this)yield e}*[Symbol.iterator](){for(let e of this.cache)yield e;for(let e of this.oldCache){let[t]=e;this.cache.has(t)||(yield e)}}get size(){let e=0;for(let t of this.oldCache.keys())this.cache.has(t)||e++;return Math.min(this._size+e,this.maxSize)}};yB.exports=f0});var g0=b((LEe,wB)=>{"use strict";var Fne=require("events"),Bne=require("tls"),Une=require("http2"),jne=m0(),Fr=Symbol("currentStreamsCount"),bB=Symbol("request"),Vn=Symbol("cachedOriginSet"),Wl=Symbol("gracefullyClosing"),Wne=["maxDeflateDynamicTableSize","maxSessionMemory","maxHeaderListPairs","maxOutstandingPings","maxReservedRemoteStreams","maxSendHeaderBlockLength","paddingStrategy","localAddress","path","rejectUnauthorized","minDHSize","ca","cert","clientCertEngine","ciphers","key","pfx","servername","minVersion","maxVersion","secureProtocol","crl","honorCipherOrder","ecdhCurve","dhparam","secureOptions","sessionIdContext"],qne=(r,e,t)=>{let n=0,i=r.length;for(;n<i;){let o=n+i>>>1;t(r[o],e)?n=o+1:i=o}return n},Vne=(r,e)=>r.remoteSettings.maxConcurrentStreams>e.remoteSettings.maxConcurrentStreams,h0=(r,e)=>{for(let t of r)t[Vn].length<e[Vn].length&&t[Vn].every(n=>e[Vn].includes(n))&&t[Fr]+e[Fr]<=e.remoteSettings.maxConcurrentStreams&&xB(t)},Gne=(r,e)=>{for(let t of r)e[Vn].length<t[Vn].length&&e[Vn].every(n=>t[Vn].includes(n))&&e[Fr]+t[Fr]<=t.remoteSettings.maxConcurrentStreams&&xB(e)},vB=({agent:r,isFree:e})=>{let t={};for(let n in r.sessions){let o=r.sessions[n].filter(s=>{let a=s[Mc.kCurrentStreamsCount]<s.remoteSettings.maxConcurrentStreams;return e?a:!a});o.length!==0&&(t[n]=o)}return t},xB=r=>{r[Wl]=!0,r[Fr]===0&&r.close()},Mc=class r extends Fne{constructor({timeout:e=6e4,maxSessions:t=1/0,maxFreeSessions:n=10,maxCachedTlsSessions:i=100}={}){super(),this.sessions={},this.queue={},this.timeout=e,this.maxSessions=t,this.maxFreeSessions=n,this._freeSessionsCount=0,this._sessionsCount=0,this.settings={enablePush:!1},this.tlsSessionCache=new jne({maxSize:i})}static normalizeOrigin(e,t){return typeof e=="string"&&(e=new URL(e)),t&&e.hostname!==t&&(e.hostname=t),e.origin}normalizeOptions(e){let t="";if(e)for(let n of Wne)e[n]&&(t+=`:${e[n]}`);return t}_tryToCreateNewSession(e,t){if(!(e in this.queue)||!(t in this.queue[e]))return;let n=this.queue[e][t];this._sessionsCount<this.maxSessions&&!n.completed&&(n.completed=!0,n())}getSession(e,t,n){return new Promise((i,o)=>{Array.isArray(n)?(n=[...n],i()):n=[{resolve:i,reject:o}];let s=this.normalizeOptions(t),a=r.normalizeOrigin(e,t&&t.servername);if(a===void 0){for(let{reject:l}of n)l(new TypeError("The `origin` argument needs to be a string or an URL object"));return}if(s in this.sessions){let l=this.sessions[s],p=-1,d=-1,h;for(let f of l){let g=f.remoteSettings.maxConcurrentStreams;if(g<p)break;if(f[Vn].includes(a)){let v=f[Fr];if(v>=g||f[Wl]||f.destroyed)continue;h||(p=g),v>d&&(h=f,d=v)}}if(h){if(n.length!==1){for(let{reject:f}of n){let g=new Error(`Expected the length of listeners to be 1, got ${n.length}.
Please report this to https://github.com/szmarczak/http2-wrapper/`);f(g)}return}n[0].resolve(h);return}}if(s in this.queue){if(a in this.queue[s]){this.queue[s][a].listeners.push(...n),this._tryToCreateNewSession(s,a);return}}else this.queue[s]={};let c=()=>{s in this.queue&&this.queue[s][a]===u&&(delete this.queue[s][a],Object.keys(this.queue[s]).length===0&&delete this.queue[s])},u=()=>{let l=`${a}:${s}`,p=!1;try{let d=Une.connect(e,{createConnection:this.createConnection,settings:this.settings,session:this.tlsSessionCache.get(l),...t});d[Fr]=0,d[Wl]=!1;let h=()=>d[Fr]<d.remoteSettings.maxConcurrentStreams,f=!0;d.socket.once("session",v=>{this.tlsSessionCache.set(l,v)}),d.once("error",v=>{for(let{reject:S}of n)S(v);this.tlsSessionCache.delete(l)}),d.setTimeout(this.timeout,()=>{d.destroy()}),d.once("close",()=>{if(p){f&&this._freeSessionsCount--,this._sessionsCount--;let v=this.sessions[s];v.splice(v.indexOf(d),1),v.length===0&&delete this.sessions[s]}else{let v=new Error("Session closed without receiving a SETTINGS frame");v.code="HTTP2WRAPPER_NOSETTINGS";for(let{reject:S}of n)S(v);c()}this._tryToCreateNewSession(s,a)});let g=()=>{if(!(!(s in this.queue)||!h())){for(let v of d[Vn])if(v in this.queue[s]){let{listeners:S}=this.queue[s][v];for(;S.length!==0&&h();)S.shift().resolve(d);let R=this.queue[s];if(R[v].listeners.length===0&&(delete R[v],Object.keys(R).length===0)){delete this.queue[s];break}if(!h())break}}};d.on("origin",()=>{d[Vn]=d.originSet,h()&&(g(),h0(this.sessions[s],d))}),d.once("remoteSettings",()=>{if(d.ref(),d.unref(),this._sessionsCount++,u.destroyed){let v=new Error("Agent has been destroyed");for(let S of n)S.reject(v);d.destroy();return}d[Vn]=d.originSet;{let v=this.sessions;if(s in v){let S=v[s];S.splice(qne(S,d,Vne),0,d)}else v[s]=[d]}this._freeSessionsCount+=1,p=!0,this.emit("session",d),g(),c(),d[Fr]===0&&this._freeSessionsCount>this.maxFreeSessions&&d.close(),n.length!==0&&(this.getSession(a,t,n),n.length=0),d.on("remoteSettings",()=>{g(),h0(this.sessions[s],d)})}),d[bB]=d.request,d.request=(v,S)=>{if(d[Wl])throw new Error("The session is gracefully closing. No new streams are allowed.");let R=d[bB](v,S);return d.ref(),++d[Fr],d[Fr]===d.remoteSettings.maxConcurrentStreams&&this._freeSessionsCount--,R.once("close",()=>{if(f=h(),--d[Fr],!d.destroyed&&!d.closed&&(Gne(this.sessions[s],d),h()&&!d.closed)){f||(this._freeSessionsCount++,f=!0);let F=d[Fr]===0;F&&d.unref(),F&&(this._freeSessionsCount>this.maxFreeSessions||d[Wl])?d.close():(h0(this.sessions[s],d),g())}}),R}}catch(d){for(let h of n)h.reject(d);c()}};u.listeners=n,u.completed=!1,u.destroyed=!1,this.queue[s][a]=u,this._tryToCreateNewSession(s,a)})}request(e,t,n,i){return new Promise((o,s)=>{this.getSession(e,t,[{reject:s,resolve:a=>{try{o(a.request(n,i))}catch(c){s(c)}}}])})}createConnection(e,t){return r.connect(e,t)}static connect(e,t){t.ALPNProtocols=["h2"];let n=e.port||443,i=e.hostname||e.host;return typeof t.servername>"u"&&(t.servername=i),Bne.connect(n,i,t)}closeFreeSessions(){for(let e of Object.values(this.sessions))for(let t of e)t[Fr]===0&&t.close()}destroy(e){for(let t of Object.values(this.sessions))for(let n of t)n.destroy(e);for(let t of Object.values(this.queue))for(let n of Object.values(t))n.destroyed=!0;this.queue={}}get freeSessions(){return vB({agent:this,isFree:!0})}get busySessions(){return vB({agent:this,isFree:!1})}};Mc.kCurrentStreamsCount=Fr;Mc.kGracefullyClosing=Wl;wB.exports={Agent:Mc,globalAgent:new Mc}});var y0=b((DEe,IB)=>{"use strict";var{Readable:zne}=require("stream"),H0=class extends zne{constructor(e,t){super({highWaterMark:t,autoDestroy:!1}),this.statusCode=null,this.statusMessage="",this.httpVersion="2.0",this.httpVersionMajor=2,this.httpVersionMinor=0,this.headers={},this.trailers={},this.req=null,this.aborted=!1,this.complete=!1,this.upgrade=null,this.rawHeaders=[],this.rawTrailers=[],this.socket=e,this.connection=e,this._dumped=!1}_destroy(e){this.req._request.destroy(e)}setTimeout(e,t){return this.req.setTimeout(e,t),this}_dump(){this._dumped||(this._dumped=!0,this.removeAllListeners("data"),this.resume())}_read(){this.req&&this.req._request.resume()}};IB.exports=H0});var b0=b(($Ee,_B)=>{"use strict";_B.exports=r=>{let e={protocol:r.protocol,hostname:typeof r.hostname=="string"&&r.hostname.startsWith("[")?r.hostname.slice(1,-1):r.hostname,host:r.host,hash:r.hash,search:r.search,pathname:r.pathname,href:r.href,path:`${r.pathname||""}${r.search||""}`};return typeof r.port=="string"&&r.port.length!==0&&(e.port=Number(r.port)),(r.username||r.password)&&(e.auth=`${r.username||""}:${r.password||""}`),e}});var SB=b((kEe,AB)=>{"use strict";AB.exports=(r,e,t)=>{for(let n of t)r.on(n,(...i)=>e.emit(n,...i))}});var PB=b((REe,EB)=>{"use strict";EB.exports=r=>{switch(r){case":method":case":scheme":case":authority":case":path":return!0;default:return!1}}});var TB=b((OEe,CB)=>{"use strict";var ql=(r,e,t)=>{CB.exports[e]=class extends r{constructor(...i){super(typeof t=="string"?t:t(i)),this.name=`${super.name} [${e}]`,this.code=e}}};ql(TypeError,"ERR_INVALID_ARG_TYPE",r=>{let e=r[0].includes(".")?"property":"argument",t=r[1],n=Array.isArray(t);return n&&(t=`${t.slice(0,-1).join(", ")} or ${t.slice(-1)}`),`The "${r[0]}" ${e} must be ${n?"one of":"of"} type ${t}. Received ${typeof r[2]}`});ql(TypeError,"ERR_INVALID_PROTOCOL",r=>`Protocol "${r[0]}" not supported. Expected "${r[1]}"`);ql(Error,"ERR_HTTP_HEADERS_SENT",r=>`Cannot ${r[0]} headers after they are sent to the client`);ql(TypeError,"ERR_INVALID_HTTP_TOKEN",r=>`${r[0]} must be a valid HTTP token [${r[1]}]`);ql(TypeError,"ERR_HTTP_INVALID_HEADER_VALUE",r=>`Invalid value "${r[0]} for header "${r[1]}"`);ql(TypeError,"ERR_INVALID_CHAR",r=>`Invalid character in ${r[0]} [${r[1]}]`)});var _0=b((NEe,OB)=>{"use strict";var Kne=require("http2"),{Writable:Xne}=require("stream"),{Agent:LB,globalAgent:Jne}=g0(),Yne=y0(),Qne=b0(),Zne=SB(),eie=PB(),{ERR_INVALID_ARG_TYPE:v0,ERR_INVALID_PROTOCOL:tie,ERR_HTTP_HEADERS_SENT:DB,ERR_INVALID_HTTP_TOKEN:rie,ERR_HTTP_INVALID_HEADER_VALUE:nie,ERR_INVALID_CHAR:iie}=TB(),{HTTP2_HEADER_STATUS:$B,HTTP2_HEADER_METHOD:kB,HTTP2_HEADER_PATH:RB,HTTP2_METHOD_CONNECT:oie}=Kne.constants,Lr=Symbol("headers"),x0=Symbol("origin"),w0=Symbol("session"),MB=Symbol("options"),Pb=Symbol("flushedHeaders"),mm=Symbol("jobs"),sie=/^[\^`\-\w!#$%&*+.|~]+$/,aie=/[^\t\u0020-\u007E\u0080-\u00FF]/,I0=class extends Xne{constructor(e,t,n){super({autoDestroy:!1});let i=typeof e=="string"||e instanceof URL;if(i&&(e=Qne(e instanceof URL?e:new URL(e))),typeof t=="function"||t===void 0?(n=t,t=i?e:{...e}):t={...e,...t},t.h2session)this[w0]=t.h2session;else if(t.agent===!1)this.agent=new LB({maxFreeSessions:0});else if(typeof t.agent>"u"||t.agent===null)typeof t.createConnection=="function"?(this.agent=new LB({maxFreeSessions:0}),this.agent.createConnection=t.createConnection):this.agent=Jne;else if(typeof t.agent.request=="function")this.agent=t.agent;else throw new v0("options.agent",["Agent-like Object","undefined","false"],t.agent);if(t.protocol&&t.protocol!=="https:")throw new tie(t.protocol,"https:");let o=t.port||t.defaultPort||this.agent&&this.agent.defaultPort||443,s=t.hostname||t.host||"localhost";delete t.hostname,delete t.host,delete t.port;let{timeout:a}=t;if(t.timeout=void 0,this[Lr]=Object.create(null),this[mm]=[],this.socket=null,this.connection=null,this.method=t.method||"GET",this.path=t.path,this.res=null,this.aborted=!1,this.reusedSocket=!1,t.headers)for(let[c,u]of Object.entries(t.headers))this.setHeader(c,u);t.auth&&!("authorization"in this[Lr])&&(this[Lr].authorization="Basic "+Buffer.from(t.auth).toString("base64")),t.session=t.tlsSession,t.path=t.socketPath,this[MB]=t,o===443?(this[x0]=`https://${s}`,":authority"in this[Lr]||(this[Lr][":authority"]=s)):(this[x0]=`https://${s}:${o}`,":authority"in this[Lr]||(this[Lr][":authority"]=`${s}:${o}`)),a&&this.setTimeout(a),n&&this.once("response",n),this[Pb]=!1}get method(){return this[Lr][kB]}set method(e){e&&(this[Lr][kB]=e.toUpperCase())}get path(){return this[Lr][RB]}set path(e){e&&(this[Lr][RB]=e)}get _mustNotHaveABody(){return this.method==="GET"||this.method==="HEAD"||this.method==="DELETE"}_write(e,t,n){if(this._mustNotHaveABody){n(new Error("The GET, HEAD and DELETE methods must NOT have a body"));return}this.flushHeaders();let i=()=>this._request.write(e,t,n);this._request?i():this[mm].push(i)}_final(e){if(this.destroyed)return;this.flushHeaders();let t=()=>{if(this._mustNotHaveABody){e();return}this._request.end(e)};this._request?t():this[mm].push(t)}abort(){this.res&&this.res.complete||(this.aborted||process.nextTick(()=>this.emit("abort")),this.aborted=!0,this.destroy())}_destroy(e,t){this.res&&this.res._dump(),this._request&&this._request.destroy(),t(e)}async flushHeaders(){if(this[Pb]||this.destroyed)return;this[Pb]=!0;let e=this.method===oie,t=n=>{if(this._request=n,this.destroyed){n.destroy();return}e||Zne(n,this,["timeout","continue","close","error"]);let i=s=>(...a)=>{!this.writable&&!this.destroyed?s(...a):this.once("finish",()=>{s(...a)})};n.once("response",i((s,a,c)=>{let u=new Yne(this.socket,n.readableHighWaterMark);this.res=u,u.req=this,u.statusCode=s[$B],u.headers=s,u.rawHeaders=c,u.once("end",()=>{this.aborted?(u.aborted=!0,u.emit("aborted")):(u.complete=!0,u.socket=null,u.connection=null)}),e?(u.upgrade=!0,this.emit("connect",u,n,Buffer.alloc(0))?this.emit("close"):n.destroy()):(n.on("data",l=>{!u._dumped&&!u.push(l)&&n.pause()}),n.once("end",()=>{u.push(null)}),this.emit("response",u)||u._dump())})),n.once("headers",i(s=>this.emit("information",{statusCode:s[$B]}))),n.once("trailers",i((s,a,c)=>{let{res:u}=this;u.trailers=s,u.rawTrailers=c}));let{socket:o}=n.session;this.socket=o,this.connection=o;for(let s of this[mm])s();this.emit("socket",this.socket)};if(this[w0])try{t(this[w0].request(this[Lr]))}catch(n){this.emit("error",n)}else{this.reusedSocket=!0;try{t(await this.agent.request(this[x0],this[MB],this[Lr]))}catch(n){this.emit("error",n)}}}getHeader(e){if(typeof e!="string")throw new v0("name","string",e);return this[Lr][e.toLowerCase()]}get headersSent(){return this[Pb]}removeHeader(e){if(typeof e!="string")throw new v0("name","string",e);if(this.headersSent)throw new DB("remove");delete this[Lr][e.toLowerCase()]}setHeader(e,t){if(this.headersSent)throw new DB("set");if(typeof e!="string"||!sie.test(e)&&!eie(e))throw new rie("Header name",e);if(typeof t>"u")throw new nie(t,e);if(aie.test(t))throw new iie("header content",e);this[Lr][e.toLowerCase()]=t}setNoDelay(){}setSocketKeepAlive(){}setTimeout(e,t){let n=()=>this._request.setTimeout(e,t);return this._request?n():this[mm].push(n),this}get maxHeadersCount(){if(!this.destroyed&&this._request)return this._request.session.localSettings.maxHeaderListSize}set maxHeadersCount(e){}};OB.exports=I0});var FB=b((FEe,NB)=>{"use strict";var cie=require("tls");NB.exports=(r={},e=cie.connect)=>new Promise((t,n)=>{let i=!1,o,s=async()=>{await c,o.off("timeout",a),o.off("error",n),r.resolveSocket?(t({alpnProtocol:o.alpnProtocol,socket:o,timeout:i}),i&&(await Promise.resolve(),o.emit("timeout"))):(o.destroy(),t({alpnProtocol:o.alpnProtocol,timeout:i}))},a=async()=>{i=!0,s()},c=(async()=>{try{o=await e(r,s),o.on("error",n),o.once("timeout",a)}catch(u){n(u)}})()})});var UB=b((BEe,BB)=>{"use strict";var uie=require("net");BB.exports=r=>{let e=r.host,t=r.headers&&r.headers.host;return t&&(t.startsWith("[")?t.indexOf("]")===-1?e=t:e=t.slice(1,-1):e=t.split(":",1)[0]),uie.isIP(e)?"":e}});var qB=b((UEe,S0)=>{"use strict";var jB=require("http"),A0=require("https"),lie=FB(),pie=m0(),die=_0(),fie=UB(),mie=b0(),Cb=new pie({maxSize:100}),hm=new Map,WB=(r,e,t)=>{e._httpMessage={shouldKeepAlive:!0};let n=()=>{r.emit("free",e,t)};e.on("free",n);let i=()=>{r.removeSocket(e,t)};e.on("close",i);let o=()=>{r.removeSocket(e,t),e.off("close",i),e.off("free",n),e.off("agentRemove",o)};e.on("agentRemove",o),r.emit("free",e,t)},hie=async r=>{let e=`${r.host}:${r.port}:${r.ALPNProtocols.sort()}`;if(!Cb.has(e)){if(hm.has(e))return(await hm.get(e)).alpnProtocol;let{path:t,agent:n}=r;r.path=r.socketPath;let i=lie(r);hm.set(e,i);try{let{socket:o,alpnProtocol:s}=await i;if(Cb.set(e,s),r.path=t,s==="h2")o.destroy();else{let{globalAgent:a}=A0,c=A0.Agent.prototype.createConnection;n?n.createConnection===c?WB(n,o,r):o.destroy():a.createConnection===c?WB(a,o,r):o.destroy()}return hm.delete(e),s}catch(o){throw hm.delete(e),o}}return Cb.get(e)};S0.exports=async(r,e,t)=>{if((typeof r=="string"||r instanceof URL)&&(r=mie(new URL(r))),typeof e=="function"&&(t=e,e=void 0),e={ALPNProtocols:["h2","http/1.1"],...r,...e,resolveSocket:!0},!Array.isArray(e.ALPNProtocols)||e.ALPNProtocols.length===0)throw new Error("The `ALPNProtocols` option must be an Array with at least one entry");e.protocol=e.protocol||"https:";let n=e.protocol==="https:";e.host=e.hostname||e.host||"localhost",e.session=e.tlsSession,e.servername=e.servername||fie(e),e.port=e.port||(n?443:80),e._defaultAgent=n?A0.globalAgent:jB.globalAgent;let i=e.agent;if(i){if(i.addRequest)throw new Error("The `options.agent` object can contain only `http`, `https` or `http2` properties");e.agent=i[n?"https":"http"]}return n&&await hie(e)==="h2"?(i&&(e.agent=i.http2),new die(e,t)):jB.request(e,t)};S0.exports.protocolCache=Cb});var GB=b((jEe,VB)=>{"use strict";var gie=require("http2"),Hie=g0(),E0=_0(),yie=y0(),bie=qB(),vie=(r,e,t)=>new E0(r,e,t),xie=(r,e,t)=>{let n=new E0(r,e,t);return n.end(),n};VB.exports={...gie,ClientRequest:E0,IncomingMessage:yie,...Hie,request:vie,get:xie,auto:bie}});var C0=b(P0=>{"use strict";Object.defineProperty(P0,"__esModule",{value:!0});var zB=os();P0.default=r=>zB.default.nodeStream(r)&&zB.default.function_(r.getBoundary)});var YB=b(T0=>{"use strict";Object.defineProperty(T0,"__esModule",{value:!0});var XB=require("fs"),JB=require("util"),KB=os(),wie=C0(),Iie=JB.promisify(XB.stat);T0.default=async(r,e)=>{if(e&&"content-length"in e)return Number(e["content-length"]);if(!r)return 0;if(KB.default.string(r))return Buffer.byteLength(r);if(KB.default.buffer(r))return r.length;if(wie.default(r))return JB.promisify(r.getLength.bind(r))();if(r instanceof XB.ReadStream){let{size:t}=await Iie(r.path);return t===0?void 0:t}}});var D0=b(L0=>{"use strict";Object.defineProperty(L0,"__esModule",{value:!0});function _ie(r,e,t){let n={};for(let i of t)n[i]=(...o)=>{e.emit(i,...o)},r.on(i,n[i]);return()=>{for(let i of t)r.off(i,n[i])}}L0.default=_ie});var QB=b($0=>{"use strict";Object.defineProperty($0,"__esModule",{value:!0});$0.default=()=>{let r=[];return{once(e,t,n){e.once(t,n),r.push({origin:e,event:t,fn:n})},unhandleAll(){for(let e of r){let{origin:t,event:n,fn:i}=e;t.removeListener(n,i)}r.length=0}}}});var e3=b(gm=>{"use strict";Object.defineProperty(gm,"__esModule",{value:!0});gm.TimeoutError=void 0;var Aie=require("net"),Sie=QB(),ZB=Symbol("reentry"),Eie=()=>{},Tb=class extends Error{constructor(e,t){super(`Timeout awaiting '${t}' for ${e}ms`),this.event=t,this.name="TimeoutError",this.code="ETIMEDOUT"}};gm.TimeoutError=Tb;gm.default=(r,e,t)=>{if(ZB in r)return Eie;r[ZB]=!0;let n=[],{once:i,unhandleAll:o}=Sie.default(),s=(p,d,h)=>{var f;let g=setTimeout(d,p,p,h);(f=g.unref)===null||f===void 0||f.call(g);let v=()=>{clearTimeout(g)};return n.push(v),v},{host:a,hostname:c}=t,u=(p,d)=>{r.destroy(new Tb(p,d))},l=()=>{for(let p of n)p();o()};if(r.once("error",p=>{if(l(),r.listenerCount("error")===0)throw p}),r.once("close",l),i(r,"response",p=>{i(p,"end",l)}),typeof e.request<"u"&&s(e.request,u,"request"),typeof e.socket<"u"){let p=()=>{u(e.socket,"socket")};r.setTimeout(e.socket,p),n.push(()=>{r.removeListener("timeout",p)})}return i(r,"socket",p=>{var d;let{socketPath:h}=r;if(p.connecting){let f=!!(h??Aie.isIP((d=c??a)!==null&&d!==void 0?d:"")!==0);if(typeof e.lookup<"u"&&!f&&typeof p.address().address>"u"){let g=s(e.lookup,u,"lookup");i(p,"lookup",g)}if(typeof e.connect<"u"){let g=()=>s(e.connect,u,"connect");f?i(p,"connect",g()):i(p,"lookup",v=>{v===null&&i(p,"connect",g())})}typeof e.secureConnect<"u"&&t.protocol==="https:"&&i(p,"connect",()=>{let g=s(e.secureConnect,u,"secureConnect");i(p,"secureConnect",g)})}if(typeof e.send<"u"){let f=()=>s(e.send,u,"send");p.connecting?i(p,"connect",()=>{i(r,"upload-complete",f())}):i(r,"upload-complete",f())}}),typeof e.response<"u"&&i(r,"upload-complete",()=>{let p=s(e.response,u,"response");i(r,"response",p)}),l}});var r3=b(k0=>{"use strict";Object.defineProperty(k0,"__esModule",{value:!0});var t3=os();k0.default=r=>{r=r;let e={protocol:r.protocol,hostname:t3.default.string(r.hostname)&&r.hostname.startsWith("[")?r.hostname.slice(1,-1):r.hostname,host:r.host,hash:r.hash,search:r.search,pathname:r.pathname,href:r.href,path:`${r.pathname||""}${r.search||""}`};return t3.default.string(r.port)&&r.port.length>0&&(e.port=Number(r.port)),(r.username||r.password)&&(e.auth=`${r.username||""}:${r.password||""}`),e}});var n3=b(R0=>{"use strict";Object.defineProperty(R0,"__esModule",{value:!0});var Pie=require("url"),Cie=["protocol","host","hostname","port","pathname","search"];R0.default=(r,e)=>{var t,n;if(e.path){if(e.pathname)throw new TypeError("Parameters `path` and `pathname` are mutually exclusive.");if(e.search)throw new TypeError("Parameters `path` and `search` are mutually exclusive.");if(e.searchParams)throw new TypeError("Parameters `path` and `searchParams` are mutually exclusive.")}if(e.search&&e.searchParams)throw new TypeError("Parameters `search` and `searchParams` are mutually exclusive.");if(!r){if(!e.protocol)throw new TypeError("No URL protocol specified");r=`${e.protocol}//${(n=(t=e.hostname)!==null&&t!==void 0?t:e.host)!==null&&n!==void 0?n:""}`}let i=new Pie.URL(r);if(e.path){let o=e.path.indexOf("?");o===-1?e.pathname=e.path:(e.pathname=e.path.slice(0,o),e.search=e.path.slice(o+1)),delete e.path}for(let o of Cie)e[o]&&(i[o]=e[o].toString());return i}});var i3=b(O0=>{"use strict";Object.defineProperty(O0,"__esModule",{value:!0});var M0=class{constructor(){this.weakMap=new WeakMap,this.map=new Map}set(e,t){typeof e=="object"?this.weakMap.set(e,t):this.map.set(e,t)}get(e){return typeof e=="object"?this.weakMap.get(e):this.map.get(e)}has(e){return typeof e=="object"?this.weakMap.has(e):this.map.has(e)}};O0.default=M0});var F0=b(N0=>{"use strict";Object.defineProperty(N0,"__esModule",{value:!0});var Tie=async r=>{let e=[],t=0;for await(let n of r)e.push(n),t+=Buffer.byteLength(n);return Buffer.isBuffer(e[0])?Buffer.concat(e,t):Buffer.from(e.join(""))};N0.default=Tie});var s3=b(Oc=>{"use strict";Object.defineProperty(Oc,"__esModule",{value:!0});Oc.dnsLookupIpVersionToFamily=Oc.isDnsLookupIpVersion=void 0;var o3={auto:0,ipv4:4,ipv6:6};Oc.isDnsLookupIpVersion=r=>r in o3;Oc.dnsLookupIpVersionToFamily=r=>{if(Oc.isDnsLookupIpVersion(r))return o3[r];throw new Error("Invalid DNS lookup IP version")}});var B0=b(Lb=>{"use strict";Object.defineProperty(Lb,"__esModule",{value:!0});Lb.isResponseOk=void 0;Lb.isResponseOk=r=>{let{statusCode:e}=r,t=r.request.options.followRedirect?299:399;return e>=200&&e<=t||e===304}});var c3=b(U0=>{"use strict";Object.defineProperty(U0,"__esModule",{value:!0});var a3=new Set;U0.default=r=>{a3.has(r)||(a3.add(r),process.emitWarning(`Got: ${r}`,{type:"DeprecationWarning"}))}});var u3=b(j0=>{"use strict";Object.defineProperty(j0,"__esModule",{value:!0});var mt=os(),Lie=(r,e)=>{if(mt.default.null_(r.encoding))throw new TypeError("To get a Buffer, set `options.responseType` to `buffer` instead");mt.assert.any([mt.default.string,mt.default.undefined],r.encoding),mt.assert.any([mt.default.boolean,mt.default.undefined],r.resolveBodyOnly),mt.assert.any([mt.default.boolean,mt.default.undefined],r.methodRewriting),mt.assert.any([mt.default.boolean,mt.default.undefined],r.isStream),mt.assert.any([mt.default.string,mt.default.undefined],r.responseType),r.responseType===void 0&&(r.responseType="text");let{retry:t}=r;if(e?r.retry={...e.retry}:r.retry={calculateDelay:n=>n.computedValue,limit:0,methods:[],statusCodes:[],errorCodes:[],maxRetryAfter:void 0},mt.default.object(t)?(r.retry={...r.retry,...t},r.retry.methods=[...new Set(r.retry.methods.map(n=>n.toUpperCase()))],r.retry.statusCodes=[...new Set(r.retry.statusCodes)],r.retry.errorCodes=[...new Set(r.retry.errorCodes)]):mt.default.number(t)&&(r.retry.limit=t),mt.default.undefined(r.retry.maxRetryAfter)&&(r.retry.maxRetryAfter=Math.min(...[r.timeout.request,r.timeout.connect].filter(mt.default.number))),mt.default.object(r.pagination)){e&&(r.pagination={...e.pagination,...r.pagination});let{pagination:n}=r;if(!mt.default.function_(n.transform))throw new Error("`options.pagination.transform` must be implemented");if(!mt.default.function_(n.shouldContinue))throw new Error("`options.pagination.shouldContinue` must be implemented");if(!mt.default.function_(n.filter))throw new TypeError("`options.pagination.filter` must be implemented");if(!mt.default.function_(n.paginate))throw new Error("`options.pagination.paginate` must be implemented")}return r.responseType==="json"&&r.headers.accept===void 0&&(r.headers.accept="application/json"),r};j0.default=Lie});var l3=b(Hm=>{"use strict";Object.defineProperty(Hm,"__esModule",{value:!0});Hm.retryAfterStatusCodes=void 0;Hm.retryAfterStatusCodes=new Set([413,429,503]);var Die=({attemptCount:r,retryOptions:e,error:t,retryAfter:n})=>{if(r>e.limit)return 0;let i=e.methods.includes(t.options.method),o=e.errorCodes.includes(t.code),s=t.response&&e.statusCodes.includes(t.response.statusCode);if(!i||!o&&!s)return 0;if(t.response){if(n)return e.maxRetryAfter===void 0||n>e.maxRetryAfter?0:n;if(t.response.statusCode===413)return 0}let a=Math.random()*100;return 2**(r-1)*1e3+a};Hm.default=Die});var vm=b(Ve=>{"use strict";Object.defineProperty(Ve,"__esModule",{value:!0});Ve.UnsupportedProtocolError=Ve.ReadError=Ve.TimeoutError=Ve.UploadError=Ve.CacheError=Ve.HTTPError=Ve.MaxRedirectsError=Ve.RequestError=Ve.setNonEnumerableProperties=Ve.knownHookEvents=Ve.withoutBody=Ve.kIsNormalizedAlready=void 0;var p3=require("util"),d3=require("stream"),$ie=require("fs"),oa=require("url"),f3=require("http"),W0=require("http"),kie=require("https"),Rie=SF(),Mie=$F(),m3=fB(),Oie=HB(),Nie=GB(),Fie=Sb(),$=os(),Bie=YB(),h3=C0(),Uie=D0(),g3=e3(),jie=r3(),H3=n3(),Wie=i3(),qie=F0(),y3=s3(),Vie=B0(),sa=c3(),Gie=u3(),zie=l3(),q0,gr=Symbol("request"),kb=Symbol("response"),Vl=Symbol("responseSize"),Gl=Symbol("downloadedSize"),zl=Symbol("bodySize"),Kl=Symbol("uploadedSize"),Db=Symbol("serverResponsesPiped"),b3=Symbol("unproxyEvents"),v3=Symbol("isFromCache"),V0=Symbol("cancelTimeouts"),x3=Symbol("startedReading"),Xl=Symbol("stopReading"),$b=Symbol("triggerRead"),aa=Symbol("body"),ym=Symbol("jobs"),w3=Symbol("originalResponse"),I3=Symbol("retryTimeout");Ve.kIsNormalizedAlready=Symbol("isNormalizedAlready");var Kie=$.default.string(process.versions.brotli);Ve.withoutBody=new Set(["GET","HEAD"]);Ve.knownHookEvents=["init","beforeRequest","beforeRedirect","beforeError","beforeRetry","afterResponse"];function Xie(r){for(let e in r){let t=r[e];if(!$.default.string(t)&&!$.default.number(t)&&!$.default.boolean(t)&&!$.default.null_(t)&&!$.default.undefined(t))throw new TypeError(`The \`searchParams\` value '${String(t)}' must be a string, number, boolean or null`)}}function Jie(r){return $.default.object(r)&&!("statusCode"in r)}var G0=new Wie.default,Yie=async r=>new Promise((e,t)=>{let n=i=>{t(i)};r.pending||e(),r.once("error",n),r.once("ready",()=>{r.off("error",n),e()})}),Qie=new Set([300,301,302,303,304,307,308]),Zie=["context","body","json","form"];Ve.setNonEnumerableProperties=(r,e)=>{let t={};for(let n of r)if(n)for(let i of Zie)i in n&&(t[i]={writable:!0,configurable:!0,enumerable:!1,value:n[i]});Object.defineProperties(e,t)};var Rt=class extends Error{constructor(e,t,n){var i,o;if(super(e),Error.captureStackTrace(this,this.constructor),this.name="RequestError",this.code=(i=t.code)!==null&&i!==void 0?i:"ERR_GOT_REQUEST_ERROR",n instanceof Ub?(Object.defineProperty(this,"request",{enumerable:!1,value:n}),Object.defineProperty(this,"response",{enumerable:!1,value:n[kb]}),Object.defineProperty(this,"options",{enumerable:!1,value:n.options})):Object.defineProperty(this,"options",{enumerable:!1,value:n}),this.timings=(o=this.request)===null||o===void 0?void 0:o.timings,$.default.string(t.stack)&&$.default.string(this.stack)){let s=this.stack.indexOf(this.message)+this.message.length,a=this.stack.slice(s).split(`
`).reverse(),c=t.stack.slice(t.stack.indexOf(t.message)+t.message.length).split(`
`).reverse();for(;c.length!==0&&c[0]===a[0];)a.shift();this.stack=`${this.stack.slice(0,s)}${a.reverse().join(`
`)}${c.reverse().join(`
`)}`}}};Ve.RequestError=Rt;var Rb=class extends Rt{constructor(e){super(`Redirected ${e.options.maxRedirects} times. Aborting.`,{},e),this.name="MaxRedirectsError",this.code="ERR_TOO_MANY_REDIRECTS"}};Ve.MaxRedirectsError=Rb;var Mb=class extends Rt{constructor(e){super(`Response code ${e.statusCode} (${e.statusMessage})`,{},e.request),this.name="HTTPError",this.code="ERR_NON_2XX_3XX_RESPONSE"}};Ve.HTTPError=Mb;var Ob=class extends Rt{constructor(e,t){super(e.message,e,t),this.name="CacheError",this.code=this.code==="ERR_GOT_REQUEST_ERROR"?"ERR_CACHE_ACCESS":this.code}};Ve.CacheError=Ob;var Nb=class extends Rt{constructor(e,t){super(e.message,e,t),this.name="UploadError",this.code=this.code==="ERR_GOT_REQUEST_ERROR"?"ERR_UPLOAD":this.code}};Ve.UploadError=Nb;var Fb=class extends Rt{constructor(e,t,n){super(e.message,e,n),this.name="TimeoutError",this.event=e.event,this.timings=t}};Ve.TimeoutError=Fb;var bm=class extends Rt{constructor(e,t){super(e.message,e,t),this.name="ReadError",this.code=this.code==="ERR_GOT_REQUEST_ERROR"?"ERR_READING_RESPONSE_STREAM":this.code}};Ve.ReadError=bm;var Bb=class extends Rt{constructor(e){super(`Unsupported protocol "${e.url.protocol}"`,{},e),this.name="UnsupportedProtocolError",this.code="ERR_UNSUPPORTED_PROTOCOL"}};Ve.UnsupportedProtocolError=Bb;var eoe=["socket","connect","continue","information","upgrade","timeout"],Ub=class extends d3.Duplex{constructor(e,t={},n){super({autoDestroy:!1,highWaterMark:0}),this[Gl]=0,this[Kl]=0,this.requestInitialized=!1,this[Db]=new Set,this.redirects=[],this[Xl]=!1,this[$b]=!1,this[ym]=[],this.retryCount=0,this._progressCallbacks=[];let i=()=>this._unlockWrite(),o=()=>this._lockWrite();this.on("pipe",u=>{u.prependListener("data",i),u.on("data",o),u.prependListener("end",i),u.on("end",o)}),this.on("unpipe",u=>{u.off("data",i),u.off("data",o),u.off("end",i),u.off("end",o)}),this.on("pipe",u=>{u instanceof W0.IncomingMessage&&(this.options.headers={...u.headers,...this.options.headers})});let{json:s,body:a,form:c}=t;if((s||a||c)&&this._lockWrite(),Ve.kIsNormalizedAlready in t)this.options=t;else try{this.options=this.constructor.normalizeArguments(e,t,n)}catch(u){$.default.nodeStream(t.body)&&t.body.destroy(),this.destroy(u);return}(async()=>{var u;try{this.options.body instanceof $ie.ReadStream&&await Yie(this.options.body);let{url:l}=this.options;if(!l)throw new TypeError("Missing `url` property");if(this.requestUrl=l.toString(),decodeURI(this.requestUrl),await this._finalizeBody(),await this._makeRequest(),this.destroyed){(u=this[gr])===null||u===void 0||u.destroy();return}for(let p of this[ym])p();this[ym].length=0,this.requestInitialized=!0}catch(l){if(l instanceof Rt){this._beforeError(l);return}this.destroyed||this.destroy(l)}})()}static normalizeArguments(e,t,n){var i,o,s,a,c;let u=t;if($.default.object(e)&&!$.default.urlInstance(e))t={...n,...e,...t};else{if(e&&t&&t.url!==void 0)throw new TypeError("The `url` option is mutually exclusive with the `input` argument");t={...n,...t},e!==void 0&&(t.url=e),$.default.urlInstance(t.url)&&(t.url=new oa.URL(t.url.toString()))}if(t.cache===!1&&(t.cache=void 0),t.dnsCache===!1&&(t.dnsCache=void 0),$.assert.any([$.default.string,$.default.undefined],t.method),$.assert.any([$.default.object,$.default.undefined],t.headers),$.assert.any([$.default.string,$.default.urlInstance,$.default.undefined],t.prefixUrl),$.assert.any([$.default.object,$.default.undefined],t.cookieJar),$.assert.any([$.default.object,$.default.string,$.default.undefined],t.searchParams),$.assert.any([$.default.object,$.default.string,$.default.undefined],t.cache),$.assert.any([$.default.object,$.default.number,$.default.undefined],t.timeout),$.assert.any([$.default.object,$.default.undefined],t.context),$.assert.any([$.default.object,$.default.undefined],t.hooks),$.assert.any([$.default.boolean,$.default.undefined],t.decompress),$.assert.any([$.default.boolean,$.default.undefined],t.ignoreInvalidCookies),$.assert.any([$.default.boolean,$.default.undefined],t.followRedirect),$.assert.any([$.default.number,$.default.undefined],t.maxRedirects),$.assert.any([$.default.boolean,$.default.undefined],t.throwHttpErrors),$.assert.any([$.default.boolean,$.default.undefined],t.http2),$.assert.any([$.default.boolean,$.default.undefined],t.allowGetBody),$.assert.any([$.default.string,$.default.undefined],t.localAddress),$.assert.any([y3.isDnsLookupIpVersion,$.default.undefined],t.dnsLookupIpVersion),$.assert.any([$.default.object,$.default.undefined],t.https),$.assert.any([$.default.boolean,$.default.undefined],t.rejectUnauthorized),t.https&&($.assert.any([$.default.boolean,$.default.undefined],t.https.rejectUnauthorized),$.assert.any([$.default.function_,$.default.undefined],t.https.checkServerIdentity),$.assert.any([$.default.string,$.default.object,$.default.array,$.default.undefined],t.https.certificateAuthority),$.assert.any([$.default.string,$.default.object,$.default.array,$.default.undefined],t.https.key),$.assert.any([$.default.string,$.default.object,$.default.array,$.default.undefined],t.https.certificate),$.assert.any([$.default.string,$.default.undefined],t.https.passphrase),$.assert.any([$.default.string,$.default.buffer,$.default.array,$.default.undefined],t.https.pfx)),$.assert.any([$.default.object,$.default.undefined],t.cacheOptions),$.default.string(t.method)?t.method=t.method.toUpperCase():t.method="GET",t.headers===n?.headers?t.headers={...t.headers}:t.headers=Fie({...n?.headers,...t.headers}),"slashes"in t)throw new TypeError("The legacy `url.Url` has been deprecated. Use `URL` instead.");if("auth"in t)throw new TypeError("Parameter `auth` is deprecated. Use `username` / `password` instead.");if("searchParams"in t&&t.searchParams&&t.searchParams!==n?.searchParams){let h;if($.default.string(t.searchParams)||t.searchParams instanceof oa.URLSearchParams)h=new oa.URLSearchParams(t.searchParams);else{Xie(t.searchParams),h=new oa.URLSearchParams;for(let f in t.searchParams){let g=t.searchParams[f];g===null?h.append(f,""):g!==void 0&&h.append(f,g)}}(i=n?.searchParams)===null||i===void 0||i.forEach((f,g)=>{h.has(g)||h.append(g,f)}),t.searchParams=h}if(t.username=(o=t.username)!==null&&o!==void 0?o:"",t.password=(s=t.password)!==null&&s!==void 0?s:"",$.default.undefined(t.prefixUrl)?t.prefixUrl=(a=n?.prefixUrl)!==null&&a!==void 0?a:"":(t.prefixUrl=t.prefixUrl.toString(),t.prefixUrl!==""&&!t.prefixUrl.endsWith("/")&&(t.prefixUrl+="/")),$.default.string(t.url)){if(t.url.startsWith("/"))throw new Error("`input` must not start with a slash when using `prefixUrl`");t.url=H3.default(t.prefixUrl+t.url,t)}else($.default.undefined(t.url)&&t.prefixUrl!==""||t.protocol)&&(t.url=H3.default(t.prefixUrl,t));if(t.url){"port"in t&&delete t.port;let{prefixUrl:h}=t;Object.defineProperty(t,"prefixUrl",{set:g=>{let v=t.url;if(!v.href.startsWith(g))throw new Error(`Cannot change \`prefixUrl\` from ${h} to ${g}: ${v.href}`);t.url=new oa.URL(g+v.href.slice(h.length)),h=g},get:()=>h});let{protocol:f}=t.url;if(f==="unix:"&&(f="http:",t.url=new oa.URL(`http://unix${t.url.pathname}${t.url.search}`)),t.searchParams&&(t.url.search=t.searchParams.toString()),f!=="http:"&&f!=="https:")throw new Bb(t);t.username===""?t.username=t.url.username:t.url.username=t.username,t.password===""?t.password=t.url.password:t.url.password=t.password}let{cookieJar:l}=t;if(l){let{setCookie:h,getCookieString:f}=l;$.assert.function_(h),$.assert.function_(f),h.length===4&&f.length===0&&(h=p3.promisify(h.bind(t.cookieJar)),f=p3.promisify(f.bind(t.cookieJar)),t.cookieJar={setCookie:h,getCookieString:f})}let{cache:p}=t;if(p&&(G0.has(p)||G0.set(p,new m3((h,f)=>{let g=h[gr](h,f);return $.default.promise(g)&&(g.once=(v,S)=>{if(v==="error")g.catch(S);else if(v==="abort")(async()=>{try{(await g).once("abort",S)}catch{}})();else throw new Error(`Unknown HTTP2 promise event: ${v}`);return g}),g},p))),t.cacheOptions={...t.cacheOptions},t.dnsCache===!0)q0||(q0=new Mie.default),t.dnsCache=q0;else if(!$.default.undefined(t.dnsCache)&&!t.dnsCache.lookup)throw new TypeError(`Parameter \`dnsCache\` must be a CacheableLookup instance or a boolean, got ${$.default(t.dnsCache)}`);$.default.number(t.timeout)?t.timeout={request:t.timeout}:n&&t.timeout!==n.timeout?t.timeout={...n.timeout,...t.timeout}:t.timeout={...t.timeout},t.context||(t.context={});let d=t.hooks===n?.hooks;t.hooks={...t.hooks};for(let h of Ve.knownHookEvents)if(h in t.hooks)if($.default.array(t.hooks[h]))t.hooks[h]=[...t.hooks[h]];else throw new TypeError(`Parameter \`${h}\` must be an Array, got ${$.default(t.hooks[h])}`);else t.hooks[h]=[];if(n&&!d)for(let h of Ve.knownHookEvents)n.hooks[h].length>0&&(t.hooks[h]=[...n.hooks[h],...t.hooks[h]]);if("family"in t&&sa.default('"options.family" was never documented, please use "options.dnsLookupIpVersion"'),n?.https&&(t.https={...n.https,...t.https}),"rejectUnauthorized"in t&&sa.default('"options.rejectUnauthorized" is now deprecated, please use "options.https.rejectUnauthorized"'),"checkServerIdentity"in t&&sa.default('"options.checkServerIdentity" was never documented, please use "options.https.checkServerIdentity"'),"ca"in t&&sa.default('"options.ca" was never documented, please use "options.https.certificateAuthority"'),"key"in t&&sa.default('"options.key" was never documented, please use "options.https.key"'),"cert"in t&&sa.default('"options.cert" was never documented, please use "options.https.certificate"'),"passphrase"in t&&sa.default('"options.passphrase" was never documented, please use "options.https.passphrase"'),"pfx"in t&&sa.default('"options.pfx" was never documented, please use "options.https.pfx"'),"followRedirects"in t)throw new TypeError("The `followRedirects` option does not exist. Use `followRedirect` instead.");if(t.agent){for(let h in t.agent)if(h!=="http"&&h!=="https"&&h!=="http2")throw new TypeError(`Expected the \`options.agent\` properties to be \`http\`, \`https\` or \`http2\`, got \`${h}\``)}return t.maxRedirects=(c=t.maxRedirects)!==null&&c!==void 0?c:0,Ve.setNonEnumerableProperties([n,u],t),Gie.default(t,n)}_lockWrite(){let e=()=>{throw new TypeError("The payload has been already provided")};this.write=e,this.end=e}_unlockWrite(){this.write=super.write,this.end=super.end}async _finalizeBody(){let{options:e}=this,{headers:t}=e,n=!$.default.undefined(e.form),i=!$.default.undefined(e.json),o=!$.default.undefined(e.body),s=n||i||o,a=Ve.withoutBody.has(e.method)&&!(e.method==="GET"&&e.allowGetBody);if(this._cannotHaveBody=a,s){if(a)throw new TypeError(`The \`${e.method}\` method cannot be used with a body`);if([o,n,i].filter(c=>c).length>1)throw new TypeError("The `body`, `json` and `form` options are mutually exclusive");if(o&&!(e.body instanceof d3.Readable)&&!$.default.string(e.body)&&!$.default.buffer(e.body)&&!h3.default(e.body))throw new TypeError("The `body` option must be a stream.Readable, string or Buffer");if(n&&!$.default.object(e.form))throw new TypeError("The `form` option must be an Object");{let c=!$.default.string(t["content-type"]);o?(h3.default(e.body)&&c&&(t["content-type"]=`multipart/form-data; boundary=${e.body.getBoundary()}`),this[aa]=e.body):n?(c&&(t["content-type"]="application/x-www-form-urlencoded"),this[aa]=new oa.URLSearchParams(e.form).toString()):(c&&(t["content-type"]="application/json"),this[aa]=e.stringifyJson(e.json));let u=await Bie.default(this[aa],e.headers);$.default.undefined(t["content-length"])&&$.default.undefined(t["transfer-encoding"])&&!a&&!$.default.undefined(u)&&(t["content-length"]=String(u))}}else a?this._lockWrite():this._unlockWrite();this[zl]=Number(t["content-length"])||void 0}async _onResponseBase(e){let{options:t}=this,{url:n}=t;this[w3]=e,t.decompress&&(e=Oie(e));let i=e.statusCode,o=e;o.statusMessage=o.statusMessage?o.statusMessage:f3.STATUS_CODES[i],o.url=t.url.toString(),o.requestUrl=this.requestUrl,o.redirectUrls=this.redirects,o.request=this,o.isFromCache=e.fromCache||!1,o.ip=this.ip,o.retryCount=this.retryCount,this[v3]=o.isFromCache,this[Vl]=Number(e.headers["content-length"])||void 0,this[kb]=e,e.once("end",()=>{this[Vl]=this[Gl],this.emit("downloadProgress",this.downloadProgress)}),e.once("error",a=>{e.destroy(),this._beforeError(new bm(a,this))}),e.once("aborted",()=>{this._beforeError(new bm({name:"Error",message:"The server aborted pending request",code:"ECONNRESET"},this))}),this.emit("downloadProgress",this.downloadProgress);let s=e.headers["set-cookie"];if($.default.object(t.cookieJar)&&s){let a=s.map(async c=>t.cookieJar.setCookie(c,n.toString()));t.ignoreInvalidCookies&&(a=a.map(async c=>c.catch(()=>{})));try{await Promise.all(a)}catch(c){this._beforeError(c);return}}if(t.followRedirect&&e.headers.location&&Qie.has(i)){if(e.resume(),this[gr]&&(this[V0](),delete this[gr],this[b3]()),(i===303&&t.method!=="GET"&&t.method!=="HEAD"||!t.methodRewriting)&&(t.method="GET","body"in t&&delete t.body,"json"in t&&delete t.json,"form"in t&&delete t.form,this[aa]=void 0,delete t.headers["content-length"]),this.redirects.length>=t.maxRedirects){this._beforeError(new Rb(this));return}try{let p=function(d){return d.protocol==="unix:"||d.hostname==="unix"},c=Buffer.from(e.headers.location,"binary").toString(),u=new oa.URL(c,n),l=u.toString();if(decodeURI(l),!p(n)&&p(u)){this._beforeError(new Rt("Cannot redirect to UNIX socket",{},this));return}u.hostname!==n.hostname||u.port!==n.port?("host"in t.headers&&delete t.headers.host,"cookie"in t.headers&&delete t.headers.cookie,"authorization"in t.headers&&delete t.headers.authorization,(t.username||t.password)&&(t.username="",t.password="")):(u.username=t.username,u.password=t.password),this.redirects.push(l),t.url=u;for(let d of t.hooks.beforeRedirect)await d(t,o);this.emit("redirect",o,t),await this._makeRequest()}catch(c){this._beforeError(c);return}return}if(t.isStream&&t.throwHttpErrors&&!Vie.isResponseOk(o)){this._beforeError(new Mb(o));return}e.on("readable",()=>{this[$b]&&this._read()}),this.on("resume",()=>{e.resume()}),this.on("pause",()=>{e.pause()}),e.once("end",()=>{this.push(null)}),this.emit("response",e);for(let a of this[Db])if(!a.headersSent){for(let c in e.headers){let u=t.decompress?c!=="content-encoding":!0,l=e.headers[c];u&&a.setHeader(c,l)}a.statusCode=i}}async _onResponse(e){try{await this._onResponseBase(e)}catch(t){this._beforeError(t)}}_onRequest(e){let{options:t}=this,{timeout:n,url:i}=t;Rie.default(e),this[V0]=g3.default(e,n,i);let o=t.cache?"cacheableResponse":"response";e.once(o,c=>{this._onResponse(c)}),e.once("error",c=>{var u;e.destroy(),(u=e.res)===null||u===void 0||u.removeAllListeners("end"),c=c instanceof g3.TimeoutError?new Fb(c,this.timings,this):new Rt(c.message,c,this),this._beforeError(c)}),this[b3]=Uie.default(e,this,eoe),this[gr]=e,this.emit("uploadProgress",this.uploadProgress);let s=this[aa],a=this.redirects.length===0?this:e;$.default.nodeStream(s)?(s.pipe(a),s.once("error",c=>{this._beforeError(new Nb(c,this))})):(this._unlockWrite(),$.default.undefined(s)?(this._cannotHaveBody||this._noPipe)&&(a.end(),this._lockWrite()):(this._writeRequest(s,void 0,()=>{}),a.end(),this._lockWrite())),this.emit("request",e)}async _createCacheableRequest(e,t){return new Promise((n,i)=>{Object.assign(t,jie.default(e)),delete t.url;let o,s=G0.get(t.cache)(t,async a=>{a._readableState.autoDestroy=!1,o&&(await o).emit("cacheableResponse",a),n(a)});t.url=e,s.once("error",i),s.once("request",async a=>{o=a,n(o)})})}async _makeRequest(){var e,t,n,i,o;let{options:s}=this,{headers:a}=s;for(let S in a)if($.default.undefined(a[S]))delete a[S];else if($.default.null_(a[S]))throw new TypeError(`Use \`undefined\` instead of \`null\` to delete the \`${S}\` header`);if(s.decompress&&$.default.undefined(a["accept-encoding"])&&(a["accept-encoding"]=Kie?"gzip, deflate, br":"gzip, deflate"),s.cookieJar){let S=await s.cookieJar.getCookieString(s.url.toString());$.default.nonEmptyString(S)&&(s.headers.cookie=S)}for(let S of s.hooks.beforeRequest){let R=await S(s);if(!$.default.undefined(R)){s.request=()=>R;break}}s.body&&this[aa]!==s.body&&(this[aa]=s.body);let{agent:c,request:u,timeout:l,url:p}=s;if(s.dnsCache&&!("lookup"in s)&&(s.lookup=s.dnsCache.lookup),p.hostname==="unix"){let S=/(?<socketPath>.+?):(?<path>.+)/.exec(`${p.pathname}${p.search}`);if(S?.groups){let{socketPath:R,path:F}=S.groups;Object.assign(s,{socketPath:R,path:F,host:""})}}let d=p.protocol==="https:",h;s.http2?h=Nie.auto:h=d?kie.request:f3.request;let f=(e=s.request)!==null&&e!==void 0?e:h,g=s.cache?this._createCacheableRequest:f;c&&!s.http2&&(s.agent=c[d?"https":"http"]),s[gr]=f,delete s.request,delete s.timeout;let v=s;if(v.shared=(t=s.cacheOptions)===null||t===void 0?void 0:t.shared,v.cacheHeuristic=(n=s.cacheOptions)===null||n===void 0?void 0:n.cacheHeuristic,v.immutableMinTimeToLive=(i=s.cacheOptions)===null||i===void 0?void 0:i.immutableMinTimeToLive,v.ignoreCargoCult=(o=s.cacheOptions)===null||o===void 0?void 0:o.ignoreCargoCult,s.dnsLookupIpVersion!==void 0)try{v.family=y3.dnsLookupIpVersionToFamily(s.dnsLookupIpVersion)}catch{throw new Error("Invalid `dnsLookupIpVersion` option value")}s.https&&("rejectUnauthorized"in s.https&&(v.rejectUnauthorized=s.https.rejectUnauthorized),s.https.checkServerIdentity&&(v.checkServerIdentity=s.https.checkServerIdentity),s.https.certificateAuthority&&(v.ca=s.https.certificateAuthority),s.https.certificate&&(v.cert=s.https.certificate),s.https.key&&(v.key=s.https.key),s.https.passphrase&&(v.passphrase=s.https.passphrase),s.https.pfx&&(v.pfx=s.https.pfx));try{let S=await g(p,v);$.default.undefined(S)&&(S=h(p,v)),s.request=u,s.timeout=l,s.agent=c,s.https&&("rejectUnauthorized"in s.https&&delete v.rejectUnauthorized,s.https.checkServerIdentity&&delete v.checkServerIdentity,s.https.certificateAuthority&&delete v.ca,s.https.certificate&&delete v.cert,s.https.key&&delete v.key,s.https.passphrase&&delete v.passphrase,s.https.pfx&&delete v.pfx),Jie(S)?this._onRequest(S):this.writable?(this.once("finish",()=>{this._onResponse(S)}),this._unlockWrite(),this.end(),this._lockWrite()):this._onResponse(S)}catch(S){throw S instanceof m3.CacheError?new Ob(S,this):new Rt(S.message,S,this)}}async _error(e){try{for(let t of this.options.hooks.beforeError)e=await t(e)}catch(t){e=new Rt(t.message,t,this)}this.destroy(e)}_beforeError(e){if(this[Xl])return;let{options:t}=this,n=this.retryCount+1;this[Xl]=!0,e instanceof Rt||(e=new Rt(e.message,e,this));let i=e,{response:o}=i;(async()=>{if(o&&!o.body){o.setEncoding(this._readableState.encoding);try{o.rawBody=await qie.default(o),o.body=o.rawBody.toString()}catch{}}if(this.listenerCount("retry")!==0){let s;try{let a;o&&"retry-after"in o.headers&&(a=Number(o.headers["retry-after"]),Number.isNaN(a)?(a=Date.parse(o.headers["retry-after"])-Date.now(),a<=0&&(a=1)):a*=1e3),s=await t.retry.calculateDelay({attemptCount:n,retryOptions:t.retry,error:i,retryAfter:a,computedValue:zie.default({attemptCount:n,retryOptions:t.retry,error:i,retryAfter:a,computedValue:0})})}catch(a){this._error(new Rt(a.message,a,this));return}if(s){let a=async()=>{try{for(let c of this.options.hooks.beforeRetry)await c(this.options,i,n)}catch(c){this._error(new Rt(c.message,e,this));return}this.destroyed||(this.destroy(),this.emit("retry",n,e))};this[I3]=setTimeout(a,s);return}}this._error(i)})()}_read(){this[$b]=!0;let e=this[kb];if(e&&!this[Xl]){e.readableLength&&(this[$b]=!1);let t;for(;(t=e.read())!==null;){this[Gl]+=t.length,this[x3]=!0;let n=this.downloadProgress;n.percent<1&&this.emit("downloadProgress",n),this.push(t)}}}_write(e,t,n){let i=()=>{this._writeRequest(e,t,n)};this.requestInitialized?i():this[ym].push(i)}_writeRequest(e,t,n){this[gr].destroyed||(this._progressCallbacks.push(()=>{this[Kl]+=Buffer.byteLength(e,t);let i=this.uploadProgress;i.percent<1&&this.emit("uploadProgress",i)}),this[gr].write(e,t,i=>{!i&&this._progressCallbacks.length>0&&this._progressCallbacks.shift()(),n(i)}))}_final(e){let t=()=>{for(;this._progressCallbacks.length!==0;)this._progressCallbacks.shift()();if(!(gr in this)){e();return}if(this[gr].destroyed){e();return}this[gr].end(n=>{n||(this[zl]=this[Kl],this.emit("uploadProgress",this.uploadProgress),this[gr].emit("upload-complete")),e(n)})};this.requestInitialized?t():this[ym].push(t)}_destroy(e,t){var n;this[Xl]=!0,clearTimeout(this[I3]),gr in this&&(this[V0](),!((n=this[kb])===null||n===void 0)&&n.complete||this[gr].destroy()),e!==null&&!$.default.undefined(e)&&!(e instanceof Rt)&&(e=new Rt(e.message,e,this)),t(e)}get _isAboutToError(){return this[Xl]}get ip(){var e;return(e=this.socket)===null||e===void 0?void 0:e.remoteAddress}get aborted(){var e,t,n;return((t=(e=this[gr])===null||e===void 0?void 0:e.destroyed)!==null&&t!==void 0?t:this.destroyed)&&!(!((n=this[w3])===null||n===void 0)&&n.complete)}get socket(){var e,t;return(t=(e=this[gr])===null||e===void 0?void 0:e.socket)!==null&&t!==void 0?t:void 0}get downloadProgress(){let e;return this[Vl]?e=this[Gl]/this[Vl]:this[Vl]===this[Gl]?e=1:e=0,{percent:e,transferred:this[Gl],total:this[Vl]}}get uploadProgress(){let e;return this[zl]?e=this[Kl]/this[zl]:this[zl]===this[Kl]?e=1:e=0,{percent:e,transferred:this[Kl],total:this[zl]}}get timings(){var e;return(e=this[gr])===null||e===void 0?void 0:e.timings}get isFromCache(){return this[v3]}pipe(e,t){if(this[x3])throw new Error("Failed to pipe. The response has been emitted already.");return e instanceof W0.ServerResponse&&this[Db].add(e),super.pipe(e,t)}unpipe(e){return e instanceof W0.ServerResponse&&this[Db].delete(e),super.unpipe(e),this}};Ve.default=Ub});var xm=b(xi=>{"use strict";var toe=xi&&xi.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),roe=xi&&xi.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&toe(e,r,t)};Object.defineProperty(xi,"__esModule",{value:!0});xi.CancelError=xi.ParseError=void 0;var _3=vm(),z0=class extends _3.RequestError{constructor(e,t){let{options:n}=t.request;super(`${e.message} in "${n.url.toString()}"`,e,t.request),this.name="ParseError",this.code=this.code==="ERR_GOT_REQUEST_ERROR"?"ERR_BODY_PARSE_FAILURE":this.code}};xi.ParseError=z0;var K0=class extends _3.RequestError{constructor(e){super("Promise was canceled",{},e),this.name="CancelError",this.code="ERR_CANCELED"}get isCanceled(){return!0}};xi.CancelError=K0;roe(vm(),xi)});var S3=b(X0=>{"use strict";Object.defineProperty(X0,"__esModule",{value:!0});var A3=xm(),noe=(r,e,t,n)=>{let{rawBody:i}=r;try{if(e==="text")return i.toString(n);if(e==="json")return i.length===0?"":t(i.toString());if(e==="buffer")return i;throw new A3.ParseError({message:`Unknown body type '${e}'`,name:"Error"},r)}catch(o){throw new A3.ParseError(o,r)}};X0.default=noe});var J0=b(ca=>{"use strict";var ioe=ca&&ca.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),ooe=ca&&ca.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&ioe(e,r,t)};Object.defineProperty(ca,"__esModule",{value:!0});var soe=require("events"),aoe=os(),coe=_F(),jb=xm(),E3=S3(),P3=vm(),uoe=D0(),loe=F0(),C3=B0(),poe=["request","response","redirect","uploadProgress","downloadProgress"];function T3(r){let e,t,n=new soe.EventEmitter,i=new coe((s,a,c)=>{let u=l=>{let p=new P3.default(void 0,r);p.retryCount=l,p._noPipe=!0,c(()=>p.destroy()),c.shouldReject=!1,c(()=>a(new jb.CancelError(p))),e=p,p.once("response",async f=>{var g;if(f.retryCount=l,f.request.aborted)return;let v;try{v=await loe.default(p),f.rawBody=v}catch{return}if(p._isAboutToError)return;let S=((g=f.headers["content-encoding"])!==null&&g!==void 0?g:"").toLowerCase(),R=["gzip","deflate","br"].includes(S),{options:F}=p;if(R&&!F.decompress)f.body=v;else try{f.body=E3.default(f,F.responseType,F.parseJson,F.encoding)}catch(X){if(f.body=v.toString(),C3.isResponseOk(f)){p._beforeError(X);return}}try{for(let[X,G]of F.hooks.afterResponse.entries())f=await G(f,async J=>{let z=P3.default.normalizeArguments(void 0,{...J,retry:{calculateDelay:()=>0},throwHttpErrors:!1,resolveBodyOnly:!1},F);z.hooks.afterResponse=z.hooks.afterResponse.slice(0,X);for(let he of z.hooks.beforeRetry)await he(z);let ee=T3(z);return c(()=>{ee.catch(()=>{}),ee.cancel()}),ee})}catch(X){p._beforeError(new jb.RequestError(X.message,X,p));return}if(t=f,!C3.isResponseOk(f)){p._beforeError(new jb.HTTPError(f));return}p.destroy(),s(p.options.resolveBodyOnly?f.body:f)});let d=f=>{if(i.isCanceled)return;let{options:g}=p;if(f instanceof jb.HTTPError&&!g.throwHttpErrors){let{response:v}=f;s(p.options.resolveBodyOnly?v.body:v);return}a(f)};p.once("error",d);let h=p.options.body;p.once("retry",(f,g)=>{var v,S;if(h===((v=g.request)===null||v===void 0?void 0:v.options.body)&&aoe.default.nodeStream((S=g.request)===null||S===void 0?void 0:S.options.body)){d(g);return}u(f)}),uoe.default(p,n,poe)};u(0)});i.on=(s,a)=>(n.on(s,a),i);let o=s=>{let a=(async()=>{await i;let{options:c}=t.request;return E3.default(t,s,c.parseJson,c.encoding)})();return Object.defineProperties(a,Object.getOwnPropertyDescriptors(i)),a};return i.json=()=>{let{headers:s}=e.options;return!e.writableFinished&&s.accept===void 0&&(s.accept="application/json"),o("json")},i.buffer=()=>o("buffer"),i.text=()=>o("text"),i}ca.default=T3;ooe(xm(),ca)});var L3=b(Y0=>{"use strict";Object.defineProperty(Y0,"__esModule",{value:!0});var doe=xm();function foe(r,...e){let t=(async()=>{if(r instanceof doe.RequestError)try{for(let i of e)if(i)for(let o of i)r=await o(r)}catch(i){r=i}throw r})(),n=()=>t;return t.json=n,t.text=n,t.buffer=n,t.on=n,t}Y0.default=foe});var k3=b(Q0=>{"use strict";Object.defineProperty(Q0,"__esModule",{value:!0});var D3=os();function $3(r){for(let e of Object.values(r))(D3.default.plainObject(e)||D3.default.array(e))&&$3(e);return Object.freeze(r)}Q0.default=$3});var M3=b(R3=>{"use strict";Object.defineProperty(R3,"__esModule",{value:!0})});var Z0=b(zn=>{"use strict";var moe=zn&&zn.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),hoe=zn&&zn.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&moe(e,r,t)};Object.defineProperty(zn,"__esModule",{value:!0});zn.defaultHandler=void 0;var O3=os(),Gn=J0(),goe=L3(),qb=vm(),Hoe=k3(),yoe={RequestError:Gn.RequestError,CacheError:Gn.CacheError,ReadError:Gn.ReadError,HTTPError:Gn.HTTPError,MaxRedirectsError:Gn.MaxRedirectsError,TimeoutError:Gn.TimeoutError,ParseError:Gn.ParseError,CancelError:Gn.CancelError,UnsupportedProtocolError:Gn.UnsupportedProtocolError,UploadError:Gn.UploadError},boe=async r=>new Promise(e=>{setTimeout(e,r)}),{normalizeArguments:Wb}=qb.default,N3=(...r)=>{let e;for(let t of r)e=Wb(void 0,t,e);return e},voe=r=>r.isStream?new qb.default(void 0,r):Gn.default(r),xoe=r=>"defaults"in r&&"options"in r.defaults,woe=["get","post","put","patch","head","delete"];zn.defaultHandler=(r,e)=>e(r);var F3=(r,e)=>{if(r)for(let t of r)t(e)},B3=r=>{r._rawHandlers=r.handlers,r.handlers=r.handlers.map(n=>(i,o)=>{let s,a=n(i,c=>(s=o(c),s));if(a!==s&&!i.isStream&&s){let c=a,{then:u,catch:l,finally:p}=c;Object.setPrototypeOf(c,Object.getPrototypeOf(s)),Object.defineProperties(c,Object.getOwnPropertyDescriptors(s)),c.then=u,c.catch=l,c.finally=p}return a});let e=(n,i={},o)=>{var s,a;let c=0,u=l=>r.handlers[c++](l,c===r.handlers.length?voe:u);if(O3.default.plainObject(n)){let l={...n,...i};qb.setNonEnumerableProperties([n,i],l),i=l,n=void 0}try{let l;try{F3(r.options.hooks.init,i),F3((s=i.hooks)===null||s===void 0?void 0:s.init,i)}catch(d){l=d}let p=Wb(n,i,o??r.options);if(p[qb.kIsNormalizedAlready]=!0,l)throw new Gn.RequestError(l.message,l,p);return u(p)}catch(l){if(i.isStream)throw l;return goe.default(l,r.options.hooks.beforeError,(a=i.hooks)===null||a===void 0?void 0:a.beforeError)}};e.extend=(...n)=>{let i=[r.options],o=[...r._rawHandlers],s;for(let a of n)xoe(a)?(i.push(a.defaults.options),o.push(...a.defaults._rawHandlers),s=a.defaults.mutableDefaults):(i.push(a),"handlers"in a&&o.push(...a.handlers),s=a.mutableDefaults);return o=o.filter(a=>a!==zn.defaultHandler),o.length===0&&o.push(zn.defaultHandler),B3({options:N3(...i),handlers:o,mutableDefaults:!!s})};let t=async function*(n,i){let o=Wb(n,i,r.options);o.resolveBodyOnly=!1;let s=o.pagination;if(!O3.default.object(s))throw new TypeError("`options.pagination` must be implemented");let a=[],{countLimit:c}=s,u=0;for(;u<s.requestLimit;){u!==0&&await boe(s.backoff);let l=await e(void 0,void 0,o),p=await s.transform(l),d=[];for(let f of p)if(s.filter(f,a,d)&&(!s.shouldContinue(f,a,d)||(yield f,s.stackAllItems&&a.push(f),d.push(f),--c<=0)))return;let h=s.paginate(l,a,d);if(h===!1)return;h===l.request.options?o=l.request.options:h!==void 0&&(o=Wb(void 0,h,o)),u++}};e.paginate=t,e.paginate.all=async(n,i)=>{let o=[];for await(let s of t(n,i))o.push(s);return o},e.paginate.each=t,e.stream=(n,i)=>e(n,{...i,isStream:!0});for(let n of woe)e[n]=(i,o)=>e(i,{...o,method:n}),e.stream[n]=(i,o)=>e(i,{...o,method:n,isStream:!0});return Object.assign(e,yoe),Object.defineProperty(e,"defaults",{value:r.mutableDefaults?r:Hoe.default(r),writable:r.mutableDefaults,configurable:r.mutableDefaults,enumerable:!0}),e.mergeOptions=N3,e};zn.default=B3;hoe(M3(),zn)});var W3=b((ss,Vb)=>{"use strict";var Ioe=ss&&ss.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),U3=ss&&ss.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Ioe(e,r,t)};Object.defineProperty(ss,"__esModule",{value:!0});var _oe=require("url"),j3=Z0(),Aoe={options:{method:"GET",retry:{limit:2,methods:["GET","PUT","HEAD","DELETE","OPTIONS","TRACE"],statusCodes:[408,413,429,500,502,503,504,521,522,524],errorCodes:["ETIMEDOUT","ECONNRESET","EADDRINUSE","ECONNREFUSED","EPIPE","ENOTFOUND","ENETUNREACH","EAI_AGAIN"],maxRetryAfter:void 0,calculateDelay:({computedValue:r})=>r},timeout:{},headers:{"user-agent":"got (https://github.com/sindresorhus/got)"},hooks:{init:[],beforeRequest:[],beforeRedirect:[],beforeRetry:[],beforeError:[],afterResponse:[]},cache:void 0,dnsCache:void 0,decompress:!0,throwHttpErrors:!0,followRedirect:!0,isStream:!1,responseType:"text",resolveBodyOnly:!1,maxRedirects:10,prefixUrl:"",methodRewriting:!0,ignoreInvalidCookies:!1,context:{},http2:!1,allowGetBody:!1,https:void 0,pagination:{transform:r=>r.request.options.responseType==="json"?r.body:JSON.parse(r.body),paginate:r=>{if(!Reflect.has(r.headers,"link"))return!1;let e=r.headers.link.split(","),t;for(let n of e){let i=n.split(";");if(i[1].includes("next")){t=i[0].trimStart().trim(),t=t.slice(1,-1);break}}return t?{url:new _oe.URL(t)}:!1},filter:()=>!0,shouldContinue:()=>!0,countLimit:1/0,backoff:0,requestLimit:1e4,stackAllItems:!0},parseJson:r=>JSON.parse(r),stringifyJson:r=>JSON.stringify(r),cacheOptions:{}},handlers:[j3.defaultHandler],mutableDefaults:!1},eE=j3.default(Aoe);ss.default=eE;Vb.exports=eE;Vb.exports.default=eE;Vb.exports.__esModule=!0;U3(Z0(),ss);U3(J0(),ss)});var Q3=b((mCe,zb)=>{var Yt=function(r){"use strict";var e=1e7,t=7,n=9007199254740992,i=d(n),o="0123456789abcdefghijklmnopqrstuvwxyz",s=typeof BigInt=="function";function a(m,y,A,P){return typeof m>"u"?a[0]:typeof y<"u"?+y==10&&!A?ve(m):ct(m,y,A,P):ve(m)}function c(m,y){this.value=m,this.sign=y,this.isSmall=!1}c.prototype=Object.create(a.prototype);function u(m){this.value=m,this.sign=m<0,this.isSmall=!0}u.prototype=Object.create(a.prototype);function l(m){this.value=m}l.prototype=Object.create(a.prototype);function p(m){return-n<m&&m<n}function d(m){return m<1e7?[m]:m<1e14?[m%1e7,Math.floor(m/1e7)]:[m%1e7,Math.floor(m/1e7)%1e7,Math.floor(m/1e14)]}function h(m){f(m);var y=m.length;if(y<4&&j(m,i)<0)switch(y){case 0:return 0;case 1:return m[0];case 2:return m[0]+m[1]*e;default:return m[0]+(m[1]+m[2]*e)*e}return m}function f(m){for(var y=m.length;m[--y]===0;);m.length=y+1}function g(m){for(var y=new Array(m),A=-1;++A<m;)y[A]=0;return y}function v(m){return m>0?Math.floor(m):Math.ceil(m)}function S(m,y){var A=m.length,P=y.length,M=new Array(A),T=0,B=e,x,I;for(I=0;I<P;I++)x=m[I]+y[I]+T,T=x>=B?1:0,M[I]=x-T*B;for(;I<A;)x=m[I]+T,T=x===B?1:0,M[I++]=x-T*B;return T>0&&M.push(T),M}function R(m,y){return m.length>=y.length?S(m,y):S(y,m)}function F(m,y){var A=m.length,P=new Array(A),M=e,T,B;for(B=0;B<A;B++)T=m[B]-M+y,y=Math.floor(T/M),P[B]=T-y*M,y+=1;for(;y>0;)P[B++]=y%M,y=Math.floor(y/M);return P}c.prototype.add=function(m){var y=ve(m);if(this.sign!==y.sign)return this.subtract(y.negate());var A=this.value,P=y.value;return y.isSmall?new c(F(A,Math.abs(P)),this.sign):new c(R(A,P),this.sign)},c.prototype.plus=c.prototype.add,u.prototype.add=function(m){var y=ve(m),A=this.value;if(A<0!==y.sign)return this.subtract(y.negate());var P=y.value;if(y.isSmall){if(p(A+P))return new u(A+P);P=d(Math.abs(P))}return new c(F(P,Math.abs(A)),A<0)},u.prototype.plus=u.prototype.add,l.prototype.add=function(m){return new l(this.value+ve(m).value)},l.prototype.plus=l.prototype.add;function X(m,y){var A=m.length,P=y.length,M=new Array(A),T=0,B=e,x,I;for(x=0;x<P;x++)I=m[x]-T-y[x],I<0?(I+=B,T=1):T=0,M[x]=I;for(x=P;x<A;x++){if(I=m[x]-T,I<0)I+=B;else{M[x++]=I;break}M[x]=I}for(;x<A;x++)M[x]=m[x];return f(M),M}function G(m,y,A){var P;return j(m,y)>=0?P=X(m,y):(P=X(y,m),A=!A),P=h(P),typeof P=="number"?(A&&(P=-P),new u(P)):new c(P,A)}function J(m,y,A){var P=m.length,M=new Array(P),T=-y,B=e,x,I;for(x=0;x<P;x++)I=m[x]+T,T=Math.floor(I/B),I%=B,M[x]=I<0?I+B:I;return M=h(M),typeof M=="number"?(A&&(M=-M),new u(M)):new c(M,A)}c.prototype.subtract=function(m){var y=ve(m);if(this.sign!==y.sign)return this.add(y.negate());var A=this.value,P=y.value;return y.isSmall?J(A,Math.abs(P),this.sign):G(A,P,this.sign)},c.prototype.minus=c.prototype.subtract,u.prototype.subtract=function(m){var y=ve(m),A=this.value;if(A<0!==y.sign)return this.add(y.negate());var P=y.value;return y.isSmall?new u(A-P):J(P,Math.abs(A),A>=0)},u.prototype.minus=u.prototype.subtract,l.prototype.subtract=function(m){return new l(this.value-ve(m).value)},l.prototype.minus=l.prototype.subtract,c.prototype.negate=function(){return new c(this.value,!this.sign)},u.prototype.negate=function(){var m=this.sign,y=new u(-this.value);return y.sign=!m,y},l.prototype.negate=function(){return new l(-this.value)},c.prototype.abs=function(){return new c(this.value,!1)},u.prototype.abs=function(){return new u(Math.abs(this.value))},l.prototype.abs=function(){return new l(this.value>=0?this.value:-this.value)};function z(m,y){var A=m.length,P=y.length,M=A+P,T=g(M),B=e,x,I,C,N,W;for(C=0;C<A;++C){N=m[C];for(var ge=0;ge<P;++ge)W=y[ge],x=N*W+T[C+ge],I=Math.floor(x/B),T[C+ge]=x-I*B,T[C+ge+1]+=I}return f(T),T}function ee(m,y){var A=m.length,P=new Array(A),M=e,T=0,B,x;for(x=0;x<A;x++)B=m[x]*y+T,T=Math.floor(B/M),P[x]=B-T*M;for(;T>0;)P[x++]=T%M,T=Math.floor(T/M);return P}function he(m,y){for(var A=[];y-- >0;)A.push(0);return A.concat(m)}function Le(m,y){var A=Math.max(m.length,y.length);if(A<=30)return z(m,y);A=Math.ceil(A/2);var P=m.slice(A),M=m.slice(0,A),T=y.slice(A),B=y.slice(0,A),x=Le(M,B),I=Le(P,T),C=Le(R(M,P),R(B,T)),N=R(R(x,he(X(X(C,x),I),A)),he(I,2*A));return f(N),N}function O(m,y){return-.012*m-.012*y+15e-6*m*y>0}c.prototype.multiply=function(m){var y=ve(m),A=this.value,P=y.value,M=this.sign!==y.sign,T;if(y.isSmall){if(P===0)return a[0];if(P===1)return this;if(P===-1)return this.negate();if(T=Math.abs(P),T<e)return new c(ee(A,T),M);P=d(T)}return O(A.length,P.length)?new c(Le(A,P),M):new c(z(A,P),M)},c.prototype.times=c.prototype.multiply;function Z(m,y,A){return m<e?new c(ee(y,m),A):new c(z(y,d(m)),A)}u.prototype._multiplyBySmall=function(m){return p(m.value*this.value)?new u(m.value*this.value):Z(Math.abs(m.value),d(Math.abs(this.value)),this.sign!==m.sign)},c.prototype._multiplyBySmall=function(m){return m.value===0?a[0]:m.value===1?this:m.value===-1?this.negate():Z(Math.abs(m.value),this.value,this.sign!==m.sign)},u.prototype.multiply=function(m){return ve(m)._multiplyBySmall(this)},u.prototype.times=u.prototype.multiply,l.prototype.multiply=function(m){return new l(this.value*ve(m).value)},l.prototype.times=l.prototype.multiply;function ue(m){var y=m.length,A=g(y+y),P=e,M,T,B,x,I;for(B=0;B<y;B++){x=m[B],T=0-x*x;for(var C=B;C<y;C++)I=m[C],M=2*(x*I)+A[B+C]+T,T=Math.floor(M/P),A[B+C]=M-T*P;A[B+y]=T}return f(A),A}c.prototype.square=function(){return new c(ue(this.value),!1)},u.prototype.square=function(){var m=this.value*this.value;return p(m)?new u(m):new c(ue(d(Math.abs(this.value))),!1)},l.prototype.square=function(m){return new l(this.value*this.value)};function me(m,y){var A=m.length,P=y.length,M=e,T=g(y.length),B=y[P-1],x=Math.ceil(M/(2*B)),I=ee(m,x),C=ee(y,x),N,W,ge,Oe,He,re,ce;for(I.length<=A&&I.push(0),C.push(0),B=C[P-1],W=A-P;W>=0;W--){for(N=M-1,I[W+P]!==B&&(N=Math.floor((I[W+P]*M+I[W+P-1])/B)),ge=0,Oe=0,re=C.length,He=0;He<re;He++)ge+=N*C[He],ce=Math.floor(ge/M),Oe+=I[W+He]-(ge-ce*M),ge=ce,Oe<0?(I[W+He]=Oe+M,Oe=-1):(I[W+He]=Oe,Oe=0);for(;Oe!==0;){for(N-=1,ge=0,He=0;He<re;He++)ge+=I[W+He]-M+C[He],ge<0?(I[W+He]=ge+M,ge=0):(I[W+He]=ge,ge=1);Oe+=ge}T[W]=N}return I=k(I,x)[0],[h(T),h(I)]}function L(m,y){for(var A=m.length,P=y.length,M=[],T=[],B=e,x,I,C,N,W;A;){if(T.unshift(m[--A]),f(T),j(T,y)<0){M.push(0);continue}I=T.length,C=T[I-1]*B+T[I-2],N=y[P-1]*B+y[P-2],I>P&&(C=(C+1)*B),x=Math.ceil(C/N);do{if(W=ee(y,x),j(W,T)<=0)break;x--}while(x);M.push(x),T=X(T,W)}return M.reverse(),[h(M),h(T)]}function k(m,y){var A=m.length,P=g(A),M=e,T,B,x,I;for(x=0,T=A-1;T>=0;--T)I=x*M+m[T],B=v(I/y),x=I-B*y,P[T]=B|0;return[P,x|0]}function q(m,y){var A,P=ve(y);if(s)return[new l(m.value/P.value),new l(m.value%P.value)];var M=m.value,T=P.value,B;if(T===0)throw new Error("Cannot divide by zero");if(m.isSmall)return P.isSmall?[new u(v(M/T)),new u(M%T)]:[a[0],m];if(P.isSmall){if(T===1)return[m,a[0]];if(T==-1)return[m.negate(),a[0]];var x=Math.abs(T);if(x<e){A=k(M,x),B=h(A[0]);var I=A[1];return m.sign&&(I=-I),typeof B=="number"?(m.sign!==P.sign&&(B=-B),[new u(B),new u(I)]):[new c(B,m.sign!==P.sign),new u(I)]}T=d(x)}var C=j(M,T);if(C===-1)return[a[0],m];if(C===0)return[a[m.sign===P.sign?1:-1],a[0]];M.length+T.length<=200?A=me(M,T):A=L(M,T),B=A[0];var N=m.sign!==P.sign,W=A[1],ge=m.sign;return typeof B=="number"?(N&&(B=-B),B=new u(B)):B=new c(B,N),typeof W=="number"?(ge&&(W=-W),W=new u(W)):W=new c(W,ge),[B,W]}c.prototype.divmod=function(m){var y=q(this,m);return{quotient:y[0],remainder:y[1]}},l.prototype.divmod=u.prototype.divmod=c.prototype.divmod,c.prototype.divide=function(m){return q(this,m)[0]},l.prototype.over=l.prototype.divide=function(m){return new l(this.value/ve(m).value)},u.prototype.over=u.prototype.divide=c.prototype.over=c.prototype.divide,c.prototype.mod=function(m){return q(this,m)[1]},l.prototype.mod=l.prototype.remainder=function(m){return new l(this.value%ve(m).value)},u.prototype.remainder=u.prototype.mod=c.prototype.remainder=c.prototype.mod,c.prototype.pow=function(m){var y=ve(m),A=this.value,P=y.value,M,T,B;if(P===0)return a[1];if(A===0)return a[0];if(A===1)return a[1];if(A===-1)return y.isEven()?a[1]:a[-1];if(y.sign)return a[0];if(!y.isSmall)throw new Error("The exponent "+y.toString()+" is too large.");if(this.isSmall&&p(M=Math.pow(A,P)))return new u(v(M));for(T=this,B=a[1];P&!0&&(B=B.times(T),--P),P!==0;)P/=2,T=T.square();return B},u.prototype.pow=c.prototype.pow,l.prototype.pow=function(m){var y=ve(m),A=this.value,P=y.value,M=BigInt(0),T=BigInt(1),B=BigInt(2);if(P===M)return a[1];if(A===M)return a[0];if(A===T)return a[1];if(A===BigInt(-1))return y.isEven()?a[1]:a[-1];if(y.isNegative())return new l(M);for(var x=this,I=a[1];(P&T)===T&&(I=I.times(x),--P),P!==M;)P/=B,x=x.square();return I},c.prototype.modPow=function(m,y){if(m=ve(m),y=ve(y),y.isZero())throw new Error("Cannot take modPow with modulus 0");var A=a[1],P=this.mod(y);for(m.isNegative()&&(m=m.multiply(a[-1]),P=P.modInv(y));m.isPositive();){if(P.isZero())return a[0];m.isOdd()&&(A=A.multiply(P).mod(y)),m=m.divide(2),P=P.square().mod(y)}return A},l.prototype.modPow=u.prototype.modPow=c.prototype.modPow;function j(m,y){if(m.length!==y.length)return m.length>y.length?1:-1;for(var A=m.length-1;A>=0;A--)if(m[A]!==y[A])return m[A]>y[A]?1:-1;return 0}c.prototype.compareAbs=function(m){var y=ve(m),A=this.value,P=y.value;return y.isSmall?1:j(A,P)},u.prototype.compareAbs=function(m){var y=ve(m),A=Math.abs(this.value),P=y.value;return y.isSmall?(P=Math.abs(P),A===P?0:A>P?1:-1):-1},l.prototype.compareAbs=function(m){var y=this.value,A=ve(m).value;return y=y>=0?y:-y,A=A>=0?A:-A,y===A?0:y>A?1:-1},c.prototype.compare=function(m){if(m===1/0)return-1;if(m===-1/0)return 1;var y=ve(m),A=this.value,P=y.value;return this.sign!==y.sign?y.sign?1:-1:y.isSmall?this.sign?-1:1:j(A,P)*(this.sign?-1:1)},c.prototype.compareTo=c.prototype.compare,u.prototype.compare=function(m){if(m===1/0)return-1;if(m===-1/0)return 1;var y=ve(m),A=this.value,P=y.value;return y.isSmall?A==P?0:A>P?1:-1:A<0!==y.sign?A<0?-1:1:A<0?1:-1},u.prototype.compareTo=u.prototype.compare,l.prototype.compare=function(m){if(m===1/0)return-1;if(m===-1/0)return 1;var y=this.value,A=ve(m).value;return y===A?0:y>A?1:-1},l.prototype.compareTo=l.prototype.compare,c.prototype.equals=function(m){return this.compare(m)===0},l.prototype.eq=l.prototype.equals=u.prototype.eq=u.prototype.equals=c.prototype.eq=c.prototype.equals,c.prototype.notEquals=function(m){return this.compare(m)!==0},l.prototype.neq=l.prototype.notEquals=u.prototype.neq=u.prototype.notEquals=c.prototype.neq=c.prototype.notEquals,c.prototype.greater=function(m){return this.compare(m)>0},l.prototype.gt=l.prototype.greater=u.prototype.gt=u.prototype.greater=c.prototype.gt=c.prototype.greater,c.prototype.lesser=function(m){return this.compare(m)<0},l.prototype.lt=l.prototype.lesser=u.prototype.lt=u.prototype.lesser=c.prototype.lt=c.prototype.lesser,c.prototype.greaterOrEquals=function(m){return this.compare(m)>=0},l.prototype.geq=l.prototype.greaterOrEquals=u.prototype.geq=u.prototype.greaterOrEquals=c.prototype.geq=c.prototype.greaterOrEquals,c.prototype.lesserOrEquals=function(m){return this.compare(m)<=0},l.prototype.leq=l.prototype.lesserOrEquals=u.prototype.leq=u.prototype.lesserOrEquals=c.prototype.leq=c.prototype.lesserOrEquals,c.prototype.isEven=function(){return(this.value[0]&1)===0},u.prototype.isEven=function(){return(this.value&1)===0},l.prototype.isEven=function(){return(this.value&BigInt(1))===BigInt(0)},c.prototype.isOdd=function(){return(this.value[0]&1)===1},u.prototype.isOdd=function(){return(this.value&1)===1},l.prototype.isOdd=function(){return(this.value&BigInt(1))===BigInt(1)},c.prototype.isPositive=function(){return!this.sign},u.prototype.isPositive=function(){return this.value>0},l.prototype.isPositive=u.prototype.isPositive,c.prototype.isNegative=function(){return this.sign},u.prototype.isNegative=function(){return this.value<0},l.prototype.isNegative=u.prototype.isNegative,c.prototype.isUnit=function(){return!1},u.prototype.isUnit=function(){return Math.abs(this.value)===1},l.prototype.isUnit=function(){return this.abs().value===BigInt(1)},c.prototype.isZero=function(){return!1},u.prototype.isZero=function(){return this.value===0},l.prototype.isZero=function(){return this.value===BigInt(0)},c.prototype.isDivisibleBy=function(m){var y=ve(m);return y.isZero()?!1:y.isUnit()?!0:y.compareAbs(2)===0?this.isEven():this.mod(y).isZero()},l.prototype.isDivisibleBy=u.prototype.isDivisibleBy=c.prototype.isDivisibleBy;function ye(m){var y=m.abs();if(y.isUnit())return!1;if(y.equals(2)||y.equals(3)||y.equals(5))return!0;if(y.isEven()||y.isDivisibleBy(3)||y.isDivisibleBy(5))return!1;if(y.lesser(49))return!0}function Ue(m,y){for(var A=m.prev(),P=A,M=0,T,B,x,I;P.isEven();)P=P.divide(2),M++;e:for(x=0;x<y.length;x++)if(!m.lesser(y[x])&&(I=Yt(y[x]).modPow(P,m),!(I.isUnit()||I.equals(A)))){for(T=M-1;T!=0;T--){if(I=I.square().mod(m),I.isUnit())return!1;if(I.equals(A))continue e}return!1}return!0}c.prototype.isPrime=function(m){var y=ye(this);if(y!==r)return y;var A=this.abs(),P=A.bitLength();if(P<=64)return Ue(A,[2,3,5,7,11,13,17,19,23,29,31,37]);for(var M=Math.log(2)*P.toJSNumber(),T=Math.ceil(m===!0?2*Math.pow(M,2):M),B=[],x=0;x<T;x++)B.push(Yt(x+2));return Ue(A,B)},l.prototype.isPrime=u.prototype.isPrime=c.prototype.isPrime,c.prototype.isProbablePrime=function(m,y){var A=ye(this);if(A!==r)return A;for(var P=this.abs(),M=m===r?5:m,T=[],B=0;B<M;B++)T.push(Yt.randBetween(2,P.minus(2),y));return Ue(P,T)},l.prototype.isProbablePrime=u.prototype.isProbablePrime=c.prototype.isProbablePrime,c.prototype.modInv=function(m){for(var y=Yt.zero,A=Yt.one,P=ve(m),M=this.abs(),T,B,x;!M.isZero();)T=P.divide(M),B=y,x=P,y=A,P=M,A=B.subtract(T.multiply(A)),M=x.subtract(T.multiply(M));if(!P.isUnit())throw new Error(this.toString()+" and "+m.toString()+" are not co-prime");return y.compare(0)===-1&&(y=y.add(m)),this.isNegative()?y.negate():y},l.prototype.modInv=u.prototype.modInv=c.prototype.modInv,c.prototype.next=function(){var m=this.value;return this.sign?J(m,1,this.sign):new c(F(m,1),this.sign)},u.prototype.next=function(){var m=this.value;return m+1<n?new u(m+1):new c(i,!1)},l.prototype.next=function(){return new l(this.value+BigInt(1))},c.prototype.prev=function(){var m=this.value;return this.sign?new c(F(m,1),!0):J(m,1,this.sign)},u.prototype.prev=function(){var m=this.value;return m-1>-n?new u(m-1):new c(i,!0)},l.prototype.prev=function(){return new l(this.value-BigInt(1))};for(var Ae=[1];2*Ae[Ae.length-1]<=e;)Ae.push(2*Ae[Ae.length-1]);var oe=Ae.length,vt=Ae[oe-1];function Mt(m){return Math.abs(m)<=e}c.prototype.shiftLeft=function(m){var y=ve(m).toJSNumber();if(!Mt(y))throw new Error(String(y)+" is too large for shifting.");if(y<0)return this.shiftRight(-y);var A=this;if(A.isZero())return A;for(;y>=oe;)A=A.multiply(vt),y-=oe-1;return A.multiply(Ae[y])},l.prototype.shiftLeft=u.prototype.shiftLeft=c.prototype.shiftLeft,c.prototype.shiftRight=function(m){var y,A=ve(m).toJSNumber();if(!Mt(A))throw new Error(String(A)+" is too large for shifting.");if(A<0)return this.shiftLeft(-A);for(var P=this;A>=oe;){if(P.isZero()||P.isNegative()&&P.isUnit())return P;y=q(P,vt),P=y[1].isNegative()?y[0].prev():y[0],A-=oe-1}return y=q(P,Ae[A]),y[1].isNegative()?y[0].prev():y[0]},l.prototype.shiftRight=u.prototype.shiftRight=c.prototype.shiftRight;function Ie(m,y,A){y=ve(y);for(var P=m.isNegative(),M=y.isNegative(),T=P?m.not():m,B=M?y.not():y,x=0,I=0,C=null,N=null,W=[];!T.isZero()||!B.isZero();)C=q(T,vt),x=C[1].toJSNumber(),P&&(x=vt-1-x),N=q(B,vt),I=N[1].toJSNumber(),M&&(I=vt-1-I),T=C[0],B=N[0],W.push(A(x,I));for(var ge=A(P?1:0,M?1:0)!==0?Yt(-1):Yt(0),Oe=W.length-1;Oe>=0;Oe-=1)ge=ge.multiply(vt).add(Yt(W[Oe]));return ge}c.prototype.not=function(){return this.negate().prev()},l.prototype.not=u.prototype.not=c.prototype.not,c.prototype.and=function(m){return Ie(this,m,function(y,A){return y&A})},l.prototype.and=u.prototype.and=c.prototype.and,c.prototype.or=function(m){return Ie(this,m,function(y,A){return y|A})},l.prototype.or=u.prototype.or=c.prototype.or,c.prototype.xor=function(m){return Ie(this,m,function(y,A){return y^A})},l.prototype.xor=u.prototype.xor=c.prototype.xor;var xe=1<<30,Cn=(e&-e)*(e&-e)|xe;function at(m){var y=m.value,A=typeof y=="number"?y|xe:typeof y=="bigint"?y|BigInt(xe):y[0]+y[1]*e|Cn;return A&-A}function ne(m,y){if(y.compareTo(m)<=0){var A=ne(m,y.square(y)),P=A.p,M=A.e,T=P.multiply(y);return T.compareTo(m)<=0?{p:T,e:M*2+1}:{p:P,e:M*2}}return{p:Yt(1),e:0}}c.prototype.bitLength=function(){var m=this;return m.compareTo(Yt(0))<0&&(m=m.negate().subtract(Yt(1))),m.compareTo(Yt(0))===0?Yt(0):Yt(ne(m,Yt(2)).e).add(Yt(1))},l.prototype.bitLength=u.prototype.bitLength=c.prototype.bitLength;function Pe(m,y){return m=ve(m),y=ve(y),m.greater(y)?m:y}function Y(m,y){return m=ve(m),y=ve(y),m.lesser(y)?m:y}function be(m,y){if(m=ve(m).abs(),y=ve(y).abs(),m.equals(y))return m;if(m.isZero())return y;if(y.isZero())return m;for(var A=a[1],P,M;m.isEven()&&y.isEven();)P=Y(at(m),at(y)),m=m.divide(P),y=y.divide(P),A=A.multiply(P);for(;m.isEven();)m=m.divide(at(m));do{for(;y.isEven();)y=y.divide(at(y));m.greater(y)&&(M=y,y=m,m=M),y=y.subtract(m)}while(!y.isZero());return A.isUnit()?m:m.multiply(A)}function Qe(m,y){return m=ve(m).abs(),y=ve(y).abs(),m.divide(be(m,y)).multiply(y)}function Gt(m,y,A){m=ve(m),y=ve(y);var P=A||Math.random,M=Y(m,y),T=Pe(m,y),B=T.subtract(M).add(1);if(B.isSmall)return M.add(Math.floor(P()*B));for(var x=Es(B,e).value,I=[],C=!0,N=0;N<x.length;N++){var W=C?x[N]:e,ge=v(P()*W);I.push(ge),ge<W&&(C=!1)}return M.add(a.fromArray(I,e,!1))}var ct=function(m,y,A,P){A=A||o,m=String(m),P||(m=m.toLowerCase(),A=A.toLowerCase());var M=m.length,T,B=Math.abs(y),x={};for(T=0;T<A.length;T++)x[A[T]]=T;for(T=0;T<M;T++){var I=m[T];if(I!=="-"&&I in x&&x[I]>=B){if(I==="1"&&B===1)continue;throw new Error(I+" is not a valid digit in base "+y+".")}}y=ve(y);var C=[],N=m[0]==="-";for(T=N?1:0;T<m.length;T++){var I=m[T];if(I in x)C.push(ve(x[I]));else if(I==="<"){var W=T;do T++;while(m[T]!==">"&&T<m.length);C.push(ve(m.slice(W+1,T)))}else throw new Error(I+" is not a valid character")}return Ro(C,y,N)};function Ro(m,y,A){var P=a[0],M=a[1],T;for(T=m.length-1;T>=0;T--)P=P.add(m[T].times(M)),M=M.times(y);return A?P.negate():P}function Mo(m,y){return y=y||o,m<y.length?y[m]:"<"+m+">"}function Es(m,y){if(y=Yt(y),y.isZero()){if(m.isZero())return{value:[0],isNegative:!1};throw new Error("Cannot convert nonzero numbers to base 0.")}if(y.equals(-1)){if(m.isZero())return{value:[0],isNegative:!1};if(m.isNegative())return{value:[].concat.apply([],Array.apply(null,Array(-m.toJSNumber())).map(Array.prototype.valueOf,[1,0])),isNegative:!1};var A=Array.apply(null,Array(m.toJSNumber()-1)).map(Array.prototype.valueOf,[0,1]);return A.unshift([1]),{value:[].concat.apply([],A),isNegative:!1}}var P=!1;if(m.isNegative()&&y.isPositive()&&(P=!0,m=m.abs()),y.isUnit())return m.isZero()?{value:[0],isNegative:!1}:{value:Array.apply(null,Array(m.toJSNumber())).map(Number.prototype.valueOf,1),isNegative:P};for(var M=[],T=m,B;T.isNegative()||T.compareAbs(y)>=0;){B=T.divmod(y),T=B.quotient;var x=B.remainder;x.isNegative()&&(x=y.minus(x).abs(),T=T.next()),M.push(x.toJSNumber())}return M.push(T.toJSNumber()),{value:M.reverse(),isNegative:P}}function Md(m,y,A){var P=Es(m,y);return(P.isNegative?"-":"")+P.value.map(function(M){return Mo(M,A)}).join("")}c.prototype.toArray=function(m){return Es(this,m)},u.prototype.toArray=function(m){return Es(this,m)},l.prototype.toArray=function(m){return Es(this,m)},c.prototype.toString=function(m,y){if(m===r&&(m=10),m!==10)return Md(this,m,y);for(var A=this.value,P=A.length,M=String(A[--P]),T="0000000",B;--P>=0;)B=String(A[P]),M+=T.slice(B.length)+B;var x=this.sign?"-":"";return x+M},u.prototype.toString=function(m,y){return m===r&&(m=10),m!=10?Md(this,m,y):String(this.value)},l.prototype.toString=u.prototype.toString,l.prototype.toJSON=c.prototype.toJSON=u.prototype.toJSON=function(){return this.toString()},c.prototype.valueOf=function(){return parseInt(this.toString(),10)},c.prototype.toJSNumber=c.prototype.valueOf,u.prototype.valueOf=function(){return this.value},u.prototype.toJSNumber=u.prototype.valueOf,l.prototype.valueOf=l.prototype.toJSNumber=function(){return parseInt(this.toString(),10)};function Od(m){if(p(+m)){var y=+m;if(y===v(y))return s?new l(BigInt(y)):new u(y);throw new Error("Invalid integer: "+m)}var A=m[0]==="-";A&&(m=m.slice(1));var P=m.split(/e/i);if(P.length>2)throw new Error("Invalid integer: "+P.join("e"));if(P.length===2){var M=P[1];if(M[0]==="+"&&(M=M.slice(1)),M=+M,M!==v(M)||!p(M))throw new Error("Invalid integer: "+M+" is not a valid exponent.");var T=P[0],B=T.indexOf(".");if(B>=0&&(M-=T.length-B-1,T=T.slice(0,B)+T.slice(B+1)),M<0)throw new Error("Cannot include negative exponent part for integers");T+=new Array(M+1).join("0"),m=T}var x=/^([0-9][0-9]*)$/.test(m);if(!x)throw new Error("Invalid integer: "+m);if(s)return new l(BigInt(A?"-"+m:m));for(var I=[],C=m.length,N=t,W=C-N;C>0;)I.push(+m.slice(W,C)),W-=N,W<0&&(W=0),C-=N;return f(I),new c(I,A)}function Nd(m){if(s)return new l(BigInt(m));if(p(m)){if(m!==v(m))throw new Error(m+" is not an integer.");return new u(m)}return Od(m.toString())}function ve(m){return typeof m=="number"?Nd(m):typeof m=="string"?Od(m):typeof m=="bigint"?new l(m):m}for(var Oo=0;Oo<1e3;Oo++)a[Oo]=ve(Oo),Oo>0&&(a[-Oo]=ve(-Oo));return a.one=a[1],a.zero=a[0],a.minusOne=a[-1],a.max=Pe,a.min=Y,a.gcd=be,a.lcm=Qe,a.isInstance=function(m){return m instanceof c||m instanceof u||m instanceof l},a.randBetween=Gt,a.fromArray=function(m,y,A){return Ro(m.map(ve),ve(y||10),A)},a}();typeof zb<"u"&&zb.hasOwnProperty("exports")&&(zb.exports=Yt);typeof define=="function"&&define.amd&&define(function(){return Yt})});var Z3=b(Qt=>{"use strict";var Coe=require("fs"),Toe=Q3(),da=!1;Qt.maxObjectSize=100*1e3*1e3;Qt.maxObjectCount=32768;var Loe=9783072e5,Doe=Qt.UID=function(r){this.UID=r},hCe=Qt.parseFile=function(r,e){function t(n){var i=null,o;try{o=$oe(n)}catch(s){i=s}e(i,o)}if(Buffer.isBuffer(r))return t(r);Coe.readFile(r,function(n,i){if(n)return e(n);t(i)})},$oe=Qt.parseBuffer=function(r){var e={},t=r.slice(0,6).toString("utf8");if(t!=="bplist")throw new Error("Invalid binary plist. Expected 'bplist' at offset 0.");var n=r.slice(r.length-32,r.length),i=n.readUInt8(6);da&&console.log("offsetSize: "+i);var o=n.readUInt8(7);da&&console.log("objectRefSize: "+o);var s=tE(n,8);da&&console.log("numObjects: "+s);var a=tE(n,16);da&&console.log("topObject: "+a);var c=tE(n,24);if(da&&console.log("offsetTableOffset: "+c),s>Qt.maxObjectCount)throw new Error("maxObjectCount exceeded");for(var u=[],l=0;l<s;l++){var p=r.slice(c+l*i,c+(l+1)*i);u[l]=en(p,0),da&&console.log("Offset for Object #"+l+" is "+u[l]+" ["+u[l].toString(16)+"]")}function d(h){var f=u[h],g=r[f],v=(g&240)>>4,S=g&15;switch(v){case 0:return R();case 1:return X();case 8:return G();case 2:return J();case 3:return z();case 4:return ee();case 5:return he();case 6:return he(!0);case 10:return Le();case 13:return O();default:throw new Error("Unhandled type 0x"+v.toString(16))}function R(){switch(S){case 0:return null;case 8:return!1;case 9:return!0;case 15:return null;default:throw new Error("Unhandled simple type 0x"+v.toString(16))}}function F(Z){var ue="",me;for(me=0;me<Z.length&&Z[me]==0;me++);for(;me<Z.length;me++){var L="00"+Z[me].toString(16);ue+=L.substr(L.length-2)}return ue}function X(){var Z=Math.pow(2,S);if(Z>4){var ue=r.slice(f+1,f+1+Z),me=F(ue);return Toe(me,16)}if(Z<Qt.maxObjectSize)return en(r.slice(f+1,f+1+Z));throw new Error("To little heap space available! Wanted to read "+Z+" bytes, but only "+Qt.maxObjectSize+" are available.")}function G(){var Z=S+1;if(Z<Qt.maxObjectSize)return new Doe(en(r.slice(f+1,f+1+Z)));throw new Error("To little heap space available! Wanted to read "+Z+" bytes, but only "+Qt.maxObjectSize+" are available.")}function J(){var Z=Math.pow(2,S);if(Z<Qt.maxObjectSize){var ue=r.slice(f+1,f+1+Z);if(Z===4)return ue.readFloatBE(0);if(Z===8)return ue.readDoubleBE(0)}else throw new Error("To little heap space available! Wanted to read "+Z+" bytes, but only "+Qt.maxObjectSize+" are available.")}function z(){S!=3&&console.error("Unknown date type :"+S+". Parsing anyway...");var Z=r.slice(f+1,f+9);return new Date(Loe+1e3*Z.readDoubleBE(0))}function ee(){var Z=1,ue=S;if(S==15){var me=r[f+1],L=(me&240)/16;L!=1&&console.error("0x4: UNEXPECTED LENGTH-INT TYPE! "+L);var k=me&15,q=Math.pow(2,k);Z=2+q,q<3,ue=en(r.slice(f+2,f+2+q))}if(ue<Qt.maxObjectSize)return r.slice(f+Z,f+Z+ue);throw new Error("To little heap space available! Wanted to read "+ue+" bytes, but only "+Qt.maxObjectSize+" are available.")}function he(Z){Z=Z||0;var ue="utf8",me=S,L=1;if(S==15){var k=r[f+1],q=(k&240)/16;q!=1&&console.err("UNEXPECTED LENGTH-INT TYPE! "+q);var j=k&15,ye=Math.pow(2,j),L=2+ye;ye<3,me=en(r.slice(f+2,f+2+ye))}if(me*=Z+1,me<Qt.maxObjectSize){var Ue=new Buffer(r.slice(f+L,f+L+me));return Z&&(Ue=koe(Ue),ue="ucs2"),Ue.toString(ue)}else throw new Error("To little heap space available! Wanted to read "+me+" bytes, but only "+Qt.maxObjectSize+" are available.")}function Le(){var Z=S,ue=1;if(S==15){var me=r[f+1],L=(me&240)/16;L!=1&&console.error("0xa: UNEXPECTED LENGTH-INT TYPE! "+L);var k=me&15,q=Math.pow(2,k);ue=2+q,q<3,Z=en(r.slice(f+2,f+2+q))}if(Z*o>Qt.maxObjectSize)throw new Error("To little heap space available!");for(var j=[],ye=0;ye<Z;ye++){var Ue=en(r.slice(f+ue+ye*o,f+ue+(ye+1)*o));j[ye]=d(Ue)}return j}function O(){var Z=S,ue=1;if(S==15){var me=r[f+1],L=(me&240)/16;L!=1&&console.error("0xD: UNEXPECTED LENGTH-INT TYPE! "+L);var k=me&15,q=Math.pow(2,k);ue=2+q,q<3,Z=en(r.slice(f+2,f+2+q))}if(Z*2*o>Qt.maxObjectSize)throw new Error("To little heap space available!");da&&console.log("Parsing dictionary #"+h);for(var j={},ye=0;ye<Z;ye++){var Ue=en(r.slice(f+ue+ye*o,f+ue+(ye+1)*o)),Ae=en(r.slice(f+ue+Z*o+ye*o,f+ue+Z*o+(ye+1)*o)),oe=d(Ue),vt=d(Ae);da&&console.log("  DICT #"+h+": Mapped "+oe+" to "+vt),j[oe]=vt}return j}}return[d(a)]};function en(r,e){e=e||0;for(var t=0,n=e;n<r.length;n++)t<<=8,t|=r[n]&255;return t}function tE(r,e){var t=r.slice(e,e+8);return t.readUInt32BE(4,8)}function koe(r){for(var e=r.length,t=0;t<e;t+=2){var n=r[t];r[t]=r[t+1],r[t+1]=n}return r}});var rU=b((HCe,tU)=>{"use strict";var eU=require("os");function Roe(){var r=process.env,e=r.HOME,t=r.LOGNAME||r.USER||r.LNAME||r.USERNAME;return process.platform==="win32"?r.USERPROFILE||r.HOMEDRIVE+r.HOMEPATH||e||null:process.platform==="darwin"?e||(t?"/Users/"+t:null):process.platform==="linux"?e||(process.getuid()===0?"/root":t?"/home/"+t:null):e||null}tU.exports=typeof eU.homedir=="function"?eU.homedir:Roe});var oU=b((yCe,iU)=>{"use strict";var Moe=rU(),nU=Moe();iU.exports=function(r){if(typeof r!="string")throw new TypeError("Expected a string");return nU?r.replace(/^~($|\/|\\)/,nU+"$1"):r}});var rE=b((bCe,cU)=>{"use strict";var sU=function(r,e,t){return function(){for(var n=this,i=new Array(arguments.length),o=0;o<arguments.length;o++)i[o]=arguments[o];return new e(function(s,a){i.push(function(c,u){if(c)a(c);else if(t.multiArgs){for(var l=new Array(arguments.length-1),p=1;p<arguments.length;p++)l[p-1]=arguments[p];s(l)}else s(u)}),r.apply(n,i)})}},aU=cU.exports=function(r,e,t){typeof e!="function"&&(t=e,e=Promise),t=t||{},t.exclude=t.exclude||[/.+Sync$/];var n=function(o){var s=function(a){return typeof a=="string"?o===a:a.test(o)};return t.include?t.include.some(s):!t.exclude.some(s)},i=typeof r=="function"?function(){return t.excludeMain?r.apply(this,arguments):sU(r,e,t).apply(this,arguments)}:{};return Object.keys(r).reduce(function(o,s){var a=r[s];return o[s]=typeof a=="function"&&n(s)?sU(a,e,t):a,o},i)};aU.all=aU});var lU=b((vCe,uU)=>{"use strict";var Ooe=require("os"),Noe=Z3(),Foe=oU(),Boe=rE(),Uoe=Number(Ooe.release().split(".")[0]),joe=Foe(Uoe>=14?"~/Library/Preferences/com.apple.LaunchServices/com.apple.launchservices.secure.plist":"~/Library/Preferences/com.apple.LaunchServices.plist");uU.exports=()=>{if(process.platform!=="darwin")return Promise.reject(new Error("Only OS X is supported"));let r="com.apple.Safari";return Boe(Noe.parseFile)(joe).then(e=>{let t=e&&e[0].LSHandlers;if(!t||t.length===0)return r;for(let n of t)if(n.LSHandlerURLScheme==="http"&&n.LSHandlerRoleAll){r=n.LSHandlerRoleAll;break}return r})}});var yU=b((xCe,HU)=>{"use strict";var iE="pending",pU="settled",Kb="fulfilled",Xb="rejected",Woe=function(){},dU=typeof global<"u"&&typeof global.process<"u"&&typeof global.process.emit=="function",qoe=typeof setImmediate>"u"?setTimeout:setImmediate,Im=[],nE;function Voe(){for(var r=0;r<Im.length;r++)Im[r][0](Im[r][1]);Im=[],nE=!1}function Jb(r,e){Im.push([r,e]),nE||(nE=!0,qoe(Voe,0))}function Goe(r,e){function t(i){oE(e,i)}function n(i){_m(e,i)}try{r(t,n)}catch(i){n(i)}}function fU(r){var e=r.owner,t=e._state,n=e._data,i=r[t],o=r.then;if(typeof i=="function"){t=Kb;try{n=i(n)}catch(s){_m(o,s)}}mU(o,n)||(t===Kb&&oE(o,n),t===Xb&&_m(o,n))}function mU(r,e){var t;try{if(r===e)throw new TypeError("A promises callback cannot return that same promise.");if(e&&(typeof e=="function"||typeof e=="object")){var n=e.then;if(typeof n=="function")return n.call(e,function(i){t||(t=!0,e===i?hU(r,i):oE(r,i))},function(i){t||(t=!0,_m(r,i))}),!0}}catch(i){return t||_m(r,i),!0}return!1}function oE(r,e){(r===e||!mU(r,e))&&hU(r,e)}function hU(r,e){r._state===iE&&(r._state=pU,r._data=e,Jb(zoe,r))}function _m(r,e){r._state===iE&&(r._state=pU,r._data=e,Jb(Koe,r))}function gU(r){r._then=r._then.forEach(fU)}function zoe(r){r._state=Kb,gU(r)}function Koe(r){r._state=Xb,gU(r),!r._handled&&dU&&global.process.emit("unhandledRejection",r._data,r)}function Xoe(r){global.process.emit("rejectionHandled",r)}function vn(r){if(typeof r!="function")throw new TypeError("Promise resolver "+r+" is not a function");if(!(this instanceof vn))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[],Goe(r,this)}vn.prototype={constructor:vn,_state:iE,_then:null,_data:void 0,_handled:!1,then:function(r,e){var t={owner:this,then:new this.constructor(Woe),fulfilled:r,rejected:e};return(e||r)&&!this._handled&&(this._handled=!0,this._state===Xb&&dU&&Jb(Xoe,this)),this._state===Kb||this._state===Xb?Jb(fU,t):this._then.push(t),t.then},catch:function(r){return this.then(null,r)}};vn.all=function(r){if(!Array.isArray(r))throw new TypeError("You must pass an array to Promise.all().");return new vn(function(e,t){var n=[],i=0;function o(c){return i++,function(u){n[c]=u,--i||e(n)}}for(var s=0,a;s<r.length;s++)a=r[s],a&&typeof a.then=="function"?a.then(o(s),t):n[s]=a;i||e(n)})};vn.race=function(r){if(!Array.isArray(r))throw new TypeError("You must pass an array to Promise.race().");return new vn(function(e,t){for(var n=0,i;n<r.length;n++)i=r[n],i&&typeof i.then=="function"?i.then(e,t):e(i)})};vn.resolve=function(r){return r&&typeof r=="object"&&r.constructor===vn?r:new vn(function(e){e(r)})};vn.reject=function(r){return new vn(function(e,t){t(r)})};HU.exports=vn});var vU=b((wCe,bU)=>{"use strict";bU.exports=typeof Promise=="function"?Promise:yU()});var IU=b((ICe,wU)=>{"use strict";var Joe=require("child_process").execFile,xU=vU(),Yoe=rE();wU.exports=function(r){return process.platform!=="darwin"?xU.reject(new Error("Only OS X systems are supported")):Yoe(Joe,xU)("osascript",["-e",r]).then(function(e){return e.trim()})}});var AU=b((_Ce,_U)=>{"use strict";var Qoe=IU();_U.exports=r=>Qoe(`tell application "Finder" to set app_path to application file id "${r}" as string
tell application "System Events" to get value of property list item "CFBundleName" of property list file (app_path & ":Contents:Info.plist")`)});var CU=b((ACe,PU)=>{var SU=Object.prototype.hasOwnProperty;PU.exports=xn;function xn(r){if(!(this instanceof xn))throw new TypeError("Constructor PseudoMap requires 'new'");if(this.clear(),r)if(r instanceof xn||typeof Map=="function"&&r instanceof Map)r.forEach(function(e,t){this.set(t,e)},this);else if(Array.isArray(r))r.forEach(function(e){this.set(e[0],e[1])},this);else throw new TypeError("invalid argument")}xn.prototype.forEach=function(r,e){e=e||this,Object.keys(this._data).forEach(function(t){t!=="size"&&r.call(e,this._data[t].value,this._data[t].key)},this)};xn.prototype.has=function(r){return!!sE(this._data,r)};xn.prototype.get=function(r){var e=sE(this._data,r);return e&&e.value};xn.prototype.set=function(r,e){ese(this._data,r,e)};xn.prototype.delete=function(r){var e=sE(this._data,r);e&&(delete this._data[e._index],this._data.size--)};xn.prototype.clear=function(){var r=Object.create(null);r.size=0,Object.defineProperty(this,"_data",{value:r,enumerable:!1,configurable:!0,writable:!1})};Object.defineProperty(xn.prototype,"size",{get:function(){return this._data.size},set:function(r){},enumerable:!0,configurable:!0});xn.prototype.values=xn.prototype.keys=xn.prototype.entries=function(){throw new Error("iterators are not implemented in this version")};function EU(r,e){return r===e||r!==r&&e!==e}function Zoe(r,e,t){this.key=r,this.value=e,this._index=t}function sE(r,e){for(var t=0,n="_"+e,i=n;SU.call(r,i);i=n+t++)if(EU(r[i].key,e))return r[i]}function ese(r,e,t){for(var n=0,i="_"+e,o=i;SU.call(r,o);o=i+n++)if(EU(r[o].key,e)){r[o].value=t;return}r.size++,r[o]=new Zoe(e,t,o)}});var TU=b((SCe,aE)=>{process.env.npm_package_name==="pseudomap"&&process.env.npm_lifecycle_script==="test"&&(process.env.TEST_PSEUDOMAP="true");typeof Map=="function"&&!process.env.TEST_PSEUDOMAP?aE.exports=Map:aE.exports=CU()});var DU=b((ECe,LU)=>{LU.exports=ze;ze.Node=Am;ze.create=ze;function ze(r){var e=this;if(e instanceof ze||(e=new ze),e.tail=null,e.head=null,e.length=0,r&&typeof r.forEach=="function")r.forEach(function(i){e.push(i)});else if(arguments.length>0)for(var t=0,n=arguments.length;t<n;t++)e.push(arguments[t]);return e}ze.prototype.removeNode=function(r){if(r.list!==this)throw new Error("removing node which does not belong to this list");var e=r.next,t=r.prev;e&&(e.prev=t),t&&(t.next=e),r===this.head&&(this.head=e),r===this.tail&&(this.tail=t),r.list.length--,r.next=null,r.prev=null,r.list=null};ze.prototype.unshiftNode=function(r){if(r!==this.head){r.list&&r.list.removeNode(r);var e=this.head;r.list=this,r.next=e,e&&(e.prev=r),this.head=r,this.tail||(this.tail=r),this.length++}};ze.prototype.pushNode=function(r){if(r!==this.tail){r.list&&r.list.removeNode(r);var e=this.tail;r.list=this,r.prev=e,e&&(e.next=r),this.tail=r,this.head||(this.head=r),this.length++}};ze.prototype.push=function(){for(var r=0,e=arguments.length;r<e;r++)tse(this,arguments[r]);return this.length};ze.prototype.unshift=function(){for(var r=0,e=arguments.length;r<e;r++)rse(this,arguments[r]);return this.length};ze.prototype.pop=function(){if(this.tail){var r=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,r}};ze.prototype.shift=function(){if(this.head){var r=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,r}};ze.prototype.forEach=function(r,e){e=e||this;for(var t=this.head,n=0;t!==null;n++)r.call(e,t.value,n,this),t=t.next};ze.prototype.forEachReverse=function(r,e){e=e||this;for(var t=this.tail,n=this.length-1;t!==null;n--)r.call(e,t.value,n,this),t=t.prev};ze.prototype.get=function(r){for(var e=0,t=this.head;t!==null&&e<r;e++)t=t.next;if(e===r&&t!==null)return t.value};ze.prototype.getReverse=function(r){for(var e=0,t=this.tail;t!==null&&e<r;e++)t=t.prev;if(e===r&&t!==null)return t.value};ze.prototype.map=function(r,e){e=e||this;for(var t=new ze,n=this.head;n!==null;)t.push(r.call(e,n.value,this)),n=n.next;return t};ze.prototype.mapReverse=function(r,e){e=e||this;for(var t=new ze,n=this.tail;n!==null;)t.push(r.call(e,n.value,this)),n=n.prev;return t};ze.prototype.reduce=function(r,e){var t,n=this.head;if(arguments.length>1)t=e;else if(this.head)n=this.head.next,t=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;n!==null;i++)t=r(t,n.value,i),n=n.next;return t};ze.prototype.reduceReverse=function(r,e){var t,n=this.tail;if(arguments.length>1)t=e;else if(this.tail)n=this.tail.prev,t=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;n!==null;i--)t=r(t,n.value,i),n=n.prev;return t};ze.prototype.toArray=function(){for(var r=new Array(this.length),e=0,t=this.head;t!==null;e++)r[e]=t.value,t=t.next;return r};ze.prototype.toArrayReverse=function(){for(var r=new Array(this.length),e=0,t=this.tail;t!==null;e++)r[e]=t.value,t=t.prev;return r};ze.prototype.slice=function(r,e){e=e||this.length,e<0&&(e+=this.length),r=r||0,r<0&&(r+=this.length);var t=new ze;if(e<r||e<0)return t;r<0&&(r=0),e>this.length&&(e=this.length);for(var n=0,i=this.head;i!==null&&n<r;n++)i=i.next;for(;i!==null&&n<e;n++,i=i.next)t.push(i.value);return t};ze.prototype.sliceReverse=function(r,e){e=e||this.length,e<0&&(e+=this.length),r=r||0,r<0&&(r+=this.length);var t=new ze;if(e<r||e<0)return t;r<0&&(r=0),e>this.length&&(e=this.length);for(var n=this.length,i=this.tail;i!==null&&n>e;n--)i=i.prev;for(;i!==null&&n>r;n--,i=i.prev)t.push(i.value);return t};ze.prototype.reverse=function(){for(var r=this.head,e=this.tail,t=r;t!==null;t=t.prev){var n=t.prev;t.prev=t.next,t.next=n}return this.head=e,this.tail=r,this};function tse(r,e){r.tail=new Am(e,r.tail,null,r),r.head||(r.head=r.tail),r.length++}function rse(r,e){r.head=new Am(e,null,r.head,r),r.tail||(r.tail=r.head),r.length++}function Am(r,e,t,n){if(!(this instanceof Am))return new Am(r,e,t,n);this.list=n,this.value=r,e?(e.next=this,this.prev=e):this.prev=null,t?(t.prev=this,this.next=t):this.next=null}});var uE=b((PCe,RU)=>{"use strict";RU.exports=ht;var nse=TU(),Sm=require("util"),ise=DU(),ose=typeof Symbol=="function"&&process.env._nodeLRUCacheForceNoSymbol!=="1",Ii;ose?Ii=function(r){return Symbol(r)}:Ii=function(r){return"_"+r};var cs=Ii("max"),xo=Ii("length"),Bc=Ii("lengthCalculator"),Zl=Ii("allowStale"),fa=Ii("maxAge"),as=Ii("dispose"),$U=Ii("noDisposeOnSet"),Zt=Ii("lruList"),wi=Ii("cache");function Em(){return 1}function ht(r){if(!(this instanceof ht))return new ht(r);typeof r=="number"&&(r={max:r}),r||(r={});var e=this[cs]=r.max;(!e||typeof e!="number"||e<=0)&&(this[cs]=1/0);var t=r.length||Em;typeof t!="function"&&(t=Em),this[Bc]=t,this[Zl]=r.stale||!1,this[fa]=r.maxAge||0,this[as]=r.dispose,this[$U]=r.noDisposeOnSet||!1,this.reset()}Object.defineProperty(ht.prototype,"max",{set:function(r){(!r||typeof r!="number"||r<=0)&&(r=1/0),this[cs]=r,Pm(this)},get:function(){return this[cs]},enumerable:!0});Object.defineProperty(ht.prototype,"allowStale",{set:function(r){this[Zl]=!!r},get:function(){return this[Zl]},enumerable:!0});Object.defineProperty(ht.prototype,"maxAge",{set:function(r){(!r||typeof r!="number"||r<0)&&(r=0),this[fa]=r,Pm(this)},get:function(){return this[fa]},enumerable:!0});Object.defineProperty(ht.prototype,"lengthCalculator",{set:function(r){typeof r!="function"&&(r=Em),r!==this[Bc]&&(this[Bc]=r,this[xo]=0,this[Zt].forEach(function(e){e.length=this[Bc](e.value,e.key),this[xo]+=e.length},this)),Pm(this)},get:function(){return this[Bc]},enumerable:!0});Object.defineProperty(ht.prototype,"length",{get:function(){return this[xo]},enumerable:!0});Object.defineProperty(ht.prototype,"itemCount",{get:function(){return this[Zt].length},enumerable:!0});ht.prototype.rforEach=function(r,e){e=e||this;for(var t=this[Zt].tail;t!==null;){var n=t.prev;kU(this,r,t,e),t=n}};function kU(r,e,t,n){var i=t.value;Cm(r,i)&&(ep(r,t),r[Zl]||(i=void 0)),i&&e.call(n,i.value,i.key,r)}ht.prototype.forEach=function(r,e){e=e||this;for(var t=this[Zt].head;t!==null;){var n=t.next;kU(this,r,t,e),t=n}};ht.prototype.keys=function(){return this[Zt].toArray().map(function(r){return r.key},this)};ht.prototype.values=function(){return this[Zt].toArray().map(function(r){return r.value},this)};ht.prototype.reset=function(){this[as]&&this[Zt]&&this[Zt].length&&this[Zt].forEach(function(r){this[as](r.key,r.value)},this),this[wi]=new nse,this[Zt]=new ise,this[xo]=0};ht.prototype.dump=function(){return this[Zt].map(function(r){if(!Cm(this,r))return{k:r.key,v:r.value,e:r.now+(r.maxAge||0)}},this).toArray().filter(function(r){return r})};ht.prototype.dumpLru=function(){return this[Zt]};ht.prototype.inspect=function(r,e){var t="LRUCache {",n=!1,i=this[Zl];i&&(t+=`
  allowStale: true`,n=!0);var o=this[cs];o&&o!==1/0&&(n&&(t+=","),t+=`
  max: `+Sm.inspect(o,e),n=!0);var s=this[fa];s&&(n&&(t+=","),t+=`
  maxAge: `+Sm.inspect(s,e),n=!0);var a=this[Bc];a&&a!==Em&&(n&&(t+=","),t+=`
  length: `+Sm.inspect(this[xo],e),n=!0);var c=!1;return this[Zt].forEach(function(u){c?t+=`,
  `:(n&&(t+=`,
`),c=!0,t+=`
  `);var l=Sm.inspect(u.key).split(`
`).join(`
  `),p={value:u.value};u.maxAge!==s&&(p.maxAge=u.maxAge),a!==Em&&(p.length=u.length),Cm(this,u)&&(p.stale=!0),p=Sm.inspect(p,e).split(`
`).join(`
  `),t+=l+" => "+p}),(c||n)&&(t+=`
`),t+="}",t};ht.prototype.set=function(r,e,t){t=t||this[fa];var n=t?Date.now():0,i=this[Bc](e,r);if(this[wi].has(r)){if(i>this[cs])return ep(this,this[wi].get(r)),!1;var o=this[wi].get(r),s=o.value;return this[as]&&(this[$U]||this[as](r,s.value)),s.now=n,s.maxAge=t,s.value=e,this[xo]+=i-s.length,s.length=i,this.get(r),Pm(this),!0}var a=new sse(r,e,i,n,t);return a.length>this[cs]?(this[as]&&this[as](r,e),!1):(this[xo]+=a.length,this[Zt].unshift(a),this[wi].set(r,this[Zt].head),Pm(this),!0)};ht.prototype.has=function(r){if(!this[wi].has(r))return!1;var e=this[wi].get(r).value;return!Cm(this,e)};ht.prototype.get=function(r){return cE(this,r,!0)};ht.prototype.peek=function(r){return cE(this,r,!1)};ht.prototype.pop=function(){var r=this[Zt].tail;return r?(ep(this,r),r.value):null};ht.prototype.del=function(r){ep(this,this[wi].get(r))};ht.prototype.load=function(r){this.reset();for(var e=Date.now(),t=r.length-1;t>=0;t--){var n=r[t],i=n.e||0;if(i===0)this.set(n.k,n.v);else{var o=i-e;o>0&&this.set(n.k,n.v,o)}}};ht.prototype.prune=function(){var r=this;this[wi].forEach(function(e,t){cE(r,t,!1)})};function cE(r,e,t){var n=r[wi].get(e);if(n){var i=n.value;Cm(r,i)?(ep(r,n),r[Zl]||(i=void 0)):t&&r[Zt].unshiftNode(n),i&&(i=i.value)}return i}function Cm(r,e){if(!e||!e.maxAge&&!r[fa])return!1;var t=!1,n=Date.now()-e.now;return e.maxAge?t=n>e.maxAge:t=r[fa]&&n>r[fa],t}function Pm(r){if(r[xo]>r[cs])for(var e=r[Zt].tail;r[xo]>r[cs]&&e!==null;){var t=e.prev;ep(r,e),e=t}}function ep(r,e){if(e){var t=e.value;r[as]&&r[as](t.key,t.value),r[xo]-=t.length,r[wi].delete(t.key),r[Zt].removeNode(e)}}function sse(r,e,t,n,i){this.key=r,this.value=e,this.length=t,this.now=n,this.maxAge=i||0}});var jU=b((CCe,UU)=>{UU.exports=BU;BU.sync=cse;var lE=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",MU=require("path"),ase=lE?";":":",OU=_I();function NU(r){var e=new Error("not found: "+r);return e.code="ENOENT",e}function FU(r,e){var t=e.colon||ase,n=e.path||process.env.PATH||"",i=[""];n=n.split(t);var o="";return lE&&(n.unshift(process.cwd()),o=e.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM",i=o.split(t),r.indexOf(".")!==-1&&i[0]!==""&&i.unshift("")),(r.match(/\//)||lE&&r.match(/\\/))&&(n=[""]),{env:n,ext:i,extExe:o}}function BU(r,e,t){typeof e=="function"&&(t=e,e={});var n=FU(r,e),i=n.env,o=n.ext,s=n.extExe,a=[];(function c(u,l){if(u===l)return e.all&&a.length?t(null,a):t(NU(r));var p=i[u];p.charAt(0)==='"'&&p.slice(-1)==='"'&&(p=p.slice(1,-1));var d=MU.join(p,r);!p&&/^\.[\\\/]/.test(r)&&(d=r.slice(0,2)+d),function h(f,g){if(f===g)return c(u+1,l);var v=o[f];OU(d+v,{pathExt:s},function(S,R){if(!S&&R)if(e.all)a.push(d+v);else return t(null,d+v);return h(f+1,g)})}(0,o.length)})(0,i.length)}function cse(r,e){e=e||{};for(var t=FU(r,e),n=t.env,i=t.ext,o=t.extExe,s=[],a=0,c=n.length;a<c;a++){var u=n[a];u.charAt(0)==='"'&&u.slice(-1)==='"'&&(u=u.slice(1,-1));var l=MU.join(u,r);!u&&/^\.[\\\/]/.test(r)&&(l=r.slice(0,2)+l);for(var p=0,d=i.length;p<d;p++){var h=l+i[p],f;try{if(f=OU.sync(h,{pathExt:o}),f)if(e.all)s.push(h);else return h}catch{}}}if(e.all&&s.length)return s;if(e.nothrow)return null;throw NU(r)}});var GU=b((TCe,VU)=>{"use strict";var WU=require("path"),qU=jU(),use=uE(),Yb=new use({max:50,maxAge:30*1e3}),lse=new RegExp(process.platform==="win32"?/[\/\\]/:/\//);function pse(r,e){var t;if(lse.test(r)&&(r=WU.resolve(r)),e=!!e,t=Yb.get(r+"!"+e),Yb.has(r))return Yb.get(r);try{t=e?qU.sync(r,{pathExt:WU.delimiter+(process.env.PATHEXT||"")}):qU.sync(r)}catch{}return Yb.set(r+"!"+e,t),t}VU.exports=pse});var JU=b((LCe,XU)=>{"use strict";var pE=require("fs"),dse=uE(),zU=GU(),fse=process.platform==="win32",dE=new dse({max:50,maxAge:30*1e3});function mse(r){var e,t,n,i;if(dE.has(r))return dE.get(r);e=new Buffer(150);try{t=pE.openSync(r,"r"),pE.readSync(t,e,0,150,0),pE.closeSync(t)}catch{}return n=e.toString().trim().match(/#!(.+)/i),n&&(i=n[1].replace(/\/usr\/bin\/env\s+/i,"")),dE.set(r,i),i}function KU(r,e){return r=""+r,e?(r=r.replace(/(\\*)"/g,'$1$1\\"'),r=r.replace(/(\\*)$/,"$1$1"),r='"'+r+'"'):r=r.replace(/([\(\)%!\^<>&|;,"'\s])/g,"^$1"),r}function hse(r){return/^[a-z0-9_-]+$/i.test(r)?r:KU(r,!0)}function gse(r,e,t){var n,i,o,s;return e&&!Array.isArray(e)&&(t=e,e=null),e=e?e.slice(0):[],t=t||{},s=r,fse&&(o=zU(r),o=o||zU(r,!0),n=o&&mse(o),n&&(e.unshift(o),r=n),i=r!=="echo",r=hse(r),e=e.map(function(a){return KU(a,i)}),e=["/s","/c",'"'+r+(e.length?" "+e.join(" "):"")+'"'],r=process.env.comspec||"cmd.exe",t.windowsVerbatimArguments=!0),{command:r,args:e,options:t,file:o,original:s}}XU.exports=gse});var e2=b((DCe,Qb)=>{"use strict";var YU=process.platform==="win32";function QU(r,e){var t;return t=new Error(e+" "+r+" ENOENT"),t.code=t.errno="ENOENT",t.syscall=e+" "+r,t}function Hse(r,e){var t;YU&&(t=r.emit,r.emit=function(n,i){var o;return n==="exit"&&(o=ZU(i,e,"spawn"),o)?t.call(r,"error",o):t.apply(r,arguments)})}function ZU(r,e,t){return YU&&r===1&&!e.file?QU(e.original,t):null}Qb.exports.hookChildProcess=Hse;Qb.exports.verifyENOENT=ZU;Qb.exports.notFoundError=QU});var i2=b(($Ce,Tm)=>{"use strict";var yse=require("child_process"),t2=JU(),r2=e2();function n2(r,e,t){var n,i;return n=t2(r,e,t),i=yse.spawn(n.command,n.args,n.options),r2.hookChildProcess(i,n),i}Tm.exports=n2;Tm.exports.spawn=n2;Tm.exports._parse=t2;Tm.exports._enoent=r2});var s2=b((kCe,o2)=>{"use strict";o2.exports=function(r){var e=typeof r=="string"?`
`:10,t=typeof r=="string"?"\r":13;return r[r.length-1]===e&&(r=r.slice(0,r.length-1)),r[r.length-1]===t&&(r=r.slice(0,r.length-1)),r}});var u2=b((RCe,c2)=>{"use strict";var a2=Object.getOwnPropertySymbols,bse=Object.prototype.hasOwnProperty,vse=Object.prototype.propertyIsEnumerable;function xse(r){if(r==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(r)}function wse(){try{if(!Object.assign)return!1;var r=new String("abc");if(r[5]="de",Object.getOwnPropertyNames(r)[0]==="5")return!1;for(var e={},t=0;t<10;t++)e["_"+String.fromCharCode(t)]=t;var n=Object.getOwnPropertyNames(e).map(function(o){return e[o]});if(n.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(o){i[o]=o}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}c2.exports=wse()?Object.assign:function(r,e){for(var t,n=xse(r),i,o=1;o<arguments.length;o++){t=Object(arguments[o]);for(var s in t)bse.call(t,s)&&(n[s]=t[s]);if(a2){i=a2(t);for(var a=0;a<i.length;a++)vse.call(t,i[a])&&(n[i[a]]=t[i[a]])}}return n}});var fE=b((MCe,l2)=>{"use strict";l2.exports=function(r){r=r||{};var e=r.env||process.env,t=r.platform||process.platform;return t!=="win32"?"PATH":Object.keys(e).filter(function(n){return n.toUpperCase()==="PATH"})[0]||"Path"}});var d2=b((OCe,p2)=>{"use strict";var Lm=require("path"),Ise=fE();p2.exports=function(r){r=r||{};for(var e,t=Lm.resolve(r.cwd||"."),n=[];e!==t;)n.push(Lm.join(t,"node_modules/.bin")),e=t,t=Lm.resolve(t,"..");return n.push(Lm.dirname(process.execPath)),n.concat(r.path||process.env[Ise()]).join(Lm.delimiter)}});var m2=b((NCe,Dm)=>{"use strict";var _se=require("child_process"),mE=i2(),Ase=s2(),hE=u2(),Sse=d2(),f2=fE()(),Ese=1024*1024*10;Dm.exports=function(r,e,t){return new Promise(function(n,i){var o=mE._parse(r,e,t);t=hE({maxBuffer:Ese,stripEof:!0,preferLocal:!0},o.options);var s=function(c){return t.stripEof&&(c=Ase(c)),c};t.preferLocal&&(t.env=hE({},t.env||process.env),t.env[f2]=Sse({cwd:t.cwd,path:t.env[f2]}));var a=_se.execFile(o.command,o.args,t,function(c,u,l){if(c){c.stdout=u,c.stderr=l,i(c);return}n({stdout:s(u),stderr:s(l)})});mE._enoent.hookChildProcess(a,o)})};Dm.exports.shell=function(r,e){var t,n;return e=hE({},e),process.platform==="win32"?(t=process.env.comspec||"cmd.exe",n=["/s","/c",'"'+r+'"'],e.windowsVerbatimArguments=!0):(t="/bin/sh",n=["-c",r]),e.shell&&(t=e.shell),Dm.exports(t,n,e)};Dm.exports.spawn=mE});var g2=b((FCe,h2)=>{"use strict";h2.exports=function(r){if(typeof r!="string")throw new TypeError("Expected a string");return r.toLowerCase().replace(/(?:^|\s|-)\S/g,function(e){return e.toUpperCase()})}});var y2=b((BCe,H2)=>{"use strict";var Pse=m2(),Cse=g2();H2.exports=function(){return process.platform!=="linux"?Promise.reject(new Error("Only Linux systems are supported")):Pse("xdg-mime",["query","default","x-scheme-handler/http"]).then(r=>{let e=r.stdout.trim();return{name:Cse(e.replace(/.desktop$/,"").replace("-"," ")),id:e}})}});var v2=b((UCe,b2)=>{"use strict";var Tse=lU(),Lse=AU();b2.exports=()=>process.platform==="linux"?y2()():process.platform==="darwin"?Tse().then(r=>Lse(r).then(e=>({name:e,id:r}))):Promise.reject(new Error("Only macOS and Linux are supported"))});var P2=b((pTe,E2)=>{"use strict";function kse(r){var e=new r,t=e;function n(){var o=e;return o.next?e=o.next:(e=new r,t=e),o.next=null,o}function i(o){t.next=o,t=o}return{get:n,release:i}}E2.exports=kse});var T2=b((dTe,HE)=>{"use strict";var Rse=P2();function C2(r,e,t){if(typeof r=="function"&&(t=e,e=r,r=null),t<1)throw new Error("fastqueue concurrency must be greater than 1");var n=Rse(Mse),i=null,o=null,s=0,a=null,c={push:g,drain:Jn,saturated:Jn,pause:l,paused:!1,concurrency:t,running:u,resume:h,idle:f,length:p,getQueue:d,unshift:v,empty:Jn,kill:R,killAndDrain:F,error:X};return c;function u(){return s}function l(){c.paused=!0}function p(){for(var G=i,J=0;G;)G=G.next,J++;return J}function d(){for(var G=i,J=[];G;)J.push(G.value),G=G.next;return J}function h(){if(c.paused){c.paused=!1;for(var G=0;G<c.concurrency;G++)s++,S()}}function f(){return s===0&&c.length()===0}function g(G,J){var z=n.get();z.context=r,z.release=S,z.value=G,z.callback=J||Jn,z.errorHandler=a,s===c.concurrency||c.paused?o?(o.next=z,o=z):(i=z,o=z,c.saturated()):(s++,e.call(r,z.value,z.worked))}function v(G,J){var z=n.get();z.context=r,z.release=S,z.value=G,z.callback=J||Jn,s===c.concurrency||c.paused?i?(z.next=i,i=z):(i=z,o=z,c.saturated()):(s++,e.call(r,z.value,z.worked))}function S(G){G&&n.release(G);var J=i;J?c.paused?s--:(o===i&&(o=null),i=J.next,J.next=null,e.call(r,J.value,J.worked),o===null&&c.empty()):--s===0&&c.drain()}function R(){i=null,o=null,c.drain=Jn}function F(){i=null,o=null,c.drain(),c.drain=Jn}function X(G){a=G}}function Jn(){}function Mse(){this.value=null,this.callback=Jn,this.next=null,this.release=Jn,this.context=null,this.errorHandler=null;var r=this;this.worked=function(t,n){var i=r.callback,o=r.errorHandler,s=r.value;r.value=null,r.callback=Jn,r.errorHandler&&o(t,s),i.call(r.context,t,n),r.release(r)}}function Ose(r,e,t){typeof r=="function"&&(t=e,e=r,r=null);function n(l,p){e.call(this,l).then(function(d){p(null,d)},p)}var i=C2(r,n,t),o=i.push,s=i.unshift;return i.push=a,i.unshift=c,i.drained=u,i;function a(l){var p=new Promise(function(d,h){o(l,function(f,g){if(f){h(f);return}d(g)})});return p.catch(Jn),p}function c(l){var p=new Promise(function(d,h){s(l,function(f,g){if(f){h(f);return}d(g)})});return p.catch(Jn),p}function u(){if(i.idle())return new Promise(function(d){d()});var l=i.drain,p=new Promise(function(d){i.drain=function(){l(),d()}});return p}}HE.exports=C2;HE.exports.promise=Ose});var yE=b((fTe,L2)=>{L2.exports=function(r,e){if(typeof r!="string")throw new TypeError("expected path to be a string");if(r==="\\"||r==="/")return"/";var t=r.length;if(t<=1)return r;var n="";if(t>4&&r[3]==="\\"){var i=r[2];(i==="?"||i===".")&&r.slice(0,2)==="\\\\"&&(r=r.slice(2),n="//")}var o=r.split(/[/\\]+/);return e!==!1&&o[o.length-1]===""&&o.pop(),n+o.join("/")}});var O2=b((R2,M2)=>{"use strict";Object.defineProperty(R2,"__esModule",{value:!0});var k2=SA(),Nse=yE(),D2="!",Fse={returnIndex:!1},Bse=r=>Array.isArray(r)?r:[r],Use=(r,e)=>{if(typeof r=="function")return r;if(typeof r=="string"){let t=k2(r,e);return n=>r===n||t(n)}return r instanceof RegExp?t=>r.test(t):t=>!1},$2=(r,e,t,n)=>{let i=Array.isArray(t),o=i?t[0]:t;if(!i&&typeof o!="string")throw new TypeError("anymatch: second argument must be a string: got "+Object.prototype.toString.call(o));let s=Nse(o,!1);for(let c=0;c<e.length;c++){let u=e[c];if(u(s))return n?-1:!1}let a=i&&[s].concat(t.slice(1));for(let c=0;c<r.length;c++){let u=r[c];if(i?u(...a):u(s))return n?c:!0}return n?-1:!1},bE=(r,e,t=Fse)=>{if(r==null)throw new TypeError("anymatch: specify first argument");let n=typeof t=="boolean"?{returnIndex:t}:t,i=n.returnIndex||!1,o=Bse(r),s=o.filter(c=>typeof c=="string"&&c.charAt(0)===D2).map(c=>c.slice(1)).map(c=>k2(c,n)),a=o.filter(c=>typeof c!="string"||typeof c=="string"&&c.charAt(0)!==D2).map(c=>Use(c,n));return e==null?(c,u=!1)=>$2(a,s,c,typeof u=="boolean"?u:!1):$2(a,s,e,i)};bE.default=bE;M2.exports=bE});var F2=b((mTe,N2)=>{N2.exports=typeof queueMicrotask=="function"?queueMicrotask:r=>Promise.resolve().then(r)});var U2=b((hTe,B2)=>{B2.exports=typeof process<"u"&&typeof process.nextTick=="function"?process.nextTick.bind(process):F2()});var W2=b((HTe,j2)=>{j2.exports=class{constructor(e){if(!(e>0)||e-1&e)throw new Error("Max size for a FixedFIFO should be a power of two");this.buffer=new Array(e),this.mask=e-1,this.top=0,this.btm=0,this.next=null}clear(){this.top=this.btm=0,this.next=null,this.buffer.fill(void 0)}push(e){return this.buffer[this.top]!==void 0?!1:(this.buffer[this.top]=e,this.top=this.top+1&this.mask,!0)}shift(){let e=this.buffer[this.btm];if(e!==void 0)return this.buffer[this.btm]=void 0,this.btm=this.btm+1&this.mask,e}peek(){return this.buffer[this.btm]}isEmpty(){return this.buffer[this.btm]===void 0}}});var G2=b((bTe,V2)=>{var q2=W2();V2.exports=class{constructor(e){this.hwm=e||16,this.head=new q2(this.hwm),this.tail=this.head,this.length=0}clear(){this.head=this.tail,this.head.clear(),this.length=0}push(e){if(this.length++,!this.head.push(e)){let t=this.head;this.head=t.next=new q2(2*this.head.buffer.length),this.head.push(e)}}shift(){this.length!==0&&this.length--;let e=this.tail.shift();if(e===void 0&&this.tail.next){let t=this.tail.next;return this.tail.next=null,this.tail=t,this.tail.shift()}return e}peek(){let e=this.tail.peek();return e===void 0&&this.tail.next?this.tail.next.peek():e}isEmpty(){return this.length===0}}});var hj=b((vTe,mj)=>{var{EventEmitter:jse}=require("events"),cv=new Error("Stream was destroyed"),vE=new Error("Premature close"),Y2=U2(),Q2=G2(),Ut=(1<<27)-1,Vc=1,EE=2,jc=4,km=8,Z2=Ut^Vc,Wse=Ut^EE,Um=16,Rm=32,ap=64,ma=128,Mm=256,PE=512,Wc=1024,xE=2048,CE=4096,TE=8192,_i=16384,np=32768,uv=65536,ej=Mm|PE,qse=Um|uv,Vse=ap|Um,Gse=CE|ma,zse=Ut^Um,Kse=Ut^ap,Xse=Ut^(ap|uv),Jse=Ut^uv,Yse=Ut^Mm,Qse=Ut^(ma|TE),Zse=Ut^Wc,z2=Ut^ej,tj=Ut^np,eae=Ut^Rm,ha=1<<17,op=2<<17,jm=4<<17,qc=8<<17,Wm=16<<17,Gc=32<<17,wE=64<<17,ip=128<<17,LE=256<<17,sp=512<<17,rj=Ut^(ha|LE),nj=Ut^jm,tae=Ut^sp,rae=Ut^Wm,nae=Ut^qc,ij=Ut^ip,iae=Ut^op,Om=Um|ha,oj=Ut^Om,DE=_i|Gc,us=jc|km|EE,wn=us|Vc,sj=us|DE,oae=nj&Kse,$E=ip|np,sae=$E&oj,aj=wn|sae,aae=wn|Wc|_i,K2=wn|_i|ma,cae=wn|Wc|ma,uae=wn|CE|ma|TE,lae=wn|Um|Wc|_i|uv,pae=us|Wc|_i,dae=Rm|wn|np|ap,fae=wn|sp|Gc,mae=qc|Wm,cj=qc|ha,hae=qc|Wm|wn|ha,X2=wn|ha|qc,gae=jm|ha,Hae=ha|LE,yae=wn|sp|cj|Gc,bae=Wm|us|sp|Gc,vae=op|wn|ip|jm,nv=Symbol.asyncIterator||Symbol("asyncIterator"),iv=class{constructor(e,{highWaterMark:t=16384,map:n=null,mapWritable:i,byteLength:o,byteLengthWritable:s}={}){this.stream=e,this.queue=new Q2,this.highWaterMark=t,this.buffered=0,this.error=null,this.pipeline=null,this.drains=null,this.byteLength=s||o||fj,this.map=i||n,this.afterWrite=Iae.bind(this),this.afterUpdateNextTick=Sae.bind(this)}get ended(){return(this.stream._duplexState&Gc)!==0}push(e){return this.map!==null&&(e=this.map(e)),this.buffered+=this.byteLength(e),this.queue.push(e),this.buffered<this.highWaterMark?(this.stream._duplexState|=qc,!0):(this.stream._duplexState|=mae,!1)}shift(){let e=this.queue.shift();return this.buffered-=this.byteLength(e),this.buffered===0&&(this.stream._duplexState&=nae),e}end(e){typeof e=="function"?this.stream.once("finish",e):e!=null&&this.push(e),this.stream._duplexState=(this.stream._duplexState|sp)&nj}autoBatch(e,t){let n=[],i=this.stream;for(n.push(e);(i._duplexState&X2)===cj;)n.push(i._writableState.shift());if(i._duplexState&wn)return t(null);i._writev(n,t)}update(){let e=this.stream;e._duplexState|=op;do{for(;(e._duplexState&X2)===qc;){let t=this.shift();e._duplexState|=Hae,e._write(t,this.afterWrite)}e._duplexState&gae||this.updateNonPrimary()}while(this.continueUpdate()===!0);e._duplexState&=iae}updateNonPrimary(){let e=this.stream;if((e._duplexState&yae)===sp){e._duplexState=(e._duplexState|ha)&tae,e._final(wae.bind(this));return}if((e._duplexState&us)===jc){e._duplexState&$E||(e._duplexState|=Om,e._destroy(uj.bind(this)));return}(e._duplexState&aj)===Vc&&(e._duplexState=(e._duplexState|Om)&Z2,e._open(lj.bind(this)))}continueUpdate(){return this.stream._duplexState&ip?(this.stream._duplexState&=ij,!0):!1}updateCallback(){(this.stream._duplexState&vae)===jm?this.update():this.updateNextTick()}updateNextTick(){this.stream._duplexState&ip||(this.stream._duplexState|=ip,this.stream._duplexState&op||Y2(this.afterUpdateNextTick))}},IE=class{constructor(e,{highWaterMark:t=16384,map:n=null,mapReadable:i,byteLength:o,byteLengthReadable:s}={}){this.stream=e,this.queue=new Q2,this.highWaterMark=t,this.buffered=0,this.error=null,this.pipeline=null,this.byteLength=s||o||fj,this.map=i||n,this.pipeTo=null,this.afterRead=_ae.bind(this),this.afterUpdateNextTick=Aae.bind(this)}get ended(){return(this.stream._duplexState&_i)!==0}pipe(e,t){if(this.pipeTo!==null)throw new Error("Can only pipe to one destination");if(typeof t!="function"&&(t=null),this.stream._duplexState|=PE,this.pipeTo=e,this.pipeline=new AE(this.stream,e,t),t&&this.stream.on("error",J2),Bm(e))e._writableState.pipeline=this.pipeline,t&&e.on("error",J2),e.on("finish",this.pipeline.finished.bind(this.pipeline));else{let n=this.pipeline.done.bind(this.pipeline,e),i=this.pipeline.done.bind(this.pipeline,e,null);e.on("error",n),e.on("close",i),e.on("finish",this.pipeline.finished.bind(this.pipeline))}e.on("drain",xae.bind(this)),this.stream.emit("piping",e),e.emit("pipe",this.stream)}push(e){let t=this.stream;return e===null?(this.highWaterMark=0,t._duplexState=(t._duplexState|Wc)&Xse,!1):(this.map!==null&&(e=this.map(e)),this.buffered+=this.byteLength(e),this.queue.push(e),t._duplexState=(t._duplexState|ma)&Jse,this.buffered<this.highWaterMark)}shift(){let e=this.queue.shift();return this.buffered-=this.byteLength(e),this.buffered===0&&(this.stream._duplexState&=Qse),e}unshift(e){let t=[this.map!==null?this.map(e):e];for(;this.buffered>0;)t.push(this.shift());for(let n=0;n<t.length-1;n++){let i=t[n];this.buffered+=this.byteLength(i),this.queue.push(i)}this.push(t[t.length-1])}read(){let e=this.stream;if((e._duplexState&K2)===ma){let t=this.shift();return this.pipeTo!==null&&this.pipeTo.write(t)===!1&&(e._duplexState&=z2),e._duplexState&xE&&e.emit("data",t),t}return null}drain(){let e=this.stream;for(;(e._duplexState&K2)===ma&&e._duplexState&ej;){let t=this.shift();this.pipeTo!==null&&this.pipeTo.write(t)===!1&&(e._duplexState&=z2),e._duplexState&xE&&e.emit("data",t)}}update(){let e=this.stream;e._duplexState|=Rm;do{for(this.drain();this.buffered<this.highWaterMark&&!(e._duplexState&lae);)e._duplexState|=qse,e._read(this.afterRead),this.drain();(e._duplexState&uae)===Gse&&(e._duplexState|=TE,e.emit("readable")),e._duplexState&Vse||this.updateNonPrimary()}while(this.continueUpdate()===!0);e._duplexState&=eae}updateNonPrimary(){let e=this.stream;if((e._duplexState&cae)===Wc&&(e._duplexState=(e._duplexState|_i)&Zse,e.emit("end"),(e._duplexState&sj)===DE&&(e._duplexState|=jc),this.pipeTo!==null&&this.pipeTo.end()),(e._duplexState&us)===jc){e._duplexState&$E||(e._duplexState|=Om,e._destroy(uj.bind(this)));return}(e._duplexState&aj)===Vc&&(e._duplexState=(e._duplexState|Om)&Z2,e._open(lj.bind(this)))}continueUpdate(){return this.stream._duplexState&np?(this.stream._duplexState&=tj,!0):!1}updateCallback(){(this.stream._duplexState&dae)===ap?this.update():this.updateNextTick()}updateNextTick(){this.stream._duplexState&np||(this.stream._duplexState|=np,this.stream._duplexState&Rm||Y2(this.afterUpdateNextTick))}},_E=class{constructor(e){this.data=null,this.afterTransform=Pae.bind(e),this.afterFinal=null}},AE=class{constructor(e,t,n){this.from=e,this.to=t,this.afterPipe=n,this.error=null,this.pipeToFinished=!1}finished(){this.pipeToFinished=!0}done(e,t){if(t&&(this.error=t),e===this.to&&(this.to=null,this.from!==null)){(!(this.from._duplexState&_i)||!this.pipeToFinished)&&this.from.destroy(this.error||new Error("Writable stream closed prematurely"));return}if(e===this.from&&(this.from=null,this.to!==null)){e._duplexState&_i||this.to.destroy(this.error||new Error("Readable stream closed before ending"));return}this.afterPipe!==null&&this.afterPipe(this.error),this.to=this.from=this.afterPipe=null}};function xae(){this.stream._duplexState|=PE,this.updateCallback()}function wae(r){let e=this.stream;r&&e.destroy(r),e._duplexState&us||(e._duplexState|=Gc,e.emit("finish")),(e._duplexState&sj)===DE&&(e._duplexState|=jc),e._duplexState&=rj,e._duplexState&op?this.updateNextTick():this.update()}function uj(r){let e=this.stream;!r&&this.error!==cv&&(r=this.error),r&&e.emit("error",r),e._duplexState|=km,e.emit("close");let t=e._readableState,n=e._writableState;if(t!==null&&t.pipeline!==null&&t.pipeline.done(e,r),n!==null){for(;n.drains!==null&&n.drains.length>0;)n.drains.shift().resolve(!1);n.pipeline!==null&&n.pipeline.done(e,r)}}function Iae(r){let e=this.stream;r&&e.destroy(r),e._duplexState&=rj,this.drains!==null&&Eae(this.drains),(e._duplexState&hae)===Wm&&(e._duplexState&=rae,(e._duplexState&wE)===wE&&e.emit("drain")),this.updateCallback()}function _ae(r){r&&this.stream.destroy(r),this.stream._duplexState&=zse,this.updateCallback()}function Aae(){this.stream._duplexState&Rm||(this.stream._duplexState&=tj,this.update())}function Sae(){this.stream._duplexState&op||(this.stream._duplexState&=ij,this.update())}function Eae(r){for(let e=0;e<r.length;e++)--r[e].writes===0&&(r.shift().resolve(!0),e--)}function lj(r){let e=this.stream;r&&e.destroy(r),e._duplexState&jc||(e._duplexState&aae||(e._duplexState|=ap),e._duplexState&fae||(e._duplexState|=jm),e.emit("open")),e._duplexState&=oj,e._writableState!==null&&e._writableState.updateCallback(),e._readableState!==null&&e._readableState.updateCallback()}function Pae(r,e){e!=null&&this.push(e),this._writableState.afterWrite(r)}function Cae(r){this._readableState!==null&&(r==="data"&&(this._duplexState|=xE|Mm,this._readableState.updateNextTick()),r==="readable"&&(this._duplexState|=CE,this._readableState.updateNextTick())),this._writableState!==null&&r==="drain"&&(this._duplexState|=wE,this._writableState.updateNextTick())}var Nm=class extends jse{constructor(e){super(),this._duplexState=0,this._readableState=null,this._writableState=null,e&&(e.open&&(this._open=e.open),e.destroy&&(this._destroy=e.destroy),e.predestroy&&(this._predestroy=e.predestroy),e.signal&&e.signal.addEventListener("abort",Rae.bind(this))),this.on("newListener",Cae)}_open(e){e(null)}_destroy(e){e(null)}_predestroy(){}get readable(){return this._readableState!==null?!0:void 0}get writable(){return this._writableState!==null?!0:void 0}get destroyed(){return(this._duplexState&km)!==0}get destroying(){return(this._duplexState&us)!==0}destroy(e){this._duplexState&us||(e||(e=cv),this._duplexState=(this._duplexState|jc)&oae,this._readableState!==null&&(this._readableState.highWaterMark=0,this._readableState.error=e),this._writableState!==null&&(this._writableState.highWaterMark=0,this._writableState.error=e),this._duplexState|=EE,this._predestroy(),this._duplexState&=Wse,this._readableState!==null&&this._readableState.updateNextTick(),this._writableState!==null&&this._writableState.updateNextTick())}},ov=class r extends Nm{constructor(e){super(e),this._duplexState|=Vc|Gc,this._readableState=new IE(this,e),e&&(e.read&&(this._read=e.read),e.eagerOpen&&this._readableState.updateNextTick())}_read(e){e(null)}pipe(e,t){return this._readableState.updateNextTick(),this._readableState.pipe(e,t),e}read(){return this._readableState.updateNextTick(),this._readableState.read()}push(e){return this._readableState.updateNextTick(),this._readableState.push(e)}unshift(e){return this._readableState.updateNextTick(),this._readableState.unshift(e)}resume(){return this._duplexState|=Mm,this._readableState.updateNextTick(),this}pause(){return this._duplexState&=Yse,this}static _fromAsyncIterator(e,t){let n,i=new r({...t,read(s){e.next().then(o).then(s.bind(null,null)).catch(s)},predestroy(){n=e.return()},destroy(s){if(!n)return s(null);n.then(s.bind(null,null)).catch(s)}});return i;function o(s){s.done?i.push(null):i.push(s.value)}}static from(e,t){if($ae(e))return e;if(e[nv])return this._fromAsyncIterator(e[nv](),t);Array.isArray(e)||(e=e===void 0?[]:[e]);let n=0;return new r({...t,read(i){this.push(n===e.length?null:e[n++]),i(null)}})}static isBackpressured(e){return(e._duplexState&pae)!==0||e._readableState.buffered>=e._readableState.highWaterMark}static isPaused(e){return(e._duplexState&Mm)===0}[nv](){let e=this,t=null,n=null,i=null;return this.on("error",u=>{t=u}),this.on("readable",o),this.on("close",s),{[nv](){return this},next(){return new Promise(function(u,l){n=u,i=l;let p=e.read();p!==null?a(p):e._duplexState&km&&a(null)})},return(){return c(null)},throw(u){return c(u)}};function o(){n!==null&&a(e.read())}function s(){n!==null&&a(null)}function a(u){i!==null&&(t?i(t):u===null&&!(e._duplexState&_i)?i(cv):n({value:u,done:u===null}),i=n=null)}function c(u){return e.destroy(u),new Promise((l,p)=>{if(e._duplexState&km)return l({value:void 0,done:!0});e.once("close",function(){u?p(u):l({value:void 0,done:!0})})})}}},sv=class extends Nm{constructor(e){super(e),this._duplexState|=Vc|_i,this._writableState=new iv(this,e),e&&(e.writev&&(this._writev=e.writev),e.write&&(this._write=e.write),e.final&&(this._final=e.final),e.eagerOpen&&this._writableState.updateNextTick())}_writev(e,t){t(null)}_write(e,t){this._writableState.autoBatch(e,t)}_final(e){e(null)}static isBackpressured(e){return(e._duplexState&bae)!==0}static drained(e){if(e.destroyed)return Promise.resolve(!1);let t=e._writableState,i=(Mae(e)?Math.min(1,t.queue.length):t.queue.length)+(e._duplexState&LE?1:0);return i===0?Promise.resolve(!0):(t.drains===null&&(t.drains=[]),new Promise(o=>{t.drains.push({writes:i,resolve:o})}))}write(e){return this._writableState.updateNextTick(),this._writableState.push(e)}end(e){return this._writableState.updateNextTick(),this._writableState.end(e),this}},Fm=class extends ov{constructor(e){super(e),this._duplexState=Vc,this._writableState=new iv(this,e),e&&(e.writev&&(this._writev=e.writev),e.write&&(this._write=e.write),e.final&&(this._final=e.final))}_writev(e,t){t(null)}_write(e,t){this._writableState.autoBatch(e,t)}_final(e){e(null)}write(e){return this._writableState.updateNextTick(),this._writableState.push(e)}end(e){return this._writableState.updateNextTick(),this._writableState.end(e),this}},av=class extends Fm{constructor(e){super(e),this._transformState=new _E(this),e&&(e.transform&&(this._transform=e.transform),e.flush&&(this._flush=e.flush))}_write(e,t){this._readableState.buffered>=this._readableState.highWaterMark?this._transformState.data=e:this._transform(e,this._transformState.afterTransform)}_read(e){if(this._transformState.data!==null){let t=this._transformState.data;this._transformState.data=null,e(null),this._transform(t,this._transformState.afterTransform)}else e(null)}destroy(e){super.destroy(e),this._transformState.data!==null&&(this._transformState.data=null,this._transformState.afterTransform())}_transform(e,t){t(null,e)}_flush(e){e(null)}_final(e){this._transformState.afterFinal=e,this._flush(Tae.bind(this))}},SE=class extends av{};function Tae(r,e){let t=this._transformState.afterFinal;if(r)return t(r);e!=null&&this.push(e),this.push(null),t(null)}function Lae(...r){return new Promise((e,t)=>pj(...r,n=>{if(n)return t(n);e()}))}function pj(r,...e){let t=Array.isArray(r)?[...r,...e]:[r,...e],n=t.length&&typeof t[t.length-1]=="function"?t.pop():null;if(t.length<2)throw new Error("Pipeline requires at least 2 streams");let i=t[0],o=null,s=null;for(let u=1;u<t.length;u++)o=t[u],Bm(i)?i.pipe(o,c):(a(i,!0,u>1,c),i.pipe(o)),i=o;if(n){let u=!1,l=Bm(o)||!!(o._writableState&&o._writableState.autoDestroy);o.on("error",p=>{s===null&&(s=p)}),o.on("finish",()=>{u=!0,l||n(s)}),l&&o.on("close",()=>n(s||(u?null:vE)))}return o;function a(u,l,p,d){u.on("error",d),u.on("close",h);function h(){if(l&&u._readableState&&!u._readableState.ended||p&&u._writableState&&!u._writableState.ended)return d(vE)}}function c(u){if(!(!u||s)){s=u;for(let l of t)l.destroy(u)}}}function dj(r){return!!r._readableState||!!r._writableState}function Bm(r){return typeof r._duplexState=="number"&&dj(r)}function Dae(r){let e=r._readableState&&r._readableState.error||r._writableState&&r._writableState.error;return e===cv?null:e}function $ae(r){return Bm(r)&&r.readable}function kae(r){return typeof r=="object"&&r!==null&&typeof r.byteLength=="number"}function fj(r){return kae(r)?r.byteLength:1024}function J2(){}function Rae(){this.destroy(new Error("Stream aborted."))}function Mae(r){return r._writev!==sv.prototype._writev&&r._writev!==Fm.prototype._writev}mj.exports={pipeline:pj,pipelinePromise:Lae,isStream:dj,isStreamx:Bm,getStreamError:Dae,Stream:Nm,Writable:sv,Readable:ov,Duplex:Fm,Transform:av,PassThrough:SE}});var Hj=b((xTe,gj)=>{gj.exports=function(e){if(typeof e!="string"||e==="")return!1;for(var t;t=/(\\).|([@?!+*]\(.*\))/g.exec(e);){if(t[2])return!0;e=e.slice(t.index+t[0].length)}return!1}});var kE=b((wTe,bj)=>{var Oae=Hj(),yj={"{":"}","(":")","[":"]"},Nae=function(r){if(r[0]==="!")return!0;for(var e=0,t=-2,n=-2,i=-2,o=-2,s=-2;e<r.length;){if(r[e]==="*"||r[e+1]==="?"&&/[\].+)]/.test(r[e])||n!==-1&&r[e]==="["&&r[e+1]!=="]"&&(n<e&&(n=r.indexOf("]",e)),n>e&&(s===-1||s>n||(s=r.indexOf("\\",e),s===-1||s>n)))||i!==-1&&r[e]==="{"&&r[e+1]!=="}"&&(i=r.indexOf("}",e),i>e&&(s=r.indexOf("\\",e),s===-1||s>i))||o!==-1&&r[e]==="("&&r[e+1]==="?"&&/[:!=]/.test(r[e+2])&&r[e+3]!==")"&&(o=r.indexOf(")",e),o>e&&(s=r.indexOf("\\",e),s===-1||s>o))||t!==-1&&r[e]==="("&&r[e+1]!=="|"&&(t<e&&(t=r.indexOf("|",e)),t!==-1&&r[t+1]!==")"&&(o=r.indexOf(")",t),o>t&&(s=r.indexOf("\\",t),s===-1||s>o))))return!0;if(r[e]==="\\"){var a=r[e+1];e+=2;var c=yj[a];if(c){var u=r.indexOf(c,e);u!==-1&&(e=u+1)}if(r[e]==="!")return!0}else e++}return!1},Fae=function(r){if(r[0]==="!")return!0;for(var e=0;e<r.length;){if(/[*?{}()[\]]/.test(r[e]))return!0;if(r[e]==="\\"){var t=r[e+1];e+=2;var n=yj[t];if(n){var i=r.indexOf(n,e);i!==-1&&(e=i+1)}if(r[e]==="!")return!0}else e++}return!1};bj.exports=function(e,t){if(typeof e!="string"||e==="")return!1;if(Oae(e))return!0;var n=Nae;return t&&t.strict===!1&&(n=Fae),n(e)}});var xj=b((ITe,vj)=>{"use strict";var Bae=kE(),Uae=require("path").posix.dirname,jae=require("os").platform()==="win32",lv="/",Wae=/\\/g,qae=/\\([!*?|[\](){}])/g;vj.exports=function(e,t){var n=Object.assign({flipBackslashes:!0},t);n.flipBackslashes&&jae&&e.indexOf(lv)<0&&(e=e.replace(Wae,lv)),Vae(e)&&(e+=lv),e+="a";do e=Uae(e);while(Gae(e));return e.replace(qae,"$1")};function Vae(r){var e=r.slice(-1),t;switch(e){case"}":t="{";break;case"]":t="[";break;default:return!1}var n=r.indexOf(t);return n<0?!1:r.slice(n+1,-1).includes(lv)}function Gae(r){return/\([^()]+$/.test(r)||r[0]==="{"||r[0]==="["||/[^\\][{[]/.test(r)?!0:Bae(r)}});var pv=b((_Te,wj)=>{"use strict";wj.exports=function(r){if(typeof r!="string")throw new TypeError("expected a string");var e={negated:!1,pattern:r,original:r};return r.charAt(0)==="!"&&r.charAt(1)!=="("&&(e.negated=!0,e.pattern=r.slice(1)),e}});var Ej=b((ATe,Sj)=>{"use strict";var dv=require("path"),zae=pv();Sj.exports=function(r,e){var t=e||{},n=_j(t.cwd?t.cwd:process.cwd());n=dv.resolve(n),n=RE(n),n=Ij(n);var i=t.root;i&&(i=_j(i),i=RE(i),(process.platform==="win32"||!dv.isAbsolute(i))&&(i=RE(dv.resolve(i))),i=Ij(i));var o=r.slice(-1),s=zae(r);return r=s.pattern,r.slice(0,2)==="./"&&(r=r.slice(2)),r.length===1&&r==="."&&(r=""),i&&r.charAt(0)==="/"?r=Aj(i,r):(!dv.isAbsolute(r)||r.slice(0,1)==="\\")&&(r=Aj(n,r)),o==="/"&&r.slice(-1)!=="/"&&(r+="/"),s.negated?"!"+r:r};function Ij(r){return r.replace(/([({[\]})*?!])/g,"\\$1")}function _j(r){return r.replace(/\\([({[\]})*?!])/g,"$1")}function RE(r){return r.replace(/\\/g,"/")}function Aj(r,e){if(r.charAt(r.length-1)==="/"&&(r=r.slice(0,-1)),e.charAt(0)==="/"&&(e=e.slice(1)),!e)return r;for(;e.slice(0,3)==="../";)r=r.slice(0,r.lastIndexOf("/")),e=e.slice(3);return r+"/"+e}});var Tj=b((STe,Cj)=>{"use strict";var Kae=require("fs"),ME=require("path"),Xae=require("events"),Jae=T2(),Yae=O2(),Qae=hj().Readable,Zae=kE(),ece=xj(),Pj=yE(),tce=pv(),rce=Ej(),nce="File not found with singular glob: ",ice=" (if this was purposeful, use `allowEmpty` option)";function oce(r){return Zae(r)}function sce(){var r={withFileTypes:!0},e=new Xae,t=Jae(i,1);t.drain=function(){e.emit("end")},t.error(n);function n(o){o&&e.emit("error",o)}e.pause=function(){t.pause()},e.resume=function(){t.resume()},e.end=function(){t.kill()},e.walk=function(o){t.push(o)};function i(o,s){Kae.readdir(o,r,a);function a(u,l){if(u)return s(u);l.forEach(c),s()}function c(u){var l=ME.join(o,u.name);e.emit("path",l,u),u.isDirectory()&&t.push(l)}}return e}function ace(r){var e=!1;r.forEach(t);function t(n,i){if(typeof n!="string")throw new Error("Invalid glob at index "+i);var o=tce(n);o.negated===!1&&(e=!0)}if(e===!1)throw new Error("Missing positive glob")}function cce(r){if(typeof r.cwd!="string")throw new Error("The `cwd` option must be a string");if(typeof r.dot!="boolean")throw new Error("The `dot` option must be a boolean");if(typeof r.cwdbase!="boolean")throw new Error("The `cwdbase` option must be a boolean");if(typeof r.uniqueBy!="string"&&typeof r.uniqueBy!="function")throw new Error("The `uniqueBy` option must be a string or function");if(typeof r.allowEmpty!="boolean")throw new Error("The `allowEmpty` option must be a boolean");if(r.base&&typeof r.base!="string")throw new Error("The `base` option must be a string if specified");if(!Array.isArray(r.ignore))throw new Error("The `ignore` option must be a string or array")}function uce(r){var e=new Set;if(typeof r=="string")return n;return i;function t(o){return e.has(o)?!1:(e.add(o),!0)}function n(o){return t(o[r])}function i(o){return t(r(o))}}function lce(r,e){Array.isArray(r)||(r=[r]),ace(r);var t=Object.assign({},{cwd:process.cwd(),dot:!1,cwdbase:!1,uniqueBy:"path",allowEmpty:!1,ignore:[]},e);t.ignore=typeof t.ignore=="string"?[t.ignore]:t.ignore,cce(t),t.cwd=Pj(ME.resolve(t.cwd),!0);var n=t.base;t.cwdbase&&(n=t.cwd);var i=sce(),o=new Qae({highWaterMark:t.highWaterMark,read:l,predestroy:p}),s=r.map(d);t.ignore=t.ignore.map(d);var a=s.map(oce),c=Yae(s,null,t),u=uce(t.uniqueBy);i.on("path",h),i.once("end",f),i.once("error",g),i.walk(t.cwd);function l(v){i.resume(),v()}function p(){i.end()}function d(v){return rce(v,t)}function h(v,S){var R=c(v,!0);if(R===-1&&S.isDirectory()&&(R=c(v+ME.sep,!0)),R!==-1){a[R]=!0;var F=n||ece(s[R]),X={cwd:t.cwd,base:F,path:Pj(v,!0)},G=u(X);if(G){var J=o.push(X);J||i.pause()}}}function f(){var v=!1;a.forEach(function(S,R){if(t.allowEmpty!==!0&&!S){v=!0;var F=new Error(nce+s[R]+ice);return o.destroy(F)}}),v===!1&&o.push(null)}function g(v){o.destroy(v)}return o}Cj.exports=lce});var Dj=b((PTe,Lj)=>{"use strict";Lj.exports=function(){return/^[\\\/]{2,}[^\\\/]+[\\\/]+[^\\\/]+/}});var kj=b((CTe,$j)=>{"use strict";var pce=Dj()();$j.exports=function(r){if(typeof r!="string")throw new TypeError("expected a string");return pce.test(r)}});var Mj=b((TTe,Rj)=>{"use strict";var dce=kj();Rj.exports=function(e){if(typeof e!="string")throw new TypeError("expected filepath to be a string");return!dce(e)&&!/^([a-z]:)?[\\\/]/i.test(e)}});var Oj=b((OE,NE)=>{(function(r){OE&&typeof OE=="object"&&typeof NE<"u"?NE.exports=r():typeof define=="function"&&define.amd?define([],r):typeof window<"u"?window.isWindows=r():typeof global<"u"?global.isWindows=r():typeof self<"u"?self.isWindows=r():this.isWindows=r()})(function(){"use strict";return function(){return process&&(process.platform==="win32"||/^(msys|cygwin)$/.test(process.env.OSTYPE))}})});var Fj=b((LTe,Nj)=>{"use strict";var fce=Mj(),mce=Oj();Nj.exports=qm;function qm(r){if(typeof r!="string")throw new TypeError("isAbsolute expects a string.");return mce()?qm.win32(r):qm.posix(r)}qm.posix=function(e){return e.charAt(0)==="/"};qm.win32=function(e){return/[a-z]/i.test(e.charAt(0))&&e.charAt(1)===":"&&e.charAt(2)==="\\"||e.slice(0,2)==="\\\\"?!0:!fce(e)}});var Gj=b((DTe,Vj)=>{"use strict";var Bj=require("path"),hce=pv(),Uj=Fj();Vj.exports=function(r,e){var t=e||{},n=Wj(t.cwd?t.cwd:process.cwd());n=Bj.resolve(n),n=FE(n),n=jj(n);var i=t.root;i&&(i=Wj(i),i=FE(i),(process.platform==="win32"||!Uj(i))&&(i=FE(Bj.resolve(i))),i=jj(i)),r.slice(0,2)==="./"&&(r=r.slice(2)),r.length===1&&r==="."&&(r="");var o=r.slice(-1),s=hce(r);return r=s.pattern,i&&r.charAt(0)==="/"?r=qj(i,r):(!Uj(r)||r.slice(0,1)==="\\")&&(r=qj(n,r)),o==="/"&&r.slice(-1)!=="/"&&(r+="/"),s.negated?"!"+r:r};function jj(r){return r.replace(/([({[\]})*?!])/g,"\\$1")}function Wj(r){return r.replace(/\\([({[\]})*?!])/g,"$1")}function FE(r){return r.replace(/\\/g,"/")}function qj(r,e){return r.charAt(r.length-1)==="/"&&(r=r.slice(0,-1)),e.charAt(0)==="/"&&(e=e.slice(1)),e?r+"/"+e:r}});var xv=b((ILe,nW)=>{"use strict";var{Transform:vce}=require("stream"),{StringDecoder:xce}=require("string_decoder"),ba=Symbol("last"),vv=Symbol("decoder");function wce(r,e,t){let n;if(this.overflow){if(n=this[vv].write(r).split(this.matcher),n.length===1)return t();n.shift(),this.overflow=!1}else this[ba]+=this[vv].write(r),n=this[ba].split(this.matcher);this[ba]=n.pop();for(let i=0;i<n.length;i++)try{rW(this,this.mapper(n[i]))}catch(o){return t(o)}if(this.overflow=this[ba].length>this.maxLength,this.overflow&&!this.skipOverflow){t(new Error("maximum buffer reached"));return}t()}function Ice(r){if(this[ba]+=this[vv].end(),this[ba])try{rW(this,this.mapper(this[ba]))}catch(e){return r(e)}r()}function rW(r,e){e!==void 0&&r.push(e)}function tW(r){return r}function _ce(r,e,t){switch(r=r||/\r?\n/,e=e||tW,t=t||{},arguments.length){case 1:typeof r=="function"?(e=r,r=/\r?\n/):typeof r=="object"&&!(r instanceof RegExp)&&!r[Symbol.split]&&(t=r,r=/\r?\n/);break;case 2:typeof r=="function"?(t=e,e=r,r=/\r?\n/):typeof e=="object"&&(t=e,e=tW)}t=Object.assign({},t),t.autoDestroy=!0,t.transform=wce,t.flush=Ice,t.readableObjectMode=!0;let n=new vce(t);return n[ba]="",n[vv]=new xce("utf8"),n.matcher=r,n.mapper=e,n.maxLength=t.maxLength,n.skipOverflow=t.skipOverflow||!1,n.overflow=!1,n._destroy=function(i,o){this._writableState.errorEmitted=!1,o(i)},n}nW.exports=_ce});var SW,AW=Y5(()=>{SW="./w32appcontainertokens-XTRA77NA.node"});var PW=b((Y$e,EW)=>{AW();try{EW.exports=require(SW)}catch{}});var TW=b(Pv=>{"use strict";Object.defineProperty(Pv,"__esModule",{value:!0});Pv.getAppContainerProcessTokens=void 0;var Tce=require("path"),CW,Lce=()=>{if(process.platform==="win32")return CW??=PW(),CW},Dce=r=>Lce()?.getAppContainerProcessTokens().map(e=>(0,Tce.join)(e,r));Pv.getAppContainerProcessTokens=Dce});var zW=b((XRe,Bce)=>{Bce.exports={name:"dotenv",version:"16.4.1",description:"Loads environment variables from .env file",main:"lib/main.js",types:"lib/main.d.ts",exports:{".":{types:"./lib/main.d.ts",require:"./lib/main.js",default:"./lib/main.js"},"./config":"./config.js","./config.js":"./config.js","./lib/env-options":"./lib/env-options.js","./lib/env-options.js":"./lib/env-options.js","./lib/cli-options":"./lib/cli-options.js","./lib/cli-options.js":"./lib/cli-options.js","./package.json":"./package.json"},scripts:{"dts-check":"tsc --project tests/types/tsconfig.json",lint:"standard","lint-readme":"standard-markdown",pretest:"npm run lint && npm run dts-check",test:"tap tests/*.js --100 -Rspec",prerelease:"npm test",release:"standard-version"},repository:{type:"git",url:"git://github.com/motdotla/dotenv.git"},funding:"https://github.com/motdotla/dotenv?sponsor=1",keywords:["dotenv","env",".env","environment","variables","config","settings"],readmeFilename:"README.md",license:"BSD-2-Clause",devDependencies:{"@definitelytyped/dtslint":"^0.0.133","@types/node":"^18.11.3",decache:"^4.6.1",sinon:"^14.0.1",standard:"^17.0.0","standard-markdown":"^7.1.0","standard-version":"^9.5.0",tap:"^16.3.0",tar:"^6.1.11",typescript:"^4.8.4"},engines:{node:">=12"},browser:{fs:!1}}});var JW=b((JRe,ms)=>{var Nv=require("fs"),ZE=require("path"),Uce=require("os"),jce=require("crypto"),Wce=zW(),eP=Wce.version,qce=/(?:^|^)\s*(?:export\s+)?([\w.-]+)(?:\s*=\s*?|:\s+?)(\s*'(?:\\'|[^'])*'|\s*"(?:\\"|[^"])*"|\s*`(?:\\`|[^`])*`|[^#\r\n]+)?\s*(?:#.*)?(?:$|$)/mg;function Vce(r){let e={},t=r.toString();t=t.replace(/\r\n?/mg,`
`);let n;for(;(n=qce.exec(t))!=null;){let i=n[1],o=n[2]||"";o=o.trim();let s=o[0];o=o.replace(/^(['"`])([\s\S]*)\1$/mg,"$2"),s==='"'&&(o=o.replace(/\\n/g,`
`),o=o.replace(/\\r/g,"\r")),e[i]=o}return e}function Gce(r){let e=XW(r),t=cr.configDotenv({path:e});if(!t.parsed){let s=new Error(`MISSING_DATA: Cannot parse ${e} for an unknown reason`);throw s.code="MISSING_DATA",s}let n=KW(r).split(","),i=n.length,o;for(let s=0;s<i;s++)try{let a=n[s].trim(),c=Xce(t,a);o=cr.decrypt(c.ciphertext,c.key);break}catch(a){if(s+1>=i)throw a}return cr.parse(o)}function zce(r){console.log(`[dotenv@${eP}][INFO] ${r}`)}function Kce(r){console.log(`[dotenv@${eP}][WARN] ${r}`)}function Fv(r){console.log(`[dotenv@${eP}][DEBUG] ${r}`)}function KW(r){return r&&r.DOTENV_KEY&&r.DOTENV_KEY.length>0?r.DOTENV_KEY:process.env.DOTENV_KEY&&process.env.DOTENV_KEY.length>0?process.env.DOTENV_KEY:""}function Xce(r,e){let t;try{t=new URL(e)}catch(a){if(a.code==="ERR_INVALID_URL"){let c=new Error("INVALID_DOTENV_KEY: Wrong format. Must be in valid uri format like dotenv://:key_1234@dotenv.org/vault/.env.vault?environment=development");throw c.code="INVALID_DOTENV_KEY",c}throw a}let n=t.password;if(!n){let a=new Error("INVALID_DOTENV_KEY: Missing key part");throw a.code="INVALID_DOTENV_KEY",a}let i=t.searchParams.get("environment");if(!i){let a=new Error("INVALID_DOTENV_KEY: Missing environment part");throw a.code="INVALID_DOTENV_KEY",a}let o=`DOTENV_VAULT_${i.toUpperCase()}`,s=r.parsed[o];if(!s){let a=new Error(`NOT_FOUND_DOTENV_ENVIRONMENT: Cannot locate environment ${o} in your .env.vault file.`);throw a.code="NOT_FOUND_DOTENV_ENVIRONMENT",a}return{ciphertext:s,key:n}}function XW(r){let e=null;if(r&&r.path&&r.path.length>0)if(Array.isArray(r.path))for(let t of r.path)Nv.existsSync(t)&&(e=t.endsWith(".vault")?t:`${t}.vault`);else e=r.path.endsWith(".vault")?r.path:`${r.path}.vault`;else e=ZE.resolve(process.cwd(),".env.vault");return Nv.existsSync(e)?e:null}function Jce(r){return r[0]==="~"?ZE.join(Uce.homedir(),r.slice(1)):r}function Yce(r){zce("Loading env from encrypted .env.vault");let e=cr._parseVault(r),t=process.env;return r&&r.processEnv!=null&&(t=r.processEnv),cr.populate(t,e,r),{parsed:e}}function Qce(r){let e=ZE.resolve(process.cwd(),".env"),t="utf8",n=!!(r&&r.debug);if(r){if(r.path!=null){let i=r.path;if(Array.isArray(i)){for(let o of r.path)if(Nv.existsSync(o)){i=o;break}}e=Jce(i)}r.encoding!=null?t=r.encoding:n&&Fv("No encoding is specified. UTF-8 is used by default")}try{let i=cr.parse(Nv.readFileSync(e,{encoding:t})),o=process.env;return r&&r.processEnv!=null&&(o=r.processEnv),cr.populate(o,i,r),{parsed:i}}catch(i){return n&&Fv(`Failed to load ${e} ${i.message}`),{error:i}}}function Zce(r){if(KW(r).length===0)return cr.configDotenv(r);let e=XW(r);return e?cr._configVault(r):(Kce(`You set DOTENV_KEY but you are missing a .env.vault file at ${e}. Did you forget to build it?`),cr.configDotenv(r))}function eue(r,e){let t=Buffer.from(e.slice(-64),"hex"),n=Buffer.from(r,"base64"),i=n.subarray(0,12),o=n.subarray(-16);n=n.subarray(12,-16);try{let s=jce.createDecipheriv("aes-256-gcm",t,i);return s.setAuthTag(o),`${s.update(n)}${s.final()}`}catch(s){let a=s instanceof RangeError,c=s.message==="Invalid key length",u=s.message==="Unsupported state or unable to authenticate data";if(a||c){let l=new Error("INVALID_DOTENV_KEY: It must be 64 characters long (or more)");throw l.code="INVALID_DOTENV_KEY",l}else if(u){let l=new Error("DECRYPTION_FAILED: Please check your DOTENV_KEY");throw l.code="DECRYPTION_FAILED",l}else throw s}}function tue(r,e,t={}){let n=!!(t&&t.debug),i=!!(t&&t.override);if(typeof e!="object"){let o=new Error("OBJECT_REQUIRED: Please check the processEnv argument being passed to populate");throw o.code="OBJECT_REQUIRED",o}for(let o of Object.keys(e))Object.prototype.hasOwnProperty.call(r,o)?(i===!0&&(r[o]=e[o]),n&&Fv(i===!0?`"${o}" is already defined and WAS overwritten`:`"${o}" is already defined and was NOT overwritten`)):r[o]=e[o]}var cr={configDotenv:Qce,_configVault:Yce,_parseVault:Gce,config:Zce,decrypt:eue,parse:Vce,populate:tue};ms.exports.configDotenv=cr.configDotenv;ms.exports._configVault=cr._configVault;ms.exports._parseVault=cr._parseVault;ms.exports.config=cr.config;ms.exports.decrypt=cr.decrypt;ms.exports.parse=cr.parse;ms.exports.populate=cr.populate;ms.exports=cr});var lP=b(Ca=>{"use strict";Object.defineProperty(Ca,"__esModule",{value:!0});Ca.TargetPopulation=Ca.Filters=Ca.VSCodeFilterProvider=void 0;var sx=require("vscode"),uP=class r{constructor(e,t,n){this.extensionName=e,this.extensionVersion=t,this.targetPopulation=n}static trimVersionSuffix(e){let t=/\-[a-zA-Z0-9]+$/;return e.split(t)[0]}getFilterValue(e){switch(e){case Po.ApplicationVersion:return r.trimVersionSuffix(sx.version);case Po.Build:return sx.env.appName;case Po.ClientId:return sx.env.machineId;case Po.ExtensionName:return this.extensionName;case Po.ExtensionVersion:return r.trimVersionSuffix(this.extensionVersion);case Po.Language:return sx.env.language;case Po.TargetPopulation:return this.targetPopulation;default:return""}}getFilters(){let e=new Map,t=Object.values(Po);for(let n of t)e.set(n,this.getFilterValue(n));return e}};Ca.VSCodeFilterProvider=uP;var Po;(function(r){r.Market="X-MSEdge-Market",r.CorpNet="X-FD-Corpnet",r.ApplicationVersion="X-VSCode-AppVersion",r.Build="X-VSCode-Build",r.ClientId="X-MSEdge-ClientId",r.ExtensionName="X-VSCode-ExtensionName",r.ExtensionVersion="X-VSCode-ExtensionVersion",r.Language="X-VSCode-Language",r.TargetPopulation="X-VSCode-TargetPopulation"})(Po||(Ca.Filters=Po={}));var kq;(function(r){r.Team="team",r.Internal="internal",r.Insiders="insider",r.Public="public"})(kq||(Ca.TargetPopulation=kq={}))});var Rq=b(ax=>{"use strict";Object.defineProperty(ax,"__esModule",{value:!0});ax.BaseFeatureProvider=void 0;var pP=class{constructor(e){this.telemetry=e,this.isFetching=!1}async getFeatures(){if(this.isFetching&&this.fetchPromise)return this.fetchPromise;this.fetchPromise=this.fetch();let e=await this.fetchPromise;return this.isFetching=!1,this.fetchPromise=void 0,e}};ax.BaseFeatureProvider=pP});var Mq=b(cx=>{"use strict";Object.defineProperty(cx,"__esModule",{value:!0});cx.FilteredFeatureProvider=void 0;var bue=Rq(),dP=class extends bue.BaseFeatureProvider{constructor(e,t){super(e),this.telemetry=e,this.filterProviders=t,this.cachedTelemetryEvents=[]}getFilters(){let e=new Map;for(let t of this.filterProviders){let n=t.getFilters();for(let i of n.keys()){let o=n.get(i);e.set(i,o)}}return e}PostEventToTelemetry(e){if(this.cachedTelemetryEvents.includes(e))return;let t=JSON.stringify(e);this.telemetry.postEvent("report-headers",new Map([["ABExp.headers",t]])),this.cachedTelemetryEvents.push(e)}};cx.FilteredFeatureProvider=dP});var Oq=b(Ta=>{"use strict";Object.defineProperty(Ta,"__esModule",{value:!0});Ta.TasApiFeatureProvider=Ta.TASAPI_FETCHERROR_EVENTNAME=void 0;var vue=Mq();Ta.TASAPI_FETCHERROR_EVENTNAME="call-tas-error";var fP="ErrorType",mP=class extends vue.FilteredFeatureProvider{constructor(e,t,n){super(t,n),this.httpClient=e,this.telemetry=t,this.filterProviders=n}async fetch(){let e=this.getFilters(),t={};for(let a of e.keys()){let c=e.get(a);t[a]=c}let n;try{n=await this.httpClient.get({headers:t})}catch(a){let c=a,u=new Map;c.response?u.set(fP,"ServerError"):c.request?u.set(fP,"NoResponse"):u.set(fP,"GenericError"),this.telemetry.postEvent(Ta.TASAPI_FETCHERROR_EVENTNAME,u)}if(!n)throw Error(Ta.TASAPI_FETCHERROR_EVENTNAME);e.keys.length>0&&this.PostEventToTelemetry(t);let i=n.data,o=i.Configs,s=[];for(let a of o)if(a.Parameters)for(let c of Object.keys(a.Parameters)){let u=c+(a.Parameters[c]?"":"cf");s.includes(u)||s.push(u)}return{features:s,assignmentContext:i.AssignmentContext,configs:o}}};Ta.TasApiFeatureProvider=mP});var Bq=b((nFe,Fq)=>{var Nq=require("stream").Stream,xue=require("util");Fq.exports=Ti;function Ti(){this.source=null,this.dataSize=0,this.maxDataSize=1024*1024,this.pauseStream=!0,this._maxDataSizeExceeded=!1,this._released=!1,this._bufferedEvents=[]}xue.inherits(Ti,Nq);Ti.create=function(r,e){var t=new this;e=e||{};for(var n in e)t[n]=e[n];t.source=r;var i=r.emit;return r.emit=function(){return t._handleEmit(arguments),i.apply(r,arguments)},r.on("error",function(){}),t.pauseStream&&r.pause(),t};Object.defineProperty(Ti.prototype,"readable",{configurable:!0,enumerable:!0,get:function(){return this.source.readable}});Ti.prototype.setEncoding=function(){return this.source.setEncoding.apply(this.source,arguments)};Ti.prototype.resume=function(){this._released||this.release(),this.source.resume()};Ti.prototype.pause=function(){this.source.pause()};Ti.prototype.release=function(){this._released=!0,this._bufferedEvents.forEach(function(r){this.emit.apply(this,r)}.bind(this)),this._bufferedEvents=[]};Ti.prototype.pipe=function(){var r=Nq.prototype.pipe.apply(this,arguments);return this.resume(),r};Ti.prototype._handleEmit=function(r){if(this._released){this.emit.apply(this,r);return}r[0]==="data"&&(this.dataSize+=r[1].length,this._checkIfMaxDataSizeExceeded()),this._bufferedEvents.push(r)};Ti.prototype._checkIfMaxDataSizeExceeded=function(){if(!this._maxDataSizeExceeded&&!(this.dataSize<=this.maxDataSize)){this._maxDataSizeExceeded=!0;var r="DelayedStream#maxDataSize of "+this.maxDataSize+" bytes exceeded.";this.emit("error",new Error(r))}}});var qq=b((iFe,Wq)=>{var wue=require("util"),jq=require("stream").Stream,Uq=Bq();Wq.exports=Pt;function Pt(){this.writable=!1,this.readable=!0,this.dataSize=0,this.maxDataSize=2*1024*1024,this.pauseStreams=!0,this._released=!1,this._streams=[],this._currentStream=null,this._insideLoop=!1,this._pendingNext=!1}wue.inherits(Pt,jq);Pt.create=function(r){var e=new this;r=r||{};for(var t in r)e[t]=r[t];return e};Pt.isStreamLike=function(r){return typeof r!="function"&&typeof r!="string"&&typeof r!="boolean"&&typeof r!="number"&&!Buffer.isBuffer(r)};Pt.prototype.append=function(r){var e=Pt.isStreamLike(r);if(e){if(!(r instanceof Uq)){var t=Uq.create(r,{maxDataSize:1/0,pauseStream:this.pauseStreams});r.on("data",this._checkDataSize.bind(this)),r=t}this._handleErrors(r),this.pauseStreams&&r.pause()}return this._streams.push(r),this};Pt.prototype.pipe=function(r,e){return jq.prototype.pipe.call(this,r,e),this.resume(),r};Pt.prototype._getNext=function(){if(this._currentStream=null,this._insideLoop){this._pendingNext=!0;return}this._insideLoop=!0;try{do this._pendingNext=!1,this._realGetNext();while(this._pendingNext)}finally{this._insideLoop=!1}};Pt.prototype._realGetNext=function(){var r=this._streams.shift();if(typeof r>"u"){this.end();return}if(typeof r!="function"){this._pipeNext(r);return}var e=r;e(function(t){var n=Pt.isStreamLike(t);n&&(t.on("data",this._checkDataSize.bind(this)),this._handleErrors(t)),this._pipeNext(t)}.bind(this))};Pt.prototype._pipeNext=function(r){this._currentStream=r;var e=Pt.isStreamLike(r);if(e){r.on("end",this._getNext.bind(this)),r.pipe(this,{end:!1});return}var t=r;this.write(t),this._getNext()};Pt.prototype._handleErrors=function(r){var e=this;r.on("error",function(t){e._emitError(t)})};Pt.prototype.write=function(r){this.emit("data",r)};Pt.prototype.pause=function(){this.pauseStreams&&(this.pauseStreams&&this._currentStream&&typeof this._currentStream.pause=="function"&&this._currentStream.pause(),this.emit("pause"))};Pt.prototype.resume=function(){this._released||(this._released=!0,this.writable=!0,this._getNext()),this.pauseStreams&&this._currentStream&&typeof this._currentStream.resume=="function"&&this._currentStream.resume(),this.emit("resume")};Pt.prototype.end=function(){this._reset(),this.emit("end")};Pt.prototype.destroy=function(){this._reset(),this.emit("close")};Pt.prototype._reset=function(){this.writable=!1,this._streams=[],this._currentStream=null};Pt.prototype._checkDataSize=function(){if(this._updateDataSize(),!(this.dataSize<=this.maxDataSize)){var r="DelayedStream#maxDataSize of "+this.maxDataSize+" bytes exceeded.";this._emitError(new Error(r))}};Pt.prototype._updateDataSize=function(){this.dataSize=0;var r=this;this._streams.forEach(function(e){e.dataSize&&(r.dataSize+=e.dataSize)}),this._currentStream&&this._currentStream.dataSize&&(this.dataSize+=this._currentStream.dataSize)};Pt.prototype._emitError=function(r){this._reset(),this.emit("error",r)}});var Vq=b((oFe,Iue)=>{Iue.exports={"application/1d-interleaved-parityfec":{source:"iana"},"application/3gpdash-qoe-report+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/3gpp-ims+xml":{source:"iana",compressible:!0},"application/3gpphal+json":{source:"iana",compressible:!0},"application/3gpphalforms+json":{source:"iana",compressible:!0},"application/a2l":{source:"iana"},"application/ace+cbor":{source:"iana"},"application/activemessage":{source:"iana"},"application/activity+json":{source:"iana",compressible:!0},"application/alto-costmap+json":{source:"iana",compressible:!0},"application/alto-costmapfilter+json":{source:"iana",compressible:!0},"application/alto-directory+json":{source:"iana",compressible:!0},"application/alto-endpointcost+json":{source:"iana",compressible:!0},"application/alto-endpointcostparams+json":{source:"iana",compressible:!0},"application/alto-endpointprop+json":{source:"iana",compressible:!0},"application/alto-endpointpropparams+json":{source:"iana",compressible:!0},"application/alto-error+json":{source:"iana",compressible:!0},"application/alto-networkmap+json":{source:"iana",compressible:!0},"application/alto-networkmapfilter+json":{source:"iana",compressible:!0},"application/alto-updatestreamcontrol+json":{source:"iana",compressible:!0},"application/alto-updatestreamparams+json":{source:"iana",compressible:!0},"application/aml":{source:"iana"},"application/andrew-inset":{source:"iana",extensions:["ez"]},"application/applefile":{source:"iana"},"application/applixware":{source:"apache",extensions:["aw"]},"application/at+jwt":{source:"iana"},"application/atf":{source:"iana"},"application/atfx":{source:"iana"},"application/atom+xml":{source:"iana",compressible:!0,extensions:["atom"]},"application/atomcat+xml":{source:"iana",compressible:!0,extensions:["atomcat"]},"application/atomdeleted+xml":{source:"iana",compressible:!0,extensions:["atomdeleted"]},"application/atomicmail":{source:"iana"},"application/atomsvc+xml":{source:"iana",compressible:!0,extensions:["atomsvc"]},"application/atsc-dwd+xml":{source:"iana",compressible:!0,extensions:["dwd"]},"application/atsc-dynamic-event-message":{source:"iana"},"application/atsc-held+xml":{source:"iana",compressible:!0,extensions:["held"]},"application/atsc-rdt+json":{source:"iana",compressible:!0},"application/atsc-rsat+xml":{source:"iana",compressible:!0,extensions:["rsat"]},"application/atxml":{source:"iana"},"application/auth-policy+xml":{source:"iana",compressible:!0},"application/bacnet-xdd+zip":{source:"iana",compressible:!1},"application/batch-smtp":{source:"iana"},"application/bdoc":{compressible:!1,extensions:["bdoc"]},"application/beep+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/calendar+json":{source:"iana",compressible:!0},"application/calendar+xml":{source:"iana",compressible:!0,extensions:["xcs"]},"application/call-completion":{source:"iana"},"application/cals-1840":{source:"iana"},"application/captive+json":{source:"iana",compressible:!0},"application/cbor":{source:"iana"},"application/cbor-seq":{source:"iana"},"application/cccex":{source:"iana"},"application/ccmp+xml":{source:"iana",compressible:!0},"application/ccxml+xml":{source:"iana",compressible:!0,extensions:["ccxml"]},"application/cdfx+xml":{source:"iana",compressible:!0,extensions:["cdfx"]},"application/cdmi-capability":{source:"iana",extensions:["cdmia"]},"application/cdmi-container":{source:"iana",extensions:["cdmic"]},"application/cdmi-domain":{source:"iana",extensions:["cdmid"]},"application/cdmi-object":{source:"iana",extensions:["cdmio"]},"application/cdmi-queue":{source:"iana",extensions:["cdmiq"]},"application/cdni":{source:"iana"},"application/cea":{source:"iana"},"application/cea-2018+xml":{source:"iana",compressible:!0},"application/cellml+xml":{source:"iana",compressible:!0},"application/cfw":{source:"iana"},"application/clr":{source:"iana"},"application/clue+xml":{source:"iana",compressible:!0},"application/clue_info+xml":{source:"iana",compressible:!0},"application/cms":{source:"iana"},"application/cnrp+xml":{source:"iana",compressible:!0},"application/coap-group+json":{source:"iana",compressible:!0},"application/coap-payload":{source:"iana"},"application/commonground":{source:"iana"},"application/conference-info+xml":{source:"iana",compressible:!0},"application/cose":{source:"iana"},"application/cose-key":{source:"iana"},"application/cose-key-set":{source:"iana"},"application/cpl+xml":{source:"iana",compressible:!0},"application/csrattrs":{source:"iana"},"application/csta+xml":{source:"iana",compressible:!0},"application/cstadata+xml":{source:"iana",compressible:!0},"application/csvm+json":{source:"iana",compressible:!0},"application/cu-seeme":{source:"apache",extensions:["cu"]},"application/cwt":{source:"iana"},"application/cybercash":{source:"iana"},"application/dart":{compressible:!0},"application/dash+xml":{source:"iana",compressible:!0,extensions:["mpd"]},"application/dashdelta":{source:"iana"},"application/davmount+xml":{source:"iana",compressible:!0,extensions:["davmount"]},"application/dca-rft":{source:"iana"},"application/dcd":{source:"iana"},"application/dec-dx":{source:"iana"},"application/dialog-info+xml":{source:"iana",compressible:!0},"application/dicom":{source:"iana"},"application/dicom+json":{source:"iana",compressible:!0},"application/dicom+xml":{source:"iana",compressible:!0},"application/dii":{source:"iana"},"application/dit":{source:"iana"},"application/dns":{source:"iana"},"application/dns+json":{source:"iana",compressible:!0},"application/dns-message":{source:"iana"},"application/docbook+xml":{source:"apache",compressible:!0,extensions:["dbk"]},"application/dots+cbor":{source:"iana"},"application/dskpp+xml":{source:"iana",compressible:!0},"application/dssc+der":{source:"iana",extensions:["dssc"]},"application/dssc+xml":{source:"iana",compressible:!0,extensions:["xdssc"]},"application/dvcs":{source:"iana"},"application/ecmascript":{source:"iana",compressible:!0,extensions:["es","ecma"]},"application/edi-consent":{source:"iana"},"application/edi-x12":{source:"iana",compressible:!1},"application/edifact":{source:"iana",compressible:!1},"application/efi":{source:"iana"},"application/elm+json":{source:"iana",charset:"UTF-8",compressible:!0},"application/elm+xml":{source:"iana",compressible:!0},"application/emergencycalldata.cap+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/emergencycalldata.comment+xml":{source:"iana",compressible:!0},"application/emergencycalldata.control+xml":{source:"iana",compressible:!0},"application/emergencycalldata.deviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.ecall.msd":{source:"iana"},"application/emergencycalldata.providerinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.serviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.subscriberinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.veds+xml":{source:"iana",compressible:!0},"application/emma+xml":{source:"iana",compressible:!0,extensions:["emma"]},"application/emotionml+xml":{source:"iana",compressible:!0,extensions:["emotionml"]},"application/encaprtp":{source:"iana"},"application/epp+xml":{source:"iana",compressible:!0},"application/epub+zip":{source:"iana",compressible:!1,extensions:["epub"]},"application/eshop":{source:"iana"},"application/exi":{source:"iana",extensions:["exi"]},"application/expect-ct-report+json":{source:"iana",compressible:!0},"application/express":{source:"iana",extensions:["exp"]},"application/fastinfoset":{source:"iana"},"application/fastsoap":{source:"iana"},"application/fdt+xml":{source:"iana",compressible:!0,extensions:["fdt"]},"application/fhir+json":{source:"iana",charset:"UTF-8",compressible:!0},"application/fhir+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/fido.trusted-apps+json":{compressible:!0},"application/fits":{source:"iana"},"application/flexfec":{source:"iana"},"application/font-sfnt":{source:"iana"},"application/font-tdpfr":{source:"iana",extensions:["pfr"]},"application/font-woff":{source:"iana",compressible:!1},"application/framework-attributes+xml":{source:"iana",compressible:!0},"application/geo+json":{source:"iana",compressible:!0,extensions:["geojson"]},"application/geo+json-seq":{source:"iana"},"application/geopackage+sqlite3":{source:"iana"},"application/geoxacml+xml":{source:"iana",compressible:!0},"application/gltf-buffer":{source:"iana"},"application/gml+xml":{source:"iana",compressible:!0,extensions:["gml"]},"application/gpx+xml":{source:"apache",compressible:!0,extensions:["gpx"]},"application/gxf":{source:"apache",extensions:["gxf"]},"application/gzip":{source:"iana",compressible:!1,extensions:["gz"]},"application/h224":{source:"iana"},"application/held+xml":{source:"iana",compressible:!0},"application/hjson":{extensions:["hjson"]},"application/http":{source:"iana"},"application/hyperstudio":{source:"iana",extensions:["stk"]},"application/ibe-key-request+xml":{source:"iana",compressible:!0},"application/ibe-pkg-reply+xml":{source:"iana",compressible:!0},"application/ibe-pp-data":{source:"iana"},"application/iges":{source:"iana"},"application/im-iscomposing+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/index":{source:"iana"},"application/index.cmd":{source:"iana"},"application/index.obj":{source:"iana"},"application/index.response":{source:"iana"},"application/index.vnd":{source:"iana"},"application/inkml+xml":{source:"iana",compressible:!0,extensions:["ink","inkml"]},"application/iotp":{source:"iana"},"application/ipfix":{source:"iana",extensions:["ipfix"]},"application/ipp":{source:"iana"},"application/isup":{source:"iana"},"application/its+xml":{source:"iana",compressible:!0,extensions:["its"]},"application/java-archive":{source:"apache",compressible:!1,extensions:["jar","war","ear"]},"application/java-serialized-object":{source:"apache",compressible:!1,extensions:["ser"]},"application/java-vm":{source:"apache",compressible:!1,extensions:["class"]},"application/javascript":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["js","mjs"]},"application/jf2feed+json":{source:"iana",compressible:!0},"application/jose":{source:"iana"},"application/jose+json":{source:"iana",compressible:!0},"application/jrd+json":{source:"iana",compressible:!0},"application/jscalendar+json":{source:"iana",compressible:!0},"application/json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["json","map"]},"application/json-patch+json":{source:"iana",compressible:!0},"application/json-seq":{source:"iana"},"application/json5":{extensions:["json5"]},"application/jsonml+json":{source:"apache",compressible:!0,extensions:["jsonml"]},"application/jwk+json":{source:"iana",compressible:!0},"application/jwk-set+json":{source:"iana",compressible:!0},"application/jwt":{source:"iana"},"application/kpml-request+xml":{source:"iana",compressible:!0},"application/kpml-response+xml":{source:"iana",compressible:!0},"application/ld+json":{source:"iana",compressible:!0,extensions:["jsonld"]},"application/lgr+xml":{source:"iana",compressible:!0,extensions:["lgr"]},"application/link-format":{source:"iana"},"application/load-control+xml":{source:"iana",compressible:!0},"application/lost+xml":{source:"iana",compressible:!0,extensions:["lostxml"]},"application/lostsync+xml":{source:"iana",compressible:!0},"application/lpf+zip":{source:"iana",compressible:!1},"application/lxf":{source:"iana"},"application/mac-binhex40":{source:"iana",extensions:["hqx"]},"application/mac-compactpro":{source:"apache",extensions:["cpt"]},"application/macwriteii":{source:"iana"},"application/mads+xml":{source:"iana",compressible:!0,extensions:["mads"]},"application/manifest+json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["webmanifest"]},"application/marc":{source:"iana",extensions:["mrc"]},"application/marcxml+xml":{source:"iana",compressible:!0,extensions:["mrcx"]},"application/mathematica":{source:"iana",extensions:["ma","nb","mb"]},"application/mathml+xml":{source:"iana",compressible:!0,extensions:["mathml"]},"application/mathml-content+xml":{source:"iana",compressible:!0},"application/mathml-presentation+xml":{source:"iana",compressible:!0},"application/mbms-associated-procedure-description+xml":{source:"iana",compressible:!0},"application/mbms-deregister+xml":{source:"iana",compressible:!0},"application/mbms-envelope+xml":{source:"iana",compressible:!0},"application/mbms-msk+xml":{source:"iana",compressible:!0},"application/mbms-msk-response+xml":{source:"iana",compressible:!0},"application/mbms-protection-description+xml":{source:"iana",compressible:!0},"application/mbms-reception-report+xml":{source:"iana",compressible:!0},"application/mbms-register+xml":{source:"iana",compressible:!0},"application/mbms-register-response+xml":{source:"iana",compressible:!0},"application/mbms-schedule+xml":{source:"iana",compressible:!0},"application/mbms-user-service-description+xml":{source:"iana",compressible:!0},"application/mbox":{source:"iana",extensions:["mbox"]},"application/media-policy-dataset+xml":{source:"iana",compressible:!0},"application/media_control+xml":{source:"iana",compressible:!0},"application/mediaservercontrol+xml":{source:"iana",compressible:!0,extensions:["mscml"]},"application/merge-patch+json":{source:"iana",compressible:!0},"application/metalink+xml":{source:"apache",compressible:!0,extensions:["metalink"]},"application/metalink4+xml":{source:"iana",compressible:!0,extensions:["meta4"]},"application/mets+xml":{source:"iana",compressible:!0,extensions:["mets"]},"application/mf4":{source:"iana"},"application/mikey":{source:"iana"},"application/mipc":{source:"iana"},"application/missing-blocks+cbor-seq":{source:"iana"},"application/mmt-aei+xml":{source:"iana",compressible:!0,extensions:["maei"]},"application/mmt-usd+xml":{source:"iana",compressible:!0,extensions:["musd"]},"application/mods+xml":{source:"iana",compressible:!0,extensions:["mods"]},"application/moss-keys":{source:"iana"},"application/moss-signature":{source:"iana"},"application/mosskey-data":{source:"iana"},"application/mosskey-request":{source:"iana"},"application/mp21":{source:"iana",extensions:["m21","mp21"]},"application/mp4":{source:"iana",extensions:["mp4s","m4p"]},"application/mpeg4-generic":{source:"iana"},"application/mpeg4-iod":{source:"iana"},"application/mpeg4-iod-xmt":{source:"iana"},"application/mrb-consumer+xml":{source:"iana",compressible:!0},"application/mrb-publish+xml":{source:"iana",compressible:!0},"application/msc-ivr+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/msc-mixer+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/msword":{source:"iana",compressible:!1,extensions:["doc","dot"]},"application/mud+json":{source:"iana",compressible:!0},"application/multipart-core":{source:"iana"},"application/mxf":{source:"iana",extensions:["mxf"]},"application/n-quads":{source:"iana",extensions:["nq"]},"application/n-triples":{source:"iana",extensions:["nt"]},"application/nasdata":{source:"iana"},"application/news-checkgroups":{source:"iana",charset:"US-ASCII"},"application/news-groupinfo":{source:"iana",charset:"US-ASCII"},"application/news-transmission":{source:"iana"},"application/nlsml+xml":{source:"iana",compressible:!0},"application/node":{source:"iana",extensions:["cjs"]},"application/nss":{source:"iana"},"application/oauth-authz-req+jwt":{source:"iana"},"application/ocsp-request":{source:"iana"},"application/ocsp-response":{source:"iana"},"application/octet-stream":{source:"iana",compressible:!1,extensions:["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"]},"application/oda":{source:"iana",extensions:["oda"]},"application/odm+xml":{source:"iana",compressible:!0},"application/odx":{source:"iana"},"application/oebps-package+xml":{source:"iana",compressible:!0,extensions:["opf"]},"application/ogg":{source:"iana",compressible:!1,extensions:["ogx"]},"application/omdoc+xml":{source:"apache",compressible:!0,extensions:["omdoc"]},"application/onenote":{source:"apache",extensions:["onetoc","onetoc2","onetmp","onepkg"]},"application/opc-nodeset+xml":{source:"iana",compressible:!0},"application/oscore":{source:"iana"},"application/oxps":{source:"iana",extensions:["oxps"]},"application/p21":{source:"iana"},"application/p21+zip":{source:"iana",compressible:!1},"application/p2p-overlay+xml":{source:"iana",compressible:!0,extensions:["relo"]},"application/parityfec":{source:"iana"},"application/passport":{source:"iana"},"application/patch-ops-error+xml":{source:"iana",compressible:!0,extensions:["xer"]},"application/pdf":{source:"iana",compressible:!1,extensions:["pdf"]},"application/pdx":{source:"iana"},"application/pem-certificate-chain":{source:"iana"},"application/pgp-encrypted":{source:"iana",compressible:!1,extensions:["pgp"]},"application/pgp-keys":{source:"iana"},"application/pgp-signature":{source:"iana",extensions:["asc","sig"]},"application/pics-rules":{source:"apache",extensions:["prf"]},"application/pidf+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/pidf-diff+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/pkcs10":{source:"iana",extensions:["p10"]},"application/pkcs12":{source:"iana"},"application/pkcs7-mime":{source:"iana",extensions:["p7m","p7c"]},"application/pkcs7-signature":{source:"iana",extensions:["p7s"]},"application/pkcs8":{source:"iana",extensions:["p8"]},"application/pkcs8-encrypted":{source:"iana"},"application/pkix-attr-cert":{source:"iana",extensions:["ac"]},"application/pkix-cert":{source:"iana",extensions:["cer"]},"application/pkix-crl":{source:"iana",extensions:["crl"]},"application/pkix-pkipath":{source:"iana",extensions:["pkipath"]},"application/pkixcmp":{source:"iana",extensions:["pki"]},"application/pls+xml":{source:"iana",compressible:!0,extensions:["pls"]},"application/poc-settings+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/postscript":{source:"iana",compressible:!0,extensions:["ai","eps","ps"]},"application/ppsp-tracker+json":{source:"iana",compressible:!0},"application/problem+json":{source:"iana",compressible:!0},"application/problem+xml":{source:"iana",compressible:!0},"application/provenance+xml":{source:"iana",compressible:!0,extensions:["provx"]},"application/prs.alvestrand.titrax-sheet":{source:"iana"},"application/prs.cww":{source:"iana",extensions:["cww"]},"application/prs.cyn":{source:"iana",charset:"7-BIT"},"application/prs.hpub+zip":{source:"iana",compressible:!1},"application/prs.nprend":{source:"iana"},"application/prs.plucker":{source:"iana"},"application/prs.rdf-xml-crypt":{source:"iana"},"application/prs.xsf+xml":{source:"iana",compressible:!0},"application/pskc+xml":{source:"iana",compressible:!0,extensions:["pskcxml"]},"application/pvd+json":{source:"iana",compressible:!0},"application/qsig":{source:"iana"},"application/raml+yaml":{compressible:!0,extensions:["raml"]},"application/raptorfec":{source:"iana"},"application/rdap+json":{source:"iana",compressible:!0},"application/rdf+xml":{source:"iana",compressible:!0,extensions:["rdf","owl"]},"application/reginfo+xml":{source:"iana",compressible:!0,extensions:["rif"]},"application/relax-ng-compact-syntax":{source:"iana",extensions:["rnc"]},"application/remote-printing":{source:"iana"},"application/reputon+json":{source:"iana",compressible:!0},"application/resource-lists+xml":{source:"iana",compressible:!0,extensions:["rl"]},"application/resource-lists-diff+xml":{source:"iana",compressible:!0,extensions:["rld"]},"application/rfc+xml":{source:"iana",compressible:!0},"application/riscos":{source:"iana"},"application/rlmi+xml":{source:"iana",compressible:!0},"application/rls-services+xml":{source:"iana",compressible:!0,extensions:["rs"]},"application/route-apd+xml":{source:"iana",compressible:!0,extensions:["rapd"]},"application/route-s-tsid+xml":{source:"iana",compressible:!0,extensions:["sls"]},"application/route-usd+xml":{source:"iana",compressible:!0,extensions:["rusd"]},"application/rpki-ghostbusters":{source:"iana",extensions:["gbr"]},"application/rpki-manifest":{source:"iana",extensions:["mft"]},"application/rpki-publication":{source:"iana"},"application/rpki-roa":{source:"iana",extensions:["roa"]},"application/rpki-updown":{source:"iana"},"application/rsd+xml":{source:"apache",compressible:!0,extensions:["rsd"]},"application/rss+xml":{source:"apache",compressible:!0,extensions:["rss"]},"application/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"application/rtploopback":{source:"iana"},"application/rtx":{source:"iana"},"application/samlassertion+xml":{source:"iana",compressible:!0},"application/samlmetadata+xml":{source:"iana",compressible:!0},"application/sarif+json":{source:"iana",compressible:!0},"application/sarif-external-properties+json":{source:"iana",compressible:!0},"application/sbe":{source:"iana"},"application/sbml+xml":{source:"iana",compressible:!0,extensions:["sbml"]},"application/scaip+xml":{source:"iana",compressible:!0},"application/scim+json":{source:"iana",compressible:!0},"application/scvp-cv-request":{source:"iana",extensions:["scq"]},"application/scvp-cv-response":{source:"iana",extensions:["scs"]},"application/scvp-vp-request":{source:"iana",extensions:["spq"]},"application/scvp-vp-response":{source:"iana",extensions:["spp"]},"application/sdp":{source:"iana",extensions:["sdp"]},"application/secevent+jwt":{source:"iana"},"application/senml+cbor":{source:"iana"},"application/senml+json":{source:"iana",compressible:!0},"application/senml+xml":{source:"iana",compressible:!0,extensions:["senmlx"]},"application/senml-etch+cbor":{source:"iana"},"application/senml-etch+json":{source:"iana",compressible:!0},"application/senml-exi":{source:"iana"},"application/sensml+cbor":{source:"iana"},"application/sensml+json":{source:"iana",compressible:!0},"application/sensml+xml":{source:"iana",compressible:!0,extensions:["sensmlx"]},"application/sensml-exi":{source:"iana"},"application/sep+xml":{source:"iana",compressible:!0},"application/sep-exi":{source:"iana"},"application/session-info":{source:"iana"},"application/set-payment":{source:"iana"},"application/set-payment-initiation":{source:"iana",extensions:["setpay"]},"application/set-registration":{source:"iana"},"application/set-registration-initiation":{source:"iana",extensions:["setreg"]},"application/sgml":{source:"iana"},"application/sgml-open-catalog":{source:"iana"},"application/shf+xml":{source:"iana",compressible:!0,extensions:["shf"]},"application/sieve":{source:"iana",extensions:["siv","sieve"]},"application/simple-filter+xml":{source:"iana",compressible:!0},"application/simple-message-summary":{source:"iana"},"application/simplesymbolcontainer":{source:"iana"},"application/sipc":{source:"iana"},"application/slate":{source:"iana"},"application/smil":{source:"iana"},"application/smil+xml":{source:"iana",compressible:!0,extensions:["smi","smil"]},"application/smpte336m":{source:"iana"},"application/soap+fastinfoset":{source:"iana"},"application/soap+xml":{source:"iana",compressible:!0},"application/sparql-query":{source:"iana",extensions:["rq"]},"application/sparql-results+xml":{source:"iana",compressible:!0,extensions:["srx"]},"application/spdx+json":{source:"iana",compressible:!0},"application/spirits-event+xml":{source:"iana",compressible:!0},"application/sql":{source:"iana"},"application/srgs":{source:"iana",extensions:["gram"]},"application/srgs+xml":{source:"iana",compressible:!0,extensions:["grxml"]},"application/sru+xml":{source:"iana",compressible:!0,extensions:["sru"]},"application/ssdl+xml":{source:"apache",compressible:!0,extensions:["ssdl"]},"application/ssml+xml":{source:"iana",compressible:!0,extensions:["ssml"]},"application/stix+json":{source:"iana",compressible:!0},"application/swid+xml":{source:"iana",compressible:!0,extensions:["swidtag"]},"application/tamp-apex-update":{source:"iana"},"application/tamp-apex-update-confirm":{source:"iana"},"application/tamp-community-update":{source:"iana"},"application/tamp-community-update-confirm":{source:"iana"},"application/tamp-error":{source:"iana"},"application/tamp-sequence-adjust":{source:"iana"},"application/tamp-sequence-adjust-confirm":{source:"iana"},"application/tamp-status-query":{source:"iana"},"application/tamp-status-response":{source:"iana"},"application/tamp-update":{source:"iana"},"application/tamp-update-confirm":{source:"iana"},"application/tar":{compressible:!0},"application/taxii+json":{source:"iana",compressible:!0},"application/td+json":{source:"iana",compressible:!0},"application/tei+xml":{source:"iana",compressible:!0,extensions:["tei","teicorpus"]},"application/tetra_isi":{source:"iana"},"application/thraud+xml":{source:"iana",compressible:!0,extensions:["tfi"]},"application/timestamp-query":{source:"iana"},"application/timestamp-reply":{source:"iana"},"application/timestamped-data":{source:"iana",extensions:["tsd"]},"application/tlsrpt+gzip":{source:"iana"},"application/tlsrpt+json":{source:"iana",compressible:!0},"application/tnauthlist":{source:"iana"},"application/token-introspection+jwt":{source:"iana"},"application/toml":{compressible:!0,extensions:["toml"]},"application/trickle-ice-sdpfrag":{source:"iana"},"application/trig":{source:"iana",extensions:["trig"]},"application/ttml+xml":{source:"iana",compressible:!0,extensions:["ttml"]},"application/tve-trigger":{source:"iana"},"application/tzif":{source:"iana"},"application/tzif-leap":{source:"iana"},"application/ubjson":{compressible:!1,extensions:["ubj"]},"application/ulpfec":{source:"iana"},"application/urc-grpsheet+xml":{source:"iana",compressible:!0},"application/urc-ressheet+xml":{source:"iana",compressible:!0,extensions:["rsheet"]},"application/urc-targetdesc+xml":{source:"iana",compressible:!0,extensions:["td"]},"application/urc-uisocketdesc+xml":{source:"iana",compressible:!0},"application/vcard+json":{source:"iana",compressible:!0},"application/vcard+xml":{source:"iana",compressible:!0},"application/vemmi":{source:"iana"},"application/vividence.scriptfile":{source:"apache"},"application/vnd.1000minds.decision-model+xml":{source:"iana",compressible:!0,extensions:["1km"]},"application/vnd.3gpp-prose+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-prose-pc3ch+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-v2x-local-service-information":{source:"iana"},"application/vnd.3gpp.5gnas":{source:"iana"},"application/vnd.3gpp.access-transfer-events+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.bsf+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.gmop+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.gtpc":{source:"iana"},"application/vnd.3gpp.interworking-data":{source:"iana"},"application/vnd.3gpp.lpp":{source:"iana"},"application/vnd.3gpp.mc-signalling-ear":{source:"iana"},"application/vnd.3gpp.mcdata-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-payload":{source:"iana"},"application/vnd.3gpp.mcdata-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-signalling":{source:"iana"},"application/vnd.3gpp.mcdata-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-floor-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-signed+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-init-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-affiliation-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-transmission-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mid-call+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.ngap":{source:"iana"},"application/vnd.3gpp.pfcp":{source:"iana"},"application/vnd.3gpp.pic-bw-large":{source:"iana",extensions:["plb"]},"application/vnd.3gpp.pic-bw-small":{source:"iana",extensions:["psb"]},"application/vnd.3gpp.pic-bw-var":{source:"iana",extensions:["pvb"]},"application/vnd.3gpp.s1ap":{source:"iana"},"application/vnd.3gpp.sms":{source:"iana"},"application/vnd.3gpp.sms+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-ext+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.state-and-event-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.ussd+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.bcmcsinfo+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.sms":{source:"iana"},"application/vnd.3gpp2.tcap":{source:"iana",extensions:["tcap"]},"application/vnd.3lightssoftware.imagescal":{source:"iana"},"application/vnd.3m.post-it-notes":{source:"iana",extensions:["pwn"]},"application/vnd.accpac.simply.aso":{source:"iana",extensions:["aso"]},"application/vnd.accpac.simply.imp":{source:"iana",extensions:["imp"]},"application/vnd.acucobol":{source:"iana",extensions:["acu"]},"application/vnd.acucorp":{source:"iana",extensions:["atc","acutc"]},"application/vnd.adobe.air-application-installer-package+zip":{source:"apache",compressible:!1,extensions:["air"]},"application/vnd.adobe.flash.movie":{source:"iana"},"application/vnd.adobe.formscentral.fcdt":{source:"iana",extensions:["fcdt"]},"application/vnd.adobe.fxp":{source:"iana",extensions:["fxp","fxpl"]},"application/vnd.adobe.partial-upload":{source:"iana"},"application/vnd.adobe.xdp+xml":{source:"iana",compressible:!0,extensions:["xdp"]},"application/vnd.adobe.xfdf":{source:"iana",extensions:["xfdf"]},"application/vnd.aether.imp":{source:"iana"},"application/vnd.afpc.afplinedata":{source:"iana"},"application/vnd.afpc.afplinedata-pagedef":{source:"iana"},"application/vnd.afpc.cmoca-cmresource":{source:"iana"},"application/vnd.afpc.foca-charset":{source:"iana"},"application/vnd.afpc.foca-codedfont":{source:"iana"},"application/vnd.afpc.foca-codepage":{source:"iana"},"application/vnd.afpc.modca":{source:"iana"},"application/vnd.afpc.modca-cmtable":{source:"iana"},"application/vnd.afpc.modca-formdef":{source:"iana"},"application/vnd.afpc.modca-mediummap":{source:"iana"},"application/vnd.afpc.modca-objectcontainer":{source:"iana"},"application/vnd.afpc.modca-overlay":{source:"iana"},"application/vnd.afpc.modca-pagesegment":{source:"iana"},"application/vnd.age":{source:"iana",extensions:["age"]},"application/vnd.ah-barcode":{source:"iana"},"application/vnd.ahead.space":{source:"iana",extensions:["ahead"]},"application/vnd.airzip.filesecure.azf":{source:"iana",extensions:["azf"]},"application/vnd.airzip.filesecure.azs":{source:"iana",extensions:["azs"]},"application/vnd.amadeus+json":{source:"iana",compressible:!0},"application/vnd.amazon.ebook":{source:"apache",extensions:["azw"]},"application/vnd.amazon.mobi8-ebook":{source:"iana"},"application/vnd.americandynamics.acc":{source:"iana",extensions:["acc"]},"application/vnd.amiga.ami":{source:"iana",extensions:["ami"]},"application/vnd.amundsen.maze+xml":{source:"iana",compressible:!0},"application/vnd.android.ota":{source:"iana"},"application/vnd.android.package-archive":{source:"apache",compressible:!1,extensions:["apk"]},"application/vnd.anki":{source:"iana"},"application/vnd.anser-web-certificate-issue-initiation":{source:"iana",extensions:["cii"]},"application/vnd.anser-web-funds-transfer-initiation":{source:"apache",extensions:["fti"]},"application/vnd.antix.game-component":{source:"iana",extensions:["atx"]},"application/vnd.apache.arrow.file":{source:"iana"},"application/vnd.apache.arrow.stream":{source:"iana"},"application/vnd.apache.thrift.binary":{source:"iana"},"application/vnd.apache.thrift.compact":{source:"iana"},"application/vnd.apache.thrift.json":{source:"iana"},"application/vnd.api+json":{source:"iana",compressible:!0},"application/vnd.aplextor.warrp+json":{source:"iana",compressible:!0},"application/vnd.apothekende.reservation+json":{source:"iana",compressible:!0},"application/vnd.apple.installer+xml":{source:"iana",compressible:!0,extensions:["mpkg"]},"application/vnd.apple.keynote":{source:"iana",extensions:["key"]},"application/vnd.apple.mpegurl":{source:"iana",extensions:["m3u8"]},"application/vnd.apple.numbers":{source:"iana",extensions:["numbers"]},"application/vnd.apple.pages":{source:"iana",extensions:["pages"]},"application/vnd.apple.pkpass":{compressible:!1,extensions:["pkpass"]},"application/vnd.arastra.swi":{source:"iana"},"application/vnd.aristanetworks.swi":{source:"iana",extensions:["swi"]},"application/vnd.artisan+json":{source:"iana",compressible:!0},"application/vnd.artsquare":{source:"iana"},"application/vnd.astraea-software.iota":{source:"iana",extensions:["iota"]},"application/vnd.audiograph":{source:"iana",extensions:["aep"]},"application/vnd.autopackage":{source:"iana"},"application/vnd.avalon+json":{source:"iana",compressible:!0},"application/vnd.avistar+xml":{source:"iana",compressible:!0},"application/vnd.balsamiq.bmml+xml":{source:"iana",compressible:!0,extensions:["bmml"]},"application/vnd.balsamiq.bmpr":{source:"iana"},"application/vnd.banana-accounting":{source:"iana"},"application/vnd.bbf.usp.error":{source:"iana"},"application/vnd.bbf.usp.msg":{source:"iana"},"application/vnd.bbf.usp.msg+json":{source:"iana",compressible:!0},"application/vnd.bekitzur-stech+json":{source:"iana",compressible:!0},"application/vnd.bint.med-content":{source:"iana"},"application/vnd.biopax.rdf+xml":{source:"iana",compressible:!0},"application/vnd.blink-idb-value-wrapper":{source:"iana"},"application/vnd.blueice.multipass":{source:"iana",extensions:["mpm"]},"application/vnd.bluetooth.ep.oob":{source:"iana"},"application/vnd.bluetooth.le.oob":{source:"iana"},"application/vnd.bmi":{source:"iana",extensions:["bmi"]},"application/vnd.bpf":{source:"iana"},"application/vnd.bpf3":{source:"iana"},"application/vnd.businessobjects":{source:"iana",extensions:["rep"]},"application/vnd.byu.uapi+json":{source:"iana",compressible:!0},"application/vnd.cab-jscript":{source:"iana"},"application/vnd.canon-cpdl":{source:"iana"},"application/vnd.canon-lips":{source:"iana"},"application/vnd.capasystems-pg+json":{source:"iana",compressible:!0},"application/vnd.cendio.thinlinc.clientconf":{source:"iana"},"application/vnd.century-systems.tcp_stream":{source:"iana"},"application/vnd.chemdraw+xml":{source:"iana",compressible:!0,extensions:["cdxml"]},"application/vnd.chess-pgn":{source:"iana"},"application/vnd.chipnuts.karaoke-mmd":{source:"iana",extensions:["mmd"]},"application/vnd.ciedi":{source:"iana"},"application/vnd.cinderella":{source:"iana",extensions:["cdy"]},"application/vnd.cirpack.isdn-ext":{source:"iana"},"application/vnd.citationstyles.style+xml":{source:"iana",compressible:!0,extensions:["csl"]},"application/vnd.claymore":{source:"iana",extensions:["cla"]},"application/vnd.cloanto.rp9":{source:"iana",extensions:["rp9"]},"application/vnd.clonk.c4group":{source:"iana",extensions:["c4g","c4d","c4f","c4p","c4u"]},"application/vnd.cluetrust.cartomobile-config":{source:"iana",extensions:["c11amc"]},"application/vnd.cluetrust.cartomobile-config-pkg":{source:"iana",extensions:["c11amz"]},"application/vnd.coffeescript":{source:"iana"},"application/vnd.collabio.xodocuments.document":{source:"iana"},"application/vnd.collabio.xodocuments.document-template":{source:"iana"},"application/vnd.collabio.xodocuments.presentation":{source:"iana"},"application/vnd.collabio.xodocuments.presentation-template":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet-template":{source:"iana"},"application/vnd.collection+json":{source:"iana",compressible:!0},"application/vnd.collection.doc+json":{source:"iana",compressible:!0},"application/vnd.collection.next+json":{source:"iana",compressible:!0},"application/vnd.comicbook+zip":{source:"iana",compressible:!1},"application/vnd.comicbook-rar":{source:"iana"},"application/vnd.commerce-battelle":{source:"iana"},"application/vnd.commonspace":{source:"iana",extensions:["csp"]},"application/vnd.contact.cmsg":{source:"iana",extensions:["cdbcmsg"]},"application/vnd.coreos.ignition+json":{source:"iana",compressible:!0},"application/vnd.cosmocaller":{source:"iana",extensions:["cmc"]},"application/vnd.crick.clicker":{source:"iana",extensions:["clkx"]},"application/vnd.crick.clicker.keyboard":{source:"iana",extensions:["clkk"]},"application/vnd.crick.clicker.palette":{source:"iana",extensions:["clkp"]},"application/vnd.crick.clicker.template":{source:"iana",extensions:["clkt"]},"application/vnd.crick.clicker.wordbank":{source:"iana",extensions:["clkw"]},"application/vnd.criticaltools.wbs+xml":{source:"iana",compressible:!0,extensions:["wbs"]},"application/vnd.cryptii.pipe+json":{source:"iana",compressible:!0},"application/vnd.crypto-shade-file":{source:"iana"},"application/vnd.cryptomator.encrypted":{source:"iana"},"application/vnd.cryptomator.vault":{source:"iana"},"application/vnd.ctc-posml":{source:"iana",extensions:["pml"]},"application/vnd.ctct.ws+xml":{source:"iana",compressible:!0},"application/vnd.cups-pdf":{source:"iana"},"application/vnd.cups-postscript":{source:"iana"},"application/vnd.cups-ppd":{source:"iana",extensions:["ppd"]},"application/vnd.cups-raster":{source:"iana"},"application/vnd.cups-raw":{source:"iana"},"application/vnd.curl":{source:"iana"},"application/vnd.curl.car":{source:"apache",extensions:["car"]},"application/vnd.curl.pcurl":{source:"apache",extensions:["pcurl"]},"application/vnd.cyan.dean.root+xml":{source:"iana",compressible:!0},"application/vnd.cybank":{source:"iana"},"application/vnd.cyclonedx+json":{source:"iana",compressible:!0},"application/vnd.cyclonedx+xml":{source:"iana",compressible:!0},"application/vnd.d2l.coursepackage1p0+zip":{source:"iana",compressible:!1},"application/vnd.d3m-dataset":{source:"iana"},"application/vnd.d3m-problem":{source:"iana"},"application/vnd.dart":{source:"iana",compressible:!0,extensions:["dart"]},"application/vnd.data-vision.rdz":{source:"iana",extensions:["rdz"]},"application/vnd.datapackage+json":{source:"iana",compressible:!0},"application/vnd.dataresource+json":{source:"iana",compressible:!0},"application/vnd.dbf":{source:"iana",extensions:["dbf"]},"application/vnd.debian.binary-package":{source:"iana"},"application/vnd.dece.data":{source:"iana",extensions:["uvf","uvvf","uvd","uvvd"]},"application/vnd.dece.ttml+xml":{source:"iana",compressible:!0,extensions:["uvt","uvvt"]},"application/vnd.dece.unspecified":{source:"iana",extensions:["uvx","uvvx"]},"application/vnd.dece.zip":{source:"iana",extensions:["uvz","uvvz"]},"application/vnd.denovo.fcselayout-link":{source:"iana",extensions:["fe_launch"]},"application/vnd.desmume.movie":{source:"iana"},"application/vnd.dir-bi.plate-dl-nosuffix":{source:"iana"},"application/vnd.dm.delegation+xml":{source:"iana",compressible:!0},"application/vnd.dna":{source:"iana",extensions:["dna"]},"application/vnd.document+json":{source:"iana",compressible:!0},"application/vnd.dolby.mlp":{source:"apache",extensions:["mlp"]},"application/vnd.dolby.mobile.1":{source:"iana"},"application/vnd.dolby.mobile.2":{source:"iana"},"application/vnd.doremir.scorecloud-binary-document":{source:"iana"},"application/vnd.dpgraph":{source:"iana",extensions:["dpg"]},"application/vnd.dreamfactory":{source:"iana",extensions:["dfac"]},"application/vnd.drive+json":{source:"iana",compressible:!0},"application/vnd.ds-keypoint":{source:"apache",extensions:["kpxx"]},"application/vnd.dtg.local":{source:"iana"},"application/vnd.dtg.local.flash":{source:"iana"},"application/vnd.dtg.local.html":{source:"iana"},"application/vnd.dvb.ait":{source:"iana",extensions:["ait"]},"application/vnd.dvb.dvbisl+xml":{source:"iana",compressible:!0},"application/vnd.dvb.dvbj":{source:"iana"},"application/vnd.dvb.esgcontainer":{source:"iana"},"application/vnd.dvb.ipdcdftnotifaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess2":{source:"iana"},"application/vnd.dvb.ipdcesgpdd":{source:"iana"},"application/vnd.dvb.ipdcroaming":{source:"iana"},"application/vnd.dvb.iptv.alfec-base":{source:"iana"},"application/vnd.dvb.iptv.alfec-enhancement":{source:"iana"},"application/vnd.dvb.notif-aggregate-root+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-container+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-generic+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-msglist+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-request+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-response+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-init+xml":{source:"iana",compressible:!0},"application/vnd.dvb.pfr":{source:"iana"},"application/vnd.dvb.service":{source:"iana",extensions:["svc"]},"application/vnd.dxr":{source:"iana"},"application/vnd.dynageo":{source:"iana",extensions:["geo"]},"application/vnd.dzr":{source:"iana"},"application/vnd.easykaraoke.cdgdownload":{source:"iana"},"application/vnd.ecdis-update":{source:"iana"},"application/vnd.ecip.rlp":{source:"iana"},"application/vnd.ecowin.chart":{source:"iana",extensions:["mag"]},"application/vnd.ecowin.filerequest":{source:"iana"},"application/vnd.ecowin.fileupdate":{source:"iana"},"application/vnd.ecowin.series":{source:"iana"},"application/vnd.ecowin.seriesrequest":{source:"iana"},"application/vnd.ecowin.seriesupdate":{source:"iana"},"application/vnd.efi.img":{source:"iana"},"application/vnd.efi.iso":{source:"iana"},"application/vnd.emclient.accessrequest+xml":{source:"iana",compressible:!0},"application/vnd.enliven":{source:"iana",extensions:["nml"]},"application/vnd.enphase.envoy":{source:"iana"},"application/vnd.eprints.data+xml":{source:"iana",compressible:!0},"application/vnd.epson.esf":{source:"iana",extensions:["esf"]},"application/vnd.epson.msf":{source:"iana",extensions:["msf"]},"application/vnd.epson.quickanime":{source:"iana",extensions:["qam"]},"application/vnd.epson.salt":{source:"iana",extensions:["slt"]},"application/vnd.epson.ssf":{source:"iana",extensions:["ssf"]},"application/vnd.ericsson.quickcall":{source:"iana"},"application/vnd.espass-espass+zip":{source:"iana",compressible:!1},"application/vnd.eszigno3+xml":{source:"iana",compressible:!0,extensions:["es3","et3"]},"application/vnd.etsi.aoc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.asic-e+zip":{source:"iana",compressible:!1},"application/vnd.etsi.asic-s+zip":{source:"iana",compressible:!1},"application/vnd.etsi.cug+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvcommand+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-bc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-cod+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-npvr+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvservice+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsync+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvueprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mcid+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mheg5":{source:"iana"},"application/vnd.etsi.overload-control-policy-dataset+xml":{source:"iana",compressible:!0},"application/vnd.etsi.pstn+xml":{source:"iana",compressible:!0},"application/vnd.etsi.sci+xml":{source:"iana",compressible:!0},"application/vnd.etsi.simservs+xml":{source:"iana",compressible:!0},"application/vnd.etsi.timestamp-token":{source:"iana"},"application/vnd.etsi.tsl+xml":{source:"iana",compressible:!0},"application/vnd.etsi.tsl.der":{source:"iana"},"application/vnd.eudora.data":{source:"iana"},"application/vnd.evolv.ecig.profile":{source:"iana"},"application/vnd.evolv.ecig.settings":{source:"iana"},"application/vnd.evolv.ecig.theme":{source:"iana"},"application/vnd.exstream-empower+zip":{source:"iana",compressible:!1},"application/vnd.exstream-package":{source:"iana"},"application/vnd.ezpix-album":{source:"iana",extensions:["ez2"]},"application/vnd.ezpix-package":{source:"iana",extensions:["ez3"]},"application/vnd.f-secure.mobile":{source:"iana"},"application/vnd.fastcopy-disk-image":{source:"iana"},"application/vnd.fdf":{source:"iana",extensions:["fdf"]},"application/vnd.fdsn.mseed":{source:"iana",extensions:["mseed"]},"application/vnd.fdsn.seed":{source:"iana",extensions:["seed","dataless"]},"application/vnd.ffsns":{source:"iana"},"application/vnd.ficlab.flb+zip":{source:"iana",compressible:!1},"application/vnd.filmit.zfc":{source:"iana"},"application/vnd.fints":{source:"iana"},"application/vnd.firemonkeys.cloudcell":{source:"iana"},"application/vnd.flographit":{source:"iana",extensions:["gph"]},"application/vnd.fluxtime.clip":{source:"iana",extensions:["ftc"]},"application/vnd.font-fontforge-sfd":{source:"iana"},"application/vnd.framemaker":{source:"iana",extensions:["fm","frame","maker","book"]},"application/vnd.frogans.fnc":{source:"iana",extensions:["fnc"]},"application/vnd.frogans.ltf":{source:"iana",extensions:["ltf"]},"application/vnd.fsc.weblaunch":{source:"iana",extensions:["fsc"]},"application/vnd.fujifilm.fb.docuworks":{source:"iana"},"application/vnd.fujifilm.fb.docuworks.binder":{source:"iana"},"application/vnd.fujifilm.fb.docuworks.container":{source:"iana"},"application/vnd.fujifilm.fb.jfi+xml":{source:"iana",compressible:!0},"application/vnd.fujitsu.oasys":{source:"iana",extensions:["oas"]},"application/vnd.fujitsu.oasys2":{source:"iana",extensions:["oa2"]},"application/vnd.fujitsu.oasys3":{source:"iana",extensions:["oa3"]},"application/vnd.fujitsu.oasysgp":{source:"iana",extensions:["fg5"]},"application/vnd.fujitsu.oasysprs":{source:"iana",extensions:["bh2"]},"application/vnd.fujixerox.art-ex":{source:"iana"},"application/vnd.fujixerox.art4":{source:"iana"},"application/vnd.fujixerox.ddd":{source:"iana",extensions:["ddd"]},"application/vnd.fujixerox.docuworks":{source:"iana",extensions:["xdw"]},"application/vnd.fujixerox.docuworks.binder":{source:"iana",extensions:["xbd"]},"application/vnd.fujixerox.docuworks.container":{source:"iana"},"application/vnd.fujixerox.hbpl":{source:"iana"},"application/vnd.fut-misnet":{source:"iana"},"application/vnd.futoin+cbor":{source:"iana"},"application/vnd.futoin+json":{source:"iana",compressible:!0},"application/vnd.fuzzysheet":{source:"iana",extensions:["fzs"]},"application/vnd.genomatix.tuxedo":{source:"iana",extensions:["txd"]},"application/vnd.gentics.grd+json":{source:"iana",compressible:!0},"application/vnd.geo+json":{source:"iana",compressible:!0},"application/vnd.geocube+xml":{source:"iana",compressible:!0},"application/vnd.geogebra.file":{source:"iana",extensions:["ggb"]},"application/vnd.geogebra.slides":{source:"iana"},"application/vnd.geogebra.tool":{source:"iana",extensions:["ggt"]},"application/vnd.geometry-explorer":{source:"iana",extensions:["gex","gre"]},"application/vnd.geonext":{source:"iana",extensions:["gxt"]},"application/vnd.geoplan":{source:"iana",extensions:["g2w"]},"application/vnd.geospace":{source:"iana",extensions:["g3w"]},"application/vnd.gerber":{source:"iana"},"application/vnd.globalplatform.card-content-mgt":{source:"iana"},"application/vnd.globalplatform.card-content-mgt-response":{source:"iana"},"application/vnd.gmx":{source:"iana",extensions:["gmx"]},"application/vnd.google-apps.document":{compressible:!1,extensions:["gdoc"]},"application/vnd.google-apps.presentation":{compressible:!1,extensions:["gslides"]},"application/vnd.google-apps.spreadsheet":{compressible:!1,extensions:["gsheet"]},"application/vnd.google-earth.kml+xml":{source:"iana",compressible:!0,extensions:["kml"]},"application/vnd.google-earth.kmz":{source:"iana",compressible:!1,extensions:["kmz"]},"application/vnd.gov.sk.e-form+xml":{source:"iana",compressible:!0},"application/vnd.gov.sk.e-form+zip":{source:"iana",compressible:!1},"application/vnd.gov.sk.xmldatacontainer+xml":{source:"iana",compressible:!0},"application/vnd.grafeq":{source:"iana",extensions:["gqf","gqs"]},"application/vnd.gridmp":{source:"iana"},"application/vnd.groove-account":{source:"iana",extensions:["gac"]},"application/vnd.groove-help":{source:"iana",extensions:["ghf"]},"application/vnd.groove-identity-message":{source:"iana",extensions:["gim"]},"application/vnd.groove-injector":{source:"iana",extensions:["grv"]},"application/vnd.groove-tool-message":{source:"iana",extensions:["gtm"]},"application/vnd.groove-tool-template":{source:"iana",extensions:["tpl"]},"application/vnd.groove-vcard":{source:"iana",extensions:["vcg"]},"application/vnd.hal+json":{source:"iana",compressible:!0},"application/vnd.hal+xml":{source:"iana",compressible:!0,extensions:["hal"]},"application/vnd.handheld-entertainment+xml":{source:"iana",compressible:!0,extensions:["zmm"]},"application/vnd.hbci":{source:"iana",extensions:["hbci"]},"application/vnd.hc+json":{source:"iana",compressible:!0},"application/vnd.hcl-bireports":{source:"iana"},"application/vnd.hdt":{source:"iana"},"application/vnd.heroku+json":{source:"iana",compressible:!0},"application/vnd.hhe.lesson-player":{source:"iana",extensions:["les"]},"application/vnd.hp-hpgl":{source:"iana",extensions:["hpgl"]},"application/vnd.hp-hpid":{source:"iana",extensions:["hpid"]},"application/vnd.hp-hps":{source:"iana",extensions:["hps"]},"application/vnd.hp-jlyt":{source:"iana",extensions:["jlt"]},"application/vnd.hp-pcl":{source:"iana",extensions:["pcl"]},"application/vnd.hp-pclxl":{source:"iana",extensions:["pclxl"]},"application/vnd.httphone":{source:"iana"},"application/vnd.hydrostatix.sof-data":{source:"iana",extensions:["sfd-hdstx"]},"application/vnd.hyper+json":{source:"iana",compressible:!0},"application/vnd.hyper-item+json":{source:"iana",compressible:!0},"application/vnd.hyperdrive+json":{source:"iana",compressible:!0},"application/vnd.hzn-3d-crossword":{source:"iana"},"application/vnd.ibm.afplinedata":{source:"iana"},"application/vnd.ibm.electronic-media":{source:"iana"},"application/vnd.ibm.minipay":{source:"iana",extensions:["mpy"]},"application/vnd.ibm.modcap":{source:"iana",extensions:["afp","listafp","list3820"]},"application/vnd.ibm.rights-management":{source:"iana",extensions:["irm"]},"application/vnd.ibm.secure-container":{source:"iana",extensions:["sc"]},"application/vnd.iccprofile":{source:"iana",extensions:["icc","icm"]},"application/vnd.ieee.1905":{source:"iana"},"application/vnd.igloader":{source:"iana",extensions:["igl"]},"application/vnd.imagemeter.folder+zip":{source:"iana",compressible:!1},"application/vnd.imagemeter.image+zip":{source:"iana",compressible:!1},"application/vnd.immervision-ivp":{source:"iana",extensions:["ivp"]},"application/vnd.immervision-ivu":{source:"iana",extensions:["ivu"]},"application/vnd.ims.imsccv1p1":{source:"iana"},"application/vnd.ims.imsccv1p2":{source:"iana"},"application/vnd.ims.imsccv1p3":{source:"iana"},"application/vnd.ims.lis.v2.result+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolconsumerprofile+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy.id+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings.simple+json":{source:"iana",compressible:!0},"application/vnd.informedcontrol.rms+xml":{source:"iana",compressible:!0},"application/vnd.informix-visionary":{source:"iana"},"application/vnd.infotech.project":{source:"iana"},"application/vnd.infotech.project+xml":{source:"iana",compressible:!0},"application/vnd.innopath.wamp.notification":{source:"iana"},"application/vnd.insors.igm":{source:"iana",extensions:["igm"]},"application/vnd.intercon.formnet":{source:"iana",extensions:["xpw","xpx"]},"application/vnd.intergeo":{source:"iana",extensions:["i2g"]},"application/vnd.intertrust.digibox":{source:"iana"},"application/vnd.intertrust.nncp":{source:"iana"},"application/vnd.intu.qbo":{source:"iana",extensions:["qbo"]},"application/vnd.intu.qfx":{source:"iana",extensions:["qfx"]},"application/vnd.iptc.g2.catalogitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.conceptitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.knowledgeitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsmessage+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.packageitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.planningitem+xml":{source:"iana",compressible:!0},"application/vnd.ipunplugged.rcprofile":{source:"iana",extensions:["rcprofile"]},"application/vnd.irepository.package+xml":{source:"iana",compressible:!0,extensions:["irp"]},"application/vnd.is-xpr":{source:"iana",extensions:["xpr"]},"application/vnd.isac.fcs":{source:"iana",extensions:["fcs"]},"application/vnd.iso11783-10+zip":{source:"iana",compressible:!1},"application/vnd.jam":{source:"iana",extensions:["jam"]},"application/vnd.japannet-directory-service":{source:"iana"},"application/vnd.japannet-jpnstore-wakeup":{source:"iana"},"application/vnd.japannet-payment-wakeup":{source:"iana"},"application/vnd.japannet-registration":{source:"iana"},"application/vnd.japannet-registration-wakeup":{source:"iana"},"application/vnd.japannet-setstore-wakeup":{source:"iana"},"application/vnd.japannet-verification":{source:"iana"},"application/vnd.japannet-verification-wakeup":{source:"iana"},"application/vnd.jcp.javame.midlet-rms":{source:"iana",extensions:["rms"]},"application/vnd.jisp":{source:"iana",extensions:["jisp"]},"application/vnd.joost.joda-archive":{source:"iana",extensions:["joda"]},"application/vnd.jsk.isdn-ngn":{source:"iana"},"application/vnd.kahootz":{source:"iana",extensions:["ktz","ktr"]},"application/vnd.kde.karbon":{source:"iana",extensions:["karbon"]},"application/vnd.kde.kchart":{source:"iana",extensions:["chrt"]},"application/vnd.kde.kformula":{source:"iana",extensions:["kfo"]},"application/vnd.kde.kivio":{source:"iana",extensions:["flw"]},"application/vnd.kde.kontour":{source:"iana",extensions:["kon"]},"application/vnd.kde.kpresenter":{source:"iana",extensions:["kpr","kpt"]},"application/vnd.kde.kspread":{source:"iana",extensions:["ksp"]},"application/vnd.kde.kword":{source:"iana",extensions:["kwd","kwt"]},"application/vnd.kenameaapp":{source:"iana",extensions:["htke"]},"application/vnd.kidspiration":{source:"iana",extensions:["kia"]},"application/vnd.kinar":{source:"iana",extensions:["kne","knp"]},"application/vnd.koan":{source:"iana",extensions:["skp","skd","skt","skm"]},"application/vnd.kodak-descriptor":{source:"iana",extensions:["sse"]},"application/vnd.las":{source:"iana"},"application/vnd.las.las+json":{source:"iana",compressible:!0},"application/vnd.las.las+xml":{source:"iana",compressible:!0,extensions:["lasxml"]},"application/vnd.laszip":{source:"iana"},"application/vnd.leap+json":{source:"iana",compressible:!0},"application/vnd.liberty-request+xml":{source:"iana",compressible:!0},"application/vnd.llamagraphics.life-balance.desktop":{source:"iana",extensions:["lbd"]},"application/vnd.llamagraphics.life-balance.exchange+xml":{source:"iana",compressible:!0,extensions:["lbe"]},"application/vnd.logipipe.circuit+zip":{source:"iana",compressible:!1},"application/vnd.loom":{source:"iana"},"application/vnd.lotus-1-2-3":{source:"iana",extensions:["123"]},"application/vnd.lotus-approach":{source:"iana",extensions:["apr"]},"application/vnd.lotus-freelance":{source:"iana",extensions:["pre"]},"application/vnd.lotus-notes":{source:"iana",extensions:["nsf"]},"application/vnd.lotus-organizer":{source:"iana",extensions:["org"]},"application/vnd.lotus-screencam":{source:"iana",extensions:["scm"]},"application/vnd.lotus-wordpro":{source:"iana",extensions:["lwp"]},"application/vnd.macports.portpkg":{source:"iana",extensions:["portpkg"]},"application/vnd.mapbox-vector-tile":{source:"iana",extensions:["mvt"]},"application/vnd.marlin.drm.actiontoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.conftoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.license+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.mdcf":{source:"iana"},"application/vnd.mason+json":{source:"iana",compressible:!0},"application/vnd.maxmind.maxmind-db":{source:"iana"},"application/vnd.mcd":{source:"iana",extensions:["mcd"]},"application/vnd.medcalcdata":{source:"iana",extensions:["mc1"]},"application/vnd.mediastation.cdkey":{source:"iana",extensions:["cdkey"]},"application/vnd.meridian-slingshot":{source:"iana"},"application/vnd.mfer":{source:"iana",extensions:["mwf"]},"application/vnd.mfmp":{source:"iana",extensions:["mfm"]},"application/vnd.micro+json":{source:"iana",compressible:!0},"application/vnd.micrografx.flo":{source:"iana",extensions:["flo"]},"application/vnd.micrografx.igx":{source:"iana",extensions:["igx"]},"application/vnd.microsoft.portable-executable":{source:"iana"},"application/vnd.microsoft.windows.thumbnail-cache":{source:"iana"},"application/vnd.miele+json":{source:"iana",compressible:!0},"application/vnd.mif":{source:"iana",extensions:["mif"]},"application/vnd.minisoft-hp3000-save":{source:"iana"},"application/vnd.mitsubishi.misty-guard.trustweb":{source:"iana"},"application/vnd.mobius.daf":{source:"iana",extensions:["daf"]},"application/vnd.mobius.dis":{source:"iana",extensions:["dis"]},"application/vnd.mobius.mbk":{source:"iana",extensions:["mbk"]},"application/vnd.mobius.mqy":{source:"iana",extensions:["mqy"]},"application/vnd.mobius.msl":{source:"iana",extensions:["msl"]},"application/vnd.mobius.plc":{source:"iana",extensions:["plc"]},"application/vnd.mobius.txf":{source:"iana",extensions:["txf"]},"application/vnd.mophun.application":{source:"iana",extensions:["mpn"]},"application/vnd.mophun.certificate":{source:"iana",extensions:["mpc"]},"application/vnd.motorola.flexsuite":{source:"iana"},"application/vnd.motorola.flexsuite.adsi":{source:"iana"},"application/vnd.motorola.flexsuite.fis":{source:"iana"},"application/vnd.motorola.flexsuite.gotap":{source:"iana"},"application/vnd.motorola.flexsuite.kmr":{source:"iana"},"application/vnd.motorola.flexsuite.ttc":{source:"iana"},"application/vnd.motorola.flexsuite.wem":{source:"iana"},"application/vnd.motorola.iprm":{source:"iana"},"application/vnd.mozilla.xul+xml":{source:"iana",compressible:!0,extensions:["xul"]},"application/vnd.ms-3mfdocument":{source:"iana"},"application/vnd.ms-artgalry":{source:"iana",extensions:["cil"]},"application/vnd.ms-asf":{source:"iana"},"application/vnd.ms-cab-compressed":{source:"iana",extensions:["cab"]},"application/vnd.ms-color.iccprofile":{source:"apache"},"application/vnd.ms-excel":{source:"iana",compressible:!1,extensions:["xls","xlm","xla","xlc","xlt","xlw"]},"application/vnd.ms-excel.addin.macroenabled.12":{source:"iana",extensions:["xlam"]},"application/vnd.ms-excel.sheet.binary.macroenabled.12":{source:"iana",extensions:["xlsb"]},"application/vnd.ms-excel.sheet.macroenabled.12":{source:"iana",extensions:["xlsm"]},"application/vnd.ms-excel.template.macroenabled.12":{source:"iana",extensions:["xltm"]},"application/vnd.ms-fontobject":{source:"iana",compressible:!0,extensions:["eot"]},"application/vnd.ms-htmlhelp":{source:"iana",extensions:["chm"]},"application/vnd.ms-ims":{source:"iana",extensions:["ims"]},"application/vnd.ms-lrm":{source:"iana",extensions:["lrm"]},"application/vnd.ms-office.activex+xml":{source:"iana",compressible:!0},"application/vnd.ms-officetheme":{source:"iana",extensions:["thmx"]},"application/vnd.ms-opentype":{source:"apache",compressible:!0},"application/vnd.ms-outlook":{compressible:!1,extensions:["msg"]},"application/vnd.ms-package.obfuscated-opentype":{source:"apache"},"application/vnd.ms-pki.seccat":{source:"apache",extensions:["cat"]},"application/vnd.ms-pki.stl":{source:"apache",extensions:["stl"]},"application/vnd.ms-playready.initiator+xml":{source:"iana",compressible:!0},"application/vnd.ms-powerpoint":{source:"iana",compressible:!1,extensions:["ppt","pps","pot"]},"application/vnd.ms-powerpoint.addin.macroenabled.12":{source:"iana",extensions:["ppam"]},"application/vnd.ms-powerpoint.presentation.macroenabled.12":{source:"iana",extensions:["pptm"]},"application/vnd.ms-powerpoint.slide.macroenabled.12":{source:"iana",extensions:["sldm"]},"application/vnd.ms-powerpoint.slideshow.macroenabled.12":{source:"iana",extensions:["ppsm"]},"application/vnd.ms-powerpoint.template.macroenabled.12":{source:"iana",extensions:["potm"]},"application/vnd.ms-printdevicecapabilities+xml":{source:"iana",compressible:!0},"application/vnd.ms-printing.printticket+xml":{source:"apache",compressible:!0},"application/vnd.ms-printschematicket+xml":{source:"iana",compressible:!0},"application/vnd.ms-project":{source:"iana",extensions:["mpp","mpt"]},"application/vnd.ms-tnef":{source:"iana"},"application/vnd.ms-windows.devicepairing":{source:"iana"},"application/vnd.ms-windows.nwprinting.oob":{source:"iana"},"application/vnd.ms-windows.printerpairing":{source:"iana"},"application/vnd.ms-windows.wsd.oob":{source:"iana"},"application/vnd.ms-wmdrm.lic-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.lic-resp":{source:"iana"},"application/vnd.ms-wmdrm.meter-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.meter-resp":{source:"iana"},"application/vnd.ms-word.document.macroenabled.12":{source:"iana",extensions:["docm"]},"application/vnd.ms-word.template.macroenabled.12":{source:"iana",extensions:["dotm"]},"application/vnd.ms-works":{source:"iana",extensions:["wps","wks","wcm","wdb"]},"application/vnd.ms-wpl":{source:"iana",extensions:["wpl"]},"application/vnd.ms-xpsdocument":{source:"iana",compressible:!1,extensions:["xps"]},"application/vnd.msa-disk-image":{source:"iana"},"application/vnd.mseq":{source:"iana",extensions:["mseq"]},"application/vnd.msign":{source:"iana"},"application/vnd.multiad.creator":{source:"iana"},"application/vnd.multiad.creator.cif":{source:"iana"},"application/vnd.music-niff":{source:"iana"},"application/vnd.musician":{source:"iana",extensions:["mus"]},"application/vnd.muvee.style":{source:"iana",extensions:["msty"]},"application/vnd.mynfc":{source:"iana",extensions:["taglet"]},"application/vnd.nacamar.ybrid+json":{source:"iana",compressible:!0},"application/vnd.ncd.control":{source:"iana"},"application/vnd.ncd.reference":{source:"iana"},"application/vnd.nearst.inv+json":{source:"iana",compressible:!0},"application/vnd.nebumind.line":{source:"iana"},"application/vnd.nervana":{source:"iana"},"application/vnd.netfpx":{source:"iana"},"application/vnd.neurolanguage.nlu":{source:"iana",extensions:["nlu"]},"application/vnd.nimn":{source:"iana"},"application/vnd.nintendo.nitro.rom":{source:"iana"},"application/vnd.nintendo.snes.rom":{source:"iana"},"application/vnd.nitf":{source:"iana",extensions:["ntf","nitf"]},"application/vnd.noblenet-directory":{source:"iana",extensions:["nnd"]},"application/vnd.noblenet-sealer":{source:"iana",extensions:["nns"]},"application/vnd.noblenet-web":{source:"iana",extensions:["nnw"]},"application/vnd.nokia.catalogs":{source:"iana"},"application/vnd.nokia.conml+wbxml":{source:"iana"},"application/vnd.nokia.conml+xml":{source:"iana",compressible:!0},"application/vnd.nokia.iptv.config+xml":{source:"iana",compressible:!0},"application/vnd.nokia.isds-radio-presets":{source:"iana"},"application/vnd.nokia.landmark+wbxml":{source:"iana"},"application/vnd.nokia.landmark+xml":{source:"iana",compressible:!0},"application/vnd.nokia.landmarkcollection+xml":{source:"iana",compressible:!0},"application/vnd.nokia.n-gage.ac+xml":{source:"iana",compressible:!0,extensions:["ac"]},"application/vnd.nokia.n-gage.data":{source:"iana",extensions:["ngdat"]},"application/vnd.nokia.n-gage.symbian.install":{source:"iana",extensions:["n-gage"]},"application/vnd.nokia.ncd":{source:"iana"},"application/vnd.nokia.pcd+wbxml":{source:"iana"},"application/vnd.nokia.pcd+xml":{source:"iana",compressible:!0},"application/vnd.nokia.radio-preset":{source:"iana",extensions:["rpst"]},"application/vnd.nokia.radio-presets":{source:"iana",extensions:["rpss"]},"application/vnd.novadigm.edm":{source:"iana",extensions:["edm"]},"application/vnd.novadigm.edx":{source:"iana",extensions:["edx"]},"application/vnd.novadigm.ext":{source:"iana",extensions:["ext"]},"application/vnd.ntt-local.content-share":{source:"iana"},"application/vnd.ntt-local.file-transfer":{source:"iana"},"application/vnd.ntt-local.ogw_remote-access":{source:"iana"},"application/vnd.ntt-local.sip-ta_remote":{source:"iana"},"application/vnd.ntt-local.sip-ta_tcp_stream":{source:"iana"},"application/vnd.oasis.opendocument.chart":{source:"iana",extensions:["odc"]},"application/vnd.oasis.opendocument.chart-template":{source:"iana",extensions:["otc"]},"application/vnd.oasis.opendocument.database":{source:"iana",extensions:["odb"]},"application/vnd.oasis.opendocument.formula":{source:"iana",extensions:["odf"]},"application/vnd.oasis.opendocument.formula-template":{source:"iana",extensions:["odft"]},"application/vnd.oasis.opendocument.graphics":{source:"iana",compressible:!1,extensions:["odg"]},"application/vnd.oasis.opendocument.graphics-template":{source:"iana",extensions:["otg"]},"application/vnd.oasis.opendocument.image":{source:"iana",extensions:["odi"]},"application/vnd.oasis.opendocument.image-template":{source:"iana",extensions:["oti"]},"application/vnd.oasis.opendocument.presentation":{source:"iana",compressible:!1,extensions:["odp"]},"application/vnd.oasis.opendocument.presentation-template":{source:"iana",extensions:["otp"]},"application/vnd.oasis.opendocument.spreadsheet":{source:"iana",compressible:!1,extensions:["ods"]},"application/vnd.oasis.opendocument.spreadsheet-template":{source:"iana",extensions:["ots"]},"application/vnd.oasis.opendocument.text":{source:"iana",compressible:!1,extensions:["odt"]},"application/vnd.oasis.opendocument.text-master":{source:"iana",extensions:["odm"]},"application/vnd.oasis.opendocument.text-template":{source:"iana",extensions:["ott"]},"application/vnd.oasis.opendocument.text-web":{source:"iana",extensions:["oth"]},"application/vnd.obn":{source:"iana"},"application/vnd.ocf+cbor":{source:"iana"},"application/vnd.oci.image.manifest.v1+json":{source:"iana",compressible:!0},"application/vnd.oftn.l10n+json":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessdownload+xml":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessstreaming+xml":{source:"iana",compressible:!0},"application/vnd.oipf.cspg-hexbinary":{source:"iana"},"application/vnd.oipf.dae.svg+xml":{source:"iana",compressible:!0},"application/vnd.oipf.dae.xhtml+xml":{source:"iana",compressible:!0},"application/vnd.oipf.mippvcontrolmessage+xml":{source:"iana",compressible:!0},"application/vnd.oipf.pae.gem":{source:"iana"},"application/vnd.oipf.spdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.oipf.spdlist+xml":{source:"iana",compressible:!0},"application/vnd.oipf.ueprofile+xml":{source:"iana",compressible:!0},"application/vnd.oipf.userprofile+xml":{source:"iana",compressible:!0},"application/vnd.olpc-sugar":{source:"iana",extensions:["xo"]},"application/vnd.oma-scws-config":{source:"iana"},"application/vnd.oma-scws-http-request":{source:"iana"},"application/vnd.oma-scws-http-response":{source:"iana"},"application/vnd.oma.bcast.associated-procedure-parameter+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.drm-trigger+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.imd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.ltkm":{source:"iana"},"application/vnd.oma.bcast.notification+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.provisioningtrigger":{source:"iana"},"application/vnd.oma.bcast.sgboot":{source:"iana"},"application/vnd.oma.bcast.sgdd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sgdu":{source:"iana"},"application/vnd.oma.bcast.simple-symbol-container":{source:"iana"},"application/vnd.oma.bcast.smartcard-trigger+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sprov+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.stkm":{source:"iana"},"application/vnd.oma.cab-address-book+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-feature-handler+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-pcc+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-subs-invite+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-user-prefs+xml":{source:"iana",compressible:!0},"application/vnd.oma.dcd":{source:"iana"},"application/vnd.oma.dcdc":{source:"iana"},"application/vnd.oma.dd2+xml":{source:"iana",compressible:!0,extensions:["dd2"]},"application/vnd.oma.drm.risd+xml":{source:"iana",compressible:!0},"application/vnd.oma.group-usage-list+xml":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+cbor":{source:"iana"},"application/vnd.oma.lwm2m+json":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+tlv":{source:"iana"},"application/vnd.oma.pal+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.detailed-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.final-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.groups+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.invocation-descriptor+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.optimized-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.push":{source:"iana"},"application/vnd.oma.scidm.messages+xml":{source:"iana",compressible:!0},"application/vnd.oma.xcap-directory+xml":{source:"iana",compressible:!0},"application/vnd.omads-email+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omads-file+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omads-folder+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omaloc-supl-init":{source:"iana"},"application/vnd.onepager":{source:"iana"},"application/vnd.onepagertamp":{source:"iana"},"application/vnd.onepagertamx":{source:"iana"},"application/vnd.onepagertat":{source:"iana"},"application/vnd.onepagertatp":{source:"iana"},"application/vnd.onepagertatx":{source:"iana"},"application/vnd.openblox.game+xml":{source:"iana",compressible:!0,extensions:["obgx"]},"application/vnd.openblox.game-binary":{source:"iana"},"application/vnd.openeye.oeb":{source:"iana"},"application/vnd.openofficeorg.extension":{source:"apache",extensions:["oxt"]},"application/vnd.openstreetmap.data+xml":{source:"iana",compressible:!0,extensions:["osm"]},"application/vnd.opentimestamps.ots":{source:"iana"},"application/vnd.openxmlformats-officedocument.custom-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.customxmlproperties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawing+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chart+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramcolors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramdata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramlayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramstyle+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.extended-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.commentauthors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.handoutmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesslide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{source:"iana",compressible:!1,extensions:["pptx"]},"application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slide":{source:"iana",extensions:["sldx"]},"application/vnd.openxmlformats-officedocument.presentationml.slide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidelayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidemaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideshow":{source:"iana",extensions:["ppsx"]},"application/vnd.openxmlformats-officedocument.presentationml.slideshow.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideupdateinfo+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tablestyles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tags+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.template":{source:"iana",extensions:["potx"]},"application/vnd.openxmlformats-officedocument.presentationml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.viewprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.calcchain+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.externallink+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcachedefinition+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcacherecords+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivottable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.querytable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionheaders+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionlog+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedstrings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{source:"iana",compressible:!1,extensions:["xlsx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetmetadata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.tablesinglecells+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.template":{source:"iana",extensions:["xltx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.usernames+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.volatiledependencies+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.theme+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.themeoverride+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.vmldrawing":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{source:"iana",compressible:!1,extensions:["docx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.glossary+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.endnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.fonttable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.template":{source:"iana",extensions:["dotx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.websettings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.core-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.digital-signature-xmlsignature+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.relationships+xml":{source:"iana",compressible:!0},"application/vnd.oracle.resource+json":{source:"iana",compressible:!0},"application/vnd.orange.indata":{source:"iana"},"application/vnd.osa.netdeploy":{source:"iana"},"application/vnd.osgeo.mapguide.package":{source:"iana",extensions:["mgp"]},"application/vnd.osgi.bundle":{source:"iana"},"application/vnd.osgi.dp":{source:"iana",extensions:["dp"]},"application/vnd.osgi.subsystem":{source:"iana",extensions:["esa"]},"application/vnd.otps.ct-kip+xml":{source:"iana",compressible:!0},"application/vnd.oxli.countgraph":{source:"iana"},"application/vnd.pagerduty+json":{source:"iana",compressible:!0},"application/vnd.palm":{source:"iana",extensions:["pdb","pqa","oprc"]},"application/vnd.panoply":{source:"iana"},"application/vnd.paos.xml":{source:"iana"},"application/vnd.patentdive":{source:"iana"},"application/vnd.patientecommsdoc":{source:"iana"},"application/vnd.pawaafile":{source:"iana",extensions:["paw"]},"application/vnd.pcos":{source:"iana"},"application/vnd.pg.format":{source:"iana",extensions:["str"]},"application/vnd.pg.osasli":{source:"iana",extensions:["ei6"]},"application/vnd.piaccess.application-licence":{source:"iana"},"application/vnd.picsel":{source:"iana",extensions:["efif"]},"application/vnd.pmi.widget":{source:"iana",extensions:["wg"]},"application/vnd.poc.group-advertisement+xml":{source:"iana",compressible:!0},"application/vnd.pocketlearn":{source:"iana",extensions:["plf"]},"application/vnd.powerbuilder6":{source:"iana",extensions:["pbd"]},"application/vnd.powerbuilder6-s":{source:"iana"},"application/vnd.powerbuilder7":{source:"iana"},"application/vnd.powerbuilder7-s":{source:"iana"},"application/vnd.powerbuilder75":{source:"iana"},"application/vnd.powerbuilder75-s":{source:"iana"},"application/vnd.preminet":{source:"iana"},"application/vnd.previewsystems.box":{source:"iana",extensions:["box"]},"application/vnd.proteus.magazine":{source:"iana",extensions:["mgz"]},"application/vnd.psfs":{source:"iana"},"application/vnd.publishare-delta-tree":{source:"iana",extensions:["qps"]},"application/vnd.pvi.ptid1":{source:"iana",extensions:["ptid"]},"application/vnd.pwg-multiplexed":{source:"iana"},"application/vnd.pwg-xhtml-print+xml":{source:"iana",compressible:!0},"application/vnd.qualcomm.brew-app-res":{source:"iana"},"application/vnd.quarantainenet":{source:"iana"},"application/vnd.quark.quarkxpress":{source:"iana",extensions:["qxd","qxt","qwd","qwt","qxl","qxb"]},"application/vnd.quobject-quoxdocument":{source:"iana"},"application/vnd.radisys.moml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conn+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-stream+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-base+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-detect+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-sendrecv+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-group+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-speech+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-transform+xml":{source:"iana",compressible:!0},"application/vnd.rainstor.data":{source:"iana"},"application/vnd.rapid":{source:"iana"},"application/vnd.rar":{source:"iana",extensions:["rar"]},"application/vnd.realvnc.bed":{source:"iana",extensions:["bed"]},"application/vnd.recordare.musicxml":{source:"iana",extensions:["mxl"]},"application/vnd.recordare.musicxml+xml":{source:"iana",compressible:!0,extensions:["musicxml"]},"application/vnd.renlearn.rlprint":{source:"iana"},"application/vnd.resilient.logic":{source:"iana"},"application/vnd.restful+json":{source:"iana",compressible:!0},"application/vnd.rig.cryptonote":{source:"iana",extensions:["cryptonote"]},"application/vnd.rim.cod":{source:"apache",extensions:["cod"]},"application/vnd.rn-realmedia":{source:"apache",extensions:["rm"]},"application/vnd.rn-realmedia-vbr":{source:"apache",extensions:["rmvb"]},"application/vnd.route66.link66+xml":{source:"iana",compressible:!0,extensions:["link66"]},"application/vnd.rs-274x":{source:"iana"},"application/vnd.ruckus.download":{source:"iana"},"application/vnd.s3sms":{source:"iana"},"application/vnd.sailingtracker.track":{source:"iana",extensions:["st"]},"application/vnd.sar":{source:"iana"},"application/vnd.sbm.cid":{source:"iana"},"application/vnd.sbm.mid2":{source:"iana"},"application/vnd.scribus":{source:"iana"},"application/vnd.sealed.3df":{source:"iana"},"application/vnd.sealed.csf":{source:"iana"},"application/vnd.sealed.doc":{source:"iana"},"application/vnd.sealed.eml":{source:"iana"},"application/vnd.sealed.mht":{source:"iana"},"application/vnd.sealed.net":{source:"iana"},"application/vnd.sealed.ppt":{source:"iana"},"application/vnd.sealed.tiff":{source:"iana"},"application/vnd.sealed.xls":{source:"iana"},"application/vnd.sealedmedia.softseal.html":{source:"iana"},"application/vnd.sealedmedia.softseal.pdf":{source:"iana"},"application/vnd.seemail":{source:"iana",extensions:["see"]},"application/vnd.seis+json":{source:"iana",compressible:!0},"application/vnd.sema":{source:"iana",extensions:["sema"]},"application/vnd.semd":{source:"iana",extensions:["semd"]},"application/vnd.semf":{source:"iana",extensions:["semf"]},"application/vnd.shade-save-file":{source:"iana"},"application/vnd.shana.informed.formdata":{source:"iana",extensions:["ifm"]},"application/vnd.shana.informed.formtemplate":{source:"iana",extensions:["itp"]},"application/vnd.shana.informed.interchange":{source:"iana",extensions:["iif"]},"application/vnd.shana.informed.package":{source:"iana",extensions:["ipk"]},"application/vnd.shootproof+json":{source:"iana",compressible:!0},"application/vnd.shopkick+json":{source:"iana",compressible:!0},"application/vnd.shp":{source:"iana"},"application/vnd.shx":{source:"iana"},"application/vnd.sigrok.session":{source:"iana"},"application/vnd.simtech-mindmapper":{source:"iana",extensions:["twd","twds"]},"application/vnd.siren+json":{source:"iana",compressible:!0},"application/vnd.smaf":{source:"iana",extensions:["mmf"]},"application/vnd.smart.notebook":{source:"iana"},"application/vnd.smart.teacher":{source:"iana",extensions:["teacher"]},"application/vnd.snesdev-page-table":{source:"iana"},"application/vnd.software602.filler.form+xml":{source:"iana",compressible:!0,extensions:["fo"]},"application/vnd.software602.filler.form-xml-zip":{source:"iana"},"application/vnd.solent.sdkm+xml":{source:"iana",compressible:!0,extensions:["sdkm","sdkd"]},"application/vnd.spotfire.dxp":{source:"iana",extensions:["dxp"]},"application/vnd.spotfire.sfs":{source:"iana",extensions:["sfs"]},"application/vnd.sqlite3":{source:"iana"},"application/vnd.sss-cod":{source:"iana"},"application/vnd.sss-dtf":{source:"iana"},"application/vnd.sss-ntf":{source:"iana"},"application/vnd.stardivision.calc":{source:"apache",extensions:["sdc"]},"application/vnd.stardivision.draw":{source:"apache",extensions:["sda"]},"application/vnd.stardivision.impress":{source:"apache",extensions:["sdd"]},"application/vnd.stardivision.math":{source:"apache",extensions:["smf"]},"application/vnd.stardivision.writer":{source:"apache",extensions:["sdw","vor"]},"application/vnd.stardivision.writer-global":{source:"apache",extensions:["sgl"]},"application/vnd.stepmania.package":{source:"iana",extensions:["smzip"]},"application/vnd.stepmania.stepchart":{source:"iana",extensions:["sm"]},"application/vnd.street-stream":{source:"iana"},"application/vnd.sun.wadl+xml":{source:"iana",compressible:!0,extensions:["wadl"]},"application/vnd.sun.xml.calc":{source:"apache",extensions:["sxc"]},"application/vnd.sun.xml.calc.template":{source:"apache",extensions:["stc"]},"application/vnd.sun.xml.draw":{source:"apache",extensions:["sxd"]},"application/vnd.sun.xml.draw.template":{source:"apache",extensions:["std"]},"application/vnd.sun.xml.impress":{source:"apache",extensions:["sxi"]},"application/vnd.sun.xml.impress.template":{source:"apache",extensions:["sti"]},"application/vnd.sun.xml.math":{source:"apache",extensions:["sxm"]},"application/vnd.sun.xml.writer":{source:"apache",extensions:["sxw"]},"application/vnd.sun.xml.writer.global":{source:"apache",extensions:["sxg"]},"application/vnd.sun.xml.writer.template":{source:"apache",extensions:["stw"]},"application/vnd.sus-calendar":{source:"iana",extensions:["sus","susp"]},"application/vnd.svd":{source:"iana",extensions:["svd"]},"application/vnd.swiftview-ics":{source:"iana"},"application/vnd.sycle+xml":{source:"iana",compressible:!0},"application/vnd.symbian.install":{source:"apache",extensions:["sis","sisx"]},"application/vnd.syncml+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["xsm"]},"application/vnd.syncml.dm+wbxml":{source:"iana",charset:"UTF-8",extensions:["bdm"]},"application/vnd.syncml.dm+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["xdm"]},"application/vnd.syncml.dm.notification":{source:"iana"},"application/vnd.syncml.dmddf+wbxml":{source:"iana"},"application/vnd.syncml.dmddf+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["ddf"]},"application/vnd.syncml.dmtnds+wbxml":{source:"iana"},"application/vnd.syncml.dmtnds+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.syncml.ds.notification":{source:"iana"},"application/vnd.tableschema+json":{source:"iana",compressible:!0},"application/vnd.tao.intent-module-archive":{source:"iana",extensions:["tao"]},"application/vnd.tcpdump.pcap":{source:"iana",extensions:["pcap","cap","dmp"]},"application/vnd.think-cell.ppttc+json":{source:"iana",compressible:!0},"application/vnd.tmd.mediaflex.api+xml":{source:"iana",compressible:!0},"application/vnd.tml":{source:"iana"},"application/vnd.tmobile-livetv":{source:"iana",extensions:["tmo"]},"application/vnd.tri.onesource":{source:"iana"},"application/vnd.trid.tpt":{source:"iana",extensions:["tpt"]},"application/vnd.triscape.mxs":{source:"iana",extensions:["mxs"]},"application/vnd.trueapp":{source:"iana",extensions:["tra"]},"application/vnd.truedoc":{source:"iana"},"application/vnd.ubisoft.webplayer":{source:"iana"},"application/vnd.ufdl":{source:"iana",extensions:["ufd","ufdl"]},"application/vnd.uiq.theme":{source:"iana",extensions:["utz"]},"application/vnd.umajin":{source:"iana",extensions:["umj"]},"application/vnd.unity":{source:"iana",extensions:["unityweb"]},"application/vnd.uoml+xml":{source:"iana",compressible:!0,extensions:["uoml"]},"application/vnd.uplanet.alert":{source:"iana"},"application/vnd.uplanet.alert-wbxml":{source:"iana"},"application/vnd.uplanet.bearer-choice":{source:"iana"},"application/vnd.uplanet.bearer-choice-wbxml":{source:"iana"},"application/vnd.uplanet.cacheop":{source:"iana"},"application/vnd.uplanet.cacheop-wbxml":{source:"iana"},"application/vnd.uplanet.channel":{source:"iana"},"application/vnd.uplanet.channel-wbxml":{source:"iana"},"application/vnd.uplanet.list":{source:"iana"},"application/vnd.uplanet.list-wbxml":{source:"iana"},"application/vnd.uplanet.listcmd":{source:"iana"},"application/vnd.uplanet.listcmd-wbxml":{source:"iana"},"application/vnd.uplanet.signal":{source:"iana"},"application/vnd.uri-map":{source:"iana"},"application/vnd.valve.source.material":{source:"iana"},"application/vnd.vcx":{source:"iana",extensions:["vcx"]},"application/vnd.vd-study":{source:"iana"},"application/vnd.vectorworks":{source:"iana"},"application/vnd.vel+json":{source:"iana",compressible:!0},"application/vnd.verimatrix.vcas":{source:"iana"},"application/vnd.veritone.aion+json":{source:"iana",compressible:!0},"application/vnd.veryant.thin":{source:"iana"},"application/vnd.ves.encrypted":{source:"iana"},"application/vnd.vidsoft.vidconference":{source:"iana"},"application/vnd.visio":{source:"iana",extensions:["vsd","vst","vss","vsw"]},"application/vnd.visionary":{source:"iana",extensions:["vis"]},"application/vnd.vividence.scriptfile":{source:"iana"},"application/vnd.vsf":{source:"iana",extensions:["vsf"]},"application/vnd.wap.sic":{source:"iana"},"application/vnd.wap.slc":{source:"iana"},"application/vnd.wap.wbxml":{source:"iana",charset:"UTF-8",extensions:["wbxml"]},"application/vnd.wap.wmlc":{source:"iana",extensions:["wmlc"]},"application/vnd.wap.wmlscriptc":{source:"iana",extensions:["wmlsc"]},"application/vnd.webturbo":{source:"iana",extensions:["wtb"]},"application/vnd.wfa.dpp":{source:"iana"},"application/vnd.wfa.p2p":{source:"iana"},"application/vnd.wfa.wsc":{source:"iana"},"application/vnd.windows.devicepairing":{source:"iana"},"application/vnd.wmc":{source:"iana"},"application/vnd.wmf.bootstrap":{source:"iana"},"application/vnd.wolfram.mathematica":{source:"iana"},"application/vnd.wolfram.mathematica.package":{source:"iana"},"application/vnd.wolfram.player":{source:"iana",extensions:["nbp"]},"application/vnd.wordperfect":{source:"iana",extensions:["wpd"]},"application/vnd.wqd":{source:"iana",extensions:["wqd"]},"application/vnd.wrq-hp3000-labelled":{source:"iana"},"application/vnd.wt.stf":{source:"iana",extensions:["stf"]},"application/vnd.wv.csp+wbxml":{source:"iana"},"application/vnd.wv.csp+xml":{source:"iana",compressible:!0},"application/vnd.wv.ssp+xml":{source:"iana",compressible:!0},"application/vnd.xacml+json":{source:"iana",compressible:!0},"application/vnd.xara":{source:"iana",extensions:["xar"]},"application/vnd.xfdl":{source:"iana",extensions:["xfdl"]},"application/vnd.xfdl.webform":{source:"iana"},"application/vnd.xmi+xml":{source:"iana",compressible:!0},"application/vnd.xmpie.cpkg":{source:"iana"},"application/vnd.xmpie.dpkg":{source:"iana"},"application/vnd.xmpie.plan":{source:"iana"},"application/vnd.xmpie.ppkg":{source:"iana"},"application/vnd.xmpie.xlim":{source:"iana"},"application/vnd.yamaha.hv-dic":{source:"iana",extensions:["hvd"]},"application/vnd.yamaha.hv-script":{source:"iana",extensions:["hvs"]},"application/vnd.yamaha.hv-voice":{source:"iana",extensions:["hvp"]},"application/vnd.yamaha.openscoreformat":{source:"iana",extensions:["osf"]},"application/vnd.yamaha.openscoreformat.osfpvg+xml":{source:"iana",compressible:!0,extensions:["osfpvg"]},"application/vnd.yamaha.remote-setup":{source:"iana"},"application/vnd.yamaha.smaf-audio":{source:"iana",extensions:["saf"]},"application/vnd.yamaha.smaf-phrase":{source:"iana",extensions:["spf"]},"application/vnd.yamaha.through-ngn":{source:"iana"},"application/vnd.yamaha.tunnel-udpencap":{source:"iana"},"application/vnd.yaoweme":{source:"iana"},"application/vnd.yellowriver-custom-menu":{source:"iana",extensions:["cmp"]},"application/vnd.youtube.yt":{source:"iana"},"application/vnd.zul":{source:"iana",extensions:["zir","zirz"]},"application/vnd.zzazz.deck+xml":{source:"iana",compressible:!0,extensions:["zaz"]},"application/voicexml+xml":{source:"iana",compressible:!0,extensions:["vxml"]},"application/voucher-cms+json":{source:"iana",compressible:!0},"application/vq-rtcpxr":{source:"iana"},"application/wasm":{source:"iana",compressible:!0,extensions:["wasm"]},"application/watcherinfo+xml":{source:"iana",compressible:!0},"application/webpush-options+json":{source:"iana",compressible:!0},"application/whoispp-query":{source:"iana"},"application/whoispp-response":{source:"iana"},"application/widget":{source:"iana",extensions:["wgt"]},"application/winhlp":{source:"apache",extensions:["hlp"]},"application/wita":{source:"iana"},"application/wordperfect5.1":{source:"iana"},"application/wsdl+xml":{source:"iana",compressible:!0,extensions:["wsdl"]},"application/wspolicy+xml":{source:"iana",compressible:!0,extensions:["wspolicy"]},"application/x-7z-compressed":{source:"apache",compressible:!1,extensions:["7z"]},"application/x-abiword":{source:"apache",extensions:["abw"]},"application/x-ace-compressed":{source:"apache",extensions:["ace"]},"application/x-amf":{source:"apache"},"application/x-apple-diskimage":{source:"apache",extensions:["dmg"]},"application/x-arj":{compressible:!1,extensions:["arj"]},"application/x-authorware-bin":{source:"apache",extensions:["aab","x32","u32","vox"]},"application/x-authorware-map":{source:"apache",extensions:["aam"]},"application/x-authorware-seg":{source:"apache",extensions:["aas"]},"application/x-bcpio":{source:"apache",extensions:["bcpio"]},"application/x-bdoc":{compressible:!1,extensions:["bdoc"]},"application/x-bittorrent":{source:"apache",extensions:["torrent"]},"application/x-blorb":{source:"apache",extensions:["blb","blorb"]},"application/x-bzip":{source:"apache",compressible:!1,extensions:["bz"]},"application/x-bzip2":{source:"apache",compressible:!1,extensions:["bz2","boz"]},"application/x-cbr":{source:"apache",extensions:["cbr","cba","cbt","cbz","cb7"]},"application/x-cdlink":{source:"apache",extensions:["vcd"]},"application/x-cfs-compressed":{source:"apache",extensions:["cfs"]},"application/x-chat":{source:"apache",extensions:["chat"]},"application/x-chess-pgn":{source:"apache",extensions:["pgn"]},"application/x-chrome-extension":{extensions:["crx"]},"application/x-cocoa":{source:"nginx",extensions:["cco"]},"application/x-compress":{source:"apache"},"application/x-conference":{source:"apache",extensions:["nsc"]},"application/x-cpio":{source:"apache",extensions:["cpio"]},"application/x-csh":{source:"apache",extensions:["csh"]},"application/x-deb":{compressible:!1},"application/x-debian-package":{source:"apache",extensions:["deb","udeb"]},"application/x-dgc-compressed":{source:"apache",extensions:["dgc"]},"application/x-director":{source:"apache",extensions:["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"]},"application/x-doom":{source:"apache",extensions:["wad"]},"application/x-dtbncx+xml":{source:"apache",compressible:!0,extensions:["ncx"]},"application/x-dtbook+xml":{source:"apache",compressible:!0,extensions:["dtb"]},"application/x-dtbresource+xml":{source:"apache",compressible:!0,extensions:["res"]},"application/x-dvi":{source:"apache",compressible:!1,extensions:["dvi"]},"application/x-envoy":{source:"apache",extensions:["evy"]},"application/x-eva":{source:"apache",extensions:["eva"]},"application/x-font-bdf":{source:"apache",extensions:["bdf"]},"application/x-font-dos":{source:"apache"},"application/x-font-framemaker":{source:"apache"},"application/x-font-ghostscript":{source:"apache",extensions:["gsf"]},"application/x-font-libgrx":{source:"apache"},"application/x-font-linux-psf":{source:"apache",extensions:["psf"]},"application/x-font-pcf":{source:"apache",extensions:["pcf"]},"application/x-font-snf":{source:"apache",extensions:["snf"]},"application/x-font-speedo":{source:"apache"},"application/x-font-sunos-news":{source:"apache"},"application/x-font-type1":{source:"apache",extensions:["pfa","pfb","pfm","afm"]},"application/x-font-vfont":{source:"apache"},"application/x-freearc":{source:"apache",extensions:["arc"]},"application/x-futuresplash":{source:"apache",extensions:["spl"]},"application/x-gca-compressed":{source:"apache",extensions:["gca"]},"application/x-glulx":{source:"apache",extensions:["ulx"]},"application/x-gnumeric":{source:"apache",extensions:["gnumeric"]},"application/x-gramps-xml":{source:"apache",extensions:["gramps"]},"application/x-gtar":{source:"apache",extensions:["gtar"]},"application/x-gzip":{source:"apache"},"application/x-hdf":{source:"apache",extensions:["hdf"]},"application/x-httpd-php":{compressible:!0,extensions:["php"]},"application/x-install-instructions":{source:"apache",extensions:["install"]},"application/x-iso9660-image":{source:"apache",extensions:["iso"]},"application/x-iwork-keynote-sffkey":{extensions:["key"]},"application/x-iwork-numbers-sffnumbers":{extensions:["numbers"]},"application/x-iwork-pages-sffpages":{extensions:["pages"]},"application/x-java-archive-diff":{source:"nginx",extensions:["jardiff"]},"application/x-java-jnlp-file":{source:"apache",compressible:!1,extensions:["jnlp"]},"application/x-javascript":{compressible:!0},"application/x-keepass2":{extensions:["kdbx"]},"application/x-latex":{source:"apache",compressible:!1,extensions:["latex"]},"application/x-lua-bytecode":{extensions:["luac"]},"application/x-lzh-compressed":{source:"apache",extensions:["lzh","lha"]},"application/x-makeself":{source:"nginx",extensions:["run"]},"application/x-mie":{source:"apache",extensions:["mie"]},"application/x-mobipocket-ebook":{source:"apache",extensions:["prc","mobi"]},"application/x-mpegurl":{compressible:!1},"application/x-ms-application":{source:"apache",extensions:["application"]},"application/x-ms-shortcut":{source:"apache",extensions:["lnk"]},"application/x-ms-wmd":{source:"apache",extensions:["wmd"]},"application/x-ms-wmz":{source:"apache",extensions:["wmz"]},"application/x-ms-xbap":{source:"apache",extensions:["xbap"]},"application/x-msaccess":{source:"apache",extensions:["mdb"]},"application/x-msbinder":{source:"apache",extensions:["obd"]},"application/x-mscardfile":{source:"apache",extensions:["crd"]},"application/x-msclip":{source:"apache",extensions:["clp"]},"application/x-msdos-program":{extensions:["exe"]},"application/x-msdownload":{source:"apache",extensions:["exe","dll","com","bat","msi"]},"application/x-msmediaview":{source:"apache",extensions:["mvb","m13","m14"]},"application/x-msmetafile":{source:"apache",extensions:["wmf","wmz","emf","emz"]},"application/x-msmoney":{source:"apache",extensions:["mny"]},"application/x-mspublisher":{source:"apache",extensions:["pub"]},"application/x-msschedule":{source:"apache",extensions:["scd"]},"application/x-msterminal":{source:"apache",extensions:["trm"]},"application/x-mswrite":{source:"apache",extensions:["wri"]},"application/x-netcdf":{source:"apache",extensions:["nc","cdf"]},"application/x-ns-proxy-autoconfig":{compressible:!0,extensions:["pac"]},"application/x-nzb":{source:"apache",extensions:["nzb"]},"application/x-perl":{source:"nginx",extensions:["pl","pm"]},"application/x-pilot":{source:"nginx",extensions:["prc","pdb"]},"application/x-pkcs12":{source:"apache",compressible:!1,extensions:["p12","pfx"]},"application/x-pkcs7-certificates":{source:"apache",extensions:["p7b","spc"]},"application/x-pkcs7-certreqresp":{source:"apache",extensions:["p7r"]},"application/x-pki-message":{source:"iana"},"application/x-rar-compressed":{source:"apache",compressible:!1,extensions:["rar"]},"application/x-redhat-package-manager":{source:"nginx",extensions:["rpm"]},"application/x-research-info-systems":{source:"apache",extensions:["ris"]},"application/x-sea":{source:"nginx",extensions:["sea"]},"application/x-sh":{source:"apache",compressible:!0,extensions:["sh"]},"application/x-shar":{source:"apache",extensions:["shar"]},"application/x-shockwave-flash":{source:"apache",compressible:!1,extensions:["swf"]},"application/x-silverlight-app":{source:"apache",extensions:["xap"]},"application/x-sql":{source:"apache",extensions:["sql"]},"application/x-stuffit":{source:"apache",compressible:!1,extensions:["sit"]},"application/x-stuffitx":{source:"apache",extensions:["sitx"]},"application/x-subrip":{source:"apache",extensions:["srt"]},"application/x-sv4cpio":{source:"apache",extensions:["sv4cpio"]},"application/x-sv4crc":{source:"apache",extensions:["sv4crc"]},"application/x-t3vm-image":{source:"apache",extensions:["t3"]},"application/x-tads":{source:"apache",extensions:["gam"]},"application/x-tar":{source:"apache",compressible:!0,extensions:["tar"]},"application/x-tcl":{source:"apache",extensions:["tcl","tk"]},"application/x-tex":{source:"apache",extensions:["tex"]},"application/x-tex-tfm":{source:"apache",extensions:["tfm"]},"application/x-texinfo":{source:"apache",extensions:["texinfo","texi"]},"application/x-tgif":{source:"apache",extensions:["obj"]},"application/x-ustar":{source:"apache",extensions:["ustar"]},"application/x-virtualbox-hdd":{compressible:!0,extensions:["hdd"]},"application/x-virtualbox-ova":{compressible:!0,extensions:["ova"]},"application/x-virtualbox-ovf":{compressible:!0,extensions:["ovf"]},"application/x-virtualbox-vbox":{compressible:!0,extensions:["vbox"]},"application/x-virtualbox-vbox-extpack":{compressible:!1,extensions:["vbox-extpack"]},"application/x-virtualbox-vdi":{compressible:!0,extensions:["vdi"]},"application/x-virtualbox-vhd":{compressible:!0,extensions:["vhd"]},"application/x-virtualbox-vmdk":{compressible:!0,extensions:["vmdk"]},"application/x-wais-source":{source:"apache",extensions:["src"]},"application/x-web-app-manifest+json":{compressible:!0,extensions:["webapp"]},"application/x-www-form-urlencoded":{source:"iana",compressible:!0},"application/x-x509-ca-cert":{source:"iana",extensions:["der","crt","pem"]},"application/x-x509-ca-ra-cert":{source:"iana"},"application/x-x509-next-ca-cert":{source:"iana"},"application/x-xfig":{source:"apache",extensions:["fig"]},"application/x-xliff+xml":{source:"apache",compressible:!0,extensions:["xlf"]},"application/x-xpinstall":{source:"apache",compressible:!1,extensions:["xpi"]},"application/x-xz":{source:"apache",extensions:["xz"]},"application/x-zmachine":{source:"apache",extensions:["z1","z2","z3","z4","z5","z6","z7","z8"]},"application/x400-bp":{source:"iana"},"application/xacml+xml":{source:"iana",compressible:!0},"application/xaml+xml":{source:"apache",compressible:!0,extensions:["xaml"]},"application/xcap-att+xml":{source:"iana",compressible:!0,extensions:["xav"]},"application/xcap-caps+xml":{source:"iana",compressible:!0,extensions:["xca"]},"application/xcap-diff+xml":{source:"iana",compressible:!0,extensions:["xdf"]},"application/xcap-el+xml":{source:"iana",compressible:!0,extensions:["xel"]},"application/xcap-error+xml":{source:"iana",compressible:!0},"application/xcap-ns+xml":{source:"iana",compressible:!0,extensions:["xns"]},"application/xcon-conference-info+xml":{source:"iana",compressible:!0},"application/xcon-conference-info-diff+xml":{source:"iana",compressible:!0},"application/xenc+xml":{source:"iana",compressible:!0,extensions:["xenc"]},"application/xhtml+xml":{source:"iana",compressible:!0,extensions:["xhtml","xht"]},"application/xhtml-voice+xml":{source:"apache",compressible:!0},"application/xliff+xml":{source:"iana",compressible:!0,extensions:["xlf"]},"application/xml":{source:"iana",compressible:!0,extensions:["xml","xsl","xsd","rng"]},"application/xml-dtd":{source:"iana",compressible:!0,extensions:["dtd"]},"application/xml-external-parsed-entity":{source:"iana"},"application/xml-patch+xml":{source:"iana",compressible:!0},"application/xmpp+xml":{source:"iana",compressible:!0},"application/xop+xml":{source:"iana",compressible:!0,extensions:["xop"]},"application/xproc+xml":{source:"apache",compressible:!0,extensions:["xpl"]},"application/xslt+xml":{source:"iana",compressible:!0,extensions:["xsl","xslt"]},"application/xspf+xml":{source:"apache",compressible:!0,extensions:["xspf"]},"application/xv+xml":{source:"iana",compressible:!0,extensions:["mxml","xhvml","xvml","xvm"]},"application/yang":{source:"iana",extensions:["yang"]},"application/yang-data+json":{source:"iana",compressible:!0},"application/yang-data+xml":{source:"iana",compressible:!0},"application/yang-patch+json":{source:"iana",compressible:!0},"application/yang-patch+xml":{source:"iana",compressible:!0},"application/yin+xml":{source:"iana",compressible:!0,extensions:["yin"]},"application/zip":{source:"iana",compressible:!1,extensions:["zip"]},"application/zlib":{source:"iana"},"application/zstd":{source:"iana"},"audio/1d-interleaved-parityfec":{source:"iana"},"audio/32kadpcm":{source:"iana"},"audio/3gpp":{source:"iana",compressible:!1,extensions:["3gpp"]},"audio/3gpp2":{source:"iana"},"audio/aac":{source:"iana"},"audio/ac3":{source:"iana"},"audio/adpcm":{source:"apache",extensions:["adp"]},"audio/amr":{source:"iana",extensions:["amr"]},"audio/amr-wb":{source:"iana"},"audio/amr-wb+":{source:"iana"},"audio/aptx":{source:"iana"},"audio/asc":{source:"iana"},"audio/atrac-advanced-lossless":{source:"iana"},"audio/atrac-x":{source:"iana"},"audio/atrac3":{source:"iana"},"audio/basic":{source:"iana",compressible:!1,extensions:["au","snd"]},"audio/bv16":{source:"iana"},"audio/bv32":{source:"iana"},"audio/clearmode":{source:"iana"},"audio/cn":{source:"iana"},"audio/dat12":{source:"iana"},"audio/dls":{source:"iana"},"audio/dsr-es201108":{source:"iana"},"audio/dsr-es202050":{source:"iana"},"audio/dsr-es202211":{source:"iana"},"audio/dsr-es202212":{source:"iana"},"audio/dv":{source:"iana"},"audio/dvi4":{source:"iana"},"audio/eac3":{source:"iana"},"audio/encaprtp":{source:"iana"},"audio/evrc":{source:"iana"},"audio/evrc-qcp":{source:"iana"},"audio/evrc0":{source:"iana"},"audio/evrc1":{source:"iana"},"audio/evrcb":{source:"iana"},"audio/evrcb0":{source:"iana"},"audio/evrcb1":{source:"iana"},"audio/evrcnw":{source:"iana"},"audio/evrcnw0":{source:"iana"},"audio/evrcnw1":{source:"iana"},"audio/evrcwb":{source:"iana"},"audio/evrcwb0":{source:"iana"},"audio/evrcwb1":{source:"iana"},"audio/evs":{source:"iana"},"audio/flexfec":{source:"iana"},"audio/fwdred":{source:"iana"},"audio/g711-0":{source:"iana"},"audio/g719":{source:"iana"},"audio/g722":{source:"iana"},"audio/g7221":{source:"iana"},"audio/g723":{source:"iana"},"audio/g726-16":{source:"iana"},"audio/g726-24":{source:"iana"},"audio/g726-32":{source:"iana"},"audio/g726-40":{source:"iana"},"audio/g728":{source:"iana"},"audio/g729":{source:"iana"},"audio/g7291":{source:"iana"},"audio/g729d":{source:"iana"},"audio/g729e":{source:"iana"},"audio/gsm":{source:"iana"},"audio/gsm-efr":{source:"iana"},"audio/gsm-hr-08":{source:"iana"},"audio/ilbc":{source:"iana"},"audio/ip-mr_v2.5":{source:"iana"},"audio/isac":{source:"apache"},"audio/l16":{source:"iana"},"audio/l20":{source:"iana"},"audio/l24":{source:"iana",compressible:!1},"audio/l8":{source:"iana"},"audio/lpc":{source:"iana"},"audio/melp":{source:"iana"},"audio/melp1200":{source:"iana"},"audio/melp2400":{source:"iana"},"audio/melp600":{source:"iana"},"audio/mhas":{source:"iana"},"audio/midi":{source:"apache",extensions:["mid","midi","kar","rmi"]},"audio/mobile-xmf":{source:"iana",extensions:["mxmf"]},"audio/mp3":{compressible:!1,extensions:["mp3"]},"audio/mp4":{source:"iana",compressible:!1,extensions:["m4a","mp4a"]},"audio/mp4a-latm":{source:"iana"},"audio/mpa":{source:"iana"},"audio/mpa-robust":{source:"iana"},"audio/mpeg":{source:"iana",compressible:!1,extensions:["mpga","mp2","mp2a","mp3","m2a","m3a"]},"audio/mpeg4-generic":{source:"iana"},"audio/musepack":{source:"apache"},"audio/ogg":{source:"iana",compressible:!1,extensions:["oga","ogg","spx","opus"]},"audio/opus":{source:"iana"},"audio/parityfec":{source:"iana"},"audio/pcma":{source:"iana"},"audio/pcma-wb":{source:"iana"},"audio/pcmu":{source:"iana"},"audio/pcmu-wb":{source:"iana"},"audio/prs.sid":{source:"iana"},"audio/qcelp":{source:"iana"},"audio/raptorfec":{source:"iana"},"audio/red":{source:"iana"},"audio/rtp-enc-aescm128":{source:"iana"},"audio/rtp-midi":{source:"iana"},"audio/rtploopback":{source:"iana"},"audio/rtx":{source:"iana"},"audio/s3m":{source:"apache",extensions:["s3m"]},"audio/scip":{source:"iana"},"audio/silk":{source:"apache",extensions:["sil"]},"audio/smv":{source:"iana"},"audio/smv-qcp":{source:"iana"},"audio/smv0":{source:"iana"},"audio/sofa":{source:"iana"},"audio/sp-midi":{source:"iana"},"audio/speex":{source:"iana"},"audio/t140c":{source:"iana"},"audio/t38":{source:"iana"},"audio/telephone-event":{source:"iana"},"audio/tetra_acelp":{source:"iana"},"audio/tetra_acelp_bb":{source:"iana"},"audio/tone":{source:"iana"},"audio/tsvcis":{source:"iana"},"audio/uemclip":{source:"iana"},"audio/ulpfec":{source:"iana"},"audio/usac":{source:"iana"},"audio/vdvi":{source:"iana"},"audio/vmr-wb":{source:"iana"},"audio/vnd.3gpp.iufp":{source:"iana"},"audio/vnd.4sb":{source:"iana"},"audio/vnd.audiokoz":{source:"iana"},"audio/vnd.celp":{source:"iana"},"audio/vnd.cisco.nse":{source:"iana"},"audio/vnd.cmles.radio-events":{source:"iana"},"audio/vnd.cns.anp1":{source:"iana"},"audio/vnd.cns.inf1":{source:"iana"},"audio/vnd.dece.audio":{source:"iana",extensions:["uva","uvva"]},"audio/vnd.digital-winds":{source:"iana",extensions:["eol"]},"audio/vnd.dlna.adts":{source:"iana"},"audio/vnd.dolby.heaac.1":{source:"iana"},"audio/vnd.dolby.heaac.2":{source:"iana"},"audio/vnd.dolby.mlp":{source:"iana"},"audio/vnd.dolby.mps":{source:"iana"},"audio/vnd.dolby.pl2":{source:"iana"},"audio/vnd.dolby.pl2x":{source:"iana"},"audio/vnd.dolby.pl2z":{source:"iana"},"audio/vnd.dolby.pulse.1":{source:"iana"},"audio/vnd.dra":{source:"iana",extensions:["dra"]},"audio/vnd.dts":{source:"iana",extensions:["dts"]},"audio/vnd.dts.hd":{source:"iana",extensions:["dtshd"]},"audio/vnd.dts.uhd":{source:"iana"},"audio/vnd.dvb.file":{source:"iana"},"audio/vnd.everad.plj":{source:"iana"},"audio/vnd.hns.audio":{source:"iana"},"audio/vnd.lucent.voice":{source:"iana",extensions:["lvp"]},"audio/vnd.ms-playready.media.pya":{source:"iana",extensions:["pya"]},"audio/vnd.nokia.mobile-xmf":{source:"iana"},"audio/vnd.nortel.vbk":{source:"iana"},"audio/vnd.nuera.ecelp4800":{source:"iana",extensions:["ecelp4800"]},"audio/vnd.nuera.ecelp7470":{source:"iana",extensions:["ecelp7470"]},"audio/vnd.nuera.ecelp9600":{source:"iana",extensions:["ecelp9600"]},"audio/vnd.octel.sbc":{source:"iana"},"audio/vnd.presonus.multitrack":{source:"iana"},"audio/vnd.qcelp":{source:"iana"},"audio/vnd.rhetorex.32kadpcm":{source:"iana"},"audio/vnd.rip":{source:"iana",extensions:["rip"]},"audio/vnd.rn-realaudio":{compressible:!1},"audio/vnd.sealedmedia.softseal.mpeg":{source:"iana"},"audio/vnd.vmx.cvsd":{source:"iana"},"audio/vnd.wave":{compressible:!1},"audio/vorbis":{source:"iana",compressible:!1},"audio/vorbis-config":{source:"iana"},"audio/wav":{compressible:!1,extensions:["wav"]},"audio/wave":{compressible:!1,extensions:["wav"]},"audio/webm":{source:"apache",compressible:!1,extensions:["weba"]},"audio/x-aac":{source:"apache",compressible:!1,extensions:["aac"]},"audio/x-aiff":{source:"apache",extensions:["aif","aiff","aifc"]},"audio/x-caf":{source:"apache",compressible:!1,extensions:["caf"]},"audio/x-flac":{source:"apache",extensions:["flac"]},"audio/x-m4a":{source:"nginx",extensions:["m4a"]},"audio/x-matroska":{source:"apache",extensions:["mka"]},"audio/x-mpegurl":{source:"apache",extensions:["m3u"]},"audio/x-ms-wax":{source:"apache",extensions:["wax"]},"audio/x-ms-wma":{source:"apache",extensions:["wma"]},"audio/x-pn-realaudio":{source:"apache",extensions:["ram","ra"]},"audio/x-pn-realaudio-plugin":{source:"apache",extensions:["rmp"]},"audio/x-realaudio":{source:"nginx",extensions:["ra"]},"audio/x-tta":{source:"apache"},"audio/x-wav":{source:"apache",extensions:["wav"]},"audio/xm":{source:"apache",extensions:["xm"]},"chemical/x-cdx":{source:"apache",extensions:["cdx"]},"chemical/x-cif":{source:"apache",extensions:["cif"]},"chemical/x-cmdf":{source:"apache",extensions:["cmdf"]},"chemical/x-cml":{source:"apache",extensions:["cml"]},"chemical/x-csml":{source:"apache",extensions:["csml"]},"chemical/x-pdb":{source:"apache"},"chemical/x-xyz":{source:"apache",extensions:["xyz"]},"font/collection":{source:"iana",extensions:["ttc"]},"font/otf":{source:"iana",compressible:!0,extensions:["otf"]},"font/sfnt":{source:"iana"},"font/ttf":{source:"iana",compressible:!0,extensions:["ttf"]},"font/woff":{source:"iana",extensions:["woff"]},"font/woff2":{source:"iana",extensions:["woff2"]},"image/aces":{source:"iana",extensions:["exr"]},"image/apng":{compressible:!1,extensions:["apng"]},"image/avci":{source:"iana"},"image/avcs":{source:"iana"},"image/avif":{source:"iana",compressible:!1,extensions:["avif"]},"image/bmp":{source:"iana",compressible:!0,extensions:["bmp"]},"image/cgm":{source:"iana",extensions:["cgm"]},"image/dicom-rle":{source:"iana",extensions:["drle"]},"image/emf":{source:"iana",extensions:["emf"]},"image/fits":{source:"iana",extensions:["fits"]},"image/g3fax":{source:"iana",extensions:["g3"]},"image/gif":{source:"iana",compressible:!1,extensions:["gif"]},"image/heic":{source:"iana",extensions:["heic"]},"image/heic-sequence":{source:"iana",extensions:["heics"]},"image/heif":{source:"iana",extensions:["heif"]},"image/heif-sequence":{source:"iana",extensions:["heifs"]},"image/hej2k":{source:"iana",extensions:["hej2"]},"image/hsj2":{source:"iana",extensions:["hsj2"]},"image/ief":{source:"iana",extensions:["ief"]},"image/jls":{source:"iana",extensions:["jls"]},"image/jp2":{source:"iana",compressible:!1,extensions:["jp2","jpg2"]},"image/jpeg":{source:"iana",compressible:!1,extensions:["jpeg","jpg","jpe"]},"image/jph":{source:"iana",extensions:["jph"]},"image/jphc":{source:"iana",extensions:["jhc"]},"image/jpm":{source:"iana",compressible:!1,extensions:["jpm"]},"image/jpx":{source:"iana",compressible:!1,extensions:["jpx","jpf"]},"image/jxr":{source:"iana",extensions:["jxr"]},"image/jxra":{source:"iana",extensions:["jxra"]},"image/jxrs":{source:"iana",extensions:["jxrs"]},"image/jxs":{source:"iana",extensions:["jxs"]},"image/jxsc":{source:"iana",extensions:["jxsc"]},"image/jxsi":{source:"iana",extensions:["jxsi"]},"image/jxss":{source:"iana",extensions:["jxss"]},"image/ktx":{source:"iana",extensions:["ktx"]},"image/ktx2":{source:"iana",extensions:["ktx2"]},"image/naplps":{source:"iana"},"image/pjpeg":{compressible:!1},"image/png":{source:"iana",compressible:!1,extensions:["png"]},"image/prs.btif":{source:"iana",extensions:["btif"]},"image/prs.pti":{source:"iana",extensions:["pti"]},"image/pwg-raster":{source:"iana"},"image/sgi":{source:"apache",extensions:["sgi"]},"image/svg+xml":{source:"iana",compressible:!0,extensions:["svg","svgz"]},"image/t38":{source:"iana",extensions:["t38"]},"image/tiff":{source:"iana",compressible:!1,extensions:["tif","tiff"]},"image/tiff-fx":{source:"iana",extensions:["tfx"]},"image/vnd.adobe.photoshop":{source:"iana",compressible:!0,extensions:["psd"]},"image/vnd.airzip.accelerator.azv":{source:"iana",extensions:["azv"]},"image/vnd.cns.inf2":{source:"iana"},"image/vnd.dece.graphic":{source:"iana",extensions:["uvi","uvvi","uvg","uvvg"]},"image/vnd.djvu":{source:"iana",extensions:["djvu","djv"]},"image/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"image/vnd.dwg":{source:"iana",extensions:["dwg"]},"image/vnd.dxf":{source:"iana",extensions:["dxf"]},"image/vnd.fastbidsheet":{source:"iana",extensions:["fbs"]},"image/vnd.fpx":{source:"iana",extensions:["fpx"]},"image/vnd.fst":{source:"iana",extensions:["fst"]},"image/vnd.fujixerox.edmics-mmr":{source:"iana",extensions:["mmr"]},"image/vnd.fujixerox.edmics-rlc":{source:"iana",extensions:["rlc"]},"image/vnd.globalgraphics.pgb":{source:"iana"},"image/vnd.microsoft.icon":{source:"iana",compressible:!0,extensions:["ico"]},"image/vnd.mix":{source:"iana"},"image/vnd.mozilla.apng":{source:"iana"},"image/vnd.ms-dds":{compressible:!0,extensions:["dds"]},"image/vnd.ms-modi":{source:"iana",extensions:["mdi"]},"image/vnd.ms-photo":{source:"apache",extensions:["wdp"]},"image/vnd.net-fpx":{source:"iana",extensions:["npx"]},"image/vnd.pco.b16":{source:"iana",extensions:["b16"]},"image/vnd.radiance":{source:"iana"},"image/vnd.sealed.png":{source:"iana"},"image/vnd.sealedmedia.softseal.gif":{source:"iana"},"image/vnd.sealedmedia.softseal.jpg":{source:"iana"},"image/vnd.svf":{source:"iana"},"image/vnd.tencent.tap":{source:"iana",extensions:["tap"]},"image/vnd.valve.source.texture":{source:"iana",extensions:["vtf"]},"image/vnd.wap.wbmp":{source:"iana",extensions:["wbmp"]},"image/vnd.xiff":{source:"iana",extensions:["xif"]},"image/vnd.zbrush.pcx":{source:"iana",extensions:["pcx"]},"image/webp":{source:"apache",extensions:["webp"]},"image/wmf":{source:"iana",extensions:["wmf"]},"image/x-3ds":{source:"apache",extensions:["3ds"]},"image/x-cmu-raster":{source:"apache",extensions:["ras"]},"image/x-cmx":{source:"apache",extensions:["cmx"]},"image/x-freehand":{source:"apache",extensions:["fh","fhc","fh4","fh5","fh7"]},"image/x-icon":{source:"apache",compressible:!0,extensions:["ico"]},"image/x-jng":{source:"nginx",extensions:["jng"]},"image/x-mrsid-image":{source:"apache",extensions:["sid"]},"image/x-ms-bmp":{source:"nginx",compressible:!0,extensions:["bmp"]},"image/x-pcx":{source:"apache",extensions:["pcx"]},"image/x-pict":{source:"apache",extensions:["pic","pct"]},"image/x-portable-anymap":{source:"apache",extensions:["pnm"]},"image/x-portable-bitmap":{source:"apache",extensions:["pbm"]},"image/x-portable-graymap":{source:"apache",extensions:["pgm"]},"image/x-portable-pixmap":{source:"apache",extensions:["ppm"]},"image/x-rgb":{source:"apache",extensions:["rgb"]},"image/x-tga":{source:"apache",extensions:["tga"]},"image/x-xbitmap":{source:"apache",extensions:["xbm"]},"image/x-xcf":{compressible:!1},"image/x-xpixmap":{source:"apache",extensions:["xpm"]},"image/x-xwindowdump":{source:"apache",extensions:["xwd"]},"message/cpim":{source:"iana"},"message/delivery-status":{source:"iana"},"message/disposition-notification":{source:"iana",extensions:["disposition-notification"]},"message/external-body":{source:"iana"},"message/feedback-report":{source:"iana"},"message/global":{source:"iana",extensions:["u8msg"]},"message/global-delivery-status":{source:"iana",extensions:["u8dsn"]},"message/global-disposition-notification":{source:"iana",extensions:["u8mdn"]},"message/global-headers":{source:"iana",extensions:["u8hdr"]},"message/http":{source:"iana",compressible:!1},"message/imdn+xml":{source:"iana",compressible:!0},"message/news":{source:"iana"},"message/partial":{source:"iana",compressible:!1},"message/rfc822":{source:"iana",compressible:!0,extensions:["eml","mime"]},"message/s-http":{source:"iana"},"message/sip":{source:"iana"},"message/sipfrag":{source:"iana"},"message/tracking-status":{source:"iana"},"message/vnd.si.simp":{source:"iana"},"message/vnd.wfa.wsc":{source:"iana",extensions:["wsc"]},"model/3mf":{source:"iana",extensions:["3mf"]},"model/e57":{source:"iana"},"model/gltf+json":{source:"iana",compressible:!0,extensions:["gltf"]},"model/gltf-binary":{source:"iana",compressible:!0,extensions:["glb"]},"model/iges":{source:"iana",compressible:!1,extensions:["igs","iges"]},"model/mesh":{source:"iana",compressible:!1,extensions:["msh","mesh","silo"]},"model/mtl":{source:"iana",extensions:["mtl"]},"model/obj":{source:"iana",extensions:["obj"]},"model/step":{source:"iana"},"model/step+xml":{source:"iana",compressible:!0,extensions:["stpx"]},"model/step+zip":{source:"iana",compressible:!1,extensions:["stpz"]},"model/step-xml+zip":{source:"iana",compressible:!1,extensions:["stpxz"]},"model/stl":{source:"iana",extensions:["stl"]},"model/vnd.collada+xml":{source:"iana",compressible:!0,extensions:["dae"]},"model/vnd.dwf":{source:"iana",extensions:["dwf"]},"model/vnd.flatland.3dml":{source:"iana"},"model/vnd.gdl":{source:"iana",extensions:["gdl"]},"model/vnd.gs-gdl":{source:"apache"},"model/vnd.gs.gdl":{source:"iana"},"model/vnd.gtw":{source:"iana",extensions:["gtw"]},"model/vnd.moml+xml":{source:"iana",compressible:!0},"model/vnd.mts":{source:"iana",extensions:["mts"]},"model/vnd.opengex":{source:"iana",extensions:["ogex"]},"model/vnd.parasolid.transmit.binary":{source:"iana",extensions:["x_b"]},"model/vnd.parasolid.transmit.text":{source:"iana",extensions:["x_t"]},"model/vnd.pytha.pyox":{source:"iana"},"model/vnd.rosette.annotated-data-model":{source:"iana"},"model/vnd.sap.vds":{source:"iana",extensions:["vds"]},"model/vnd.usdz+zip":{source:"iana",compressible:!1,extensions:["usdz"]},"model/vnd.valve.source.compiled-map":{source:"iana",extensions:["bsp"]},"model/vnd.vtu":{source:"iana",extensions:["vtu"]},"model/vrml":{source:"iana",compressible:!1,extensions:["wrl","vrml"]},"model/x3d+binary":{source:"apache",compressible:!1,extensions:["x3db","x3dbz"]},"model/x3d+fastinfoset":{source:"iana",extensions:["x3db"]},"model/x3d+vrml":{source:"apache",compressible:!1,extensions:["x3dv","x3dvz"]},"model/x3d+xml":{source:"iana",compressible:!0,extensions:["x3d","x3dz"]},"model/x3d-vrml":{source:"iana",extensions:["x3dv"]},"multipart/alternative":{source:"iana",compressible:!1},"multipart/appledouble":{source:"iana"},"multipart/byteranges":{source:"iana"},"multipart/digest":{source:"iana"},"multipart/encrypted":{source:"iana",compressible:!1},"multipart/form-data":{source:"iana",compressible:!1},"multipart/header-set":{source:"iana"},"multipart/mixed":{source:"iana"},"multipart/multilingual":{source:"iana"},"multipart/parallel":{source:"iana"},"multipart/related":{source:"iana",compressible:!1},"multipart/report":{source:"iana"},"multipart/signed":{source:"iana",compressible:!1},"multipart/vnd.bint.med-plus":{source:"iana"},"multipart/voice-message":{source:"iana"},"multipart/x-mixed-replace":{source:"iana"},"text/1d-interleaved-parityfec":{source:"iana"},"text/cache-manifest":{source:"iana",compressible:!0,extensions:["appcache","manifest"]},"text/calendar":{source:"iana",extensions:["ics","ifb"]},"text/calender":{compressible:!0},"text/cmd":{compressible:!0},"text/coffeescript":{extensions:["coffee","litcoffee"]},"text/cql":{source:"iana"},"text/cql-expression":{source:"iana"},"text/cql-identifier":{source:"iana"},"text/css":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["css"]},"text/csv":{source:"iana",compressible:!0,extensions:["csv"]},"text/csv-schema":{source:"iana"},"text/directory":{source:"iana"},"text/dns":{source:"iana"},"text/ecmascript":{source:"iana"},"text/encaprtp":{source:"iana"},"text/enriched":{source:"iana"},"text/fhirpath":{source:"iana"},"text/flexfec":{source:"iana"},"text/fwdred":{source:"iana"},"text/gff3":{source:"iana"},"text/grammar-ref-list":{source:"iana"},"text/html":{source:"iana",compressible:!0,extensions:["html","htm","shtml"]},"text/jade":{extensions:["jade"]},"text/javascript":{source:"iana",compressible:!0},"text/jcr-cnd":{source:"iana"},"text/jsx":{compressible:!0,extensions:["jsx"]},"text/less":{compressible:!0,extensions:["less"]},"text/markdown":{source:"iana",compressible:!0,extensions:["markdown","md"]},"text/mathml":{source:"nginx",extensions:["mml"]},"text/mdx":{compressible:!0,extensions:["mdx"]},"text/mizar":{source:"iana"},"text/n3":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["n3"]},"text/parameters":{source:"iana",charset:"UTF-8"},"text/parityfec":{source:"iana"},"text/plain":{source:"iana",compressible:!0,extensions:["txt","text","conf","def","list","log","in","ini"]},"text/provenance-notation":{source:"iana",charset:"UTF-8"},"text/prs.fallenstein.rst":{source:"iana"},"text/prs.lines.tag":{source:"iana",extensions:["dsc"]},"text/prs.prop.logic":{source:"iana"},"text/raptorfec":{source:"iana"},"text/red":{source:"iana"},"text/rfc822-headers":{source:"iana"},"text/richtext":{source:"iana",compressible:!0,extensions:["rtx"]},"text/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"text/rtp-enc-aescm128":{source:"iana"},"text/rtploopback":{source:"iana"},"text/rtx":{source:"iana"},"text/sgml":{source:"iana",extensions:["sgml","sgm"]},"text/shaclc":{source:"iana"},"text/shex":{source:"iana",extensions:["shex"]},"text/slim":{extensions:["slim","slm"]},"text/spdx":{source:"iana",extensions:["spdx"]},"text/strings":{source:"iana"},"text/stylus":{extensions:["stylus","styl"]},"text/t140":{source:"iana"},"text/tab-separated-values":{source:"iana",compressible:!0,extensions:["tsv"]},"text/troff":{source:"iana",extensions:["t","tr","roff","man","me","ms"]},"text/turtle":{source:"iana",charset:"UTF-8",extensions:["ttl"]},"text/ulpfec":{source:"iana"},"text/uri-list":{source:"iana",compressible:!0,extensions:["uri","uris","urls"]},"text/vcard":{source:"iana",compressible:!0,extensions:["vcard"]},"text/vnd.a":{source:"iana"},"text/vnd.abc":{source:"iana"},"text/vnd.ascii-art":{source:"iana"},"text/vnd.curl":{source:"iana",extensions:["curl"]},"text/vnd.curl.dcurl":{source:"apache",extensions:["dcurl"]},"text/vnd.curl.mcurl":{source:"apache",extensions:["mcurl"]},"text/vnd.curl.scurl":{source:"apache",extensions:["scurl"]},"text/vnd.debian.copyright":{source:"iana",charset:"UTF-8"},"text/vnd.dmclientscript":{source:"iana"},"text/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"text/vnd.esmertec.theme-descriptor":{source:"iana",charset:"UTF-8"},"text/vnd.familysearch.gedcom":{source:"iana",extensions:["ged"]},"text/vnd.ficlab.flt":{source:"iana"},"text/vnd.fly":{source:"iana",extensions:["fly"]},"text/vnd.fmi.flexstor":{source:"iana",extensions:["flx"]},"text/vnd.gml":{source:"iana"},"text/vnd.graphviz":{source:"iana",extensions:["gv"]},"text/vnd.hans":{source:"iana"},"text/vnd.hgl":{source:"iana"},"text/vnd.in3d.3dml":{source:"iana",extensions:["3dml"]},"text/vnd.in3d.spot":{source:"iana",extensions:["spot"]},"text/vnd.iptc.newsml":{source:"iana"},"text/vnd.iptc.nitf":{source:"iana"},"text/vnd.latex-z":{source:"iana"},"text/vnd.motorola.reflex":{source:"iana"},"text/vnd.ms-mediapackage":{source:"iana"},"text/vnd.net2phone.commcenter.command":{source:"iana"},"text/vnd.radisys.msml-basic-layout":{source:"iana"},"text/vnd.senx.warpscript":{source:"iana"},"text/vnd.si.uricatalogue":{source:"iana"},"text/vnd.sosi":{source:"iana"},"text/vnd.sun.j2me.app-descriptor":{source:"iana",charset:"UTF-8",extensions:["jad"]},"text/vnd.trolltech.linguist":{source:"iana",charset:"UTF-8"},"text/vnd.wap.si":{source:"iana"},"text/vnd.wap.sl":{source:"iana"},"text/vnd.wap.wml":{source:"iana",extensions:["wml"]},"text/vnd.wap.wmlscript":{source:"iana",extensions:["wmls"]},"text/vtt":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["vtt"]},"text/x-asm":{source:"apache",extensions:["s","asm"]},"text/x-c":{source:"apache",extensions:["c","cc","cxx","cpp","h","hh","dic"]},"text/x-component":{source:"nginx",extensions:["htc"]},"text/x-fortran":{source:"apache",extensions:["f","for","f77","f90"]},"text/x-gwt-rpc":{compressible:!0},"text/x-handlebars-template":{extensions:["hbs"]},"text/x-java-source":{source:"apache",extensions:["java"]},"text/x-jquery-tmpl":{compressible:!0},"text/x-lua":{extensions:["lua"]},"text/x-markdown":{compressible:!0,extensions:["mkd"]},"text/x-nfo":{source:"apache",extensions:["nfo"]},"text/x-opml":{source:"apache",extensions:["opml"]},"text/x-org":{compressible:!0,extensions:["org"]},"text/x-pascal":{source:"apache",extensions:["p","pas"]},"text/x-processing":{compressible:!0,extensions:["pde"]},"text/x-sass":{extensions:["sass"]},"text/x-scss":{extensions:["scss"]},"text/x-setext":{source:"apache",extensions:["etx"]},"text/x-sfv":{source:"apache",extensions:["sfv"]},"text/x-suse-ymp":{compressible:!0,extensions:["ymp"]},"text/x-uuencode":{source:"apache",extensions:["uu"]},"text/x-vcalendar":{source:"apache",extensions:["vcs"]},"text/x-vcard":{source:"apache",extensions:["vcf"]},"text/xml":{source:"iana",compressible:!0,extensions:["xml"]},"text/xml-external-parsed-entity":{source:"iana"},"text/yaml":{compressible:!0,extensions:["yaml","yml"]},"video/1d-interleaved-parityfec":{source:"iana"},"video/3gpp":{source:"iana",extensions:["3gp","3gpp"]},"video/3gpp-tt":{source:"iana"},"video/3gpp2":{source:"iana",extensions:["3g2"]},"video/av1":{source:"iana"},"video/bmpeg":{source:"iana"},"video/bt656":{source:"iana"},"video/celb":{source:"iana"},"video/dv":{source:"iana"},"video/encaprtp":{source:"iana"},"video/ffv1":{source:"iana"},"video/flexfec":{source:"iana"},"video/h261":{source:"iana",extensions:["h261"]},"video/h263":{source:"iana",extensions:["h263"]},"video/h263-1998":{source:"iana"},"video/h263-2000":{source:"iana"},"video/h264":{source:"iana",extensions:["h264"]},"video/h264-rcdo":{source:"iana"},"video/h264-svc":{source:"iana"},"video/h265":{source:"iana"},"video/iso.segment":{source:"iana",extensions:["m4s"]},"video/jpeg":{source:"iana",extensions:["jpgv"]},"video/jpeg2000":{source:"iana"},"video/jpm":{source:"apache",extensions:["jpm","jpgm"]},"video/jxsv":{source:"iana"},"video/mj2":{source:"iana",extensions:["mj2","mjp2"]},"video/mp1s":{source:"iana"},"video/mp2p":{source:"iana"},"video/mp2t":{source:"iana",extensions:["ts"]},"video/mp4":{source:"iana",compressible:!1,extensions:["mp4","mp4v","mpg4"]},"video/mp4v-es":{source:"iana"},"video/mpeg":{source:"iana",compressible:!1,extensions:["mpeg","mpg","mpe","m1v","m2v"]},"video/mpeg4-generic":{source:"iana"},"video/mpv":{source:"iana"},"video/nv":{source:"iana"},"video/ogg":{source:"iana",compressible:!1,extensions:["ogv"]},"video/parityfec":{source:"iana"},"video/pointer":{source:"iana"},"video/quicktime":{source:"iana",compressible:!1,extensions:["qt","mov"]},"video/raptorfec":{source:"iana"},"video/raw":{source:"iana"},"video/rtp-enc-aescm128":{source:"iana"},"video/rtploopback":{source:"iana"},"video/rtx":{source:"iana"},"video/scip":{source:"iana"},"video/smpte291":{source:"iana"},"video/smpte292m":{source:"iana"},"video/ulpfec":{source:"iana"},"video/vc1":{source:"iana"},"video/vc2":{source:"iana"},"video/vnd.cctv":{source:"iana"},"video/vnd.dece.hd":{source:"iana",extensions:["uvh","uvvh"]},"video/vnd.dece.mobile":{source:"iana",extensions:["uvm","uvvm"]},"video/vnd.dece.mp4":{source:"iana"},"video/vnd.dece.pd":{source:"iana",extensions:["uvp","uvvp"]},"video/vnd.dece.sd":{source:"iana",extensions:["uvs","uvvs"]},"video/vnd.dece.video":{source:"iana",extensions:["uvv","uvvv"]},"video/vnd.directv.mpeg":{source:"iana"},"video/vnd.directv.mpeg-tts":{source:"iana"},"video/vnd.dlna.mpeg-tts":{source:"iana"},"video/vnd.dvb.file":{source:"iana",extensions:["dvb"]},"video/vnd.fvt":{source:"iana",extensions:["fvt"]},"video/vnd.hns.video":{source:"iana"},"video/vnd.iptvforum.1dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.1dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.2dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.2dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.ttsavc":{source:"iana"},"video/vnd.iptvforum.ttsmpeg2":{source:"iana"},"video/vnd.motorola.video":{source:"iana"},"video/vnd.motorola.videop":{source:"iana"},"video/vnd.mpegurl":{source:"iana",extensions:["mxu","m4u"]},"video/vnd.ms-playready.media.pyv":{source:"iana",extensions:["pyv"]},"video/vnd.nokia.interleaved-multimedia":{source:"iana"},"video/vnd.nokia.mp4vr":{source:"iana"},"video/vnd.nokia.videovoip":{source:"iana"},"video/vnd.objectvideo":{source:"iana"},"video/vnd.radgamettools.bink":{source:"iana"},"video/vnd.radgamettools.smacker":{source:"iana"},"video/vnd.sealed.mpeg1":{source:"iana"},"video/vnd.sealed.mpeg4":{source:"iana"},"video/vnd.sealed.swf":{source:"iana"},"video/vnd.sealedmedia.softseal.mov":{source:"iana"},"video/vnd.uvvu.mp4":{source:"iana",extensions:["uvu","uvvu"]},"video/vnd.vivo":{source:"iana",extensions:["viv"]},"video/vnd.youtube.yt":{source:"iana"},"video/vp8":{source:"iana"},"video/vp9":{source:"iana"},"video/webm":{source:"apache",compressible:!1,extensions:["webm"]},"video/x-f4v":{source:"apache",extensions:["f4v"]},"video/x-fli":{source:"apache",extensions:["fli"]},"video/x-flv":{source:"apache",compressible:!1,extensions:["flv"]},"video/x-m4v":{source:"apache",extensions:["m4v"]},"video/x-matroska":{source:"apache",compressible:!1,extensions:["mkv","mk3d","mks"]},"video/x-mng":{source:"apache",extensions:["mng"]},"video/x-ms-asf":{source:"apache",extensions:["asf","asx"]},"video/x-ms-vob":{source:"apache",extensions:["vob"]},"video/x-ms-wm":{source:"apache",extensions:["wm"]},"video/x-ms-wmv":{source:"apache",compressible:!1,extensions:["wmv"]},"video/x-ms-wmx":{source:"apache",extensions:["wmx"]},"video/x-ms-wvx":{source:"apache",extensions:["wvx"]},"video/x-msvideo":{source:"apache",extensions:["avi"]},"video/x-sgi-movie":{source:"apache",extensions:["movie"]},"video/x-smv":{source:"apache",extensions:["smv"]},"x-conference/x-cooltalk":{source:"apache",extensions:["ice"]},"x-shader/x-fragment":{compressible:!0},"x-shader/x-vertex":{compressible:!0}}});var zq=b((sFe,Gq)=>{Gq.exports=Vq()});var Jq=b(rn=>{"use strict";var ux=zq(),_ue=require("path").extname,Kq=/^\s*([^;\s]*)(?:;|\s|$)/,Aue=/^text\//i;rn.charset=Xq;rn.charsets={lookup:Xq};rn.contentType=Sue;rn.extension=Eue;rn.extensions=Object.create(null);rn.lookup=Pue;rn.types=Object.create(null);Cue(rn.extensions,rn.types);function Xq(r){if(!r||typeof r!="string")return!1;var e=Kq.exec(r),t=e&&ux[e[1].toLowerCase()];return t&&t.charset?t.charset:e&&Aue.test(e[1])?"UTF-8":!1}function Sue(r){if(!r||typeof r!="string")return!1;var e=r.indexOf("/")===-1?rn.lookup(r):r;if(!e)return!1;if(e.indexOf("charset")===-1){var t=rn.charset(e);t&&(e+="; charset="+t.toLowerCase())}return e}function Eue(r){if(!r||typeof r!="string")return!1;var e=Kq.exec(r),t=e&&rn.extensions[e[1].toLowerCase()];return!t||!t.length?!1:t[0]}function Pue(r){if(!r||typeof r!="string")return!1;var e=_ue("x."+r).toLowerCase().substr(1);return e&&rn.types[e]||!1}function Cue(r,e){var t=["nginx","apache",void 0,"iana"];Object.keys(ux).forEach(function(i){var o=ux[i],s=o.extensions;if(!(!s||!s.length)){r[i]=s;for(var a=0;a<s.length;a++){var c=s[a];if(e[c]){var u=t.indexOf(ux[e[c]].source),l=t.indexOf(o.source);if(e[c]!=="application/octet-stream"&&(u>l||u===l&&e[c].substr(0,12)==="application/"))continue}e[c]=i}}})}});var Qq=b((cFe,Yq)=>{Yq.exports=Tue;function Tue(r){var e=typeof setImmediate=="function"?setImmediate:typeof process=="object"&&typeof process.nextTick=="function"?process.nextTick:null;e?e(r):setTimeout(r,0)}});var hP=b((uFe,eV)=>{var Zq=Qq();eV.exports=Lue;function Lue(r){var e=!1;return Zq(function(){e=!0}),function(n,i){e?r(n,i):Zq(function(){r(n,i)})}}});var gP=b((lFe,tV)=>{tV.exports=Due;function Due(r){Object.keys(r.jobs).forEach($ue.bind(r)),r.jobs={}}function $ue(r){typeof this.jobs[r]=="function"&&this.jobs[r]()}});var HP=b((pFe,nV)=>{var rV=hP(),kue=gP();nV.exports=Rue;function Rue(r,e,t,n){var i=t.keyedList?t.keyedList[t.index]:t.index;t.jobs[i]=Mue(e,i,r[i],function(o,s){i in t.jobs&&(delete t.jobs[i],o?kue(t):t.results[i]=s,n(o,t.results))})}function Mue(r,e,t,n){var i;return r.length==2?i=r(t,rV(n)):i=r(t,e,rV(n)),i}});var yP=b((dFe,iV)=>{iV.exports=Oue;function Oue(r,e){var t=!Array.isArray(r),n={index:0,keyedList:t||e?Object.keys(r):null,jobs:{},results:t?{}:[],size:t?Object.keys(r).length:r.length};return e&&n.keyedList.sort(t?e:function(i,o){return e(r[i],r[o])}),n}});var bP=b((fFe,oV)=>{var Nue=gP(),Fue=hP();oV.exports=Bue;function Bue(r){Object.keys(this.jobs).length&&(this.index=this.size,Nue(this),Fue(r)(null,this.results))}});var aV=b((mFe,sV)=>{var Uue=HP(),jue=yP(),Wue=bP();sV.exports=que;function que(r,e,t){for(var n=jue(r);n.index<(n.keyedList||r).length;)Uue(r,e,n,function(i,o){if(i){t(i,o);return}if(Object.keys(n.jobs).length===0){t(null,n.results);return}}),n.index++;return Wue.bind(n,t)}});var vP=b((hFe,lx)=>{var cV=HP(),Vue=yP(),Gue=bP();lx.exports=zue;lx.exports.ascending=uV;lx.exports.descending=Kue;function zue(r,e,t,n){var i=Vue(r,t);return cV(r,e,i,function o(s,a){if(s){n(s,a);return}if(i.index++,i.index<(i.keyedList||r).length){cV(r,e,i,o);return}n(null,i.results)}),Gue.bind(i,n)}function uV(r,e){return r<e?-1:r>e?1:0}function Kue(r,e){return-1*uV(r,e)}});var pV=b((gFe,lV)=>{var Xue=vP();lV.exports=Jue;function Jue(r,e,t){return Xue(r,e,null,t)}});var fV=b((HFe,dV)=>{dV.exports={parallel:aV(),serial:pV(),serialOrdered:vP()}});var hV=b((yFe,mV)=>{mV.exports=function(r,e){return Object.keys(e).forEach(function(t){r[t]=r[t]||e[t]}),r}});var yV=b((bFe,HV)=>{var _P=qq(),gV=require("util"),xP=require("path"),Yue=require("http"),Que=require("https"),Zue=require("url").parse,ele=require("fs"),tle=require("stream").Stream,wP=Jq(),rle=fV(),IP=hV();HV.exports=Fe;gV.inherits(Fe,_P);function Fe(r){if(!(this instanceof Fe))return new Fe(r);this._overheadLength=0,this._valueLength=0,this._valuesToMeasure=[],_P.call(this),r=r||{};for(var e in r)this[e]=r[e]}Fe.LINE_BREAK=`\r
`;Fe.DEFAULT_CONTENT_TYPE="application/octet-stream";Fe.prototype.append=function(r,e,t){t=t||{},typeof t=="string"&&(t={filename:t});var n=_P.prototype.append.bind(this);if(typeof e=="number"&&(e=""+e),gV.isArray(e)){this._error(new Error("Arrays are not supported."));return}var i=this._multiPartHeader(r,e,t),o=this._multiPartFooter();n(i),n(e),n(o),this._trackLength(i,e,t)};Fe.prototype._trackLength=function(r,e,t){var n=0;t.knownLength!=null?n+=+t.knownLength:Buffer.isBuffer(e)?n=e.length:typeof e=="string"&&(n=Buffer.byteLength(e)),this._valueLength+=n,this._overheadLength+=Buffer.byteLength(r)+Fe.LINE_BREAK.length,!(!e||!e.path&&!(e.readable&&e.hasOwnProperty("httpVersion"))&&!(e instanceof tle))&&(t.knownLength||this._valuesToMeasure.push(e))};Fe.prototype._lengthRetriever=function(r,e){r.hasOwnProperty("fd")?r.end!=null&&r.end!=1/0&&r.start!=null?e(null,r.end+1-(r.start?r.start:0)):ele.stat(r.path,function(t,n){var i;if(t){e(t);return}i=n.size-(r.start?r.start:0),e(null,i)}):r.hasOwnProperty("httpVersion")?e(null,+r.headers["content-length"]):r.hasOwnProperty("httpModule")?(r.on("response",function(t){r.pause(),e(null,+t.headers["content-length"])}),r.resume()):e("Unknown stream")};Fe.prototype._multiPartHeader=function(r,e,t){if(typeof t.header=="string")return t.header;var n=this._getContentDisposition(e,t),i=this._getContentType(e,t),o="",s={"Content-Disposition":["form-data",'name="'+r+'"'].concat(n||[]),"Content-Type":[].concat(i||[])};typeof t.header=="object"&&IP(s,t.header);var a;for(var c in s)s.hasOwnProperty(c)&&(a=s[c],a!=null&&(Array.isArray(a)||(a=[a]),a.length&&(o+=c+": "+a.join("; ")+Fe.LINE_BREAK)));return"--"+this.getBoundary()+Fe.LINE_BREAK+o+Fe.LINE_BREAK};Fe.prototype._getContentDisposition=function(r,e){var t,n;return typeof e.filepath=="string"?t=xP.normalize(e.filepath).replace(/\\/g,"/"):e.filename||r.name||r.path?t=xP.basename(e.filename||r.name||r.path):r.readable&&r.hasOwnProperty("httpVersion")&&(t=xP.basename(r.client._httpMessage.path||"")),t&&(n='filename="'+t+'"'),n};Fe.prototype._getContentType=function(r,e){var t=e.contentType;return!t&&r.name&&(t=wP.lookup(r.name)),!t&&r.path&&(t=wP.lookup(r.path)),!t&&r.readable&&r.hasOwnProperty("httpVersion")&&(t=r.headers["content-type"]),!t&&(e.filepath||e.filename)&&(t=wP.lookup(e.filepath||e.filename)),!t&&typeof r=="object"&&(t=Fe.DEFAULT_CONTENT_TYPE),t};Fe.prototype._multiPartFooter=function(){return function(r){var e=Fe.LINE_BREAK,t=this._streams.length===0;t&&(e+=this._lastBoundary()),r(e)}.bind(this)};Fe.prototype._lastBoundary=function(){return"--"+this.getBoundary()+"--"+Fe.LINE_BREAK};Fe.prototype.getHeaders=function(r){var e,t={"content-type":"multipart/form-data; boundary="+this.getBoundary()};for(e in r)r.hasOwnProperty(e)&&(t[e.toLowerCase()]=r[e]);return t};Fe.prototype.setBoundary=function(r){this._boundary=r};Fe.prototype.getBoundary=function(){return this._boundary||this._generateBoundary(),this._boundary};Fe.prototype.getBuffer=function(){for(var r=new Buffer.alloc(0),e=this.getBoundary(),t=0,n=this._streams.length;t<n;t++)typeof this._streams[t]!="function"&&(Buffer.isBuffer(this._streams[t])?r=Buffer.concat([r,this._streams[t]]):r=Buffer.concat([r,Buffer.from(this._streams[t])]),(typeof this._streams[t]!="string"||this._streams[t].substring(2,e.length+2)!==e)&&(r=Buffer.concat([r,Buffer.from(Fe.LINE_BREAK)])));return Buffer.concat([r,Buffer.from(this._lastBoundary())])};Fe.prototype._generateBoundary=function(){for(var r="--------------------------",e=0;e<24;e++)r+=Math.floor(Math.random()*10).toString(16);this._boundary=r};Fe.prototype.getLengthSync=function(){var r=this._overheadLength+this._valueLength;return this._streams.length&&(r+=this._lastBoundary().length),this.hasKnownLength()||this._error(new Error("Cannot calculate proper length in synchronous way.")),r};Fe.prototype.hasKnownLength=function(){var r=!0;return this._valuesToMeasure.length&&(r=!1),r};Fe.prototype.getLength=function(r){var e=this._overheadLength+this._valueLength;if(this._streams.length&&(e+=this._lastBoundary().length),!this._valuesToMeasure.length){process.nextTick(r.bind(this,null,e));return}rle.parallel(this._valuesToMeasure,this._lengthRetriever,function(t,n){if(t){r(t);return}n.forEach(function(i){e+=i}),r(null,e)})};Fe.prototype.submit=function(r,e){var t,n,i={method:"post"};return typeof r=="string"?(r=Zue(r),n=IP({port:r.port,path:r.pathname,host:r.hostname,protocol:r.protocol},i)):(n=IP(r,i),n.port||(n.port=n.protocol=="https:"?443:80)),n.headers=this.getHeaders(r.headers),n.protocol=="https:"?t=Que.request(n):t=Yue.request(n),this.getLength(function(o,s){if(o&&o!=="Unknown stream"){this._error(o);return}if(s&&t.setHeader("Content-Length",s),this.pipe(t),e){var a,c=function(u,l){return t.removeListener("error",c),t.removeListener("response",a),e.call(this,u,l)};a=c.bind(this,null),t.on("error",c),t.on("response",a)}}.bind(this)),t};Fe.prototype._error=function(r){this.error||(this.error=r,this.pause(),this.emit("error",r))};Fe.prototype.toString=function(){return"[object FormData]"}});var vV=b(bV=>{"use strict";var nle=require("url").parse,ile={ftp:21,gopher:70,http:80,https:443,ws:80,wss:443},ole=String.prototype.endsWith||function(r){return r.length<=this.length&&this.indexOf(r,this.length-r.length)!==-1};function sle(r){var e=typeof r=="string"?nle(r):r||{},t=e.protocol,n=e.host,i=e.port;if(typeof n!="string"||!n||typeof t!="string"||(t=t.split(":",1)[0],n=n.replace(/:\d*$/,""),i=parseInt(i)||ile[t]||0,!ale(n,i)))return"";var o=Op("npm_config_"+t+"_proxy")||Op(t+"_proxy")||Op("npm_config_proxy")||Op("all_proxy");return o&&o.indexOf("://")===-1&&(o=t+"://"+o),o}function ale(r,e){var t=(Op("npm_config_no_proxy")||Op("no_proxy")).toLowerCase();return t?t==="*"?!1:t.split(/[,\s]/).every(function(n){if(!n)return!0;var i=n.match(/^(.+):(\d+)$/),o=i?i[1]:n,s=i?parseInt(i[2]):0;return s&&s!==e?!0:/^[.*]/.test(o)?(o.charAt(0)==="*"&&(o=o.slice(1)),!ole.call(r,o)):r!==o}):!0}function Op(r){return process.env[r.toLowerCase()]||process.env[r.toUpperCase()]||""}bV.getProxyForUrl=sle});var wV=b((xFe,xV)=>{var Np=1e3,Fp=Np*60,Bp=Fp*60,ru=Bp*24,cle=ru*7,ule=ru*365.25;xV.exports=function(r,e){e=e||{};var t=typeof r;if(t==="string"&&r.length>0)return lle(r);if(t==="number"&&isFinite(r))return e.long?dle(r):ple(r);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(r))};function lle(r){if(r=String(r),!(r.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(r);if(e){var t=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return t*ule;case"weeks":case"week":case"w":return t*cle;case"days":case"day":case"d":return t*ru;case"hours":case"hour":case"hrs":case"hr":case"h":return t*Bp;case"minutes":case"minute":case"mins":case"min":case"m":return t*Fp;case"seconds":case"second":case"secs":case"sec":case"s":return t*Np;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return t;default:return}}}}function ple(r){var e=Math.abs(r);return e>=ru?Math.round(r/ru)+"d":e>=Bp?Math.round(r/Bp)+"h":e>=Fp?Math.round(r/Fp)+"m":e>=Np?Math.round(r/Np)+"s":r+"ms"}function dle(r){var e=Math.abs(r);return e>=ru?px(r,e,ru,"day"):e>=Bp?px(r,e,Bp,"hour"):e>=Fp?px(r,e,Fp,"minute"):e>=Np?px(r,e,Np,"second"):r+" ms"}function px(r,e,t,n){var i=e>=t*1.5;return Math.round(r/t)+" "+n+(i?"s":"")}});var AP=b((wFe,IV)=>{function fle(r){t.debug=t,t.default=t,t.coerce=c,t.disable=o,t.enable=i,t.enabled=s,t.humanize=wV(),t.destroy=u,Object.keys(r).forEach(l=>{t[l]=r[l]}),t.names=[],t.skips=[],t.formatters={};function e(l){let p=0;for(let d=0;d<l.length;d++)p=(p<<5)-p+l.charCodeAt(d),p|=0;return t.colors[Math.abs(p)%t.colors.length]}t.selectColor=e;function t(l){let p,d=null,h,f;function g(...v){if(!g.enabled)return;let S=g,R=Number(new Date),F=R-(p||R);S.diff=F,S.prev=p,S.curr=R,p=R,v[0]=t.coerce(v[0]),typeof v[0]!="string"&&v.unshift("%O");let X=0;v[0]=v[0].replace(/%([a-zA-Z%])/g,(J,z)=>{if(J==="%%")return"%";X++;let ee=t.formatters[z];if(typeof ee=="function"){let he=v[X];J=ee.call(S,he),v.splice(X,1),X--}return J}),t.formatArgs.call(S,v),(S.log||t.log).apply(S,v)}return g.namespace=l,g.useColors=t.useColors(),g.color=t.selectColor(l),g.extend=n,g.destroy=t.destroy,Object.defineProperty(g,"enabled",{enumerable:!0,configurable:!1,get:()=>d!==null?d:(h!==t.namespaces&&(h=t.namespaces,f=t.enabled(l)),f),set:v=>{d=v}}),typeof t.init=="function"&&t.init(g),g}function n(l,p){let d=t(this.namespace+(typeof p>"u"?":":p)+l);return d.log=this.log,d}function i(l){t.save(l),t.namespaces=l,t.names=[],t.skips=[];let p,d=(typeof l=="string"?l:"").split(/[\s,]+/),h=d.length;for(p=0;p<h;p++)d[p]&&(l=d[p].replace(/\*/g,".*?"),l[0]==="-"?t.skips.push(new RegExp("^"+l.slice(1)+"$")):t.names.push(new RegExp("^"+l+"$")))}function o(){let l=[...t.names.map(a),...t.skips.map(a).map(p=>"-"+p)].join(",");return t.enable(""),l}function s(l){if(l[l.length-1]==="*")return!0;let p,d;for(p=0,d=t.skips.length;p<d;p++)if(t.skips[p].test(l))return!1;for(p=0,d=t.names.length;p<d;p++)if(t.names[p].test(l))return!0;return!1}function a(l){return l.toString().substring(2,l.toString().length-2).replace(/\.\*\?$/,"*")}function c(l){return l instanceof Error?l.stack||l.message:l}function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return t.enable(t.load()),t}IV.exports=fle});var _V=b((Sn,dx)=>{Sn.formatArgs=hle;Sn.save=gle;Sn.load=Hle;Sn.useColors=mle;Sn.storage=yle();Sn.destroy=(()=>{let r=!1;return()=>{r||(r=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();Sn.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function mle(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function hle(r){if(r[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+r[0]+(this.useColors?"%c ":" ")+"+"+dx.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;r.splice(1,0,e,"color: inherit");let t=0,n=0;r[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(t++,i==="%c"&&(n=t))}),r.splice(n,0,e)}Sn.log=console.debug||console.log||(()=>{});function gle(r){try{r?Sn.storage.setItem("debug",r):Sn.storage.removeItem("debug")}catch{}}function Hle(){let r;try{r=Sn.storage.getItem("debug")}catch{}return!r&&typeof process<"u"&&"env"in process&&(r=process.env.DEBUG),r}function yle(){try{return localStorage}catch{}}dx.exports=AP()(Sn);var{formatters:ble}=dx.exports;ble.j=function(r){try{return JSON.stringify(r)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var SV=b((IFe,AV)=>{"use strict";AV.exports=(r,e)=>{e=e||process.argv;let t=r.startsWith("-")?"":r.length===1?"-":"--",n=e.indexOf(t+r),i=e.indexOf("--");return n!==-1&&(i===-1?!0:n<i)}});var PV=b((_Fe,EV)=>{"use strict";var vle=require("os"),Li=SV(),Dr=process.env,Up;Li("no-color")||Li("no-colors")||Li("color=false")?Up=!1:(Li("color")||Li("colors")||Li("color=true")||Li("color=always"))&&(Up=!0);"FORCE_COLOR"in Dr&&(Up=Dr.FORCE_COLOR.length===0||parseInt(Dr.FORCE_COLOR,10)!==0);function xle(r){return r===0?!1:{level:r,hasBasic:!0,has256:r>=2,has16m:r>=3}}function wle(r){if(Up===!1)return 0;if(Li("color=16m")||Li("color=full")||Li("color=truecolor"))return 3;if(Li("color=256"))return 2;if(r&&!r.isTTY&&Up!==!0)return 0;let e=Up?1:0;if(process.platform==="win32"){let t=vle.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(t[0])>=10&&Number(t[2])>=10586?Number(t[2])>=14931?3:2:1}if("CI"in Dr)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(t=>t in Dr)||Dr.CI_NAME==="codeship"?1:e;if("TEAMCITY_VERSION"in Dr)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(Dr.TEAMCITY_VERSION)?1:0;if(Dr.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in Dr){let t=parseInt((Dr.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(Dr.TERM_PROGRAM){case"iTerm.app":return t>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(Dr.TERM)?2:/^screen|^xterm|^vt100|^rxvt|color|ansi|cygwin|linux/i.test(Dr.TERM)||"COLORTERM"in Dr?1:(Dr.TERM==="dumb",e)}function SP(r){let e=wle(r);return xle(e)}EV.exports={supportsColor:SP,stdout:SP(process.stdout),stderr:SP(process.stderr)}});var TV=b((yr,mx)=>{var Ile=require("tty"),fx=require("util");yr.init=Tle;yr.log=Ele;yr.formatArgs=Ale;yr.save=Ple;yr.load=Cle;yr.useColors=_le;yr.destroy=fx.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");yr.colors=[6,2,3,4,5,1];try{let r=PV();r&&(r.stderr||r).level>=2&&(yr.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}yr.inspectOpts=Object.keys(process.env).filter(r=>/^debug_/i.test(r)).reduce((r,e)=>{let t=e.substring(6).toLowerCase().replace(/_([a-z])/g,(i,o)=>o.toUpperCase()),n=process.env[e];return/^(yes|on|true|enabled)$/i.test(n)?n=!0:/^(no|off|false|disabled)$/i.test(n)?n=!1:n==="null"?n=null:n=Number(n),r[t]=n,r},{});function _le(){return"colors"in yr.inspectOpts?!!yr.inspectOpts.colors:Ile.isatty(process.stderr.fd)}function Ale(r){let{namespace:e,useColors:t}=this;if(t){let n=this.color,i="\x1B[3"+(n<8?n:"8;5;"+n),o=`  ${i};1m${e} \x1B[0m`;r[0]=o+r[0].split(`
`).join(`
`+o),r.push(i+"m+"+mx.exports.humanize(this.diff)+"\x1B[0m")}else r[0]=Sle()+e+" "+r[0]}function Sle(){return yr.inspectOpts.hideDate?"":new Date().toISOString()+" "}function Ele(...r){return process.stderr.write(fx.format(...r)+`
`)}function Ple(r){r?process.env.DEBUG=r:delete process.env.DEBUG}function Cle(){return process.env.DEBUG}function Tle(r){r.inspectOpts={};let e=Object.keys(yr.inspectOpts);for(let t=0;t<e.length;t++)r.inspectOpts[e[t]]=yr.inspectOpts[e[t]]}mx.exports=AP()(yr);var{formatters:CV}=mx.exports;CV.o=function(r){return this.inspectOpts.colors=this.useColors,fx.inspect(r,this.inspectOpts).split(`
`).map(e=>e.trim()).join(" ")};CV.O=function(r){return this.inspectOpts.colors=this.useColors,fx.inspect(r,this.inspectOpts)}});var LV=b((AFe,EP)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?EP.exports=_V():EP.exports=TV()});var $V=b((SFe,DV)=>{var nh;DV.exports=function(){if(!nh){try{nh=LV()("follow-redirects")}catch{}typeof nh!="function"&&(nh=function(){})}nh.apply(null,arguments)}});var NV=b((EFe,FP)=>{var sh=require("url"),ih=sh.URL,Lle=require("http"),Dle=require("https"),DP=require("stream").Writable,$P=require("assert"),kV=$V(),kP=!1;try{$P(new ih)}catch(r){kP=r.code==="ERR_INVALID_URL"}var $le=["auth","host","hostname","href","path","pathname","port","protocol","query","search"],RP=["abort","aborted","connect","error","socket","timeout"],MP=Object.create(null);RP.forEach(function(r){MP[r]=function(e,t,n){this._redirectable.emit(r,e,t,n)}});var CP=ah("ERR_INVALID_URL","Invalid URL",TypeError),TP=ah("ERR_FR_REDIRECTION_FAILURE","Redirected request failed"),kle=ah("ERR_FR_TOO_MANY_REDIRECTS","Maximum number of redirects exceeded",TP),Rle=ah("ERR_FR_MAX_BODY_LENGTH_EXCEEDED","Request body larger than maxBodyLength limit"),Mle=ah("ERR_STREAM_WRITE_AFTER_END","write after end"),Ole=DP.prototype.destroy||MV;function nn(r,e){DP.call(this),this._sanitizeOptions(r),this._options=r,this._ended=!1,this._ending=!1,this._redirectCount=0,this._redirects=[],this._requestBodyLength=0,this._requestBodyBuffers=[],e&&this.on("response",e);var t=this;this._onNativeResponse=function(n){try{t._processResponse(n)}catch(i){t.emit("error",i instanceof TP?i:new TP({cause:i}))}},this._performRequest()}nn.prototype=Object.create(DP.prototype);nn.prototype.abort=function(){NP(this._currentRequest),this._currentRequest.abort(),this.emit("abort")};nn.prototype.destroy=function(r){return NP(this._currentRequest,r),Ole.call(this,r),this};nn.prototype.write=function(r,e,t){if(this._ending)throw new Mle;if(!nu(r)&&!Ble(r))throw new TypeError("data should be a string, Buffer or Uint8Array");if(oh(e)&&(t=e,e=null),r.length===0){t&&t();return}this._requestBodyLength+r.length<=this._options.maxBodyLength?(this._requestBodyLength+=r.length,this._requestBodyBuffers.push({data:r,encoding:e}),this._currentRequest.write(r,e,t)):(this.emit("error",new Rle),this.abort())};nn.prototype.end=function(r,e,t){if(oh(r)?(t=r,r=e=null):oh(e)&&(t=e,e=null),!r)this._ended=this._ending=!0,this._currentRequest.end(null,null,t);else{var n=this,i=this._currentRequest;this.write(r,e,function(){n._ended=!0,i.end(null,null,t)}),this._ending=!0}};nn.prototype.setHeader=function(r,e){this._options.headers[r]=e,this._currentRequest.setHeader(r,e)};nn.prototype.removeHeader=function(r){delete this._options.headers[r],this._currentRequest.removeHeader(r)};nn.prototype.setTimeout=function(r,e){var t=this;function n(s){s.setTimeout(r),s.removeListener("timeout",s.destroy),s.addListener("timeout",s.destroy)}function i(s){t._timeout&&clearTimeout(t._timeout),t._timeout=setTimeout(function(){t.emit("timeout"),o()},r),n(s)}function o(){t._timeout&&(clearTimeout(t._timeout),t._timeout=null),t.removeListener("abort",o),t.removeListener("error",o),t.removeListener("response",o),t.removeListener("close",o),e&&t.removeListener("timeout",e),t.socket||t._currentRequest.removeListener("socket",i)}return e&&this.on("timeout",e),this.socket?i(this.socket):this._currentRequest.once("socket",i),this.on("socket",n),this.on("abort",o),this.on("error",o),this.on("response",o),this.on("close",o),this};["flushHeaders","getHeader","setNoDelay","setSocketKeepAlive"].forEach(function(r){nn.prototype[r]=function(e,t){return this._currentRequest[r](e,t)}});["aborted","connection","socket"].forEach(function(r){Object.defineProperty(nn.prototype,r,{get:function(){return this._currentRequest[r]}})});nn.prototype._sanitizeOptions=function(r){if(r.headers||(r.headers={}),r.host&&(r.hostname||(r.hostname=r.host),delete r.host),!r.pathname&&r.path){var e=r.path.indexOf("?");e<0?r.pathname=r.path:(r.pathname=r.path.substring(0,e),r.search=r.path.substring(e))}};nn.prototype._performRequest=function(){var r=this._options.protocol,e=this._options.nativeProtocols[r];if(!e)throw new TypeError("Unsupported protocol "+r);if(this._options.agents){var t=r.slice(0,-1);this._options.agent=this._options.agents[t]}var n=this._currentRequest=e.request(this._options,this._onNativeResponse);n._redirectable=this;for(var i of RP)n.on(i,MP[i]);if(this._currentUrl=/^\//.test(this._options.path)?sh.format(this._options):this._options.path,this._isRedirect){var o=0,s=this,a=this._requestBodyBuffers;(function c(u){if(n===s._currentRequest)if(u)s.emit("error",u);else if(o<a.length){var l=a[o++];n.finished||n.write(l.data,l.encoding,c)}else s._ended&&n.end()})()}};nn.prototype._processResponse=function(r){var e=r.statusCode;this._options.trackRedirects&&this._redirects.push({url:this._currentUrl,headers:r.headers,statusCode:e});var t=r.headers.location;if(!t||this._options.followRedirects===!1||e<300||e>=400){r.responseUrl=this._currentUrl,r.redirects=this._redirects,this.emit("response",r),this._requestBodyBuffers=[];return}if(NP(this._currentRequest),r.destroy(),++this._redirectCount>this._options.maxRedirects)throw new kle;var n,i=this._options.beforeRedirect;i&&(n=Object.assign({Host:r.req.getHeader("host")},this._options.headers));var o=this._options.method;((e===301||e===302)&&this._options.method==="POST"||e===303&&!/^(?:GET|HEAD)$/.test(this._options.method))&&(this._options.method="GET",this._requestBodyBuffers=[],PP(/^content-/i,this._options.headers));var s=PP(/^host$/i,this._options.headers),a=OP(this._currentUrl),c=s||a.host,u=/^\w+:/.test(t)?this._currentUrl:sh.format(Object.assign(a,{host:c})),l=Nle(t,u);if(kV("redirecting to",l.href),this._isRedirect=!0,LP(l,this._options),(l.protocol!==a.protocol&&l.protocol!=="https:"||l.host!==c&&!Fle(l.host,c))&&PP(/^(?:authorization|cookie)$/i,this._options.headers),oh(i)){var p={headers:r.headers,statusCode:e},d={url:u,method:o,headers:n};i(this._options,p,d),this._sanitizeOptions(this._options)}this._performRequest()};function RV(r){var e={maxRedirects:21,maxBodyLength:10485760},t={};return Object.keys(r).forEach(function(n){var i=n+":",o=t[i]=r[n],s=e[n]=Object.create(o);function a(u,l,p){return Ule(u)?u=LP(u):nu(u)?u=LP(OP(u)):(p=l,l=OV(u),u={protocol:i}),oh(l)&&(p=l,l=null),l=Object.assign({maxRedirects:e.maxRedirects,maxBodyLength:e.maxBodyLength},u,l),l.nativeProtocols=t,!nu(l.host)&&!nu(l.hostname)&&(l.hostname="::1"),$P.equal(l.protocol,i,"protocol mismatch"),kV("options",l),new nn(l,p)}function c(u,l,p){var d=s.request(u,l,p);return d.end(),d}Object.defineProperties(s,{request:{value:a,configurable:!0,enumerable:!0,writable:!0},get:{value:c,configurable:!0,enumerable:!0,writable:!0}})}),e}function MV(){}function OP(r){var e;if(kP)e=new ih(r);else if(e=OV(sh.parse(r)),!nu(e.protocol))throw new CP({input:r});return e}function Nle(r,e){return kP?new ih(r,e):OP(sh.resolve(e,r))}function OV(r){if(/^\[/.test(r.hostname)&&!/^\[[:0-9a-f]+\]$/i.test(r.hostname))throw new CP({input:r.href||r});if(/^\[/.test(r.host)&&!/^\[[:0-9a-f]+\](:\d+)?$/i.test(r.host))throw new CP({input:r.href||r});return r}function LP(r,e){var t=e||{};for(var n of $le)t[n]=r[n];return t.hostname.startsWith("[")&&(t.hostname=t.hostname.slice(1,-1)),t.port!==""&&(t.port=Number(t.port)),t.path=t.search?t.pathname+t.search:t.pathname,t}function PP(r,e){var t;for(var n in e)r.test(n)&&(t=e[n],delete e[n]);return t===null||typeof t>"u"?void 0:String(t).trim()}function ah(r,e,t){function n(i){Error.captureStackTrace(this,this.constructor),Object.assign(this,i||{}),this.code=r,this.message=this.cause?e+": "+this.cause.message:e}return n.prototype=new(t||Error),Object.defineProperties(n.prototype,{constructor:{value:n,enumerable:!1},name:{value:"Error ["+r+"]",enumerable:!1}}),n}function NP(r,e){for(var t of RP)r.removeListener(t,MP[t]);r.on("error",MV),r.destroy(e)}function Fle(r,e){$P(nu(r)&&nu(e));var t=r.length-e.length-1;return t>0&&r[t]==="."&&r.endsWith(e)}function nu(r){return typeof r=="string"||r instanceof String}function oh(r){return typeof r=="function"}function Ble(r){return typeof r=="object"&&"length"in r}function Ule(r){return ih&&r instanceof ih}FP.exports=RV({http:Lle,https:Dle});FP.exports.wrap=RV});var P8=b((PFe,E8)=>{"use strict";var jle=yV(),Wle=require("url"),qle=vV(),Vle=require("http"),Gle=require("https"),r8=require("util"),zle=NV(),Kle=require("zlib"),n8=require("stream"),Xle=require("events");function ys(r){return r&&typeof r=="object"&&"default"in r?r:{default:r}}var i8=ys(jle),Jle=ys(Wle),Yle=ys(Vle),Qle=ys(Gle),Zle=ys(r8),epe=ys(zle),ka=ys(Kle),Da=ys(n8),tpe=ys(Xle);function o8(r,e){return function(){return r.apply(e,arguments)}}var{toString:rpe}=Object.prototype,{getPrototypeOf:eC}=Object,vx=(r=>e=>{let t=rpe.call(e);return r[t]||(r[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Co=r=>(r=r.toLowerCase(),e=>vx(e)===r),xx=r=>e=>typeof e===r,{isArray:Vp}=Array,lh=xx("undefined");function npe(r){return r!==null&&!lh(r)&&r.constructor!==null&&!lh(r.constructor)&&ni(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}var s8=Co("ArrayBuffer");function ipe(r){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(r):e=r&&r.buffer&&s8(r.buffer),e}var ope=xx("string"),ni=xx("function"),a8=xx("number"),wx=r=>r!==null&&typeof r=="object",spe=r=>r===!0||r===!1,gx=r=>{if(vx(r)!=="object")return!1;let e=eC(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},ape=Co("Date"),cpe=Co("File"),upe=Co("Blob"),lpe=Co("FileList"),ppe=r=>wx(r)&&ni(r.pipe),dpe=r=>{let e;return r&&(typeof FormData=="function"&&r instanceof FormData||ni(r.append)&&((e=vx(r))==="formdata"||e==="object"&&ni(r.toString)&&r.toString()==="[object FormData]"))},fpe=Co("URLSearchParams"),mpe=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function dh(r,e,{allOwnKeys:t=!1}={}){if(r===null||typeof r>"u")return;let n,i;if(typeof r!="object"&&(r=[r]),Vp(r))for(n=0,i=r.length;n<i;n++)e.call(null,r[n],n,r);else{let o=t?Object.getOwnPropertyNames(r):Object.keys(r),s=o.length,a;for(n=0;n<s;n++)a=o[n],e.call(null,r[a],a,r)}}function c8(r,e){e=e.toLowerCase();let t=Object.keys(r),n=t.length,i;for(;n-- >0;)if(i=t[n],e===i.toLowerCase())return i;return null}var u8=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,l8=r=>!lh(r)&&r!==u8;function qP(){let{caseless:r}=l8(this)&&this||{},e={},t=(n,i)=>{let o=r&&c8(e,i)||i;gx(e[o])&&gx(n)?e[o]=qP(e[o],n):gx(n)?e[o]=qP({},n):Vp(n)?e[o]=n.slice():e[o]=n};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&dh(arguments[n],t);return e}var hpe=(r,e,t,{allOwnKeys:n}={})=>(dh(e,(i,o)=>{t&&ni(i)?r[o]=o8(i,t):r[o]=i},{allOwnKeys:n}),r),gpe=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),Hpe=(r,e,t,n)=>{r.prototype=Object.create(e.prototype,n),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:e.prototype}),t&&Object.assign(r.prototype,t)},ype=(r,e,t,n)=>{let i,o,s,a={};if(e=e||{},r==null)return e;do{for(i=Object.getOwnPropertyNames(r),o=i.length;o-- >0;)s=i[o],(!n||n(s,r,e))&&!a[s]&&(e[s]=r[s],a[s]=!0);r=t!==!1&&eC(r)}while(r&&(!t||t(r,e))&&r!==Object.prototype);return e},bpe=(r,e,t)=>{r=String(r),(t===void 0||t>r.length)&&(t=r.length),t-=e.length;let n=r.indexOf(e,t);return n!==-1&&n===t},vpe=r=>{if(!r)return null;if(Vp(r))return r;let e=r.length;if(!a8(e))return null;let t=new Array(e);for(;e-- >0;)t[e]=r[e];return t},xpe=(r=>e=>r&&e instanceof r)(typeof Uint8Array<"u"&&eC(Uint8Array)),wpe=(r,e)=>{let n=(r&&r[Symbol.iterator]).call(r),i;for(;(i=n.next())&&!i.done;){let o=i.value;e.call(r,o[0],o[1])}},Ipe=(r,e)=>{let t,n=[];for(;(t=r.exec(e))!==null;)n.push(t);return n},_pe=Co("HTMLFormElement"),Ape=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,n,i){return n.toUpperCase()+i}),FV=(({hasOwnProperty:r})=>(e,t)=>r.call(e,t))(Object.prototype),Spe=Co("RegExp"),p8=(r,e)=>{let t=Object.getOwnPropertyDescriptors(r),n={};dh(t,(i,o)=>{let s;(s=e(i,o,r))!==!1&&(n[o]=s||i)}),Object.defineProperties(r,n)},Epe=r=>{p8(r,(e,t)=>{if(ni(r)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;let n=r[t];if(ni(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},Ppe=(r,e)=>{let t={},n=i=>{i.forEach(o=>{t[o]=!0})};return Vp(r)?n(r):n(String(r).split(e)),t},Cpe=()=>{},Tpe=(r,e)=>(r=+r,Number.isFinite(r)?r:e),BP="abcdefghijklmnopqrstuvwxyz",BV="0123456789",d8={DIGIT:BV,ALPHA:BP,ALPHA_DIGIT:BP+BP.toUpperCase()+BV},Lpe=(r=16,e=d8.ALPHA_DIGIT)=>{let t="",{length:n}=e;for(;r--;)t+=e[Math.random()*n|0];return t};function Dpe(r){return!!(r&&ni(r.append)&&r[Symbol.toStringTag]==="FormData"&&r[Symbol.iterator])}var $pe=r=>{let e=new Array(10),t=(n,i)=>{if(wx(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[i]=n;let o=Vp(n)?[]:{};return dh(n,(s,a)=>{let c=t(s,i+1);!lh(c)&&(o[a]=c)}),e[i]=void 0,o}}return n};return t(r,0)},kpe=Co("AsyncFunction"),Rpe=r=>r&&(wx(r)||ni(r))&&ni(r.then)&&ni(r.catch),D={isArray:Vp,isArrayBuffer:s8,isBuffer:npe,isFormData:dpe,isArrayBufferView:ipe,isString:ope,isNumber:a8,isBoolean:spe,isObject:wx,isPlainObject:gx,isUndefined:lh,isDate:ape,isFile:cpe,isBlob:upe,isRegExp:Spe,isFunction:ni,isStream:ppe,isURLSearchParams:fpe,isTypedArray:xpe,isFileList:lpe,forEach:dh,merge:qP,extend:hpe,trim:mpe,stripBOM:gpe,inherits:Hpe,toFlatObject:ype,kindOf:vx,kindOfTest:Co,endsWith:bpe,toArray:vpe,forEachEntry:wpe,matchAll:Ipe,isHTMLForm:_pe,hasOwnProperty:FV,hasOwnProp:FV,reduceDescriptors:p8,freezeMethods:Epe,toObjectSet:Ppe,toCamelCase:Ape,noop:Cpe,toFiniteNumber:Tpe,findKey:c8,global:u8,isContextDefined:l8,ALPHABET:d8,generateString:Lpe,isSpecCompliantForm:Dpe,toJSONObject:$pe,isAsyncFn:kpe,isThenable:Rpe};function fe(r,e,t,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),n&&(this.request=n),i&&(this.response=i)}D.inherits(fe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:D.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var f8=fe.prototype,m8={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{m8[r]={value:r}});Object.defineProperties(fe,m8);Object.defineProperty(f8,"isAxiosError",{value:!0});fe.from=(r,e,t,n,i,o)=>{let s=Object.create(f8);return D.toFlatObject(r,s,function(c){return c!==Error.prototype},a=>a!=="isAxiosError"),fe.call(s,r.message,e,t,n,i),s.cause=r,s.name=r.name,o&&Object.assign(s,o),s};function VP(r){return D.isPlainObject(r)||D.isArray(r)}function h8(r){return D.endsWith(r,"[]")?r.slice(0,-2):r}function UV(r,e,t){return r?r.concat(e).map(function(i,o){return i=h8(i),!t&&o?"["+i+"]":i}).join(t?".":""):e}function Mpe(r){return D.isArray(r)&&!r.some(VP)}var Ope=D.toFlatObject(D,{},null,function(e){return/^is[A-Z]/.test(e)});function Ix(r,e,t){if(!D.isObject(r))throw new TypeError("target must be an object");e=e||new(i8.default||FormData),t=D.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,v){return!D.isUndefined(v[g])});let n=t.metaTokens,i=t.visitor||l,o=t.dots,s=t.indexes,c=(t.Blob||typeof Blob<"u"&&Blob)&&D.isSpecCompliantForm(e);if(!D.isFunction(i))throw new TypeError("visitor must be a function");function u(f){if(f===null)return"";if(D.isDate(f))return f.toISOString();if(!c&&D.isBlob(f))throw new fe("Blob is not supported. Use a Buffer instead.");return D.isArrayBuffer(f)||D.isTypedArray(f)?c&&typeof Blob=="function"?new Blob([f]):Buffer.from(f):f}function l(f,g,v){let S=f;if(f&&!v&&typeof f=="object"){if(D.endsWith(g,"{}"))g=n?g:g.slice(0,-2),f=JSON.stringify(f);else if(D.isArray(f)&&Mpe(f)||(D.isFileList(f)||D.endsWith(g,"[]"))&&(S=D.toArray(f)))return g=h8(g),S.forEach(function(F,X){!(D.isUndefined(F)||F===null)&&e.append(s===!0?UV([g],X,o):s===null?g:g+"[]",u(F))}),!1}return VP(f)?!0:(e.append(UV(v,g,o),u(f)),!1)}let p=[],d=Object.assign(Ope,{defaultVisitor:l,convertValue:u,isVisitable:VP});function h(f,g){if(!D.isUndefined(f)){if(p.indexOf(f)!==-1)throw Error("Circular reference detected in "+g.join("."));p.push(f),D.forEach(f,function(S,R){(!(D.isUndefined(S)||S===null)&&i.call(e,S,D.isString(R)?R.trim():R,g,d))===!0&&h(S,g?g.concat(R):[R])}),p.pop()}}if(!D.isObject(r))throw new TypeError("data must be an object");return h(r),e}function jV(r){let e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function g8(r,e){this._pairs=[],r&&Ix(r,this,e)}var H8=g8.prototype;H8.append=function(e,t){this._pairs.push([e,t])};H8.toString=function(e){let t=e?function(n){return e.call(this,n,jV)}:jV;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function Npe(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function tC(r,e,t){if(!e)return r;let n=t&&t.encode||Npe,i=t&&t.serialize,o;if(i?o=i(e,t):o=D.isURLSearchParams(e)?e.toString():new g8(e,t).toString(n),o){let s=r.indexOf("#");s!==-1&&(r=r.slice(0,s)),r+=(r.indexOf("?")===-1?"?":"&")+o}return r}var GP=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){D.forEach(this.handlers,function(n){n!==null&&e(n)})}},WV=GP,rC={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Fpe=Jle.default.URLSearchParams,Bpe={isNode:!0,classes:{URLSearchParams:Fpe,FormData:i8.default,Blob:typeof Blob<"u"&&Blob||null},protocols:["http","https","file","data"]},y8=typeof window<"u"&&typeof document<"u",Upe=(r=>y8&&["ReactNative","NativeScript","NS"].indexOf(r)<0)(typeof navigator<"u"&&navigator.product),jpe=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Wpe=Object.freeze({__proto__:null,hasBrowserEnv:y8,hasStandardBrowserWebWorkerEnv:jpe,hasStandardBrowserEnv:Upe}),ri={...Wpe,...Bpe};function qpe(r,e){return Ix(r,new ri.classes.URLSearchParams,Object.assign({visitor:function(t,n,i,o){return ri.isNode&&D.isBuffer(t)?(this.append(n,t.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function Vpe(r){return D.matchAll(/\w+|\[(\w*)]/g,r).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Gpe(r){let e={},t=Object.keys(r),n,i=t.length,o;for(n=0;n<i;n++)o=t[n],e[o]=r[o];return e}function b8(r){function e(t,n,i,o){let s=t[o++],a=Number.isFinite(+s),c=o>=t.length;return s=!s&&D.isArray(i)?i.length:s,c?(D.hasOwnProp(i,s)?i[s]=[i[s],n]:i[s]=n,!a):((!i[s]||!D.isObject(i[s]))&&(i[s]=[]),e(t,n,i[s],o)&&D.isArray(i[s])&&(i[s]=Gpe(i[s])),!a)}if(D.isFormData(r)&&D.isFunction(r.entries)){let t={};return D.forEachEntry(r,(n,i)=>{e(Vpe(n),i,t,0)}),t}return null}function zpe(r,e,t){if(D.isString(r))try{return(e||JSON.parse)(r),D.trim(r)}catch(n){if(n.name!=="SyntaxError")throw n}return(t||JSON.stringify)(r)}var nC={transitional:rC,adapter:["xhr","http"],transformRequest:[function(e,t){let n=t.getContentType()||"",i=n.indexOf("application/json")>-1,o=D.isObject(e);if(o&&D.isHTMLForm(e)&&(e=new FormData(e)),D.isFormData(e))return i&&i?JSON.stringify(b8(e)):e;if(D.isArrayBuffer(e)||D.isBuffer(e)||D.isStream(e)||D.isFile(e)||D.isBlob(e))return e;if(D.isArrayBufferView(e))return e.buffer;if(D.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return qpe(e,this.formSerializer).toString();if((a=D.isFileList(e))||n.indexOf("multipart/form-data")>-1){let c=this.env&&this.env.FormData;return Ix(a?{"files[]":e}:e,c&&new c,this.formSerializer)}}return o||i?(t.setContentType("application/json",!1),zpe(e)):e}],transformResponse:[function(e){let t=this.transitional||nC.transitional,n=t&&t.forcedJSONParsing,i=this.responseType==="json";if(e&&D.isString(e)&&(n&&!this.responseType||i)){let s=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(s)throw a.name==="SyntaxError"?fe.from(a,fe.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ri.classes.FormData,Blob:ri.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};D.forEach(["delete","get","head","post","put","patch"],r=>{nC.headers[r]={}});var iC=nC,Kpe=D.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Xpe=r=>{let e={},t,n,i;return r&&r.split(`
`).forEach(function(s){i=s.indexOf(":"),t=s.substring(0,i).trim().toLowerCase(),n=s.substring(i+1).trim(),!(!t||e[t]&&Kpe[t])&&(t==="set-cookie"?e[t]?e[t].push(n):e[t]=[n]:e[t]=e[t]?e[t]+", "+n:n)}),e},qV=Symbol("internals");function ch(r){return r&&String(r).trim().toLowerCase()}function Hx(r){return r===!1||r==null?r:D.isArray(r)?r.map(Hx):String(r)}function Jpe(r){let e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g,n;for(;n=t.exec(r);)e[n[1]]=n[2];return e}var Ype=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function UP(r,e,t,n,i){if(D.isFunction(n))return n.call(this,e,t);if(i&&(e=t),!!D.isString(e)){if(D.isString(n))return e.indexOf(n)!==-1;if(D.isRegExp(n))return n.test(e)}}function Qpe(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}function Zpe(r,e){let t=D.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(r,n+t,{value:function(i,o,s){return this[n].call(this,e,i,o,s)},configurable:!0})})}var jp=class{constructor(e){e&&this.set(e)}set(e,t,n){let i=this;function o(a,c,u){let l=ch(c);if(!l)throw new Error("header name must be a non-empty string");let p=D.findKey(i,l);(!p||i[p]===void 0||u===!0||u===void 0&&i[p]!==!1)&&(i[p||c]=Hx(a))}let s=(a,c)=>D.forEach(a,(u,l)=>o(u,l,c));return D.isPlainObject(e)||e instanceof this.constructor?s(e,t):D.isString(e)&&(e=e.trim())&&!Ype(e)?s(Xpe(e),t):e!=null&&o(t,e,n),this}get(e,t){if(e=ch(e),e){let n=D.findKey(this,e);if(n){let i=this[n];if(!t)return i;if(t===!0)return Jpe(i);if(D.isFunction(t))return t.call(this,i,n);if(D.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=ch(e),e){let n=D.findKey(this,e);return!!(n&&this[n]!==void 0&&(!t||UP(this,this[n],n,t)))}return!1}delete(e,t){let n=this,i=!1;function o(s){if(s=ch(s),s){let a=D.findKey(n,s);a&&(!t||UP(n,n[a],a,t))&&(delete n[a],i=!0)}}return D.isArray(e)?e.forEach(o):o(e),i}clear(e){let t=Object.keys(this),n=t.length,i=!1;for(;n--;){let o=t[n];(!e||UP(this,this[o],o,e,!0))&&(delete this[o],i=!0)}return i}normalize(e){let t=this,n={};return D.forEach(this,(i,o)=>{let s=D.findKey(n,o);if(s){t[s]=Hx(i),delete t[o];return}let a=e?Qpe(o):String(o).trim();a!==o&&delete t[o],t[a]=Hx(i),n[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){let t=Object.create(null);return D.forEach(this,(n,i)=>{n!=null&&n!==!1&&(t[i]=e&&D.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){let n=new this(e);return t.forEach(i=>n.set(i)),n}static accessor(e){let n=(this[qV]=this[qV]={accessors:{}}).accessors,i=this.prototype;function o(s){let a=ch(s);n[a]||(Zpe(i,s),n[a]=!0)}return D.isArray(e)?e.forEach(o):o(e),this}};jp.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);D.reduceDescriptors(jp.prototype,({value:r},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>r,set(n){this[t]=n}}});D.freezeMethods(jp);var ii=jp;function jP(r,e){let t=this||iC,n=e||t,i=ii.from(n.headers),o=n.data;return D.forEach(r,function(a){o=a.call(t,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function v8(r){return!!(r&&r.__CANCEL__)}function iu(r,e,t){fe.call(this,r??"canceled",fe.ERR_CANCELED,e,t),this.name="CanceledError"}D.inherits(iu,fe,{__CANCEL__:!0});function uh(r,e,t){let n=t.config.validateStatus;!t.status||!n||n(t.status)?r(t):e(new fe("Request failed with status code "+t.status,[fe.ERR_BAD_REQUEST,fe.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function ede(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function tde(r,e){return e?r.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):r}function oC(r,e){return r&&!ede(e)?tde(r,e):e}var bx="1.6.1";function x8(r){let e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return e&&e[1]||""}var rde=/^(?:([^;]+);)?(?:[^;]+;)?(base64|),([\s\S]*)$/;function nde(r,e,t){let n=t&&t.Blob||ri.classes.Blob,i=x8(r);if(e===void 0&&n&&(e=!0),i==="data"){r=i.length?r.slice(i.length+1):r;let o=rde.exec(r);if(!o)throw new fe("Invalid URL",fe.ERR_INVALID_URL);let s=o[1],a=o[2],c=o[3],u=Buffer.from(decodeURIComponent(c),a?"base64":"utf8");if(e){if(!n)throw new fe("Blob is not supported",fe.ERR_NOT_SUPPORT);return new n([u],{type:s})}return u}throw new fe("Unsupported protocol "+i,fe.ERR_NOT_SUPPORT)}function ide(r,e){let t=0,n=1e3/e,i=null;return function(s,a){let c=Date.now();if(s||c-t>n)return i&&(clearTimeout(i),i=null),t=c,r.apply(null,a);i||(i=setTimeout(()=>(i=null,t=Date.now(),r.apply(null,a)),n-(c-t)))}}function w8(r,e){r=r||10;let t=new Array(r),n=new Array(r),i=0,o=0,s;return e=e!==void 0?e:1e3,function(c){let u=Date.now(),l=n[o];s||(s=u),t[i]=c,n[i]=u;let p=o,d=0;for(;p!==i;)d+=t[p++],p=p%r;if(i=(i+1)%r,i===o&&(o=(o+1)%r),u-s<e)return;let h=l&&u-l;return h?Math.round(d*1e3/h):void 0}}var hx=Symbol("internals"),zP=class extends Da.default.Transform{constructor(e){e=D.toFlatObject(e,{maxRate:0,chunkSize:64*1024,minChunkSize:100,timeWindow:500,ticksRate:2,samplesCount:15},null,(a,c)=>!D.isUndefined(c[a])),super({readableHighWaterMark:e.chunkSize});let t=this,n=this[hx]={length:e.length,timeWindow:e.timeWindow,ticksRate:e.ticksRate,chunkSize:e.chunkSize,maxRate:e.maxRate,minChunkSize:e.minChunkSize,bytesSeen:0,isCaptured:!1,notifiedBytesLoaded:0,ts:Date.now(),bytes:0,onReadCallback:null},i=w8(n.ticksRate*e.samplesCount,n.timeWindow);this.on("newListener",a=>{a==="progress"&&(n.isCaptured||(n.isCaptured=!0))});let o=0;n.updateProgress=ide(function(){let c=n.length,u=n.bytesSeen,l=u-o;if(!l||t.destroyed)return;let p=i(l);o=u,process.nextTick(()=>{t.emit("progress",{loaded:u,total:c,progress:c?u/c:void 0,bytes:l,rate:p||void 0,estimated:p&&c&&u<=c?(c-u)/p:void 0})})},n.ticksRate);let s=()=>{n.updateProgress(!0)};this.once("end",s),this.once("error",s)}_read(e){let t=this[hx];return t.onReadCallback&&t.onReadCallback(),super._read(e)}_transform(e,t,n){let i=this,o=this[hx],s=o.maxRate,a=this.readableHighWaterMark,c=o.timeWindow,u=1e3/c,l=s/u,p=o.minChunkSize!==!1?Math.max(o.minChunkSize,l*.01):0;function d(f,g){let v=Buffer.byteLength(f);o.bytesSeen+=v,o.bytes+=v,o.isCaptured&&o.updateProgress(),i.push(f)?process.nextTick(g):o.onReadCallback=()=>{o.onReadCallback=null,process.nextTick(g)}}let h=(f,g)=>{let v=Buffer.byteLength(f),S=null,R=a,F,X=0;if(s){let G=Date.now();(!o.ts||(X=G-o.ts)>=c)&&(o.ts=G,F=l-o.bytes,o.bytes=F<0?-F:0,X=0),F=l-o.bytes}if(s){if(F<=0)return setTimeout(()=>{g(null,f)},c-X);F<R&&(R=F)}R&&v>R&&v-R>p&&(S=f.subarray(R),f=f.subarray(0,R)),d(f,S?()=>{process.nextTick(g,null,S)}:g)};h(e,function f(g,v){if(g)return n(g);v?h(v,f):n(null)})}setLength(e){return this[hx].length=+e,this}},VV=zP,{asyncIterator:GV}=Symbol,ode=async function*(r){r.stream?yield*r.stream():r.arrayBuffer?yield await r.arrayBuffer():r[GV]?yield*r[GV]():yield r},I8=ode,sde=D.ALPHABET.ALPHA_DIGIT+"-_",ph=new r8.TextEncoder,$a=`\r
`,ade=ph.encode($a),cde=2,KP=class{constructor(e,t){let{escapeName:n}=this.constructor,i=D.isString(t),o=`Content-Disposition: form-data; name="${n(e)}"${!i&&t.name?`; filename="${n(t.name)}"`:""}${$a}`;i?t=ph.encode(String(t).replace(/\r?\n|\r\n?/g,$a)):o+=`Content-Type: ${t.type||"application/octet-stream"}${$a}`,this.headers=ph.encode(o+$a),this.contentLength=i?t.byteLength:t.size,this.size=this.headers.byteLength+this.contentLength+cde,this.name=e,this.value=t}async*encode(){yield this.headers;let{value:e}=this;D.isTypedArray(e)?yield e:yield*I8(e),yield ade}static escapeName(e){return String(e).replace(/[\r\n"]/g,t=>({"\r":"%0D","\n":"%0A",'"':"%22"})[t])}},ude=(r,e,t)=>{let{tag:n="form-data-boundary",size:i=25,boundary:o=n+"-"+D.generateString(i,sde)}=t||{};if(!D.isFormData(r))throw TypeError("FormData instance required");if(o.length<1||o.length>70)throw Error("boundary must be 10-70 characters long");let s=ph.encode("--"+o+$a),a=ph.encode("--"+o+"--"+$a+$a),c=a.byteLength,u=Array.from(r.entries()).map(([p,d])=>{let h=new KP(p,d);return c+=h.size,h});c+=s.byteLength*u.length,c=D.toFiniteNumber(c);let l={"Content-Type":`multipart/form-data; boundary=${o}`};return Number.isFinite(c)&&(l["Content-Length"]=c),e&&e(l),n8.Readable.from(async function*(){for(let p of u)yield s,yield*p.encode();yield a}())},lde=ude,XP=class extends Da.default.Transform{__transform(e,t,n){this.push(e),n()}_transform(e,t,n){if(e.length!==0&&(this._transform=this.__transform,e[0]!==120)){let i=Buffer.alloc(2);i[0]=120,i[1]=156,this.push(i,t)}this.__transform(e,t,n)}},pde=XP,dde=(r,e)=>D.isAsyncFn(r)?function(...t){let n=t.pop();r.apply(this,t).then(i=>{try{e?n(null,...e(i)):n(null,i)}catch(o){n(o)}},n)}:r,fde=dde,zV={flush:ka.default.constants.Z_SYNC_FLUSH,finishFlush:ka.default.constants.Z_SYNC_FLUSH},mde={flush:ka.default.constants.BROTLI_OPERATION_FLUSH,finishFlush:ka.default.constants.BROTLI_OPERATION_FLUSH},KV=D.isFunction(ka.default.createBrotliDecompress),{http:hde,https:gde}=epe.default,Hde=/https:?/,XV=ri.protocols.map(r=>r+":");function yde(r){r.beforeRedirects.proxy&&r.beforeRedirects.proxy(r),r.beforeRedirects.config&&r.beforeRedirects.config(r)}function _8(r,e,t){let n=e;if(!n&&n!==!1){let i=qle.getProxyForUrl(t);i&&(n=new URL(i))}if(n){if(n.username&&(n.auth=(n.username||"")+":"+(n.password||"")),n.auth){(n.auth.username||n.auth.password)&&(n.auth=(n.auth.username||"")+":"+(n.auth.password||""));let o=Buffer.from(n.auth,"utf8").toString("base64");r.headers["Proxy-Authorization"]="Basic "+o}r.headers.host=r.hostname+(r.port?":"+r.port:"");let i=n.hostname||n.host;r.hostname=i,r.host=i,r.port=n.port,r.path=t,n.protocol&&(r.protocol=n.protocol.includes(":")?n.protocol:`${n.protocol}:`)}r.beforeRedirects.proxy=function(o){_8(o,e,o.href)}}var bde=typeof process<"u"&&D.kindOf(process)==="process",vde=r=>new Promise((e,t)=>{let n,i,o=(c,u)=>{i||(i=!0,n&&n(c,u))},s=c=>{o(c),e(c)},a=c=>{o(c,!0),t(c)};r(s,a,c=>n=c).catch(a)}),xde=({address:r,family:e})=>{if(!D.isString(r))throw TypeError("address must be a string");return{address:r,family:e||(r.indexOf(".")<0?6:4)}},JV=(r,e)=>xde(D.isObject(r)?r:{address:r,family:e}),wde=bde&&function(e){return vde(async function(n,i,o){let{data:s,lookup:a,family:c}=e,{responseType:u,responseEncoding:l}=e,p=e.method.toUpperCase(),d,h=!1,f;if(a){let q=fde(a,j=>D.isArray(j)?j:[j]);a=(j,ye,Ue)=>{q(j,ye,(Ae,oe,vt)=>{let Mt=D.isArray(oe)?oe.map(Ie=>JV(Ie)):[JV(oe,vt)];ye.all?Ue(Ae,Mt):Ue(Ae,Mt[0].address,Mt[0].family)})}}let g=new tpe.default,v=()=>{e.cancelToken&&e.cancelToken.unsubscribe(S),e.signal&&e.signal.removeEventListener("abort",S),g.removeAllListeners()};o((q,j)=>{d=!0,j&&(h=!0,v())});function S(q){g.emit("abort",!q||q.type?new iu(null,e,f):q)}g.once("abort",i),(e.cancelToken||e.signal)&&(e.cancelToken&&e.cancelToken.subscribe(S),e.signal&&(e.signal.aborted?S():e.signal.addEventListener("abort",S)));let R=oC(e.baseURL,e.url),F=new URL(R,"http://localhost"),X=F.protocol||XV[0];if(X==="data:"){let q;if(p!=="GET")return uh(n,i,{status:405,statusText:"method not allowed",headers:{},config:e});try{q=nde(e.url,u==="blob",{Blob:e.env&&e.env.Blob})}catch(j){throw fe.from(j,fe.ERR_BAD_REQUEST,e)}return u==="text"?(q=q.toString(l),(!l||l==="utf8")&&(q=D.stripBOM(q))):u==="stream"&&(q=Da.default.Readable.from(q)),uh(n,i,{data:q,status:200,statusText:"OK",headers:new ii,config:e})}if(XV.indexOf(X)===-1)return i(new fe("Unsupported protocol "+X,fe.ERR_BAD_REQUEST,e));let G=ii.from(e.headers).normalize();G.set("User-Agent","axios/"+bx,!1);let J=e.onDownloadProgress,z=e.onUploadProgress,ee=e.maxRate,he,Le;if(D.isSpecCompliantForm(s)){let q=G.getContentType(/boundary=([-_\w\d]{10,70})/i);s=lde(s,j=>{G.set(j)},{tag:`axios-${bx}-boundary`,boundary:q&&q[1]||void 0})}else if(D.isFormData(s)&&D.isFunction(s.getHeaders)){if(G.set(s.getHeaders()),!G.hasContentLength())try{let q=await Zle.default.promisify(s.getLength).call(s);Number.isFinite(q)&&q>=0&&G.setContentLength(q)}catch{}}else if(D.isBlob(s))s.size&&G.setContentType(s.type||"application/octet-stream"),G.setContentLength(s.size||0),s=Da.default.Readable.from(I8(s));else if(s&&!D.isStream(s)){if(!Buffer.isBuffer(s))if(D.isArrayBuffer(s))s=Buffer.from(new Uint8Array(s));else if(D.isString(s))s=Buffer.from(s,"utf-8");else return i(new fe("Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream",fe.ERR_BAD_REQUEST,e));if(G.setContentLength(s.length,!1),e.maxBodyLength>-1&&s.length>e.maxBodyLength)return i(new fe("Request body larger than maxBodyLength limit",fe.ERR_BAD_REQUEST,e))}let O=D.toFiniteNumber(G.getContentLength());D.isArray(ee)?(he=ee[0],Le=ee[1]):he=Le=ee,s&&(z||he)&&(D.isStream(s)||(s=Da.default.Readable.from(s,{objectMode:!1})),s=Da.default.pipeline([s,new VV({length:O,maxRate:D.toFiniteNumber(he)})],D.noop),z&&s.on("progress",q=>{z(Object.assign(q,{upload:!0}))}));let Z;if(e.auth){let q=e.auth.username||"",j=e.auth.password||"";Z=q+":"+j}if(!Z&&F.username){let q=F.username,j=F.password;Z=q+":"+j}Z&&G.delete("authorization");let ue;try{ue=tC(F.pathname+F.search,e.params,e.paramsSerializer).replace(/^\?/,"")}catch(q){let j=new Error(q.message);return j.config=e,j.url=e.url,j.exists=!0,i(j)}G.set("Accept-Encoding","gzip, compress, deflate"+(KV?", br":""),!1);let me={path:ue,method:p,headers:G.toJSON(),agents:{http:e.httpAgent,https:e.httpsAgent},auth:Z,protocol:X,family:c,beforeRedirect:yde,beforeRedirects:{}};!D.isUndefined(a)&&(me.lookup=a),e.socketPath?me.socketPath=e.socketPath:(me.hostname=F.hostname,me.port=F.port,_8(me,e.proxy,X+"//"+F.hostname+(F.port?":"+F.port:"")+me.path));let L,k=Hde.test(me.protocol);if(me.agent=k?e.httpsAgent:e.httpAgent,e.transport?L=e.transport:e.maxRedirects===0?L=k?Qle.default:Yle.default:(e.maxRedirects&&(me.maxRedirects=e.maxRedirects),e.beforeRedirect&&(me.beforeRedirects.config=e.beforeRedirect),L=k?gde:hde),e.maxBodyLength>-1?me.maxBodyLength=e.maxBodyLength:me.maxBodyLength=1/0,e.insecureHTTPParser&&(me.insecureHTTPParser=e.insecureHTTPParser),f=L.request(me,function(j){if(f.destroyed)return;let ye=[j],Ue=+j.headers["content-length"];if(J){let Ie=new VV({length:D.toFiniteNumber(Ue),maxRate:D.toFiniteNumber(Le)});J&&Ie.on("progress",xe=>{J(Object.assign(xe,{download:!0}))}),ye.push(Ie)}let Ae=j,oe=j.req||f;if(e.decompress!==!1&&j.headers["content-encoding"])switch((p==="HEAD"||j.statusCode===204)&&delete j.headers["content-encoding"],(j.headers["content-encoding"]||"").toLowerCase()){case"gzip":case"x-gzip":case"compress":case"x-compress":ye.push(ka.default.createUnzip(zV)),delete j.headers["content-encoding"];break;case"deflate":ye.push(new pde),ye.push(ka.default.createUnzip(zV)),delete j.headers["content-encoding"];break;case"br":KV&&(ye.push(ka.default.createBrotliDecompress(mde)),delete j.headers["content-encoding"])}Ae=ye.length>1?Da.default.pipeline(ye,D.noop):ye[0];let vt=Da.default.finished(Ae,()=>{vt(),v()}),Mt={status:j.statusCode,statusText:j.statusMessage,headers:new ii(j.headers),config:e,request:oe};if(u==="stream")Mt.data=Ae,uh(n,i,Mt);else{let Ie=[],xe=0;Ae.on("data",function(at){Ie.push(at),xe+=at.length,e.maxContentLength>-1&&xe>e.maxContentLength&&(h=!0,Ae.destroy(),i(new fe("maxContentLength size of "+e.maxContentLength+" exceeded",fe.ERR_BAD_RESPONSE,e,oe)))}),Ae.on("aborted",function(){if(h)return;let at=new fe("maxContentLength size of "+e.maxContentLength+" exceeded",fe.ERR_BAD_RESPONSE,e,oe);Ae.destroy(at),i(at)}),Ae.on("error",function(at){f.destroyed||i(fe.from(at,null,e,oe))}),Ae.on("end",function(){try{let at=Ie.length===1?Ie[0]:Buffer.concat(Ie);u!=="arraybuffer"&&(at=at.toString(l),(!l||l==="utf8")&&(at=D.stripBOM(at))),Mt.data=at}catch(at){return i(fe.from(at,null,e,Mt.request,Mt))}uh(n,i,Mt)})}g.once("abort",Ie=>{Ae.destroyed||(Ae.emit("error",Ie),Ae.destroy())})}),g.once("abort",q=>{i(q),f.destroy(q)}),f.on("error",function(j){i(fe.from(j,null,e,f))}),f.on("socket",function(j){j.setKeepAlive(!0,1e3*60)}),e.timeout){let q=parseInt(e.timeout,10);if(Number.isNaN(q)){i(new fe("error trying to parse `config.timeout` to int",fe.ERR_BAD_OPTION_VALUE,e,f));return}f.setTimeout(q,function(){if(d)return;let ye=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",Ue=e.transitional||rC;e.timeoutErrorMessage&&(ye=e.timeoutErrorMessage),i(new fe(ye,Ue.clarifyTimeoutError?fe.ETIMEDOUT:fe.ECONNABORTED,e,f)),S()})}if(D.isStream(s)){let q=!1,j=!1;s.on("end",()=>{q=!0}),s.once("error",ye=>{j=!0,f.destroy(ye)}),s.on("close",()=>{!q&&!j&&S(new iu("Request stream has been aborted",e,f))}),s.pipe(f)}else f.end(s)})},Ide=ri.hasStandardBrowserEnv?function(){return{write:function(t,n,i,o,s,a){let c=[];c.push(t+"="+encodeURIComponent(n)),D.isNumber(i)&&c.push("expires="+new Date(i).toGMTString()),D.isString(o)&&c.push("path="+o),D.isString(s)&&c.push("domain="+s),a===!0&&c.push("secure"),document.cookie=c.join("; ")},read:function(t){let n=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),_de=ri.hasStandardBrowserEnv?function(){let e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a"),n;function i(o){let s=o;return e&&(t.setAttribute("href",s),s=t.href),t.setAttribute("href",s),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:t.pathname.charAt(0)==="/"?t.pathname:"/"+t.pathname}}return n=i(window.location.href),function(s){let a=D.isString(s)?i(s):s;return a.protocol===n.protocol&&a.host===n.host}}():function(){return function(){return!0}}();function YV(r,e){let t=0,n=w8(50,250);return i=>{let o=i.loaded,s=i.lengthComputable?i.total:void 0,a=o-t,c=n(a),u=o<=s;t=o;let l={loaded:o,total:s,progress:s?o/s:void 0,bytes:a,rate:c||void 0,estimated:c&&s&&u?(s-o)/c:void 0,event:i};l[e?"download":"upload"]=!0,r(l)}}var Ade=typeof XMLHttpRequest<"u",Sde=Ade&&function(r){return new Promise(function(t,n){let i=r.data,o=ii.from(r.headers).normalize(),s=r.responseType,a;function c(){r.cancelToken&&r.cancelToken.unsubscribe(a),r.signal&&r.signal.removeEventListener("abort",a)}let u;if(D.isFormData(i)){if(ri.hasStandardBrowserEnv||ri.hasStandardBrowserWebWorkerEnv)o.setContentType(!1);else if((u=o.getContentType())!==!1){let[f,...g]=u?u.split(";").map(v=>v.trim()).filter(Boolean):[];o.setContentType([f||"multipart/form-data",...g].join("; "))}}let l=new XMLHttpRequest;if(r.auth){let f=r.auth.username||"",g=r.auth.password?unescape(encodeURIComponent(r.auth.password)):"";o.set("Authorization","Basic "+btoa(f+":"+g))}let p=oC(r.baseURL,r.url);l.open(r.method.toUpperCase(),tC(p,r.params,r.paramsSerializer),!0),l.timeout=r.timeout;function d(){if(!l)return;let f=ii.from("getAllResponseHeaders"in l&&l.getAllResponseHeaders()),v={data:!s||s==="text"||s==="json"?l.responseText:l.response,status:l.status,statusText:l.statusText,headers:f,config:r,request:l};uh(function(R){t(R),c()},function(R){n(R),c()},v),l=null}if("onloadend"in l?l.onloadend=d:l.onreadystatechange=function(){!l||l.readyState!==4||l.status===0&&!(l.responseURL&&l.responseURL.indexOf("file:")===0)||setTimeout(d)},l.onabort=function(){l&&(n(new fe("Request aborted",fe.ECONNABORTED,r,l)),l=null)},l.onerror=function(){n(new fe("Network Error",fe.ERR_NETWORK,r,l)),l=null},l.ontimeout=function(){let g=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded",v=r.transitional||rC;r.timeoutErrorMessage&&(g=r.timeoutErrorMessage),n(new fe(g,v.clarifyTimeoutError?fe.ETIMEDOUT:fe.ECONNABORTED,r,l)),l=null},ri.hasStandardBrowserEnv){let f=_de(p)&&r.xsrfCookieName&&Ide.read(r.xsrfCookieName);f&&o.set(r.xsrfHeaderName,f)}i===void 0&&o.setContentType(null),"setRequestHeader"in l&&D.forEach(o.toJSON(),function(g,v){l.setRequestHeader(v,g)}),D.isUndefined(r.withCredentials)||(l.withCredentials=!!r.withCredentials),s&&s!=="json"&&(l.responseType=r.responseType),typeof r.onDownloadProgress=="function"&&l.addEventListener("progress",YV(r.onDownloadProgress,!0)),typeof r.onUploadProgress=="function"&&l.upload&&l.upload.addEventListener("progress",YV(r.onUploadProgress)),(r.cancelToken||r.signal)&&(a=f=>{l&&(n(!f||f.type?new iu(null,r,l):f),l.abort(),l=null)},r.cancelToken&&r.cancelToken.subscribe(a),r.signal&&(r.signal.aborted?a():r.signal.addEventListener("abort",a)));let h=x8(p);if(h&&ri.protocols.indexOf(h)===-1){n(new fe("Unsupported protocol "+h+":",fe.ERR_BAD_REQUEST,r));return}l.send(i||null)})},JP={http:wde,xhr:Sde};D.forEach(JP,(r,e)=>{if(r){try{Object.defineProperty(r,"name",{value:e})}catch{}Object.defineProperty(r,"adapterName",{value:e})}});var QV=r=>`- ${r}`,Ede=r=>D.isFunction(r)||r===null||r===!1,A8={getAdapter:r=>{r=D.isArray(r)?r:[r];let{length:e}=r,t,n,i={};for(let o=0;o<e;o++){t=r[o];let s;if(n=t,!Ede(t)&&(n=JP[(s=String(t)).toLowerCase()],n===void 0))throw new fe(`Unknown adapter '${s}'`);if(n)break;i[s||"#"+o]=n}if(!n){let o=Object.entries(i).map(([a,c])=>`adapter ${a} `+(c===!1?"is not supported by the environment":"is not available in the build")),s=e?o.length>1?`since :
`+o.map(QV).join(`
`):" "+QV(o[0]):"as no adapter specified";throw new fe("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return n},adapters:JP};function WP(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new iu(null,r)}function ZV(r){return WP(r),r.headers=ii.from(r.headers),r.data=jP.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),A8.getAdapter(r.adapter||iC.adapter)(r).then(function(n){return WP(r),n.data=jP.call(r,r.transformResponse,n),n.headers=ii.from(n.headers),n},function(n){return v8(n)||(WP(r),n&&n.response&&(n.response.data=jP.call(r,r.transformResponse,n.response),n.response.headers=ii.from(n.response.headers))),Promise.reject(n)})}var e8=r=>r instanceof ii?r.toJSON():r;function Wp(r,e){e=e||{};let t={};function n(u,l,p){return D.isPlainObject(u)&&D.isPlainObject(l)?D.merge.call({caseless:p},u,l):D.isPlainObject(l)?D.merge({},l):D.isArray(l)?l.slice():l}function i(u,l,p){if(D.isUndefined(l)){if(!D.isUndefined(u))return n(void 0,u,p)}else return n(u,l,p)}function o(u,l){if(!D.isUndefined(l))return n(void 0,l)}function s(u,l){if(D.isUndefined(l)){if(!D.isUndefined(u))return n(void 0,u)}else return n(void 0,l)}function a(u,l,p){if(p in e)return n(u,l);if(p in r)return n(void 0,u)}let c={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(u,l)=>i(e8(u),e8(l),!0)};return D.forEach(Object.keys(Object.assign({},r,e)),function(l){let p=c[l]||i,d=p(r[l],e[l],l);D.isUndefined(d)&&p!==a||(t[l]=d)}),t}var sC={};["object","boolean","number","function","string","symbol"].forEach((r,e)=>{sC[r]=function(n){return typeof n===r||"a"+(e<1?"n ":" ")+r}});var t8={};sC.transitional=function(e,t,n){function i(o,s){return"[Axios v"+bx+"] Transitional option '"+o+"'"+s+(n?". "+n:"")}return(o,s,a)=>{if(e===!1)throw new fe(i(s," has been removed"+(t?" in "+t:"")),fe.ERR_DEPRECATED);return t&&!t8[s]&&(t8[s]=!0,console.warn(i(s," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(o,s,a):!0}};function Pde(r,e,t){if(typeof r!="object")throw new fe("options must be an object",fe.ERR_BAD_OPTION_VALUE);let n=Object.keys(r),i=n.length;for(;i-- >0;){let o=n[i],s=e[o];if(s){let a=r[o],c=a===void 0||s(a,o,r);if(c!==!0)throw new fe("option "+o+" must be "+c,fe.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new fe("Unknown option "+o,fe.ERR_BAD_OPTION)}}var YP={assertOptions:Pde,validators:sC},La=YP.validators,qp=class{constructor(e){this.defaults=e,this.interceptors={request:new WV,response:new WV}}request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Wp(this.defaults,t);let{transitional:n,paramsSerializer:i,headers:o}=t;n!==void 0&&YP.assertOptions(n,{silentJSONParsing:La.transitional(La.boolean),forcedJSONParsing:La.transitional(La.boolean),clarifyTimeoutError:La.transitional(La.boolean)},!1),i!=null&&(D.isFunction(i)?t.paramsSerializer={serialize:i}:YP.assertOptions(i,{encode:La.function,serialize:La.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=o&&D.merge(o.common,o[t.method]);o&&D.forEach(["delete","get","head","post","put","patch","common"],f=>{delete o[f]}),t.headers=ii.concat(s,o);let a=[],c=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(t)===!1||(c=c&&g.synchronous,a.unshift(g.fulfilled,g.rejected))});let u=[];this.interceptors.response.forEach(function(g){u.push(g.fulfilled,g.rejected)});let l,p=0,d;if(!c){let f=[ZV.bind(this),void 0];for(f.unshift.apply(f,a),f.push.apply(f,u),d=f.length,l=Promise.resolve(t);p<d;)l=l.then(f[p++],f[p++]);return l}d=a.length;let h=t;for(p=0;p<d;){let f=a[p++],g=a[p++];try{h=f(h)}catch(v){g.call(this,v);break}}try{l=ZV.call(this,h)}catch(f){return Promise.reject(f)}for(p=0,d=u.length;p<d;)l=l.then(u[p++],u[p++]);return l}getUri(e){e=Wp(this.defaults,e);let t=oC(e.baseURL,e.url);return tC(t,e.params,e.paramsSerializer)}};D.forEach(["delete","get","head","options"],function(e){qp.prototype[e]=function(t,n){return this.request(Wp(n||{},{method:e,url:t,data:(n||{}).data}))}});D.forEach(["post","put","patch"],function(e){function t(n){return function(o,s,a){return this.request(Wp(a||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:o,data:s}))}}qp.prototype[e]=t(),qp.prototype[e+"Form"]=t(!0)});var yx=qp,QP=class r{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(o){t=o});let n=this;this.promise.then(i=>{if(!n._listeners)return;let o=n._listeners.length;for(;o-- >0;)n._listeners[o](i);n._listeners=null}),this.promise.then=i=>{let o,s=new Promise(a=>{n.subscribe(a),o=a}).then(i);return s.cancel=function(){n.unsubscribe(o)},s},e(function(o,s,a){n.reason||(n.reason=new iu(o,s,a),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;let t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}static source(){let e;return{token:new r(function(i){e=i}),cancel:e}}},Cde=QP;function Tde(r){return function(t){return r.apply(null,t)}}function Lde(r){return D.isObject(r)&&r.isAxiosError===!0}var ZP={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ZP).forEach(([r,e])=>{ZP[e]=r});var Dde=ZP;function S8(r){let e=new yx(r),t=o8(yx.prototype.request,e);return D.extend(t,yx.prototype,e,{allOwnKeys:!0}),D.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return S8(Wp(r,i))},t}var qt=S8(iC);qt.Axios=yx;qt.CanceledError=iu;qt.CancelToken=Cde;qt.isCancel=v8;qt.VERSION=bx;qt.toFormData=Ix;qt.AxiosError=fe;qt.Cancel=qt.CanceledError;qt.all=function(e){return Promise.all(e)};qt.spread=Tde;qt.isAxiosError=Lde;qt.mergeConfig=Wp;qt.AxiosHeaders=ii;qt.formToJSON=r=>b8(D.isHTMLForm(r)?new FormData(r):r);qt.getAdapter=A8.getAdapter;qt.HttpStatusCode=Dde;qt.default=qt;E8.exports=qt});var C8=b(_x=>{"use strict";Object.defineProperty(_x,"__esModule",{value:!0});_x.AxiosHttpClient=void 0;var $de=P8(),aC=class{constructor(e){this.endpoint=e}get(e){return $de.default.get(this.endpoint,Object.assign(Object.assign({},e),{proxy:!1}))}};_x.AxiosHttpClient=aC});var T8=b(Ax=>{"use strict";Object.defineProperty(Ax,"__esModule",{value:!0});Ax.MemoryKeyValueStorage=void 0;var cC=class{constructor(){this.storage=new Map}async getValue(e,t){return this.storage.has(e)?await Promise.resolve(this.storage.get(e)):await Promise.resolve(t||void 0)}setValue(e,t){this.storage.set(e,t)}};Ax.MemoryKeyValueStorage=cC});var L8=b(Sx=>{"use strict";Object.defineProperty(Sx,"__esModule",{value:!0});Sx.ExperimentationServiceBase=void 0;var kde=T8(),uC=class{get features(){return this._features}set features(e){this._features=e,this.telemetry&&this.telemetry.setSharedProperty(this.assignmentContextTelemetryPropertyName,this.features.assignmentContext)}constructor(e,t,n,i,o){this.telemetry=e,this.assignmentContextTelemetryPropertyName=t,this.telemetryEventName=n,this.storageKey=i,this.storage=o,this.featuresConsumed=!1,this.cachedTelemetryEvents=[],this._features={features:[],assignmentContext:"",configs:[]},this.storageKey||(this.storageKey="ABExp.Features"),this.storage||(o=new kde.MemoryKeyValueStorage),this.loadCachePromise=this.loadCachedFeatureData(),this.initializePromise=this.loadCachePromise,this.initialFetch=new Promise((s,a)=>{this.resolveInitialFetchPromise=s})}async getFeaturesAsync(e=!1){if(this.fetchPromise!=null){try{await this.fetchPromise}catch{}return this.features}if(!this.featureProviders||this.featureProviders.length===0)return Promise.resolve({features:[],assignmentContext:"",configs:[]});try{this.fetchPromise=Promise.all(this.featureProviders.map(async n=>await n.getFeatures()));let t=await this.fetchPromise;this.updateFeatures(t,e)}catch{}return this.fetchPromise=void 0,this.resolveInitialFetchPromise&&(this.resolveInitialFetchPromise(),this.resolveInitialFetchPromise=void 0),this.features}updateFeatures(e,t=!1){let n={features:[],assignmentContext:"",configs:[]};for(let i of e){for(let o of i.features)n.features.includes(o)||n.features.push(o);for(let o of i.configs){let s=n.configs.find(a=>a.Id===o.Id);s?s.Parameters=Object.assign(Object.assign({},s.Parameters),o.Parameters):n.configs.push(o)}n.assignmentContext+=i.assignmentContext}(t||!this.featuresConsumed)&&(this.features=n),this.storage&&this.storage.setValue(this.storageKey,n)}async loadCachedFeatureData(){let e;this.storage&&(e=await this.storage.getValue(this.storageKey),e!==void 0&&e.configs===void 0&&(e.configs=[])),this.features.features.length===0&&(this.features=e||{features:[],assignmentContext:"",configs:[]})}isFlightEnabled(e){return this.featuresConsumed=!0,this.PostEventToTelemetry(e),this.features.features.includes(e)}async isCachedFlightEnabled(e){return await this.loadCachePromise,this.featuresConsumed=!0,this.PostEventToTelemetry(e),this.features.features.includes(e)}async isFlightEnabledAsync(e){let t=await this.getFeaturesAsync(!0);return this.featuresConsumed=!0,this.PostEventToTelemetry(e),t.features.includes(e)}getTreatmentVariable(e,t){this.featuresConsumed=!0,this.PostEventToTelemetry(`${e}.${t}`);let n=this.features.configs.find(i=>i.Id===e);return n?.Parameters[t]}async getTreatmentVariableAsync(e,t,n){if(n){let i=this.featuresConsumed,o=this.getTreatmentVariable(e,t);if(o===void 0)this.featuresConsumed=i;else return o}return await this.getFeaturesAsync(!0),this.getTreatmentVariable(e,t)}PostEventToTelemetry(e){this.cachedTelemetryEvents.includes(e)||(this.telemetry.postEvent(this.telemetryEventName,new Map([["ABExp.queriedFeature",e]])),this.cachedTelemetryEvents.push(e))}invokeInit(){this.init()}addFeatureProvider(...e){if(!(e==null||this.featureProviders==null))for(let t of e)this.featureProviders.push(t)}};Sx.ExperimentationServiceBase=uC});var D8=b(Ex=>{"use strict";Object.defineProperty(Ex,"__esModule",{value:!0});Ex.PollingService=void 0;var lC=class{constructor(e){this.fetchInterval=e}StopPolling(){clearInterval(this.intervalHandle),this.intervalHandle=void 0}OnPollTick(e){this.onTick=e}StartPolling(e=!1){this.intervalHandle&&this.StopPolling(),this.onTick!=null&&(e&&this.onTick().then(()=>{}).catch(()=>{}),this.intervalHandle=setInterval(async()=>{await this.onTick()},this.fetchInterval),this.intervalHandle.unref&&this.intervalHandle.unref())}};Ex.PollingService=lC});var $8=b(Px=>{"use strict";Object.defineProperty(Px,"__esModule",{value:!0});Px.ExperimentationServiceAutoPolling=void 0;var Rde=L8(),Mde=D8(),pC=class extends Rde.ExperimentationServiceBase{constructor(e,t,n,i,o,s,a){if(super(e,i,o,s,a),this.telemetry=e,this.filterProviders=t,this.refreshRateMs=n,this.assignmentContextTelemetryPropertyName=i,this.telemetryEventName=o,this.storageKey=s,this.storage=a,n<1e3&&n!==0)throw new Error("The minimum refresh rate for polling is 1000 ms (1 second). If you wish to deactivate this auto-polling use value of 0.");n>0&&(this.pollingService=new Mde.PollingService(n),this.pollingService.OnPollTick(async()=>{await super.getFeaturesAsync()}))}init(){this.pollingService?this.pollingService.StartPolling(!0):super.getFeaturesAsync()}async getFeaturesAsync(e=!1){if(this.pollingService){this.pollingService.StopPolling();let t=await super.getFeaturesAsync(e);return this.pollingService.StartPolling(),t}else return await super.getFeaturesAsync(e)}};Px.ExperimentationServiceAutoPolling=pC});var k8=b(Tx=>{"use strict";Object.defineProperty(Tx,"__esModule",{value:!0});Tx.ExperimentationService=void 0;var Ode=Oq(),Nde=C8(),Fde=$8(),Cx=class extends Fde.ExperimentationServiceAutoPolling{constructor(e){super(e.telemetry,e.filterProviders||[],e.refetchInterval!=null?e.refetchInterval:0,e.assignmentContextTelemetryPropertyName,e.telemetryEventName,e.storageKey,e.keyValueStorage),this.options=e,this.invokeInit()}init(){this.featureProviders=[],this.addFeatureProvider(new Ode.TasApiFeatureProvider(new Nde.AxiosHttpClient(this.options.endpoint),this.telemetry,this.filterProviders)),super.init()}};Tx.ExperimentationService=Cx;Cx.REFRESH_RATE_IN_MINUTES=30});var R8=b(Lx=>{"use strict";Object.defineProperty(Lx,"__esModule",{value:!0});Lx.ExperimentationService=void 0;var Bde=k8();Object.defineProperty(Lx,"ExperimentationService",{enumerable:!0,get:function(){return Bde.ExperimentationService}})});var M8=b(Dx=>{"use strict";Object.defineProperty(Dx,"__esModule",{value:!0});Dx.MementoKeyValueStorage=void 0;var dC=class{constructor(e){this.mementoGlobalStorage=e}async getValue(e,t){return await this.mementoGlobalStorage.get(e)||t}setValue(e,t){this.mementoGlobalStorage.update(e,t)}};Dx.MementoKeyValueStorage=dC});var O8=b(mC=>{"use strict";Object.defineProperty(mC,"__esModule",{value:!0});var fC=class{constructor(){this.initializePromise=Promise.resolve(),this.initialFetch=Promise.resolve()}isFlightEnabled(e){return!1}isCachedFlightEnabled(e){return Promise.resolve(!1)}isFlightEnabledAsync(e){return Promise.resolve(!1)}getTreatmentVariable(e,t){}getTreatmentVariableAsync(e,t){return Promise.resolve(void 0)}};mC.default=fC});var F8=b(Gp=>{"use strict";Object.defineProperty(Gp,"__esModule",{value:!0});Gp.getExperimentationServiceAsync=Gp.getExperimentationService=void 0;var Ude=lP(),jde=R8(),hC=require("vscode"),Wde=M8(),qde=O8(),Vde="https://default.exp-tas.com/vscode/ab",Gde="query-expfeature",zde="abexp.assignmentcontext",Kde="VSCode.ABExp.FeatureData",Xde=1e3*60*30;function N8(r,e,t,n,i,...o){if(!i)throw new Error("Memento storage was not provided.");let s=hC.workspace.getConfiguration("telemetry");if(!(hC.env.isTelemetryEnabled===void 0?s.get("enableTelemetry",!0):hC.env.isTelemetryEnabled))return new qde.default;let u=[new Ude.VSCodeFilterProvider(r,e,t),...o],l=new Wde.MementoKeyValueStorage(i);return new jde.ExperimentationService({filterProviders:u,telemetry:n,storageKey:Kde,keyValueStorage:l,featuresTelemetryPropertyName:"",assignmentContextTelemetryPropertyName:zde,telemetryEventName:Gde,endpoint:Vde,refetchInterval:Xde})}Gp.getExperimentationService=N8;async function Jde(r,e,t,n,i,...o){let s=N8(r,e,t,n,i,...o);return await s.initializePromise,s}Gp.getExperimentationServiceAsync=Jde});var U8=b(Ra=>{"use strict";Object.defineProperty(Ra,"__esModule",{value:!0});Ra.TargetPopulation=Ra.getExperimentationServiceAsync=Ra.getExperimentationService=void 0;var B8=F8();Object.defineProperty(Ra,"getExperimentationService",{enumerable:!0,get:function(){return B8.getExperimentationService}});Object.defineProperty(Ra,"getExperimentationServiceAsync",{enumerable:!0,get:function(){return B8.getExperimentationServiceAsync}});var Yde=lP();Object.defineProperty(Ra,"TargetPopulation",{enumerable:!0,get:function(){return Yde.TargetPopulation}})});var e5=b(lr=>{"use strict";Object.defineProperty(lr,"__esModule",{value:!0});var _fe="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4vianca6w0s2x0a2z0ure5ba0by2idu3namex3narepublic11d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2ntley5rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0cast4mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dabur3d1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0ardian6cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6logistics9properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3ncaster6d0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2psy3ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2tura4vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9dnavy5lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0a1b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp2w2ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5m\xF6gensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4finity6ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",Afe="\u03B5\u03BB1\u03C52\u0431\u04331\u0435\u043B3\u0434\u0435\u0442\u04384\u0435\u044E2\u043A\u0430\u0442\u043E\u043B\u0438\u043A6\u043E\u043C3\u043C\u043A\u04342\u043E\u043D1\u0441\u043A\u0432\u04306\u043E\u043D\u043B\u0430\u0439\u043D5\u0440\u04333\u0440\u0443\u04412\u04442\u0441\u0430\u0439\u04423\u0440\u04313\u0443\u043A\u04403\u049B\u0430\u04373\u0570\u0561\u05753\u05D9\u05E9\u05E8\u05D0\u05DC5\u05E7\u05D5\u05DD3\u0627\u0628\u0648\u0638\u0628\u064A5\u0631\u0627\u0645\u0643\u06485\u0644\u0627\u0631\u062F\u06464\u0628\u062D\u0631\u064A\u06465\u062C\u0632\u0627\u0626\u06315\u0633\u0639\u0648\u062F\u064A\u06296\u0639\u0644\u064A\u0627\u06465\u0645\u063A\u0631\u06285\u0645\u0627\u0631\u0627\u062A5\u06CC\u0631\u0627\u06465\u0628\u0627\u0631\u062A2\u0632\u0627\u06314\u064A\u062A\u06433\u06BE\u0627\u0631\u062A5\u062A\u0648\u0646\u06334\u0633\u0648\u062F\u0627\u06463\u0631\u064A\u06295\u0634\u0628\u0643\u06294\u0639\u0631\u0627\u06422\u06282\u0645\u0627\u06464\u0641\u0644\u0633\u0637\u064A\u06466\u0642\u0637\u06313\u0643\u0627\u062B\u0648\u0644\u064A\u06436\u0648\u06453\u0645\u0635\u06312\u0644\u064A\u0633\u064A\u06275\u0648\u0631\u064A\u062A\u0627\u0646\u064A\u06277\u0642\u06394\u0647\u0645\u0631\u0627\u06475\u067E\u0627\u06A9\u0633\u062A\u0627\u06467\u0680\u0627\u0631\u062A4\u0915\u0949\u092E3\u0928\u0947\u091F3\u092D\u093E\u0930\u09240\u092E\u094D3\u094B\u09245\u0938\u0902\u0917\u0920\u09285\u09AC\u09BE\u0982\u09B2\u09BE5\u09AD\u09BE\u09B0\u09A42\u09F0\u09A44\u0A2D\u0A3E\u0A30\u0A244\u0AAD\u0ABE\u0AB0\u0AA44\u0B2D\u0B3E\u0B30\u0B244\u0B87\u0BA8\u0BCD\u0BA4\u0BBF\u0BAF\u0BBE6\u0BB2\u0B99\u0BCD\u0B95\u0BC86\u0B9A\u0BBF\u0B99\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0BC2\u0BB0\u0BCD11\u0C2D\u0C3E\u0C30\u0C24\u0C4D5\u0CAD\u0CBE\u0CB0\u0CA44\u0D2D\u0D3E\u0D30\u0D24\u0D025\u0DBD\u0D82\u0D9A\u0DCF4\u0E04\u0E2D\u0E213\u0E44\u0E17\u0E223\u0EA5\u0EB2\u0EA73\u10D2\u10D42\u307F\u3093\u306A3\u30A2\u30DE\u30BE\u30F34\u30AF\u30E9\u30A6\u30C94\u30B0\u30FC\u30B0\u30EB4\u30B3\u30E02\u30B9\u30C8\u30A23\u30BB\u30FC\u30EB3\u30D5\u30A1\u30C3\u30B7\u30E7\u30F36\u30DD\u30A4\u30F3\u30C84\u4E16\u754C2\u4E2D\u4FE11\u56FD1\u570B1\u6587\u7F513\u4E9A\u9A6C\u900A3\u4F01\u4E1A2\u4F5B\u5C712\u4FE1\u606F2\u5065\u5EB72\u516B\u53662\u516C\u53F81\u76CA2\u53F0\u6E7E1\u70632\u5546\u57CE1\u5E971\u68072\u5609\u91CC0\u5927\u9152\u5E975\u5728\u7EBF2\u5927\u62FF2\u5929\u4E3B\u65593\u5A31\u4E502\u5BB6\u96FB2\u5E7F\u4E1C2\u5FAE\u535A2\u6148\u55842\u6211\u7231\u4F603\u624B\u673A2\u62DB\u80582\u653F\u52A11\u5E9C2\u65B0\u52A0\u57612\u95FB2\u65F6\u5C1A2\u66F8\u7C4D2\u673A\u67842\u6DE1\u9A6C\u95213\u6E38\u620F2\u6FB3\u95802\u70B9\u770B2\u79FB\u52A82\u7EC4\u7EC7\u673A\u67844\u7F51\u57401\u5E971\u7AD91\u7EDC2\u8054\u901A2\u8C37\u6B4C2\u8D2D\u72692\u901A\u8CA92\u96C6\u56E22\u96FB\u8A0A\u76C8\u79D14\u98DE\u5229\u6D663\u98DF\u54C12\u9910\u53852\u9999\u683C\u91CC\u62C93\u6E2F2\uB2F7\uB1371\uCEF42\uC0BC\uC1312\uD55C\uAD6D2",gu=(r,e)=>{for(let t in e)r[t]=e[t];return r},MC="numeric",OC="ascii",NC="alpha",rw="asciinumeric",Zx="alphanumeric",FC="domain",z4="emoji",Sfe="scheme",Efe="slashscheme",j4="whitespace";function Pfe(r,e){return r in e||(e[r]=[]),e[r]}function hu(r,e,t){e[MC]&&(e[rw]=!0,e[Zx]=!0),e[OC]&&(e[rw]=!0,e[NC]=!0),e[rw]&&(e[Zx]=!0),e[NC]&&(e[Zx]=!0),e[Zx]&&(e[FC]=!0),e[z4]&&(e[FC]=!0);for(let n in e){let i=Pfe(n,t);i.indexOf(r)<0&&i.push(r)}}function Cfe(r,e){let t={};for(let n in e)e[n].indexOf(r)>=0&&(t[n]=!0);return t}function Ur(r){r===void 0&&(r=null),this.j={},this.jr=[],this.jd=null,this.t=r}Ur.groups={};Ur.prototype={accepts(){return!!this.t},go(r){let e=this,t=e.j[r];if(t)return t;for(let n=0;n<e.jr.length;n++){let i=e.jr[n][0],o=e.jr[n][1];if(o&&i.test(r))return o}return e.jd},has(r,e){return e===void 0&&(e=!1),e?r in this.j:!!this.go(r)},ta(r,e,t,n){for(let i=0;i<r.length;i++)this.tt(r[i],e,t,n)},tr(r,e,t,n){n=n||Ur.groups;let i;return e&&e.j?i=e:(i=new Ur(e),t&&n&&hu(e,t,n)),this.jr.push([r,i]),i},ts(r,e,t,n){let i=this,o=r.length;if(!o)return i;for(let s=0;s<o-1;s++)i=i.tt(r[s]);return i.tt(r[o-1],e,t,n)},tt(r,e,t,n){n=n||Ur.groups;let i=this;if(e&&e.j)return i.j[r]=e,e;let o=e,s,a=i.go(r);if(a?(s=new Ur,gu(s.j,a.j),s.jr.push.apply(s.jr,a.jr),s.jd=a.jd,s.t=a.t):s=new Ur,o){if(n)if(s.t&&typeof s.t=="string"){let c=gu(Cfe(s.t,n),t);hu(o,c,n)}else t&&hu(o,t,n);s.t=o}return i.j[r]=s,s}};var Ee=(r,e,t,n,i)=>r.ta(e,t,n,i),ai=(r,e,t,n,i)=>r.tr(e,t,n,i),W4=(r,e,t,n,i)=>r.ts(e,t,n,i),te=(r,e,t,n,i)=>r.tt(e,t,n,i),_s="WORD",BC="UWORD",Ph="LOCALHOST",UC="TLD",jC="UTLD",nw="SCHEME",Cd="SLASH_SCHEME",GC="NUM",K4="WS",zC="NL",Ah="OPENBRACE",Sh="CLOSEBRACE",aw="OPENBRACKET",cw="CLOSEBRACKET",uw="OPENPAREN",lw="CLOSEPAREN",pw="OPENANGLEBRACKET",dw="CLOSEANGLEBRACKET",fw="FULLWIDTHLEFTPAREN",mw="FULLWIDTHRIGHTPAREN",hw="LEFTCORNERBRACKET",gw="RIGHTCORNERBRACKET",Hw="LEFTWHITECORNERBRACKET",yw="RIGHTWHITECORNERBRACKET",bw="FULLWIDTHLESSTHAN",vw="FULLWIDTHGREATERTHAN",xw="AMPERSAND",ww="APOSTROPHE",Iw="ASTERISK",qa="AT",_w="BACKSLASH",Aw="BACKTICK",Sw="CARET",Va="COLON",KC="COMMA",Ew="DOLLAR",Do="DOT",Pw="EQUALS",XC="EXCLAMATION",$o="HYPHEN",Cw="PERCENT",Tw="PIPE",Lw="PLUS",Dw="POUND",$w="QUERY",JC="QUOTE",YC="SEMI",ko="SLASH",Eh="TILDE",kw="UNDERSCORE",X4="EMOJI",Rw="SYM",J4=Object.freeze({__proto__:null,WORD:_s,UWORD:BC,LOCALHOST:Ph,TLD:UC,UTLD:jC,SCHEME:nw,SLASH_SCHEME:Cd,NUM:GC,WS:K4,NL:zC,OPENBRACE:Ah,CLOSEBRACE:Sh,OPENBRACKET:aw,CLOSEBRACKET:cw,OPENPAREN:uw,CLOSEPAREN:lw,OPENANGLEBRACKET:pw,CLOSEANGLEBRACKET:dw,FULLWIDTHLEFTPAREN:fw,FULLWIDTHRIGHTPAREN:mw,LEFTCORNERBRACKET:hw,RIGHTCORNERBRACKET:gw,LEFTWHITECORNERBRACKET:Hw,RIGHTWHITECORNERBRACKET:yw,FULLWIDTHLESSTHAN:bw,FULLWIDTHGREATERTHAN:vw,AMPERSAND:xw,APOSTROPHE:ww,ASTERISK:Iw,AT:qa,BACKSLASH:_w,BACKTICK:Aw,CARET:Sw,COLON:Va,COMMA:KC,DOLLAR:Ew,DOT:Do,EQUALS:Pw,EXCLAMATION:XC,HYPHEN:$o,PERCENT:Cw,PIPE:Tw,PLUS:Lw,POUND:Dw,QUERY:$w,QUOTE:JC,SEMI:YC,SLASH:ko,TILDE:Eh,UNDERSCORE:kw,EMOJI:X4,SYM:Rw}),mu=/[a-z]/,iw=new RegExp("\\p{L}","u"),ow=new RegExp("\\p{Emoji}","u"),Tfe=/\ufe0f/,sw=/\d/,WC=/\s/,Lfe=Object.freeze({__proto__:null,ASCII_LETTER:mu,LETTER:iw,EMOJI:ow,EMOJI_VARIATION:Tfe,DIGIT:sw,SPACE:WC}),q4=`
`,Dfe="\uFE0F",$fe="\u200D",ew=null,tw=null;function kfe(r){r===void 0&&(r=[]);let e={};Ur.groups=e;let t=new Ur;ew==null&&(ew=V4(_fe)),tw==null&&(tw=V4(Afe)),te(t,"'",ww),te(t,"{",Ah),te(t,"}",Sh),te(t,"[",aw),te(t,"]",cw),te(t,"(",uw),te(t,")",lw),te(t,"<",pw),te(t,">",dw),te(t,"\uFF08",fw),te(t,"\uFF09",mw),te(t,"\u300C",hw),te(t,"\u300D",gw),te(t,"\u300E",Hw),te(t,"\u300F",yw),te(t,"\uFF1C",bw),te(t,"\uFF1E",vw),te(t,"&",xw),te(t,"*",Iw),te(t,"@",qa),te(t,"`",Aw),te(t,"^",Sw),te(t,":",Va),te(t,",",KC),te(t,"$",Ew),te(t,".",Do),te(t,"=",Pw),te(t,"!",XC),te(t,"-",$o),te(t,"%",Cw),te(t,"|",Tw),te(t,"+",Lw),te(t,"#",Dw),te(t,"?",$w),te(t,'"',JC),te(t,"/",ko),te(t,";",YC),te(t,"~",Eh),te(t,"_",kw),te(t,"\\",_w);let n=ai(t,sw,GC,{[MC]:!0});ai(n,sw,n);let i=ai(t,mu,_s,{[OC]:!0});ai(i,mu,i);let o=ai(t,iw,BC,{[NC]:!0});ai(o,mu),ai(o,iw,o);let s=ai(t,WC,K4,{[j4]:!0});te(t,q4,zC,{[j4]:!0}),te(s,q4),ai(s,WC,s);let a=ai(t,ow,X4,{[z4]:!0});ai(a,ow,a),te(a,Dfe,a);let c=te(a,$fe);ai(c,ow,a);let u=[[mu,i]],l=[[mu,null],[iw,o]];for(let p=0;p<ew.length;p++)Wa(t,ew[p],UC,_s,u);for(let p=0;p<tw.length;p++)Wa(t,tw[p],jC,BC,l);hu(UC,{tld:!0,ascii:!0},e),hu(jC,{utld:!0,alpha:!0},e),Wa(t,"file",nw,_s,u),Wa(t,"mailto",nw,_s,u),Wa(t,"http",Cd,_s,u),Wa(t,"https",Cd,_s,u),Wa(t,"ftp",Cd,_s,u),Wa(t,"ftps",Cd,_s,u),hu(nw,{scheme:!0,ascii:!0},e),hu(Cd,{slashscheme:!0,ascii:!0},e),r=r.sort((p,d)=>p[0]>d[0]?1:-1);for(let p=0;p<r.length;p++){let d=r[p][0],f=r[p][1]?{[Sfe]:!0}:{[Efe]:!0};d.indexOf("-")>=0?f[FC]=!0:mu.test(d)?sw.test(d)?f[rw]=!0:f[OC]=!0:f[MC]=!0,W4(t,d,d,f)}return W4(t,"localhost",Ph,{ascii:!0}),t.jd=new Ur(Rw),{start:t,tokens:gu({groups:e},J4)}}function Rfe(r,e){let t=Y4(e.replace(/[A-Z]/g,a=>a.toLowerCase())),n=t.length,i=[],o=0,s=0;for(;s<n;){let a=r,c=null,u=0,l=null,p=-1,d=-1;for(;s<n&&(c=a.go(t[s]));)a=c,a.accepts()?(p=0,d=0,l=a):p>=0&&(p+=t[s].length,d++),u+=t[s].length,o+=t[s].length,s++;o-=p,s-=d,u-=p,i.push({t:l.t,v:e.slice(o-u,o),s:o-u,e:o})}return i}function Y4(r){let e=[],t=r.length,n=0;for(;n<t;){let i=r.charCodeAt(n),o,s=i<55296||i>56319||n+1===t||(o=r.charCodeAt(n+1))<56320||o>57343?r[n]:r.slice(n,n+2);e.push(s),n+=s.length}return e}function Wa(r,e,t,n,i){let o,s=e.length;for(let a=0;a<s-1;a++){let c=e[a];r.j[c]?o=r.j[c]:(o=new Ur(n),o.jr=i.slice(),r.j[c]=o),r=o}return o=new Ur(t),o.jr=i.slice(),r.j[e[s-1]]=o,o}function V4(r){let e=[],t=[],n=0,i="0123456789";for(;n<r.length;){let o=0;for(;i.indexOf(r[n+o])>=0;)o++;if(o>0){e.push(t.join(""));for(let s=parseInt(r.substring(n,n+o),10);s>0;s--)t.pop();n+=o}else t.push(r[n]),n++}return e}var Td={defaultProtocol:"http",events:null,format:G4,formatHref:G4,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function Lh(r,e){e===void 0&&(e=null);let t=gu({},Td);r&&(t=gu(t,r instanceof Lh?r.o:r));let n=t.ignoreTags,i=[];for(let o=0;o<n.length;o++)i.push(n[o].toUpperCase());this.o=t,e&&(this.defaultRender=e),this.ignoreTags=i}Lh.prototype={o:Td,ignoreTags:[],defaultRender(r){return r},check(r){return this.get("validate",r.toString(),r)},get(r,e,t){let n=e!=null,i=this.o[r];return i&&(typeof i=="object"?(i=t.t in i?i[t.t]:Td[r],typeof i=="function"&&n&&(i=i(e,t))):typeof i=="function"&&n&&(i=i(e,t.t,t)),i)},getObj(r,e,t){let n=this.o[r];return typeof n=="function"&&e!=null&&(n=n(e,t.t,t)),n},render(r){let e=r.render(this);return(this.get("render",null,r)||this.defaultRender)(e,r.t,r)}};function G4(r){return r}var Mfe=Object.freeze({__proto__:null,defaults:Td,Options:Lh,assign:gu});function Ch(r,e){this.t="token",this.v=r,this.tk=e}Ch.prototype={isLink:!1,toString(){return this.v},toHref(r){return this.toString()},toFormattedString(r){let e=this.toString(),t=r.get("truncate",e,this),n=r.get("format",e,this);return t&&n.length>t?n.substring(0,t)+"\u2026":n},toFormattedHref(r){return r.get("formatHref",this.toHref(r.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(r){return r===void 0&&(r=Td.defaultProtocol),{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(r),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(r){return{type:this.t,value:this.toFormattedString(r),isLink:this.isLink,href:this.toFormattedHref(r),start:this.startIndex(),end:this.endIndex()}},validate(r){return r.get("validate",this.toString(),this)},render(r){let e=this,t=this.toHref(r.get("defaultProtocol")),n=r.get("formatHref",t,this),i=r.get("tagName",t,e),o=this.toFormattedString(r),s={},a=r.get("className",t,e),c=r.get("target",t,e),u=r.get("rel",t,e),l=r.getObj("attributes",t,e),p=r.getObj("events",t,e);return s.href=n,a&&(s.class=a),c&&(s.target=c),u&&(s.rel=u),l&&gu(s,l),{tagName:i,attributes:s,content:o,eventListeners:p}}};function Ld(r,e){class t extends Ch{constructor(i,o){super(i,o),this.t=r}}for(let n in e)t.prototype[n]=e[n];return t.t=r,t}var qC=Ld("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),VC=Ld("text"),Q4=Ld("nl"),_h=Ld("url",{isLink:!0,toHref(r){return r===void 0&&(r=Td.defaultProtocol),this.hasProtocol()?this.v:`${r}://${this.v}`},hasProtocol(){let r=this.tk;return r.length>=2&&r[0].t!==Ph&&r[1].t===Va}}),Ofe=Object.freeze({__proto__:null,MultiToken:Ch,Base:Ch,createTokenClass:Ld,Email:qC,Text:VC,Nl:Q4,Url:_h}),ci=r=>new Ur(r);function Nfe(r){let{groups:e}=r,t=e.domain.concat([xw,Iw,qa,_w,Aw,Sw,Ew,Pw,$o,GC,Cw,Tw,Lw,Dw,ko,Rw,Eh,kw]),n=[ww,Va,KC,Do,XC,$w,JC,YC,pw,dw,Ah,Sh,cw,aw,uw,lw,fw,mw,hw,gw,Hw,yw,bw,vw],i=[xw,ww,Iw,_w,Aw,Sw,Ew,Pw,$o,Ah,Sh,Cw,Tw,Lw,Dw,$w,ko,Rw,Eh,kw],o=ci(),s=te(o,Eh);Ee(s,i,s),Ee(s,e.domain,s);let a=ci(),c=ci(),u=ci();Ee(o,e.domain,a),Ee(o,e.scheme,c),Ee(o,e.slashscheme,u),Ee(a,i,s),Ee(a,e.domain,a);let l=te(a,qa);te(s,qa,l),te(c,qa,l),te(u,qa,l);let p=te(s,Do);Ee(p,i,s),Ee(p,e.domain,s);let d=ci();Ee(l,e.domain,d),Ee(d,e.domain,d);let h=te(d,Do);Ee(h,e.domain,d);let f=ci(qC);Ee(h,e.tld,f),Ee(h,e.utld,f),te(l,Ph,f);let g=te(d,$o);Ee(g,e.domain,d),Ee(f,e.domain,d),te(f,Do,h),te(f,$o,g);let v=te(f,Va);Ee(v,e.numeric,qC);let S=te(a,$o),R=te(a,Do);Ee(S,e.domain,a),Ee(R,i,s),Ee(R,e.domain,a);let F=ci(_h);Ee(R,e.tld,F),Ee(R,e.utld,F),Ee(F,e.domain,a),Ee(F,i,s),te(F,Do,R),te(F,$o,S),te(F,qa,l);let X=te(F,Va),G=ci(_h);Ee(X,e.numeric,G);let J=ci(_h),z=ci();Ee(J,t,J),Ee(J,n,z),Ee(z,t,J),Ee(z,n,z),te(F,ko,J),te(G,ko,J);let ee=te(c,Va),he=te(u,Va),Le=te(he,ko),O=te(Le,ko);Ee(c,e.domain,a),te(c,Do,R),te(c,$o,S),Ee(u,e.domain,a),te(u,Do,R),te(u,$o,S),Ee(ee,e.domain,J),te(ee,ko,J),Ee(O,e.domain,J),Ee(O,t,J),te(O,ko,J);let Z=[[Ah,Sh],[aw,cw],[uw,lw],[pw,dw],[fw,mw],[hw,gw],[Hw,yw],[bw,vw]];for(let ue=0;ue<Z.length;ue++){let[me,L]=Z[ue],k=te(J,me);te(z,me,k),te(k,L,J);let q=ci(_h);Ee(k,t,q);let j=ci();Ee(k,n),Ee(q,t,q),Ee(q,n,j),Ee(j,t,q),Ee(j,n,j),te(q,L,J),te(j,L,J)}return te(o,Ph,F),te(o,zC,Q4),{start:o,tokens:J4}}function Ffe(r,e,t){let n=t.length,i=0,o=[],s=[];for(;i<n;){let a=r,c=null,u=null,l=0,p=null,d=-1;for(;i<n&&!(c=a.go(t[i].t));)s.push(t[i++]);for(;i<n&&(u=c||a.go(t[i].t));)c=null,a=u,a.accepts()?(d=0,p=a):d>=0&&d++,i++,l++;if(d<0)i-=l,i<n&&(s.push(t[i]),i++);else{s.length>0&&(o.push(RC(VC,e,s)),s=[]),i-=d,l-=d;let h=p.t,f=t.slice(i-l,i);o.push(RC(h,e,f))}}return s.length>0&&o.push(RC(VC,e,s)),o}function RC(r,e,t){let n=t[0].s,i=t[t.length-1].e,o=e.slice(n,i);return new r(o,t)}var Th=typeof console<"u"&&console&&console.warn||(()=>{}),QC="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",Be={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function Bfe(){Ur.groups={},Be.scanner=null,Be.parser=null,Be.tokenQueue=[],Be.pluginQueue=[],Be.customSchemes=[],Be.initialized=!1}function Ufe(r,e){if(typeof e!="function")throw new Error(`linkifyjs: Invalid token plugin ${e} (expects function)`);for(let t=0;t<Be.tokenQueue.length;t++)if(r===Be.tokenQueue[t][0]){Th(`linkifyjs: token plugin "${r}" already registered - will be overwritten`),Be.tokenQueue[t]=[r,e];return}Be.tokenQueue.push([r,e]),Be.initialized&&Th(`linkifyjs: already initialized - will not register token plugin "${r}" ${QC}`)}function jfe(r,e){if(typeof e!="function")throw new Error(`linkifyjs: Invalid plugin ${e} (expects function)`);for(let t=0;t<Be.pluginQueue.length;t++)if(r===Be.pluginQueue[t][0]){Th(`linkifyjs: plugin "${r}" already registered - will be overwritten`),Be.pluginQueue[t]=[r,e];return}Be.pluginQueue.push([r,e]),Be.initialized&&Th(`linkifyjs: already initialized - will not register plugin "${r}" ${QC}`)}function Wfe(r,e){if(e===void 0&&(e=!1),Be.initialized&&Th(`linkifyjs: already initialized - will not register custom scheme "${r}" ${QC}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(r))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);Be.customSchemes.push([r,e])}function Z4(){Be.scanner=kfe(Be.customSchemes);for(let r=0;r<Be.tokenQueue.length;r++)Be.tokenQueue[r][1]({scanner:Be.scanner});Be.parser=Nfe(Be.scanner.tokens);for(let r=0;r<Be.pluginQueue.length;r++)Be.pluginQueue[r][1]({scanner:Be.scanner,parser:Be.parser});Be.initialized=!0}function ZC(r){return Be.initialized||Z4(),Ffe(Be.parser.start,r,Rfe(Be.scanner.start,r))}function qfe(r,e,t){if(e===void 0&&(e=null),t===void 0&&(t=null),e&&typeof e=="object"){if(t)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);t=e,e=null}let n=new Lh(t),i=ZC(r),o=[];for(let s=0;s<i.length;s++){let a=i[s];a.isLink&&(!e||a.t===e)&&n.check(a)&&o.push(a.toFormattedObject(n))}return o}function Vfe(r,e){e===void 0&&(e=null);let t=ZC(r);return t.length===1&&t[0].isLink&&(!e||t[0].t===e)}lr.MultiToken=Ch;lr.Options=Lh;lr.State=Ur;lr.createTokenClass=Ld;lr.find=qfe;lr.init=Z4;lr.multi=Ofe;lr.options=Mfe;lr.regexp=Lfe;lr.registerCustomProtocol=Wfe;lr.registerPlugin=jfe;lr.registerTokenPlugin=Ufe;lr.reset=Bfe;lr.stringToArray=Y4;lr.test=Vfe;lr.tokenize=ZC});var ame={};Q5(ame,{activate:()=>ome,deactivate:()=>sme});module.exports=Z5(ame);var W5=w(we()),q5=require("os"),Vt=w(require("vscode"));var Ud=new Map([["pwa-node","node"],["pwa-chrome","chrome"],["pwa-extensionHost","extensionHost"],["pwa-msedge","msedge"]]),bu=r=>Ud.get(r)||r,dG={"pwa-extensionHost":null,"node-terminal":null,"pwa-node":null,"pwa-chrome":null,"pwa-msedge":null},fG={"extension.js-debug.addCustomBreakpoints":null,"extension.js-debug.addXHRBreakpoints":null,"extension.js-debug.editXHRBreakpoints":null,"extension.pwa-node-debug.attachNodeProcess":null,"extension.js-debug.clearAutoAttachVariables":null,"extension.js-debug.setAutoAttachVariables":null,"extension.js-debug.autoAttachToProcess":null,"extension.js-debug.createDebuggerTerminal":null,"extension.js-debug.createDiagnostics":null,"extension.js-debug.getDiagnosticLogs":null,"extension.js-debug.debugLink":null,"extension.js-debug.npmScript":null,"extension.js-debug.pickNodeProcess":null,"extension.js-debug.prettyPrint":null,"extension.js-debug.removeXHRBreakpoint":null,"extension.js-debug.removeAllCustomBreakpoints":null,"extension.js-debug.revealPage":null,"extension.js-debug.startProfile":null,"extension.js-debug.stopProfile":null,"extension.js-debug.toggleSkippingFile":null,"extension.node-debug.startWithStopOnEntry":null,"extension.js-debug.requestCDPProxy":null,"extension.js-debug.openEdgeDevTools":null,"extension.js-debug.callers.add":null,"extension.js-debug.callers.goToCaller":null,"extension.js-debug.callers.gotToTarget":null,"extension.js-debug.callers.remove":null,"extension.js-debug.callers.removeAll":null,"extension.js-debug.enableSourceMapStepping":null,"extension.js-debug.disableSourceMapStepping":null},lme=new Set(Object.keys(fG)),Qw=new Set(Object.keys(dG)),Ps=r=>Qw.has(r);var Re=(r,e,t)=>r.registerCommand(e,t),Nh=async(r,e,...t)=>await r.executeCommand(e,...t);var At=(r,e,t)=>r.getConfiguration(void 0,t).get(e),Zw=(r,e,t,n)=>r.getConfiguration().update(e,t,n);var jd=async(r,e,t)=>await r.executeCommand("setContext",e,t);var St=r=>!!r,vu=r=>Bh(r,e=>e!==null),mT=r=>Bh(r,e=>e!==void 0),Xa=r=>e=>e instanceof r,Fh=(r,e)=>{debugger;throw new Error(e.replace("{value}",JSON.stringify(r)))};function Bh(r,e){let t={};for(let n of Object.keys(r)){let i=r[n];e(i,n)&&(t[n]=i)}return t}function No(r,e){let t={};for(let n of Object.keys(r)){let i=r[n];t[n]=e(i,n)}return t}function hT(r,e){let t={};for(let n of Object.keys(r))e(n,r[n])&&(t[n]=r[n]);return t}function gT(...r){if(r.length===0)return{};let e={},t=Object.create(null);for(let n of r)if(n)for(let i of Object.keys(n)){let o=i.toLowerCase();t[o]?e[t[o]]=n[i]:(t[o]=i,e[i]=n[i])}return e}function HT(r,e){if(r.hasOwnProperty(e))return r[e];let t=e.toLowerCase();for(let n of Object.keys(r))if(n.toLowerCase()===t)return r[n]}var eI=Symbol("unset");function Se(r){let e=eI,t=(...n)=>(e===eI&&(t.value=e=r(...n)),e);return t.forget=()=>{e=eI,t.value=void 0},t.value=void 0,t}function Fo(r){let e=new Map,t=n=>{if(e.has(n))return e.get(n);let i=r(n);return e.set(n,i),i};return t.clear=()=>e.clear(),t}function yT(r){let e,t=n=>(e?.arg===n||(e={arg:n,val:r(n)}),e.val);return t.clear=()=>e=void 0,t}function bT(r,e){let t,n=()=>{t!==void 0&&clearTimeout(t),t=setTimeout(()=>{t=void 0,e()},r)};return n.clear=()=>{t&&(clearTimeout(t),t=void 0)},n}function vT(r,e){let t,n=()=>{t===void 0&&(t=setTimeout(()=>{t=void 0,e()},r))};return n.queued=()=>!!t,n.clear=()=>{t&&(clearTimeout(t),t=void 0)},n}async function xT(r,e){let t=[],n=[];for(let i of r)await e(i)?t.push(i):n.push(i);return[t,n]}function Bo(r){let e=[];for(let t of r)e=e.concat(t);return e}var mG=2**31-1,Uh=()=>{let r=0;return()=>r++&mG};var Ne=Symbol("AnyLaunchConfiguration"),jh={type:"",name:"",request:"",trace:!1,outputCapture:"console",timeout:1e4,timeouts:{},showAsyncStacks:!0,skipFiles:[],smartStep:!0,sourceMaps:!0,sourceMapRenames:!0,pauseForSourceMap:!0,resolveSourceMapLocations:null,rootPath:"${workspaceFolder}",outFiles:["${workspaceFolder}/**/*.(m|c|)js","!**/node_modules/**"],sourceMapPathOverrides:oI("${workspaceFolder}"),enableContentValidation:!0,cascadeTerminateToConfigurations:[],enableDWARF:!0,__workspaceFolder:"",__remoteFilePrefix:void 0,__breakOnConditionalError:!1,customDescriptionGenerator:void 0,customPropertiesGenerator:void 0},Wd={...jh,cwd:"${workspaceFolder}",env:{},envFile:null,pauseForSourceMap:!1,sourceMaps:!0,localRoot:null,remoteRoot:null,resolveSourceMapLocations:["**","!**/node_modules/**"],autoAttachChildProcesses:!0,runtimeSourcemapPausePatterns:[],skipFiles:["<node_internals>/**"]},Wh={...Wd,showAsyncStacks:{onceBreakpointResolved:16},type:"node-terminal",request:"launch",name:"JavaScript Debug Terminal"},hG={...Wd,type:"node-terminal",request:"attach",name:Wh.name,showAsyncStacks:{onceBreakpointResolved:16},delegateId:-1},tI={...Wd,type:"pwa-extensionHost",name:"Debug Extension",request:"launch",args:["--extensionDevelopmentPath=${workspaceFolder}"],outFiles:["${workspaceFolder}/out/**/*.js"],resolveSourceMapLocations:["${workspaceFolder}/**","!**/node_modules/**"],rendererDebugOptions:{},runtimeExecutable:"${execPath}",autoAttachChildProcesses:!1,debugWebviews:!1,debugWebWorkerHost:!1,__sessionId:""},gG={...Wd,type:"pwa-node",request:"launch",program:"",cwd:"${workspaceFolder}",stopOnEntry:!1,console:"internalConsole",restart:!1,args:[],runtimeExecutable:"node",runtimeVersion:"default",runtimeArgs:[],profileStartup:!1,attachSimplePort:null,killBehavior:"forceful"},qd={...jh,type:"pwa-chrome",request:"attach",address:"localhost",port:0,disableNetworkCache:!0,pathMapping:{},url:null,restart:!1,urlFilter:"",sourceMapPathOverrides:oI("${webRoot}"),webRoot:"${workspaceFolder}",server:null,browserAttachLocation:"workspace",targetSelection:"automatic",vueComponentPaths:["${workspaceFolder}/**/*.vue","!**/node_modules/**"],perScriptSourcemaps:"auto"},rI={...qd,type:"pwa-msedge",useWebView:!1},qh={...qd,type:"pwa-chrome",request:"launch",cwd:null,file:null,env:{},urlFilter:"*",includeDefaultArgs:!0,includeLaunchArgs:!0,runtimeArgs:null,runtimeExecutable:"*",userDataDir:!0,browserLaunchLocation:"workspace",profileStartup:!1,cleanUp:"wholeBrowser"},nI={...qh,type:"pwa-msedge",useWebView:!1},iI={...Wd,type:"pwa-node",attachExistingChildren:!0,address:"localhost",port:9229,restart:!1,request:"attach",continueOnAttach:!1};function oI(r){return{"webpack:///./~/*":`${r}/node_modules/*`,"webpack:////*":"/*","webpack://@?:*/?:*/*":`${r}/*`,"webpack://?:*/*":`${r}/*`,"webpack:///([a-z]):/(.+)":"$1:/$2","meteor://\u{1F4BB}app/*":`${r}/*`}}var Vh=r=>{!r.sourceMapPathOverrides&&r.cwd&&(r.sourceMapPathOverrides=oI(r.cwd)),r.resolveSourceMapLocations===void 0&&(r.resolveSourceMapLocations=r.outFiles)};function sI({...r}){return Vh(r),r.request==="attach"?{...iI,...r}:{...gG,...r}}function HG(r,e){return r.request==="attach"?{...qd,browserAttachLocation:e,...r}:{...qh,browserLaunchLocation:e,...r}}function yG(r,e){return r.request==="attach"?{...rI,browserAttachLocation:e,...r}:{...nI,browserLaunchLocation:e,...r}}function bG(r){let e={...tI,...r};return e.skipFiles=[...e.skipFiles,"**/node_modules.asar/**","**/bootstrap-fork.js"],e}function aI(r){return Vh(r),r.request==="launch"?{...Wh,...r}:{...hG,...r}}function Cs(r,e){let t,n=e==="remote"?"ui":"workspace";switch(r.type){case"pwa-node":t=sI(r);break;case"pwa-msedge":t=yG(r,n);break;case"pwa-chrome":t=HG(r,n);break;case"pwa-extensionHost":t=bG(r);break;case"node-terminal":t=aI(r);break;default:throw Fh(r,"Unknown config: {value}")}return uI(t)}function cI(r){let e="${workspaceFolder}",t={...r,rootPath:void 0,outFiles:r.outFiles.filter(n=>!n.includes(e)),sourceMapPathOverrides:Bh(r.sourceMapPathOverrides,n=>!n.includes("${workspaceFolder}"))};return"vueComponentPaths"in t&&(t.vueComponentPaths=t.vueComponentPaths.filter(n=>!n.includes(e))),"resolveSourceMapLocations"in t&&(t.resolveSourceMapLocations=t.resolveSourceMapLocations?.filter(n=>!n.includes(e))??null),"cwd"in t&&t.cwd?.includes(e)&&(t.cwd=void 0),"webRoot"in t&&t.webRoot?.includes(e)&&(t.webRoot="/"),t}function uI(r){return r.__workspaceFolder||(r=cI(r)),r=ki(r,"workspaceFolder",r.__workspaceFolder),r=ki(r,"webRoot","webRoot"in r?r.webRoot:r.__workspaceFolder),r}function ki(r,e,t){let n;if(typeof r=="string")n=r.replace(new RegExp(`\\$\\{${e}\\}`,"g"),()=>{if(!t)throw new Error(`Unable to resolve \${${e}} in configuration (${JSON.stringify(e)})`);return t});else if(r instanceof Array)n=r.map(i=>ki(i,e,t));else if(typeof r=="object"&&r){let i={};for(let[o,s]of Object.entries(r))i[ki(o,e,t)]=ki(s,e,t);n=i}else n=r;return n}var Gh=["javascript","typescript","typescriptreact","javascriptreact","fsharp","html","wat","c","cpp","rust","zig"],zh="js-debug",Ja="1.87.0",vG="ms-vscode",Kh=zh.includes("nightly"),wT=`${vG}.${zh}`;var Nw=w(wI()),o5=w(yg()),Ow=require("fs"),Fw=w(V()),qje=w(V$());var Ef=require("fs"),nr=w(V()),NH=w(require("path"));var U=class{constructor(){this._listeners=new Set;this.event=(e,t,n)=>{let i={listener:e,thisArg:t};this._listeners.add(i);let o={dispose:()=>{o.dispose=()=>{},this._listeners.delete(i)}};return n&&n.push(o),o}}get size(){return this._listeners.size}fire(e){let t=!this._deliveryQueue;this._deliveryQueue||(this._deliveryQueue=[]);for(let n of this._listeners)this._deliveryQueue.push({data:n,event:e});if(t){for(let n=0;n<this._deliveryQueue.length;n++){let{data:i,event:o}=this._deliveryQueue[n];i.listener.call(i.thisArg,o)}this._deliveryQueue=void 0}}dispose(){this._listeners.clear(),this._deliveryQueue&&(this._deliveryQueue=[])}},of=class{constructor(){this.map=new Map;this.listeners=this.map}listen(e,t){let n=this.map.get(e);n||(n=new U,this.map.set(e,n));let i=n.event(t);return{dispose:Se(()=>{i.dispose(),n?.size===0&&this.map.delete(e)})}}emit(e,t){this.listeners.get(e)?.fire(t)}};var tc=w(V()),cf=w(require("path"));var X$=require("crypto"),J$=w(yg()),Y$=require("os"),je=w(require("path"));var qo=w(require("fs")),G$=w(require("util"));async function Vo({access:r},e){if(!e)return!1;try{return await r(e),!0}catch{return!1}}async function x_(r,e,t){try{await r.copyFile(e,t)}catch(n){try{if(await Vo(r,t))await r.unlink(t),await r.copyFile(e,t);else throw n}catch{throw n}}}async function un({stat:r},e){if(e)try{return await r(e)}catch{return}}async function z$({lstat:r},e){if(e)try{return await r(e)}catch{return}}async function K$({copyFile:r,rename:e,unlink:t},n,i){try{await e(n,i)}catch{await r(n,i),await t(n)}}function Qg(r){return new Promise(e=>{qo.readFile(r,"utf8",async(t,n)=>{e(t?"":n)})})}var fge=G$.promisify(qo.writeFile);var Er=Symbol("FsUtils"),cn=class{constructor(e){this.fs=e}realPath(e){return this.fs.realpath(e)}async exists(e){try{return await this.fs.access(e,qo.constants.F_OK),!0}catch{return!1}}readFile(e){return this.fs.readFile(e)}},v_=class{constructor(e){this.dap=e}async realPath(){throw new Error("not implemented")}async exists(e){try{let{doesExists:t}=await this.dap.remoteFileExistsRequest({localFilePath:e});return t}catch{return!1}}readFile(){throw new Error("not implemented")}},Yg=class{constructor(e,t,n){this.remoteFilePrefix=e;this.localFsUtils=t;this.remoteFsUtils=n}static create(e,t,n){let i=new cn(t);return e!==void 0?new this(e.toLowerCase(),i,new v_(n)):i}async exists(e){return this.selectFs(e).exists(e)}async readFile(e){return this.selectFs(e).readFile(e)}async realPath(e){return this.selectFs(e).realPath(e)}selectFs(e){return e.toLowerCase().startsWith(this.remoteFilePrefix)?this.remoteFsUtils:this.localFsUtils}};var BY=process.platform==="win32"?"\\\\.\\pipe\\":(0,Y$.tmpdir)(),UY=0,Zg=()=>je.join(BY,`node-cdp.${process.pid}-${(0,X$.randomBytes)(4).toString("hex")}-${UY++}.sock`);async function eH(r,e,t){let n;if(process.platform==="win32"){let i=t.WINDIR||"C:\\Windows";n=je.join(i,"System32","where.exe")}else n="/usr/bin/which";try{if(await un(r,n)){let o=(await(0,J$.default)(n,[e],{env:vu(t)})).stdout.split(/\r?\n/);if(process.platform==="win32"){let s=String(t.PATHEXT||".exe").toUpperCase().split(";");for(let a of o){let c=je.extname(a).toUpperCase();if(c&&s.includes(c))return a}}else if(o.length>0)return o[0];return}return e}catch{}}async function Q$(r,e,t){if(e){if(process.platform==="win32"&&!je.extname(e)){let n=t.lookup("PATHEXT");if(n){let i=n.split(";");for(let o of i){let s=e+o;if(await un(r,s))return s}}}if(await un(r,e))return e}}var Z$=r=>r.includes(`.asar${je.sep}`);function Ds(...r){return je.posix.isAbsolute(r[0])?Xe(je.posix.join(...r)):je.win32.isAbsolute(r[0])?je.win32.join(...r):je.join(...r)}function ln(...r){return je.posix.isAbsolute(r[0])?je.posix.resolve(...r):je.win32.isAbsolute(r[0])?je.win32.resolve(...r):je.resolve(...r)}function af(r,e){return je.posix.isAbsolute(r)?je.posix.relative(r,e):je.win32.isAbsolute(r)?je.win32.relative(r,e):je.relative(r,e)}var jY=/\/|\\/,sf="file:///",ek=r=>r.startsWith(sf)&&r[sf.length+1]===":",w_=r=>r.split(jY);function I_(r,e=!1){if(!r)return r;if(ek(r)){let t=sf.length;r=sf+r[t].toLowerCase()+r.substr(t+1)}else nH(r)&&(r=(e?r[0].toUpperCase():r[0].toLowerCase())+r.substr(1));return r}function Tt(r,e=!1){if(!r)return r;if(r=I_(r,e),ek(r)){let t=sf.length;r=r.substr(0,t+1)+r.substr(t+1).replace(/\//g,"\\")}else nH(r)&&(r=r.replace(/\//g,"\\"));return r}function Xe(r){return r.replace(/\\\//g,"/").replace(/\\/g,"/")}var tH=(r,e)=>{let t=je.relative(r,e);return t.length&&!je.isAbsolute(t)&&!t.startsWith("..")},rH=(r,e)=>{let t=je.relative(r,e);return!je.isAbsolute(t)&&!t.startsWith("..")},__=r=>r.startsWith("\\\\"),nH=r=>/^[A-Za-z]:/.test(r)||__(r);var ku=class{get empty(){return this.patterns.length===0}constructor({rootPath:e,patterns:t}){!e||!t?(this.rootPath="",this.patterns=[]):(this.rootPath=e,this.patterns=t.map(n=>{let i=n.startsWith("!");return{negated:i,pattern:n.slice(i?1:0)}}))}*explode(){for(let e=0;e<this.patterns.length;e++){let{negated:t,pattern:n}=this.patterns[e];if(t)continue;let i=cf.resolve(this.rootPath,n).split(/[\\/]/g),o=i.findIndex(c=>c.includes("*"));if(o===-1){yield{cwd:i.slice(0,-1).join("/"),pattern:i[i.length-1],negations:[]};continue}let s=i.slice(0,o).join("/"),a=[];for(let c=e+1;c<this.patterns.length;c++){let{negated:u,pattern:l}=this.patterns[c];if(u)if(l.startsWith("**"))a.push(Xe(l));else{let p=cf.relative(s,cf.resolve(this.rootPath,l));p.startsWith("..")||a.push(Xe(p))}}yield{cwd:s,negations:a,pattern:i.slice(o).join("/")}}}};ku=E([(0,tc.injectable)()],ku);var Qi=class extends ku{constructor({rootPath:e,outFiles:t}){super({rootPath:e,patterns:t})}};Qi=E([(0,tc.injectable)(),H(0,(0,tc.inject)(Ne))],Qi);var Go=class extends ku{constructor(e){super({rootPath:e.rootPath,patterns:"vueComponentPaths"in e?e.vueComponentPaths:[]})}};Go=E([(0,tc.injectable)(),H(0,(0,tc.inject)(Ne))],Go);var rk=require("crypto"),nk=require("os"),ik=w(require("path"));var uf=require("fs"),tk=require("path"),oH=require("zlib"),qY=(r,e)=>e instanceof Error?{message:e.message,stack:e.stack}:typeof e=="bigint"?e.toString():e,iH=class{constructor(e,t){this.file=e;this.dap=t;try{(0,uf.mkdirSync)((0,tk.dirname)(e),{recursive:!0})}catch{}e.endsWith(".gz")?(this.stream=(0,oH.createGzip)(),this.stream.pipe((0,uf.createWriteStream)(e))):this.stream=(0,uf.createWriteStream)(e)}async setup(){this.dap?.output({category:"console",output:`Verbose logs are written to:
${this.file}
`})}dispose(){this.stream&&(this.stream.end(),this.stream=void 0)}write(e){this.stream&&(this.stream.write(JSON.stringify(e,qY)+`
`),this.stream.flush?.(oH.constants.Z_SYNC_FLUSH))}};var VY={runtime:null,"runtime.sourcecreate":null,"runtime.assertion":null,"runtime.launch":null,"runtime.target":null,"runtime.welcome":null,"runtime.exception":null,"runtime.sourcemap":null,"runtime.breakpoints":null,"sourcemap.parsing":null,"perf.function":null,"cdp.send":null,"cdp.receive":null,"dap.send":null,"dap.receive":null,internal:null,proxyActivity:null},_ge=Object.keys(VY),ie=Symbol("ILogger");function A_(r,e=(0,nk.tmpdir)()){if(r===!1)return{stdio:!1,logFile:null};let t={stdio:!0,logFile:ik.join(e,`vscode-debugadapter-${(0,rk.randomBytes)(4).toString("hex")}.json.gz`)};return r===!0?t:{...t,...r}}function ok(r,e){let t=A_(e),n={sinks:[]};return t.logFile&&n.sinks.push(new iH(t.logFile,r)),n}var sk="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ck=new Uint8Array(64),uk=new Uint8Array(128);for(let r=0;r<sk.length;r++){let e=sk.charCodeAt(r);ck[r]=e,uk[e]=r}var S_=typeof TextDecoder<"u"?new TextDecoder:typeof Buffer<"u"?{decode(r){return Buffer.from(r.buffer,r.byteOffset,r.byteLength).toString()}}:{decode(r){let e="";for(let t=0;t<r.length;t++)e+=String.fromCharCode(r[t]);return e}};function lk(r){let e=new Int32Array(5),t=[],n=0;do{let i=GY(r,n),o=[],s=!0,a=0;e[0]=0;for(let c=n;c<i;c++){let u;c=lf(r,c,e,0);let l=e[0];l<a&&(s=!1),a=l,ak(r,c,i)?(c=lf(r,c,e,1),c=lf(r,c,e,2),c=lf(r,c,e,3),ak(r,c,i)?(c=lf(r,c,e,4),u=[l,e[1],e[2],e[3],e[4]]):u=[l,e[1],e[2],e[3]]):u=[l],o.push(u)}s||zY(o),t.push(o),n=i+1}while(n<=r.length);return t}function GY(r,e){let t=r.indexOf(";",e);return t===-1?r.length:t}function lf(r,e,t,n){let i=0,o=0,s=0;do{let c=r.charCodeAt(e++);s=uk[c],i|=(s&31)<<o,o+=5}while(s&32);let a=i&1;return i>>>=1,a&&(i=-2147483648|-i),t[n]+=i,e}function ak(r,e,t){return e>=t?!1:r.charCodeAt(e)!==44}function zY(r){r.sort(KY)}function KY(r,e){return r[0]-e[0]}function sH(r){let e=new Int32Array(5),t=1024*16,n=t-36,i=new Uint8Array(t),o=i.subarray(0,n),s=0,a="";for(let c=0;c<r.length;c++){let u=r[c];if(c>0&&(s===t&&(a+=S_.decode(i),s=0),i[s++]=59),u.length!==0){e[0]=0;for(let l=0;l<u.length;l++){let p=u[l];s>n&&(a+=S_.decode(o),i.copyWithin(0,n,s),s-=n),l>0&&(i[s++]=44),s=pf(i,s,e,p,0),p.length!==1&&(s=pf(i,s,e,p,1),s=pf(i,s,e,p,2),s=pf(i,s,e,p,3),p.length!==4&&(s=pf(i,s,e,p,4)))}}}return a+S_.decode(i.subarray(0,s))}function pf(r,e,t,n,i){let o=n[i],s=o-t[i];t[i]=o,s=s<0?-s<<1|1:s<<1;do{let a=s&31;s>>>=5,s>0&&(a|=32),r[e++]=ck[a]}while(s>0);return e}var XY=/^[\w+.-]+:\/\//,JY=/^([\w+.-]+:)\/\/([^@/#?]*@)?([^:/#?]*)(:\d+)?(\/[^#?]*)?(\?[^#]*)?(#.*)?/,YY=/^file:(?:\/\/((?![a-z]:)[^/#?]*)?)?(\/?[^#?]*)(\?[^#]*)?(#.*)?/i,Lt;(function(r){r[r.Empty=1]="Empty",r[r.Hash=2]="Hash",r[r.Query=3]="Query",r[r.RelativePath=4]="RelativePath",r[r.AbsolutePath=5]="AbsolutePath",r[r.SchemeRelative=6]="SchemeRelative",r[r.Absolute=7]="Absolute"})(Lt||(Lt={}));function QY(r){return XY.test(r)}function ZY(r){return r.startsWith("//")}function fk(r){return r.startsWith("/")}function e7(r){return r.startsWith("file:")}function pk(r){return/^[.?#]/.test(r)}function aH(r){let e=JY.exec(r);return mk(e[1],e[2]||"",e[3],e[4]||"",e[5]||"/",e[6]||"",e[7]||"")}function t7(r){let e=YY.exec(r),t=e[2];return mk("file:","",e[1]||"","",fk(t)?t:"/"+t,e[3]||"",e[4]||"")}function mk(r,e,t,n,i,o,s){return{scheme:r,user:e,host:t,port:n,path:i,query:o,hash:s,type:Lt.Absolute}}function dk(r){if(ZY(r)){let t=aH("http:"+r);return t.scheme="",t.type=Lt.SchemeRelative,t}if(fk(r)){let t=aH("http://foo.com"+r);return t.scheme="",t.host="",t.type=Lt.AbsolutePath,t}if(e7(r))return t7(r);if(QY(r))return aH(r);let e=aH("http://foo.com/"+r);return e.scheme="",e.host="",e.type=r?r.startsWith("?")?Lt.Query:r.startsWith("#")?Lt.Hash:Lt.RelativePath:Lt.Empty,e}function r7(r){if(r.endsWith("/.."))return r;let e=r.lastIndexOf("/");return r.slice(0,e+1)}function n7(r,e){hk(e,e.type),r.path==="/"?r.path=e.path:r.path=r7(e.path)+r.path}function hk(r,e){let t=e<=Lt.RelativePath,n=r.path.split("/"),i=1,o=0,s=!1;for(let c=1;c<n.length;c++){let u=n[c];if(!u){s=!0;continue}if(s=!1,u!=="."){if(u===".."){o?(s=!0,o--,i--):t&&(n[i++]=u);continue}n[i++]=u,o++}}let a="";for(let c=1;c<i;c++)a+="/"+n[c];(!a||s&&!a.endsWith("/.."))&&(a+="/"),r.path=a}function gk(r,e){if(!r&&!e)return"";let t=dk(r),n=t.type;if(e&&n!==Lt.Absolute){let o=dk(e),s=o.type;switch(n){case Lt.Empty:t.hash=o.hash;case Lt.Hash:t.query=o.query;case Lt.Query:case Lt.RelativePath:n7(t,o);case Lt.AbsolutePath:t.user=o.user,t.host=o.host,t.port=o.port;case Lt.SchemeRelative:t.scheme=o.scheme}s>n&&(n=s)}hk(t,n);let i=t.query+t.hash;switch(n){case Lt.Hash:case Lt.Query:return i;case Lt.RelativePath:{let o=t.path.slice(1);return o?pk(e||r)&&!pk(o)?"./"+o+i:o+i:i||"."}case Lt.AbsolutePath:return t.path+i;default:return t.scheme+"//"+t.user+t.host+t.port+t.path+i}}function Hk(r,e){return e&&!e.endsWith("/")&&(e+="/"),gk(r,e)}function i7(r){if(!r)return"";let e=r.lastIndexOf("/");return r.slice(0,e+1)}var fi=0,C_=1,T_=2,L_=3,wk=4,Ik=1,_k=2;function o7(r,e){let t=yk(r,0);if(t===r.length)return r;e||(r=r.slice());for(let n=t;n<r.length;n=yk(r,n+1))r[n]=a7(r[n],e);return r}function yk(r,e){for(let t=e;t<r.length;t++)if(!s7(r[t]))return t;return r.length}function s7(r){for(let e=1;e<r.length;e++)if(r[e][fi]<r[e-1][fi])return!1;return!0}function a7(r,e){return e||(r=r.slice()),r.sort(c7)}function c7(r,e){return r[fi]-e[fi]}var rc=!1;function u7(r,e,t,n){for(;t<=n;){let i=t+(n-t>>1),o=r[i][fi]-e;if(o===0)return rc=!0,i;o<0?t=i+1:n=i-1}return rc=!1,t-1}function D_(r,e,t){for(let n=t+1;n<r.length&&r[n][fi]===e;t=n++);return t}function Ak(r,e,t){for(let n=t-1;n>=0&&r[n][fi]===e;t=n--);return t}function Sk(){return{lastKey:-1,lastNeedle:-1,lastIndex:-1}}function Ek(r,e,t,n){let{lastKey:i,lastNeedle:o,lastIndex:s}=t,a=0,c=r.length-1;if(n===i){if(e===o)return rc=s!==-1&&r[s][fi]===e,s;e>=o?a=s===-1?0:s:c=s}return t.lastKey=n,t.lastNeedle=e,t.lastIndex=u7(r,e,a,c)}function l7(r,e){let t=e.map(d7);for(let n=0;n<r.length;n++){let i=r[n];for(let o=0;o<i.length;o++){let s=i[o];if(s.length===1)continue;let a=s[C_],c=s[T_],u=s[L_],l=t[a],p=l[c]||(l[c]=[]),d=e[a],h=D_(p,u,Ek(p,u,d,c));p7(p,d.lastIndex=h+1,[u,n,s[fi]])}}return t}function p7(r,e,t){for(let n=r.length;n>e;n--)r[n]=r[n-1];r[e]=t}function d7(){return{__proto__:null}}var lH=function(r,e){let t=typeof r=="string"?JSON.parse(r):r;if(!("sections"in t))return new nc(t,e);let n=[],i=[],o=[],s=[];Pk(t,e,n,i,o,s,0,0,1/0,1/0);let a={version:3,file:t.file,names:s,sources:i,sourcesContent:o,mappings:n};return Ck(a)};function Pk(r,e,t,n,i,o,s,a,c,u){let{sections:l}=r;for(let p=0;p<l.length;p++){let{map:d,offset:h}=l[p],f=c,g=u;if(p+1<l.length){let v=l[p+1].offset;f=Math.min(c,s+v.line),f===c?g=Math.min(u,a+v.column):f<c&&(g=a+v.column)}f7(d,e,t,n,i,o,s+h.line,a+h.column,f,g)}}function f7(r,e,t,n,i,o,s,a,c,u){if("sections"in r)return Pk(...arguments);let l=new nc(r,e),p=n.length,d=o.length,h=zo(l),{resolvedSources:f,sourcesContent:g}=l;if(E_(n,f),E_(o,l.names),g)E_(i,g);else for(let v=0;v<f.length;v++)i.push(null);for(let v=0;v<h.length;v++){let S=s+v;if(S>c)return;let R=m7(t,S),F=v===0?a:0,X=h[v];for(let G=0;G<X.length;G++){let J=X[G],z=F+J[fi];if(S===c&&z>=u)return;if(J.length===1){R.push([z]);continue}let ee=p+J[C_],he=J[T_],Le=J[L_];R.push(J.length===4?[z,ee,he,Le]:[z,ee,he,Le,d+J[wk]])}}}function E_(r,e){for(let t=0;t<e.length;t++)r.push(e[t])}function m7(r,e){for(let t=r.length;t<=e;t++)r[t]=[];return r[e]}var bk="`line` must be greater than 0 (lines start at line 1)",vk="`column` must be greater than or equal to 0 (columns start at column 0)",Ru=-1,Zi=1,xk,zo,h7,$_,k_,R_,M_,g7,Ck,H7,y7,nc=class{constructor(e,t){let n=typeof e=="string";if(!n&&e._decodedMemo)return e;let i=n?JSON.parse(e):e,{version:o,file:s,names:a,sourceRoot:c,sources:u,sourcesContent:l}=i;this.version=o,this.file=s,this.names=a||[],this.sourceRoot=c,this.sources=u,this.sourcesContent=l;let p=Hk(c||"",i7(t));this.resolvedSources=u.map(h=>Hk(h||"",p));let{mappings:d}=i;typeof d=="string"?(this._encoded=d,this._decoded=void 0):(this._encoded=void 0,this._decoded=o7(d,n)),this._decodedMemo=Sk(),this._bySources=void 0,this._bySourceMemos=void 0}};(()=>{xk=e=>{var t;return(t=e._encoded)!==null&&t!==void 0?t:e._encoded=sH(e._decoded)},zo=e=>e._decoded||(e._decoded=lk(e._encoded)),h7=(e,t,n)=>{let i=zo(e);if(t>=i.length)return null;let o=i[t],s=uH(o,e._decodedMemo,t,n,Zi);return s===-1?null:o[s]},$_=(e,{line:t,column:n,bias:i})=>{if(t--,t<0)throw new Error(bk);if(n<0)throw new Error(vk);let o=zo(e);if(t>=o.length)return cH(null,null,null,null);let s=o[t],a=uH(s,e._decodedMemo,t,n,i||Zi);if(a===-1)return cH(null,null,null,null);let c=s[a];if(c.length===1)return cH(null,null,null,null);let{names:u,resolvedSources:l}=e;return cH(l[c[C_]],c[T_]+1,c[L_],c.length===5?u[c[wk]]:null)},R_=(e,{source:t,line:n,column:i,bias:o})=>r(e,t,n,i,o||Ru,!0),k_=(e,{source:t,line:n,column:i,bias:o})=>r(e,t,n,i,o||Zi,!1),M_=(e,t)=>{let n=zo(e),{names:i,resolvedSources:o}=e;for(let s=0;s<n.length;s++){let a=n[s];for(let c=0;c<a.length;c++){let u=a[c],l=s+1,p=u[0],d=null,h=null,f=null,g=null;u.length!==1&&(d=o[u[1]],h=u[2]+1,f=u[3]),u.length===5&&(g=i[u[4]]),t({generatedLine:l,generatedColumn:p,source:d,originalLine:h,originalColumn:f,name:g})}}},g7=(e,t)=>{let{sources:n,resolvedSources:i,sourcesContent:o}=e;if(o==null)return null;let s=n.indexOf(t);return s===-1&&(s=i.indexOf(t)),s===-1?null:o[s]},Ck=(e,t)=>{let n=new nc(P_(e,[]),t);return n._decoded=e.mappings,n},H7=e=>P_(e,zo(e)),y7=e=>P_(e,xk(e));function r(e,t,n,i,o,s){if(n--,n<0)throw new Error(bk);if(i<0)throw new Error(vk);let{sources:a,resolvedSources:c}=e,u=a.indexOf(t);if(u===-1&&(u=c.indexOf(t)),u===-1)return s?[]:df(null,null);let p=(e._bySources||(e._bySources=l7(zo(e),e._bySourceMemos=a.map(Sk))))[u][n];if(p==null)return s?[]:df(null,null);let d=e._bySourceMemos[u];if(s)return b7(p,d,n,i,o);let h=uH(p,d,n,i,o);if(h===-1)return df(null,null);let f=p[h];return df(f[Ik]+1,f[_k])}})();function P_(r,e){return{version:r.version,file:r.file,names:r.names,sourceRoot:r.sourceRoot,sources:r.sources,sourcesContent:r.sourcesContent,mappings:e}}function cH(r,e,t,n){return{source:r,line:e,column:t,name:n}}function df(r,e){return{line:r,column:e}}function uH(r,e,t,n,i){let o=Ek(r,n,e,t);return rc?o=(i===Ru?D_:Ak)(r,n,o):i===Ru&&o++,o===-1||o===r.length?-1:o}function b7(r,e,t,n,i){let o=uH(r,e,t,n,Zi);if(!rc&&i===Ru&&o++,o===-1||o===r.length)return[];let s=rc?n:r[o][fi];rc||(o=Ak(r,s,o));let a=D_(r,s,o),c=[];for(;o<=a;o++){let u=r[o];c.push(df(u[Ik]+1,u[_k]))}return c}var io=w(V());var pH=class extends Error{constructor(t,n,i){super(`Unexpected ${t} response from ${n}: ${i??"<empty body>"}`);this.statusCode=t;this.url=n;this.body=i}},ic=Symbol("IResourceProvider");var De=r=>isFinite(r)?new Promise(e=>setTimeout(e,r)):new Promise(()=>{}),Tk=(r,e)=>{let t=setTimeout(r,e);return{dispose:()=>clearTimeout(t)}};function eo(r){return new Promise((e,t)=>{let n=r.length;for(let i of r)i.then(o=>{o?(e(o),n=-1):--n===0&&e(void 0)}).catch(t)})}function Ge(){let r=null,e=null,t=!1,n,i=new Promise((o,s)=>{r=a=>{t=!0,n=a,o(a)},e=a=>{t=!0,s(a)}});return{resolve:r,reject:e,promise:i,get settledValue(){return n},hasSettled:()=>t}}var lt=w(we());var K=class extends Error{get cause(){return this._cause}constructor(e){super("__errorMarker"in e?e.error.format:e.format),this._cause="__errorMarker"in e?e.error:e}};function Lk(r,e){r.output({category:"console",output:e+`
`})}function Je(r,e=9222){return{__errorMarker:!0,error:{id:e,format:r,showUser:!1}}}function Ze(r,e=9223){return{__errorMarker:!0,error:{id:e,format:r,showUser:!0}}}var O_=()=>Ze(lt.t("Attribute 'runtimeVersion' requires Node.js version manager 'nvs', 'nvm' or 'fnm' to be installed."),9224),Dk=()=>Ze(lt.t("Attribute 'runtimeVersion' with a flavor/architecture requires 'nvs' to be installed."),9225),$k=()=>Ze(lt.t("Attribute 'runtimeVersion' requires Node.js version manager 'nvm-windows' or 'nvs'."),9226),N_=(r,e)=>Ze(lt.t("Node.js version '{0}' not installed using version manager {1}.",r,e),9226),kk=r=>Ze(lt.t("Cannot launch debug target in terminal ({0}).",r),9227),Rk=r=>Ze(lt.t("Can't load environment variables from file ({0}).",r),9228),Mk=r=>Ze(lt.t("The configured `cwd` {0} does not exist.",r),9245),F_=(r,e)=>Ze(lt.t(`Can't find Node.js binary "{0}": {1}. Make sure Node.js is installed and in your PATH, or set the "runtimeExecutable" in your launch.json`,r,e),9229),Ok=(r,e)=>Ze(lt.t('The Node version in "{0}" is outdated (version {1}), we require at least Node 8.x.',e,r),9230),B_=r=>Ze(lt.t('Invalid hit condition "{0}". Expected an expression like "> 42" or "== 2".',r),9231),Mu=()=>Ze(lt.t("An error occurred taking a profile from the target."),9235),Nk=()=>Ze(lt.t("Please stop the running profile before starting a new one."),9236),Fk=r=>Je(r,9238),dH=(r,e,t)=>Ze(e==="*"&&!t.length?lt.t('Unable to find an installation of the browser on your system. Try installing it, or providing an absolute path to the browser in the "runtimeExecutable" in your launch.json.'):lt.t('Unable to find {0} version {1}. Available auto-discovered versions are: {2}. You can set the "runtimeExecutable" in your launch.json to one of these, or provide an absolute path to the browser executable.',r,e,JSON.stringify([...new Set(t)])),9233),U_=r=>Ze(lt.t('Unable to launch browser: "{0}"',r.message),9240),ff=r=>Ze(r??lt.t("Unable to attach to browser"),9242),fH=()=>Ze(lt.t('Target page not found. You may need to update your "urlFilter" to match the page you want to debug.'),9241);var Bk=()=>Je(lt.t("Variables not available in async stacks"),9234),$s=(r,e)=>Ze(lt.t("Syntax error setting breakpoint with condition {0} on line {1}: {2}",JSON.stringify(r.condition),r.line,e),9237),j_=()=>Je(lt.t("Thread not found"),9244),mH=(r,e)=>Ze(lt.t("Could not read source map for {0}: {1}",r,e)),Uk=()=>Ze(lt.t("UWP webview debugging is not available on your platform.")),jk=()=>Ze(lt.t("Could not connect to any UWP Webview pipe. Make sure your webview is hosted in debug mode, and that the `pipeName` in your `launch.json` is correct.")),Wk=r=>typeof r=="object"&&!!r&&"__errorMarker"in r,qk=(r,e)=>r instanceof K&&r.cause.id===e,Vk=r=>Ze(lt.t("The browser process exited with code {0} before connecting to the debug server. Make sure the `runtimeExecutable` is configured correctly and that it can run without errors.",r));var Gk=new WeakSet;var v7="Request",x7=r=>r.endsWith("Request"),Vr=Symbol("IDapApi"),Nu=Symbol("IRootDapApi"),Ou=class{constructor(e,t){this.transport=e;this.logger=t;this._pendingRequests=new Map;this._requestHandlers=new Map;this._eventListeners=new Map;this.disposables=[];this._initialized=Ge();this.closed=!1;this._sequence=1,this.disposables.push(this.transport.messageReceived(n=>this._onMessage(n.message,n.receivedTime))),this._dap=this._createApi()}get initializedBlocker(){return this._initialized.promise}attachTelemetry(e){this.telemetryReporter=e,e.attachDap(this._dap)}dap(){return this._dap}_createApi(){return new Proxy({},{get:(e,t)=>{if(t!=="then")return t==="on"?(n,i)=>(this._requestHandlers.set(n,i),()=>this._requestHandlers.delete(n)):t==="off"?n=>this._requestHandlers.delete(n):n=>{if(x7(t))return this.enqueueRequest(t.slice(0,-v7.length),n);this._send({seq:0,type:"event",event:t,body:n})}}})}createTestApi(){let e=(i,o)=>{let s=this._eventListeners.get(i);s||(s=new Set,this._eventListeners.set(i,s)),s.add(o)},t=(i,o)=>{let s=this._eventListeners.get(i);s&&s.delete(o)},n=(i,o)=>new Promise(s=>{let a=c=>{o&&!o(c)||(t(i,a),s(c))};e(i,a)});return new Proxy({},{get:(i,o)=>o==="on"?e:o==="off"?t:o==="once"?n:s=>this.enqueueRequest(o,s)})}enqueueRequest(e,t){return new Promise(n=>{let i={seq:0,type:"request",command:e,arguments:t||{}};this._send(i),this._pendingRequests.set(i.seq,n)})}stop(){this.closed=!0,this.transport.close()}_send(e,t){if(this.closed)this.logger.warn("dap.send","Not sending message because the connection has ended",e),t?.();else{e.seq=this._sequence++;let n=e.type!=="event"||!Gk.has(e.body);this.transport.send(e,n,t)}}async _onMessage(e,t){if(e.type==="request"){let n={seq:0,type:"response",request_seq:e.seq,command:e.command,success:!0};try{let i=this._requestHandlers.get(e.command);if(!i)console.error(`Unknown request: ${e.command}`);else{let o=await i(e.arguments);if(Wk(o))this._send({...n,success:!1,message:o.error.format,body:{error:o.error}});else{let s={...n,body:o};n.command==="initialize"?(this._send(s),this._initialized.resolve(this)):n.command==="disconnect"?this._send({...n,body:o},()=>{this.stop()}):this._send(s)}}this.telemetryReporter?.reportOperation("dapOperation",e.command,t.elapsed().ms)}catch(i){i instanceof K?this._send({...n,success:!1,body:{error:i.cause}}):(console.error(i),this._send({...n,success:!1,body:{error:{id:9221,format:`Error processing ${e.command}: ${i.stack||i.message}`,showUser:!1,sendTelemetry:!1}}})),this.telemetryReporter?.reportOperation("dapOperation",e.command,t.elapsed().ms,i)}}if(e.type==="event"){let n=this._eventListeners.get(e.event)||new Set;for(let i of n)i(e.body)}if(e.type==="response"){let n=this._pendingRequests.get(e.request_seq);if(!this.logger.assert(n,`Expected callback for request sequence ID ${e.request_seq}`))return;if(this._pendingRequests.delete(e.request_seq),e.success)n(e.body);else{let i=e.body?.error?.format;n(i||e.message||"Unknown error")}}}};var gH=class{constructor(e,t){this.key=e;this.value=t}toString(){return`${this.key}: ${this.value}`}},to=class{constructor(e,t){this.projection=e;this.initialContents=t;let n=Array.from(t||[]).map(i=>[this.projection(i[0]),new gH(i[0],i[1])]);this.projectionToKeyAndValue=new Map(n)}clear(){this.projectionToKeyAndValue.clear()}delete(e){let t=this.projection(e);return this.projectionToKeyAndValue.delete(t)}forEach(e,t){this.projectionToKeyAndValue.forEach(n=>{e.call(t,n.value,n.key,this)},t)}get(e){let t=this.projection(e),n=this.projectionToKeyAndValue.get(t);return n?n.value:void 0}has(e){return this.projectionToKeyAndValue.has(this.projection(e))}set(e,t){return this.projectionToKeyAndValue.set(this.projection(e),new gH(e,t)),this}get size(){return this.projectionToKeyAndValue.size}*entries(){for(let e of this.projectionToKeyAndValue.values())yield[e.key,e.value]}*keys(){for(let e of this.projectionToKeyAndValue.values())yield e.key}*values(){for(let e of this.projectionToKeyAndValue.values())yield e.value}[Symbol.iterator](){return this.entries()}get[Symbol.toStringTag](){return JSON.stringify(Array.from(this.entries()))}toString(){return`MapUsingProjection<${JSON.stringify([...this.entries()])}>`}};var tt=Symbol("ISourcePathResolver");var TR=require("dns"),pn=w(require("path")),Xo=require("url");var IR=require("url");var vR=require("./vendor/acorn.js"),xR=require("crypto");var zk,Fu,w7,mf=class{constructor(){this._indexes={__proto__:null},this.array=[]}};zk=(r,e)=>r._indexes[e],Fu=(r,e)=>{let t=zk(r,e);if(t!==void 0)return t;let{array:n,_indexes:i}=r;return i[e]=n.push(e)-1},w7=r=>{let{array:e,_indexes:t}=r;if(e.length===0)return;let n=e.pop();t[n]=void 0};var Yk=0,Qk=1,Zk=2,eR=3,tR=4,rR=-1,W_,I7,_7,A7,q_,HH,S7,E7,P7,hf,gf=class{constructor({file:e,sourceRoot:t}={}){this._names=new mf,this._sources=new mf,this._sourcesContent=[],this._mappings=[],this.file=e,this.sourceRoot=t}};W_=(r,e,t,n,i,o,s,a)=>hf(!1,r,e,t,n,i,o,s,a),_7=(r,e,t,n,i,o,s,a)=>hf(!0,r,e,t,n,i,o,s,a),I7=(r,e)=>Jk(!1,r,e),A7=(r,e)=>Jk(!0,r,e),q_=(r,e,t)=>{let{_sources:n,_sourcesContent:i}=r;i[Fu(n,e)]=t},HH=r=>{let{file:e,sourceRoot:t,_mappings:n,_sources:i,_sourcesContent:o,_names:s}=r;return L7(n),{version:3,file:e||void 0,names:s.array,sourceRoot:t||void 0,sources:i.array,sourcesContent:o,mappings:n}},S7=r=>{let e=HH(r);return Object.assign(Object.assign({},e),{mappings:sH(e.mappings)})},P7=r=>{let e=[],{_mappings:t,_sources:n,_names:i}=r;for(let o=0;o<t.length;o++){let s=t[o];for(let a=0;a<s.length;a++){let c=s[a],u={line:o+1,column:c[Yk]},l,p,d;c.length!==1&&(l=n.array[c[Qk]],p={line:c[Zk]+1,column:c[eR]},c.length===5&&(d=i.array[c[tR]])),e.push({generated:u,source:l,original:p,name:d})}}return e},E7=r=>{let e=new nc(r),t=new gf({file:e.file,sourceRoot:e.sourceRoot});return Xk(t._names,e.names),Xk(t._sources,e.sources),t._sourcesContent=e.sourcesContent||e.sources.map(()=>null),t._mappings=zo(e),t},hf=(r,e,t,n,i,o,s,a,c)=>{let{_mappings:u,_sources:l,_sourcesContent:p,_names:d}=e,h=C7(u,t),f=T7(h,n);if(!i)return r&&D7(h,f)?void 0:Kk(h,f,[n]);let g=Fu(l,i),v=a?Fu(d,a):rR;if(g===p.length&&(p[g]=c??null),!(r&&$7(h,f,g,o,s,v)))return Kk(h,f,a?[n,g,o,s,v]:[n,g,o,s])};function C7(r,e){for(let t=r.length;t<=e;t++)r[t]=[];return r[e]}function T7(r,e){let t=r.length;for(let n=t-1;n>=0;t=n--){let i=r[n];if(e>=i[Yk])break}return t}function Kk(r,e,t){for(let n=r.length;n>e;n--)r[n]=r[n-1];r[e]=t}function L7(r){let{length:e}=r,t=e;for(let n=t-1;n>=0&&!(r[n].length>0);t=n,n--);t<e&&(r.length=t)}function Xk(r,e){for(let t=0;t<e.length;t++)Fu(r,e[t])}function D7(r,e){return e===0?!0:r[e-1].length===1}function $7(r,e,t,n,i,o){if(e===0)return!1;let s=r[e-1];return s.length===1?!1:t===s[Qk]&&n===s[Zk]&&i===s[eR]&&o===(s.length===5?s[tR]:rR)}function Jk(r,e,t){let{generated:n,source:i,original:o,name:s,content:a}=t;if(!i)return hf(r,e,n.line-1,n.column,null,null,null,null,null);let c=i;return hf(r,e,n.line-1,n.column,c,o.line-1,o.column,s,a)}var AH=require("./vendor/acorn.js");var{stringify:R7}=JSON;if(!String.prototype.repeat)throw new Error("String.prototype.repeat is undefined, see https://github.com/davidbonnet/astring#installation");if(!String.prototype.endsWith)throw new Error("String.prototype.endsWith is undefined, see https://github.com/davidbonnet/astring#installation");var yH={"||":2,"??":3,"&&":4,"|":5,"^":6,"&":7,"==":8,"!=":8,"===":8,"!==":8,"<":9,">":9,"<=":9,">=":9,in:9,instanceof:9,"<<":10,">>":10,">>>":10,"+":11,"-":11,"*":12,"%":12,"/":12,"**":13},mi=17,M7={ArrayExpression:20,TaggedTemplateExpression:20,ThisExpression:20,Identifier:20,PrivateIdentifier:20,Literal:18,TemplateLiteral:20,Super:20,SequenceExpression:20,MemberExpression:19,ChainExpression:19,CallExpression:19,NewExpression:19,ArrowFunctionExpression:mi,ClassExpression:mi,FunctionExpression:mi,ObjectExpression:mi,UpdateExpression:16,UnaryExpression:15,AwaitExpression:15,BinaryExpression:14,LogicalExpression:13,ConditionalExpression:4,AssignmentExpression:3,YieldExpression:2,RestElement:1};function Bu(r,e){let{generator:t}=r;if(r.write("("),e!=null&&e.length>0){t[e[0].type](e[0],r);let{length:n}=e;for(let i=1;i<n;i++){let o=e[i];r.write(", "),t[o.type](o,r)}}r.write(")")}function uR(r,e,t,n){let i=r.expressionsPrecedence[e.type];if(i===mi)return!0;let o=r.expressionsPrecedence[t.type];return i!==o?!n&&i===15&&o===14&&t.operator==="**"||i<o:i!==13&&i!==14?!1:e.operator==="**"&&t.operator==="**"?!n:i===13&&o===13&&(e.operator==="??"||t.operator==="??")?!0:n?yH[e.operator]<=yH[t.operator]:yH[e.operator]<yH[t.operator]}function bH(r,e,t,n){let{generator:i}=r;uR(r,e,t,n)?(r.write("("),i[e.type](e,r),r.write(")")):i[e.type](e,r)}function O7(r,e,t,n){let i=e.split(`
`),o=i.length-1;if(r.write(i[0].trim()),o>0){r.write(n);for(let s=1;s<o;s++)r.write(t+i[s].trim()+n);r.write(t+i[o].trim())}}function Mr(r,e,t,n){let{length:i}=e;for(let o=0;o<i;o++){let s=e[o];r.write(t),s.type[0]==="L"?r.write("// "+s.value.trim()+`
`,s):(r.write("/*"),O7(r,s.value,t,n),r.write("*/"+n))}}function N7(r){let e=r;for(;e!=null;){let{type:t}=e;if(t[0]==="C"&&t[1]==="a")return!0;if(t[0]==="M"&&t[1]==="e"&&t[2]==="m")e=e.object;else return!1}}function V_(r,e){let{generator:t}=r,{declarations:n}=e;r.write(e.kind+" ");let{length:i}=n;if(i>0){t.VariableDeclarator(n[0],r);for(let o=1;o<i;o++)r.write(", "),t.VariableDeclarator(n[o],r)}}var nR,iR,oR,sR,aR,cR,F7={Program(r,e){let t=e.indent.repeat(e.indentLevel),{lineEnd:n,writeComments:i}=e;i&&r.comments!=null&&Mr(e,r.comments,t,n);let o=r.body,{length:s}=o;for(let a=0;a<s;a++){let c=o[a];i&&c.comments!=null&&Mr(e,c.comments,t,n),e.write(t),this[c.type](c,e),e.write(n)}i&&r.trailingComments!=null&&Mr(e,r.trailingComments,t,n)},BlockStatement:cR=function(r,e){let t=e.indent.repeat(e.indentLevel++),{lineEnd:n,writeComments:i}=e,o=t+e.indent;e.write("{");let s=r.body;if(s!=null&&s.length>0){e.write(n),i&&r.comments!=null&&Mr(e,r.comments,o,n);let{length:a}=s;for(let c=0;c<a;c++){let u=s[c];i&&u.comments!=null&&Mr(e,u.comments,o,n),e.write(o),this[u.type](u,e),e.write(n)}e.write(t)}else i&&r.comments!=null&&(e.write(n),Mr(e,r.comments,o,n),e.write(t));i&&r.trailingComments!=null&&Mr(e,r.trailingComments,o,n),e.write("}"),e.indentLevel--},ClassBody:cR,StaticBlock(r,e){e.write("static "),this.BlockStatement(r,e)},EmptyStatement(r,e){e.write(";")},ExpressionStatement(r,e){let t=e.expressionsPrecedence[r.expression.type];t===mi||t===3&&r.expression.left.type[0]==="O"?(e.write("("),this[r.expression.type](r.expression,e),e.write(")")):this[r.expression.type](r.expression,e),e.write(";")},IfStatement(r,e){e.write("if ("),this[r.test.type](r.test,e),e.write(") "),this[r.consequent.type](r.consequent,e),r.alternate!=null&&(e.write(" else "),this[r.alternate.type](r.alternate,e))},LabeledStatement(r,e){this[r.label.type](r.label,e),e.write(": "),this[r.body.type](r.body,e)},BreakStatement(r,e){e.write("break"),r.label!=null&&(e.write(" "),this[r.label.type](r.label,e)),e.write(";")},ContinueStatement(r,e){e.write("continue"),r.label!=null&&(e.write(" "),this[r.label.type](r.label,e)),e.write(";")},WithStatement(r,e){e.write("with ("),this[r.object.type](r.object,e),e.write(") "),this[r.body.type](r.body,e)},SwitchStatement(r,e){let t=e.indent.repeat(e.indentLevel++),{lineEnd:n,writeComments:i}=e;e.indentLevel++;let o=t+e.indent,s=o+e.indent;e.write("switch ("),this[r.discriminant.type](r.discriminant,e),e.write(") {"+n);let{cases:a}=r,{length:c}=a;for(let u=0;u<c;u++){let l=a[u];i&&l.comments!=null&&Mr(e,l.comments,o,n),l.test?(e.write(o+"case "),this[l.test.type](l.test,e),e.write(":"+n)):e.write(o+"default:"+n);let{consequent:p}=l,{length:d}=p;for(let h=0;h<d;h++){let f=p[h];i&&f.comments!=null&&Mr(e,f.comments,s,n),e.write(s),this[f.type](f,e),e.write(n)}}e.indentLevel-=2,e.write(t+"}")},ReturnStatement(r,e){e.write("return"),r.argument&&(e.write(" "),this[r.argument.type](r.argument,e)),e.write(";")},ThrowStatement(r,e){e.write("throw "),this[r.argument.type](r.argument,e),e.write(";")},TryStatement(r,e){if(e.write("try "),this[r.block.type](r.block,e),r.handler){let{handler:t}=r;t.param==null?e.write(" catch "):(e.write(" catch ("),this[t.param.type](t.param,e),e.write(") ")),this[t.body.type](t.body,e)}r.finalizer&&(e.write(" finally "),this[r.finalizer.type](r.finalizer,e))},WhileStatement(r,e){e.write("while ("),this[r.test.type](r.test,e),e.write(") "),this[r.body.type](r.body,e)},DoWhileStatement(r,e){e.write("do "),this[r.body.type](r.body,e),e.write(" while ("),this[r.test.type](r.test,e),e.write(");")},ForStatement(r,e){if(e.write("for ("),r.init!=null){let{init:t}=r;t.type[0]==="V"?V_(e,t):this[t.type](t,e)}e.write("; "),r.test&&this[r.test.type](r.test,e),e.write("; "),r.update&&this[r.update.type](r.update,e),e.write(") "),this[r.body.type](r.body,e)},ForInStatement:nR=function(r,e){e.write(`for ${r.await?"await ":""}(`);let{left:t}=r;t.type[0]==="V"?V_(e,t):this[t.type](t,e),e.write(r.type[3]==="I"?" in ":" of "),this[r.right.type](r.right,e),e.write(") "),this[r.body.type](r.body,e)},ForOfStatement:nR,DebuggerStatement(r,e){e.write("debugger;",r)},FunctionDeclaration:iR=function(r,e){e.write((r.async?"async ":"")+(r.generator?"function* ":"function ")+(r.id?r.id.name:""),r),Bu(e,r.params),e.write(" "),this[r.body.type](r.body,e)},FunctionExpression:iR,VariableDeclaration(r,e){V_(e,r),e.write(";")},VariableDeclarator(r,e){this[r.id.type](r.id,e),r.init!=null&&(e.write(" = "),this[r.init.type](r.init,e))},ClassDeclaration(r,e){if(e.write("class "+(r.id?`${r.id.name} `:""),r),r.superClass){e.write("extends ");let{superClass:t}=r,{type:n}=t,i=e.expressionsPrecedence[n];(n[0]!=="C"||n[1]!=="l"||n[5]!=="E")&&(i===mi||i<e.expressionsPrecedence.ClassExpression)?(e.write("("),this[r.superClass.type](t,e),e.write(")")):this[t.type](t,e),e.write(" ")}this.ClassBody(r.body,e)},ImportDeclaration(r,e){e.write("import ");let{specifiers:t}=r,{length:n}=t,i=0;if(n>0){for(;i<n;){i>0&&e.write(", ");let o=t[i],s=o.type[6];if(s==="D")e.write(o.local.name,o),i++;else if(s==="N")e.write("* as "+o.local.name,o),i++;else break}if(i<n){for(e.write("{");;){let o=t[i],{name:s}=o.imported;if(e.write(s,o),s!==o.local.name&&e.write(" as "+o.local.name),++i<n)e.write(", ");else break}e.write("}")}e.write(" from ")}this.Literal(r.source,e),e.write(";")},ImportExpression(r,e){e.write("import("),this[r.source.type](r.source,e),e.write(")")},ExportDefaultDeclaration(r,e){e.write("export default "),this[r.declaration.type](r.declaration,e),e.expressionsPrecedence[r.declaration.type]!=null&&r.declaration.type[0]!=="F"&&e.write(";")},ExportNamedDeclaration(r,e){if(e.write("export "),r.declaration)this[r.declaration.type](r.declaration,e);else{e.write("{");let{specifiers:t}=r,{length:n}=t;if(n>0)for(let i=0;;){let o=t[i],{name:s}=o.local;if(e.write(s,o),s!==o.exported.name&&e.write(" as "+o.exported.name),++i<n)e.write(", ");else break}e.write("}"),r.source&&(e.write(" from "),this.Literal(r.source,e)),e.write(";")}},ExportAllDeclaration(r,e){r.exported!=null?e.write("export * as "+r.exported.name+" from "):e.write("export * from "),this.Literal(r.source,e),e.write(";")},MethodDefinition(r,e){r.static&&e.write("static ");let t=r.kind[0];(t==="g"||t==="s")&&e.write(r.kind+" "),r.value.async&&e.write("async "),r.value.generator&&e.write("*"),r.computed?(e.write("["),this[r.key.type](r.key,e),e.write("]")):this[r.key.type](r.key,e),Bu(e,r.value.params),e.write(" "),this[r.value.body.type](r.value.body,e)},ClassExpression(r,e){this.ClassDeclaration(r,e)},ArrowFunctionExpression(r,e){e.write(r.async?"async ":"",r);let{params:t}=r;t!=null&&(t.length===1&&t[0].type[0]==="I"?e.write(t[0].name,t[0]):Bu(e,r.params)),e.write(" => "),r.body.type[0]==="O"?(e.write("("),this.ObjectExpression(r.body,e),e.write(")")):this[r.body.type](r.body,e)},ThisExpression(r,e){e.write("this",r)},Super(r,e){e.write("super",r)},RestElement:oR=function(r,e){e.write("..."),this[r.argument.type](r.argument,e)},SpreadElement:oR,YieldExpression(r,e){e.write(r.delegate?"yield*":"yield"),r.argument&&(e.write(" "),this[r.argument.type](r.argument,e))},AwaitExpression(r,e){e.write("await ",r),bH(e,r.argument,r)},TemplateLiteral(r,e){let{quasis:t,expressions:n}=r;e.write("`");let{length:i}=n;for(let s=0;s<i;s++){let a=n[s],c=t[s];e.write(c.value.raw,c),e.write("${"),this[a.type](a,e),e.write("}")}let o=t[t.length-1];e.write(o.value.raw,o),e.write("`")},TemplateElement(r,e){e.write(r.value.raw,r)},TaggedTemplateExpression(r,e){bH(e,r.tag,r),this[r.quasi.type](r.quasi,e)},ArrayExpression:aR=function(r,e){if(e.write("["),r.elements.length>0){let{elements:t}=r,{length:n}=t;for(let i=0;;){let o=t[i];if(o!=null&&this[o.type](o,e),++i<n)e.write(", ");else{o==null&&e.write(", ");break}}}e.write("]")},ArrayPattern:aR,ObjectExpression(r,e){let t=e.indent.repeat(e.indentLevel++),{lineEnd:n,writeComments:i}=e,o=t+e.indent;if(e.write("{"),r.properties.length>0){e.write(n),i&&r.comments!=null&&Mr(e,r.comments,o,n);let s=","+n,{properties:a}=r,{length:c}=a;for(let u=0;;){let l=a[u];if(i&&l.comments!=null&&Mr(e,l.comments,o,n),e.write(o),this[l.type](l,e),++u<c)e.write(s);else break}e.write(n),i&&r.trailingComments!=null&&Mr(e,r.trailingComments,o,n),e.write(t+"}")}else i?r.comments!=null?(e.write(n),Mr(e,r.comments,o,n),r.trailingComments!=null&&Mr(e,r.trailingComments,o,n),e.write(t+"}")):r.trailingComments!=null?(e.write(n),Mr(e,r.trailingComments,o,n),e.write(t+"}")):e.write("}"):e.write("}");e.indentLevel--},Property(r,e){r.method||r.kind[0]!=="i"?this.MethodDefinition(r,e):(r.shorthand||(r.computed?(e.write("["),this[r.key.type](r.key,e),e.write("]")):this[r.key.type](r.key,e),e.write(": ")),this[r.value.type](r.value,e))},PropertyDefinition(r,e){if(r.static&&e.write("static "),r.computed&&e.write("["),this[r.key.type](r.key,e),r.computed&&e.write("]"),r.value==null){r.key.type[0]!=="F"&&e.write(";");return}e.write(" = "),this[r.value.type](r.value,e),e.write(";")},ObjectPattern(r,e){if(e.write("{"),r.properties.length>0){let{properties:t}=r,{length:n}=t;for(let i=0;this[t[i].type](t[i],e),++i<n;)e.write(", ")}e.write("}")},SequenceExpression(r,e){Bu(e,r.expressions)},UnaryExpression(r,e){if(r.prefix){let{operator:t,argument:n,argument:{type:i}}=r;e.write(t);let o=uR(e,n,r);!o&&(t.length>1||i[0]==="U"&&(i[1]==="n"||i[1]==="p")&&n.prefix&&n.operator[0]===t&&(t==="+"||t==="-"))&&e.write(" "),o?(e.write(t.length>1?" (":"("),this[i](n,e),e.write(")")):this[i](n,e)}else this[r.argument.type](r.argument,e),e.write(r.operator)},UpdateExpression(r,e){r.prefix?(e.write(r.operator),this[r.argument.type](r.argument,e)):(this[r.argument.type](r.argument,e),e.write(r.operator))},AssignmentExpression(r,e){this[r.left.type](r.left,e),e.write(" "+r.operator+" "),this[r.right.type](r.right,e)},AssignmentPattern(r,e){this[r.left.type](r.left,e),e.write(" = "),this[r.right.type](r.right,e)},BinaryExpression:sR=function(r,e){let t=r.operator==="in";t&&e.write("("),bH(e,r.left,r,!1),e.write(" "+r.operator+" "),bH(e,r.right,r,!0),t&&e.write(")")},LogicalExpression:sR,ConditionalExpression(r,e){let{test:t}=r,n=e.expressionsPrecedence[t.type];n===mi||n<=e.expressionsPrecedence.ConditionalExpression?(e.write("("),this[t.type](t,e),e.write(")")):this[t.type](t,e),e.write(" ? "),this[r.consequent.type](r.consequent,e),e.write(" : "),this[r.alternate.type](r.alternate,e)},NewExpression(r,e){e.write("new ");let t=e.expressionsPrecedence[r.callee.type];t===mi||t<e.expressionsPrecedence.CallExpression||N7(r.callee)?(e.write("("),this[r.callee.type](r.callee,e),e.write(")")):this[r.callee.type](r.callee,e),Bu(e,r.arguments)},CallExpression(r,e){let t=e.expressionsPrecedence[r.callee.type];t===mi||t<e.expressionsPrecedence.CallExpression?(e.write("("),this[r.callee.type](r.callee,e),e.write(")")):this[r.callee.type](r.callee,e),r.optional&&e.write("?."),Bu(e,r.arguments)},ChainExpression(r,e){this[r.expression.type](r.expression,e)},MemberExpression(r,e){let t=e.expressionsPrecedence[r.object.type];t===mi||t<e.expressionsPrecedence.MemberExpression?(e.write("("),this[r.object.type](r.object,e),e.write(")")):this[r.object.type](r.object,e),r.computed?(r.optional&&e.write("?."),e.write("["),this[r.property.type](r.property,e),e.write("]")):(r.optional?e.write("?."):e.write("."),this[r.property.type](r.property,e))},MetaProperty(r,e){e.write(r.meta.name+"."+r.property.name,r)},Identifier(r,e){e.write(r.name,r)},PrivateIdentifier(r,e){e.write(`#${r.name}`,r)},Literal(r,e){r.raw!=null?e.write(r.raw,r):r.regex!=null?this.RegExpLiteral(r,e):r.bigint!=null?e.write(r.bigint+"n",r):e.write(R7(r.value),r)},RegExpLiteral(r,e){let{regex:t}=r;e.write(`/${t.pattern}/${t.flags}`,r)}},B7={};var G_=class{constructor(e){let t=e??B7;this.output="",t.output!=null?(this.output=t.output,this.write=this.writeToStream):this.output="",this.generator=t.generator!=null?t.generator:F7,this.expressionsPrecedence=t.expressionsPrecedence!=null?t.expressionsPrecedence:M7,this.indent=t.indent!=null?t.indent:"  ",this.lineEnd=t.lineEnd!=null?t.lineEnd:`
`,this.indentLevel=t.startingIndentLevel!=null?t.startingIndentLevel:0,this.writeComments=t.comments?t.comments:!1,t.sourceMap!=null&&(this.write=t.output==null?this.writeAndMap:this.writeToStreamAndMap,this.sourceMap=t.sourceMap,this.line=1,this.column=0,this.lineEndSize=this.lineEnd.split(`
`).length-1,this.mapping={original:null,generated:this,name:void 0,source:t.sourceMap.file||t.sourceMap._file})}write(e){this.output+=e}writeToStream(e){this.output.write(e)}writeAndMap(e,t){this.output+=e,this.map(e,t)}writeToStreamAndMap(e,t){this.output.write(e),this.map(e,t)}map(e,t){if(t!=null){let{type:o}=t;if(o[0]==="L"&&o[2]==="n"){this.column=0,this.line++;return}if(t.loc!=null){let{mapping:s}=this;s.original=t.loc.start,s.name=t.name,this.sourceMap.addMapping(s)}if(o[0]==="T"&&o[8]==="E"||o[0]==="L"&&o[1]==="i"&&typeof t.value=="string"){let{length:s}=e,{column:a,line:c}=this;for(let u=0;u<s;u++)e[u]===`
`?(a=0,c++):a++;this.column=a,this.line=c;return}}let{length:n}=e,{lineEnd:i}=this;n>0&&(this.lineEndSize>0&&(i.length===1?e[n-1]===i:e.endsWith(i))?(this.line+=this.lineEndSize,this.column=0):this.column+=n)}toString(){return this.output}};function Ko(r,e){let t=new G_(e);return t.generator[r.type](r,t),t.output}var lR=require("./vendor/acorn.js"),wH=require("./vendor/acorn-loose.js");var vH={ArrayExpression:["elements"],ArrayPattern:["elements"],ArrowFunctionExpression:["params","body"],AssignmentExpression:["left","right"],AssignmentPattern:["left","right"],AwaitExpression:["argument"],BinaryExpression:["left","right"],BlockStatement:["body"],BreakStatement:["label"],CallExpression:["callee","arguments"],CatchClause:["param","body"],ChainExpression:["expression"],ClassBody:["body"],ClassDeclaration:["id","superClass","body"],ClassExpression:["id","superClass","body"],ConditionalExpression:["test","consequent","alternate"],ContinueStatement:["label"],DebuggerStatement:[],DoWhileStatement:["body","test"],EmptyStatement:[],ExperimentalRestProperty:["argument"],ExperimentalSpreadProperty:["argument"],ExportAllDeclaration:["exported","source"],ExportDefaultDeclaration:["declaration"],ExportNamedDeclaration:["declaration","specifiers","source"],ExportSpecifier:["exported","local"],ExpressionStatement:["expression"],ForInStatement:["left","right","body"],ForOfStatement:["left","right","body"],ForStatement:["init","test","update","body"],FunctionDeclaration:["id","params","body"],FunctionExpression:["id","params","body"],Identifier:[],IfStatement:["test","consequent","alternate"],ImportDeclaration:["specifiers","source"],ImportDefaultSpecifier:["local"],ImportExpression:["source"],ImportNamespaceSpecifier:["local"],ImportSpecifier:["imported","local"],JSXAttribute:["name","value"],JSXClosingElement:["name"],JSXClosingFragment:[],JSXElement:["openingElement","children","closingElement"],JSXEmptyExpression:[],JSXExpressionContainer:["expression"],JSXFragment:["openingFragment","children","closingFragment"],JSXIdentifier:[],JSXMemberExpression:["object","property"],JSXNamespacedName:["namespace","name"],JSXOpeningElement:["name","attributes"],JSXOpeningFragment:[],JSXSpreadAttribute:["argument"],JSXSpreadChild:["expression"],JSXText:[],LabeledStatement:["label","body"],Literal:[],LogicalExpression:["left","right"],MemberExpression:["object","property"],MetaProperty:["meta","property"],MethodDefinition:["key","value"],NewExpression:["callee","arguments"],ObjectExpression:["properties"],ObjectPattern:["properties"],PrivateIdentifier:[],Program:["body"],Property:["key","value"],PropertyDefinition:["key","value"],RestElement:["argument"],ReturnStatement:["argument"],SequenceExpression:["expressions"],SpreadElement:["argument"],StaticBlock:["body"],Super:[],SwitchCase:["test","consequent"],SwitchStatement:["discriminant","cases"],TaggedTemplateExpression:["tag","quasi"],TemplateElement:[],TemplateLiteral:["quasis","expressions"],ThisExpression:[],ThrowStatement:["argument"],TryStatement:["block","handler","finalizer"],UnaryExpression:["argument"],UpdateExpression:["argument"],VariableDeclaration:["declarations"],VariableDeclarator:["id","init"],WhileStatement:["test","body"],WithStatement:["object","body"],YieldExpression:["argument"]},U7=Object.keys(vH);for(let r of U7)Object.freeze(vH[r]);Object.freeze(vH);var z_=vH;var K_={ecmaVersion:"latest",locations:!0,allowAwaitOutsideFunction:!0,allowImportExportEverywhere:!0,allowReserved:!0,allowReturnOutsideFunction:!0},ks=r=>r.start,X_=r=>r.end,pR=(r,e)=>r.slice(ks(e),X_(e)),ro=(r,e=!1)=>(e?lR.parse:wH.parse)(r,K_),Hf=r=>{let e=ro(r);for(let t of e.body)t.type==="FunctionDeclaration"&&t.id&&(0,wH.isDummy)(t.id)&&(t.id=null);return e.body};function dR(r,e,t){return e.length>1||e[0].type!=="FunctionDeclaration"?hR(r,e,!0,t):fR(r,[{type:"ReturnStatement",argument:{type:"CallExpression",optional:!1,arguments:[{type:"ThisExpression"},...r.map(n=>({type:"Identifier",name:n}))],callee:{type:"MemberExpression",property:{type:"Identifier",name:"call"},computed:!1,optional:!1,object:{type:"FunctionExpression",params:e[0].params,body:e[0].body}}}}],!0,t)}var fR=(r,e,t,n)=>{let i={type:"Identifier",name:"e"},s=n?[{type:"TryStatement",block:{type:"BlockStatement",body:e},handler:{type:"CatchClause",param:i,body:{type:"BlockStatement",body:[{type:"ReturnStatement",argument:{type:"LogicalExpression",left:{type:"LogicalExpression",left:{type:"MemberExpression",object:i,property:{type:"Identifier",name:"stack"},computed:!1,optional:!1},operator:"||",right:{type:"MemberExpression",object:i,property:{type:"Identifier",name:"message"},computed:!1,optional:!1}},operator:"||",right:{type:"CallExpression",callee:{type:"Identifier",name:"String"},arguments:[i],optional:!1}}}]}}}]:e;return t?{type:"FunctionExpression",id:{type:"Identifier",name:"_generatedCode"},params:r.map(a=>({type:"Identifier",name:a})),body:{type:"BlockStatement",body:s}}:{type:"ArrowFunctionExpression",params:r.map(a=>({type:"Identifier",name:a})),expression:!1,body:{type:"BlockStatement",body:s}}},W7=(r,e)=>({type:"CallExpression",arguments:r.map(t=>({type:"Identifier",name:t})),callee:e,optional:!1}),mR=(r,e,t)=>W7(r,hR(r,e,t,!0));function hR(r,e,t,n){let i=e[e.length-1];if(i.type!=="ReturnStatement"){let o=q7(i);o&&(e=[...e.slice(0,-1),{type:"ReturnStatement",argument:o}])}return fR(r,e,t,n)}function q7(r){switch(r.type){case"ExpressionStatement":return r.expression;case"BlockStatement":return{type:"CallExpression",arguments:[],callee:{type:"ArrowFunctionExpression",params:[],expression:!1,body:r},optional:!1};case"ReturnStatement":return r.argument||void 0;default:return}}var Rs=(r,e)=>{xH(r,e)},IH=(r,e)=>{let t=xH(r,e);return t&&typeof t=="object"?t.replace:r},xH=(r,e,t)=>{if(!r)return;let n=e.enter(r,t);if(n===0)return 0;if(n&&typeof n=="object")return n;if(n===1)return;let i=z_[r.type];if(i)for(let o of i){let s=r[o];if(s instanceof Array)for(let[a,c]of s.entries()){let u=xH(c,e,r);if(u===0)return 0;u&&typeof u=="object"&&(s[a]=u.replace)}else if(s){let a=xH(s,e,r);if(a===0)return 0;a&&typeof a=="object"&&(r[o]=a.replace)}}e.leave?.(r)};var Uu=class r{constructor(e,t,n,i,o){this.original=e;this.metadata=t;this.actualRoot=n;this.actualSources=i;this.hasNames=o;this.sourceActualToOriginal=new Map;this.sourceOriginalToActual=new Map;this.id=r.idCounter++;if(i.length!==e.sources.length)throw new Error("Expected actualSources.length === original.source.length");for(let s=0;s<i.length;s++){let a=i[s],c=e.sources[s];a!==null&&c!==null&&(this.sourceActualToOriginal.set(a,c),this.sourceOriginalToActual.set(c,a))}}static{this.idCounter=0}get sources(){return this.actualSources.slice()}get sourceRoot(){return this.actualRoot}computedSourceUrl(e){return Tt(_H(mr(this.metadata.sourceMapUrl)?this.metadata.compiledPath:this.metadata.sourceMapUrl,this.sourceRoot+e))}originalPositionFor(e){let t=$_(this.original,e);return t.source&&(t.source=this.sourceOriginalToActual.get(t.source)??t.source),t}generatedPositionFor(e){let t=this.sourceActualToOriginal.get(e.source)??e.source;if(!isFinite(e.line)){let n=e.bias||Zi;return this.getBestGeneratedForOriginal(t,(i,o)=>V7(i,o)*n)}return k_(this.original,{...e,source:t})}allGeneratedPositionsFor(e){return R_(this.original,{...e,source:this.sourceActualToOriginal.get(e.source)??e.source})}sourceContentFor(e){e=this.sourceActualToOriginal.get(e)??e;let t=this.original.sources.indexOf(e);return t===-1?null:this.original.sourcesContent?.[t]??null}eachMapping(e){M_(this.original,e)}getBestGeneratedForOriginal(e,t){let n;return this.eachMapping(i=>{i.source===e&&(!n||t(i,n)>0)&&(n=i)}),n?{column:n.generatedColumn,line:n.generatedLine}:{column:null,line:null}}},V7=({originalLine:r,originalColumn:e},{originalLine:t,originalColumn:n})=>(r||0)-(t||0)||(e||0)-(n||0);async function HR(r,e,t,n){let i=AH.Parser.parse(e,{locations:!0,ecmaVersion:"latest"}),o=new gf({file:r}),s=Ko(i,{sourceMap:{addMapping:a=>W_(o,a.original.line-1,a.original.column,r,a.generated.line-1,a.generated.column)}});return q_(o,r,s),new Uu(new lH(HH(o)),{sourceMapUrl:n,compiledPath:t},"",[r],!1)}function yR(r){let e;try{e=ro(r)}catch{return}let t=(c,u)=>({type:"ExpressionStatement",expression:{type:"AssignmentExpression",operator:"=",left:c,right:u}}),n=!1,i=!1,o=IH(e,{enter(c,u){switch(c.type){case"ClassDeclaration":return{replace:t(c.id||{type:"Identifier",name:"_default"},{...c,type:"ClassExpression"})};case"FunctionDeclaration":return{replace:t(c.id||{type:"Identifier",name:"_default"},{...c,type:"FunctionExpression"})};case"FunctionExpression":case"ArrowFunctionExpression":case"MethodDefinition":return 1;case"AwaitExpression":n=!0;return;case"ForOfStatement":c.await&&(n=!0);return;case"ReturnStatement":i=!0;return;case"VariableDeclaration":if(!u||!("body"in u)||!(u.body instanceof Array))return;let l=u.body,p=c.declarations.map(d=>({type:"ExpressionStatement",expression:{type:"UnaryExpression",operator:"void",prefix:!0,argument:{type:"AssignmentExpression",operator:"=",left:d.id,right:d.init||{type:"Identifier",name:"undefined"}}}}));l.splice(l.indexOf(c),1,...p)}}});if(!n||i)return;let s=e.body[e.body.length-1];s.type==="ExpressionStatement"&&(e.body[e.body.length-1]={type:"ReturnStatement",argument:s.expression});let a={type:"ExpressionStatement",expression:{type:"CallExpression",callee:{type:"ArrowFunctionExpression",params:[],generator:!1,expression:!1,async:!0,body:{type:"BlockStatement",body:o.body}},arguments:[],optional:!1}};return Ko(a)}function yf(r){try{let e=(0,AH.parseExpressionAt)(r,0,K_);return e.end<r.length||e.type!=="ObjectExpression"?r:`(${r})`}catch{return r}}function ju(r){if(!r)return;let e="sourceMappingURL",t=r.length,n=e.length,i=t,o=0;for(;;){if(i=r.lastIndexOf(e,i),i===-1||i<4)return;if(i-=4,r[i]==="/"&&r[i+1]==="/"&&!(r[i+2]!=="#"&&r[i+2]!=="@")&&!(r[i+3]!==" "&&r[i+3]!=="	")&&(o=i+4+n,!(o<t&&r[o]!=="=")))break}let s=r.substring(o+1),a=s.indexOf(`
`);return a!==-1&&(s=s.substring(0,a)),s.trim()}function SH(r,e,t){let n=t.generatedPositionFor({source:r,line:e.lineNumber,column:e.columnNumber-1,bias:Zi}),i=a=>{if(a.line===null||a.column===null)return 1e11;let c=t.originalPositionFor(a);return c.line!==null?Math.abs(e.lineNumber-c.line):1e11},o=i(n),s=t.allGeneratedPositionsFor({source:r,line:e.lineNumber,column:e.columnNumber-1}).filter(a=>a.line!==null&&a.column!==null).sort((a,c)=>a.line!==c.line?a.line-c.line:a.column-c.column).map(a=>[a,i(a)]);return s.push([n,o]),s.sort(([a,c],[u,l])=>c-l||a.line-u.line||a.column-u.column),s[0][0]}var J_=(r,e)=>!!e&&((e.type==="FunctionExpression"||e.type==="FunctionDeclaration"||e.type==="ArrowFunctionExpression")&&e.params.includes(r)||(e.type==="ForInStatement"||e.type==="ForOfStatement")&&e.left===r||e.type==="VariableDeclarator"&&e.id===r||e.type==="AssignmentPattern"&&e.left===r||e.type==="CatchClause"&&e.param===r||"kind"in e&&e.kind==="init"&&e.value===r||e.type==="RestElement"&&e.argument===r||e.type==="AssignmentPattern"&&e.left===r);function Ms(r){try{new Function(r)}catch(e){return e}}function z7(r,e){let t=ro(r),n,i;return Rs(t,{enter:o=>{let s=o;e>=s.start&&e<s.end&&(o.type==="CallExpression"||o.type==="NewExpression"?i=o:n=o)}}),i||n}var gR=/^[^()]+/g;function bR(r,e){try{let n=z7(r,e);if(n&&"callee"in n){let i=n.callee;return{text:`${r.slice(i.start,i.end)}(...)`,start:i.start,end:i.end}}else{let i=n;return{text:r.slice(i.start,i.end),start:i.start,end:i.end}}}catch{}gR.lastIndex=e-1;let t=gR.exec(r);if(t)return{text:t[0],start:e,end:e+t[0].length}}var gt=()=>`
//# sourceURL=eval-${(0,xR.randomBytes)(4).toString("hex")}.cdp
`;function sc(r){return K7(""+r)}function K7(r){let e=(0,vR.parseExpressionAt)(r,0,{ecmaVersion:"latest",locations:!0});if(e.type!=="FunctionExpression")throw new Error(`Could not find function declaration for:

${r}`);let t=e.params.map(s=>{if(s.type!=="Identifier")throw new Error("Parameter must be identifier");return s.name}),{start:n,end:i}=e.body,o=s=>`
    ${s.map((a,c)=>`let ${t[c]} = ${a}`).join("; ")};
    ${r.slice(n+1,i-1)}
  `;return{expr:(...s)=>`(()=>{${o(s)}})();
${gt()}`,decl:(...s)=>`function(...runtimeArgs){${o(s)};
${gt()}}`}}var oc=class extends Error{constructor(t){super(t.text);this.details=t}},bf=class{constructor(e){this.objectId=e}};function rr(r){let e=""+r,t=e.lastIndexOf("}");e=e.slice(0,t)+gt()+e.slice(t);let n=async({cdp:i,args:o,...s})=>{let a=await i.Runtime.callFunctionOn({functionDeclaration:e,arguments:o.map(c=>c instanceof bf?{objectId:c.objectId}:{value:c}),...s});if(!a)throw new oc({exceptionId:0,text:"No response from CDP",lineNumber:0,columnNumber:0});if(a.exceptionDetails)throw new oc(a.exceptionDetails);return a.result};return n.source=e,n}var wR=()=>"globalThis.__jsDebugIsReady = true; "+gt();var vf=new Set(["page","iframe","worker","service_worker"]),CH=new Set(["page","iframe"]),Y_=new Set(["page","iframe"]),X7=Y_,TH=class r{constructor(e,t,n,i,o,s,a,c,u){this._manager=e;this._targetInfo=t;this.launchConfig=s;this.sessionId=a;this.logger=c;this._attached=!1;this._onNameChangedEmitter=new U;this.onNameChanged=this._onNameChangedEmitter.event;this.entryBreakpoint=void 0;this._children=new Map;this.sourcePathResolver=this._manager._sourcePathResolver;this._cdp=n,n.pause(),this.parentTarget=i,this._waitingForDebugger=o,this._updateFromInfo(t),this._ondispose=u}get targetInfo(){return this._targetInfo}get targetId(){return this._targetInfo.targetId}get independentLifeycle(){return Y_.has(this.type())}get supplementalConfig(){let e=this.type();return{__browserTargetType:e,__usePerformanceFromParent:e!=="page"}}targetOrigin(){return this._manager._targetOrigin}id(){return this.sessionId}cdp(){return this._cdp}name(){return this._computeName()}fileName(){return this._targetInfo.url}type(){return this._targetInfo.type}afterBind(){return this._cdp.resume(),Promise.resolve()}initialize(){return Promise.resolve()}async runIfWaitingForDebugger(){await Promise.all([this._cdp.Runtime.runIfWaitingForDebugger({}),this._cdp.Runtime.evaluate({expression:wR()})])}parent(){return this.parentTarget&&!vf.has(this.parentTarget.type())?this.parentTarget.parentTarget:this.parentTarget}children(){let e=[];for(let t of this._children.values())vf.has(t.type())?e.push(t):e.push(...t.children());return e}canStop(){return X7.has(this.type())}stop(){if(this._manager.targetList().includes(this))if(this.type()==="service_worker"){if(this._manager.serviceWorkerModel.stopWorker(this.id()),!this.parentTarget)return;this._manager.serviceWorkerModel.stopWorker(this.parentTarget.id())}else this._cdp.Target.closeTarget({targetId:this._targetInfo.targetId})}canRestart(){return Y_.has(this.type())}restart(){this._cdp.Page.reload({})}waitingForDebugger(){return this._waitingForDebugger}canAttach(){return!this._attached}async attach(){return this._waitingForDebugger=!1,this._attached=!0,Promise.resolve(this._cdp)}canDetach(){return this._attached}async detach(){this._attached=!1,this._manager._detachedFromTarget(this.sessionId)}executionContextName(e){let t=e.auxData,n=e.name;if(!t)return n;let i=t.frameId,o=i?this._manager.frameModel.frameForId(i):void 0;return o&&t.isDefault&&!o.parentFrame()?"top":o&&t.isDefault?o.displayName():o?`${n}`:n}supportsCustomBreakpoints(){return CH.has(this.type())}supportsXHRBreakpoints(){return CH.has(this.type())}scriptUrlToUrl(e){return Os(this._targetInfo.url,e)||e}_updateFromInfo(e){this._targetInfo={...e,type:this._targetInfo.type},this._onNameChangedEmitter.fire()}setComputeNameFn(e){this._customNameComputeFn=e,this._onNameChangedEmitter.fire()}_computeName(){let e=this._customNameComputeFn?.(this);if(e)return e;if(this.type()==="service_worker"){let i=this._manager.serviceWorkerModel.version(this.id());if(i)return i.label()+" [Service Worker]"}let t=this._targetInfo.title;if(!(t&&this._manager.targetList().some(i=>i instanceof r&&i!==this&&i._targetInfo.title===this._targetInfo.title)))return t;try{let i=new IR.URL(this._targetInfo.url);i.protocol==="data:"?t=" <data>":i?t+=` (${this._targetInfo.url.replace(/^[a-z]+:\/\/|\/$/gi,"")})`:t+=` (${this._targetInfo.url})`}catch{t+=` (${this._targetInfo.url})`}return t}async _detached(){await this._manager.serviceWorkerModel.detached(this._cdp),this._ondispose(this)}};function xf(r){return r instanceof Array?r:[r]}function _R(r,e,t){let n=0,i=r.length-1;for(;n<=i;){let o=(n+i)/2|0,s=t(r[o],e);if(s<0)n=o+1;else if(s>0)i=o-1;else return o}return n}function AR(r,e){let t=new Map;for(let n of r){let i=e(n),o=t.get(i);o?o.push(n):t.set(i,[n])}return t}function Ns(r){return r.next().value}function no(r,e){return r.length<=e?r:r.substr(0,e-1)+"\u2026"}function Wu(r,e){if(r.length<=e)return r;let t=e>>1,n=e-t-1,i=r.codePointAt(r.length-n-1);i&&i>=65536&&(--n,++t);let o=r.codePointAt(t-1);return t>0&&o&&o>=65536&&--t,r.substr(0,t)+"\u2026"+r.substr(r.length-n,n)}var SR="/\\.?*()^${}|[]+",ER=r=>SR.includes(r);function Or(r,e){let t=SR.split("").filter(i=>!e||e.indexOf(i)<0).join("").replace(/[\\\]]/g,"\\$&"),n=new RegExp(`[${t}]`,"g");return r.replace(n,"\\$&")}var Fs=class{constructor(e){this.source=e;this.lines=[];this.lines.push(0);for(let t=e.indexOf(`
`);t!==-1;t=e.indexOf(`
`,t+1))this.lines.push(t+1)}getLineOffset(e){return e>=this.lines.length?this.source.length:this.lines[e]}convert(e){let t=e.base0;if(t.lineNumber>this.lines.length)return this.source.length;let n=this.lines[t.lineNumber],i=this.lines[t.lineNumber+1]??this.source.length+1;return n+Math.min(i-n-1,t.columnNumber)}};var DH=process.platform!=="win32";function Z_(){return DH}function $H(r){return DH?r:r.toLowerCase()}function kH(r,e){return DH?r===e:r.toLowerCase()===e.toLowerCase()}function ac(){return Z_()?new Map:new to($H)}var PR=process.platform==="win32"?process.env.PATHEXT?.toLowerCase().split(";"):void 0,RH=r=>{let e=$H(pn.basename(r));if(PR){for(let t of PR)if(e.endsWith(t))return e.slice(0,-t.length)}return e},Af=async(r,e)=>{for(;;){if(await e(r))return r;let t=pn.dirname(r);if(t===r)return;r=t}},qu=(r,e,t)=>Af(e,n=>r.exists(pn.join(n,t))),Y7=new Set(["localhost","127.0.0.1","::1"]),Q7=new Set(["0.0.0.0","::","0000:0000:0000:0000:0000:0000:0000:0000"]),LH=r=>Y7.has(r.toLowerCase()),LR=r=>{try{return new Xo.URL(r).hostname.replace(/^\[|\]$/g,"")}catch{return r}},DR=r=>Q7.has(LR(r)),Vu=Fo(async r=>{let e=LR(r);if(LH(e))return!0;try{let t=await TR.promises.lookup(e);return LH(t.address)}catch{return!1}});function Os(r,e){try{return new Xo.URL(e,r).href}catch{}}function _H(r,e){try{return new Xo.URL(e),e}catch{}let t;try{t=new Xo.URL(r||"")}catch{return e}let n=t.protocol+"//";return t.username&&(n+=t.username+":"+t.password+"@"),n+=t.host,n+=pn.dirname(t.pathname),n[n.length-1]!=="/"&&(n+="/"),n+=e,n}function MH(r){try{return new Xo.URL(r),!0}catch{return!1}}function $R(r){return r.replace(/\/$/,"").replace(/\\$/,"")}var Z7=/^https:\/\/([a-z0-9\-]+)\+\.vscode-resource\.vscode-(?:webview|cdn)\.net\/(.+)/i,CR="vscode-file://vscode-app/";function xt(r){let e=Z7.exec(r);if(e)r=`${e[1]}:///${e[2]}`;else if(r.startsWith("vscode-webview-resource://"))r=new Xo.URL(r).pathname.replace(/%2F/gi,"/").replace(/^\/([a-z0-9\-]+)(\/{1,2})/i,(n,i,o)=>o.length===1?`${i}:///`:`${i}://`);else if(r.startsWith(CR))r=r.slice(CR.length);else if(!zr(r))return;return r=r.replace("file:///",""),r=decodeURIComponent(r),r.startsWith("/")&&process.platform==="win32"&&r[1]!=="/"&&(r="/"+r),r[0]!=="/"&&!r.match(/^[A-Za-z]:/)&&(r="/"+r),Tt(r)}function kR(r){return zr(r)&&(r=r.replace("file:///","\\\\"),r=r.replace(/\//g,"\\"),r=decodeURIComponent(r)),r}function We(r){return eA==="win32"?"file:///"+Bs(r):"file://"+Bs(r)}function Gu(r){return r.startsWith("/")?"file://"+Bs(r):"file:///"+Bs(r)}function Pr(r){return pn.posix.isAbsolute(r)||pn.win32.isAbsolute(r)}function mr(r){return!!r&&r.startsWith("data:")}var Q_=(r,e,t)=>{if(!t||r===":"){e.add(r);return}if(r==="/"){e.add(`\\${r}`);return}ER(r)?e.add(`\\${r}`):e.add(r);let n=encodeURIComponent(r);r!=="\\"&&n!==r&&e.add(n)},eQ=r=>{switch(r.size){case 0:return"";case 1:return Ns(r.values());default:let e=[...r];return e.some(t=>t.length>1)?`(?:${e.join("|")})`:`[${e.join("")}]`}},wf=new Set;function If(r,e,t,n,i=DH){let o="";for(let s of r.slice(e,t))i?Q_(s,wf,n):(Q_(s.toLowerCase(),wf,n),Q_(s.toUpperCase(),wf,n)),o+=eQ(wf),wf.clear();return o}function kn(r,[e,t]=[0,r.length]){if(t<=e)return r;let n=[],i=If(r,0,e,!1),o=If(r,t,r.length,!1),s=r.slice(e,t);for(let a of[decodeURIComponent(s),xt(s)]){if(!a)continue;let c=If(a,0,a.length,!0);n.push(tQ(`${i}${c}${o}`).concat("($|\\?)"))}return n.join("|")}var tQ=r=>r.replace(/^(file:\\\/\\\/\\\/)?([a-z]):/i,(e,t="",n)=>`${t}[${n.toUpperCase()}${n.toLowerCase()}]:`);function zr(r){return r.startsWith("file:///")}var eA=process.platform;function Bs(r){return r=hi(r),eA==="win32"?(__(r)&&(r=r.slice(1)),r.split(/[\\//]/g).map((e,t)=>t>0?encodeURIComponent(e):e).join("/")):r.split("/").map(encodeURIComponent).join("/")}function hi(r){return r&&eA==="win32"&&r[1]===":"?r[0].toUpperCase()+r.substring(1):r}var Us=(r,e=[])=>{let t=r.urlFilter||"file"in r&&r.file||r.url,n=t?nQ(t,...e):void 0;return i=>!i.url.startsWith("devtools://")&&n?.(i.url)!==!1},zu=r=>e=>e.type==="page"&&r(e);function rQ(r){return!!r&&!pn.isAbsolute(r)&&!!(0,Xo.parse)(r).protocol}var nQ=(...r)=>{let e=i=>{i=i.toLowerCase();let o=xt(i);o?i=o:rQ(i)&&i.includes("://")&&(i=i.substr(i.indexOf("://")+3)),i.endsWith("/")&&(i=i.substr(0,i.length-1));let s=i.indexOf("#");return s!==-1&&(i=i.slice(0,i[s-1]==="/"?s-1:s)),i},t=r.map(i=>Or(e(i),"/*").replace(/(\/\*$)|\*/g,".*")),n=new RegExp("^("+t.join("|")+")$","g");return i=>(n.lastIndex=0,n.test(e(i)))};var oo=Symbol("ISourceMapFactory"),tA=Symbol("IRootSourceMapFactory"),cc=class{constructor(e,t){this.root=e;this.resourceProvider=t}load(e){return this.root.load(this.resourceProvider,e)}guardSourceMapFn(e,t,n){return this.root.guardSourceMapFn(e,t,n)}};cc=E([(0,io.injectable)(),H(0,(0,io.inject)(tA)),H(1,(0,io.inject)(ic))],cc);var Sf=class{constructor(e,t,n){this.pathResolve=e;this.dap=t;this.logger=n;this.hasWarnedAboutMaps=new WeakSet}async load(e,t){let n=await this.parseSourceMap(e,t.sourceMapUrl),i;"sourceRoot"in n&&(i=n.sourceRoot,n.sourceRoot=void 0);let o=!1,s=[];if("sections"in n){s=[];let a=0;for(let c of n.sections){let u=c.map;s.push(...u.sources),u.sources=u.sources.map(()=>`source${a++}.js`),o||=!!u.names?.length}}else"sources"in n&&Array.isArray(n.sources)&&(s=n.sources,n.sources=n.sources.map((a,c)=>`source${c}.js`),o=!!n.names?.length);return new Uu(new lH(n),t,i??"",s,o)}async parseSourceMap(e,t){let n;try{n=await this.parseSourceMapDirect(e,t)}catch(i){if(n=await this.parsePathMappedSourceMap(e,t),!n)throw i}if("sections"in n){let i=await Promise.all(n.sections.map((o,s)=>"url"in o?this.parseSourceMap(e,o.url).then(a=>({offset:o.offset,map:a})).catch(a=>{this.logger.warn("sourcemap.parsing",`Error parsing nested map ${s}: ${a}`)}):o));n.sections=i.filter(St)}return n}async parsePathMappedSourceMap(e,t){if(mr(t))return;let n=await this.pathResolve.urlToAbsolutePath({url:t});if(n)try{return this.parseSourceMapDirect(e,n)}catch(i){this.logger.info("sourcemap.parsing","Parsing path mapped source map failed.",i)}}guardSourceMapFn(e,t,n){try{return t()}catch(i){if(!/error parsing/i.test(String(i.message)))throw i;if(!this.hasWarnedAboutMaps.has(e)){let o=mH(e.metadata.compiledPath,i.message).error;this.dap.output({output:o.format+`
`,category:"stderr"}),this.hasWarnedAboutMaps.add(e)}return n()}}dispose(){}async parseSourceMapDirect(e,t){let n=xt(t);n&&(n=this.pathResolve.rebaseRemoteToLocal(n));let i=await e.fetch(n||t);if(!i.ok)throw i.error;let o=i.body;return o.slice(0,3)===")]}"&&(o=o.substring(o.indexOf(`
`))),JSON.parse(o)}};Sf=E([(0,io.injectable)(),H(0,(0,io.inject)(tt)),H(1,(0,io.inject)(Nu)),H(2,(0,io.inject)(ie))],Sf);var js=class extends Sf{constructor(){super(...arguments);this.knownMaps=new to(t=>t.toLowerCase())}load(t,n){let i=this.knownMaps.get(n.sourceMapUrl);if(!i)return this.loadNewSourceMap(t,n);let o=n.cacheKey,s=i.metadata.cacheKey;return i.reloadIfNoMtime?o&&s&&o===s?(i.reloadIfNoMtime=!1,i.prom):this.loadNewSourceMap(t,n):s&&o&&o!==s?this.loadNewSourceMap(t,n):i.prom}loadNewSourceMap(t,n){let i=super.load(t,n);return this.knownMaps.set(n.sourceMapUrl,{metadata:n,reloadIfNoMtime:!1,prom:i}),i}dispose(){this.knownMaps.clear()}invalidateCache(){for(let t of this.knownMaps.values())t.reloadIfNoMtime=!0}};js=E([(0,io.injectable)()],js);var RR=require("path");var Ku=Symbol("ISearchStrategy"),JHe=Symbol("ISearchStrategyFallback"),MR=async(r,e,t)=>{let n,o=`${(0,RR.basename)(r)}.map`;if(e.siblings.includes(o)&&(n=o),n||(typeof t>"u"&&(t=await Qg(r)),n=ju(t)),!(!n||(mr(n)||(n=Os(We(r),n)),!n))&&!(!n.startsWith("data:")&&!n.startsWith("file://")))return{compiledPath:r,sourceMapUrl:n,cacheKey:e.mtime}};var OH=async(r,e,t,n={})=>{let i=Date.now();try{return await t()}finally{r.verbose("perf.function","",{method:e,duration:Date.now()-i,...n})}};var rA=Symbol("InlineSourceMapUrl"),OR=10*1e3,uc=class{constructor(e){e.__workspaceCachePath&&(this.path=NH.join(e.__workspaceCachePath,"bp-predict.json"))}async load(){if(this.value||!this.path)return this.value;try{this.value=JSON.parse(await Ef.promises.readFile(this.path,"utf-8"))}catch{}return this.value}async store(e){this.value=e,this.path&&(await Ef.promises.mkdir(NH.dirname(this.path),{recursive:!0}),await Ef.promises.writeFile(this.path,JSON.stringify(e)))}};uc=E([(0,nr.injectable)(),H(0,(0,nr.inject)(Ne))],uc);var so=class{constructor(e,t,n,i,o,s){this.outFiles=e;this.repo=t;this.logger=n;this.sourceMapFactory=i;this.sourcePathResolver=o;this.state=s}async createMapping(e){if(this.outFiles.empty)return new Map;let t=ac(),n=await this.state.load();try{let{state:i}=await this.repo.streamChildrenWithSourcemaps({files:this.outFiles,processMap:async o=>{let s=[],a=await this.sourceMapFactory.load(o);for(let c of a.sources){if(c===null)continue;let u=this.sourcePathResolver?await this.sourcePathResolver.urlToAbsolutePath({url:c,map:a}):xt(c);u&&s.push({...o,sourceMapUrl:mr(o.sourceMapUrl)?{[rA]:o.sourceMapUrl}:o.sourceMapUrl,resolvedPath:u,sourceUrl:c})}return{discovered:s,compiledPath:Tt(o.compiledPath)}},onProcessedMap:({discovered:o})=>{for(let s of o){let a=t.get(s.resolvedPath);a||(a=new Set,t.set(s.resolvedPath,a)),a.add(s)}},lastState:n,...e});i&&this.state.store(i).catch(o=>this.logger.warn("runtime.exception","Error saving sourcemap cache",{error:o}))}catch(i){this.logger.warn("runtime.exception","Error reading sourcemaps from disk",{error:i})}return t}};so=E([(0,nr.injectable)(),H(0,(0,nr.inject)(Qi)),H(1,(0,nr.inject)(Ku)),H(2,(0,nr.inject)(ie)),H(3,(0,nr.inject)(oo)),H(4,(0,nr.inject)(tt)),H(5,(0,nr.inject)(uc))],so);var Xu=class extends so{async getMetadataForPaths(e){this.sourcePathToCompiled||(this.sourcePathToCompiled=this.createInitialMapping());let t=await this.sourcePathToCompiled;return e.map(n=>t.get(n))}async createInitialMapping(){return OH(this.logger,"BreakpointsPredictor.createInitialMapping",()=>this.createMapping())}};Xu=E([(0,nr.injectable)()],Xu);var Ju=class extends so{constructor(){super(...arguments);this.sourcePathToCompiled=new Map}async getMetadataForPaths(t){let n=t.map(s=>this.sourcePathToCompiled.get(s)),i=t.map((s,a)=>a).filter(s=>!n[s]);if(i.length){let s=new Set(i.map(c=>Tt(t[c]))),a=this.createMapping({filter:(c,u)=>!u||u.discovered.some(l=>s.has(l.resolvedPath))});for(let c of i)this.sourcePathToCompiled.set(t[c],a),n[c]=a}return await Promise.all(n.map(async(s,a)=>(await s).get(t[a])))}};Ju=E([(0,nr.injectable)()],Ju);var pc=Symbol("IBreakpointsPredictor"),lc=class{constructor(e,t,n,i){this.bpSearch=e;this.outFiles=t;this.logger=n;this.sourceMapFactory=i;this.predictedLocations=new Map;this.longParseEmitter=new U;this.targetedMode=!1;this.onLongParse=this.longParseEmitter.event}async predictBreakpoints(e){if(!e.source.path||!e.breakpoints?.length)return;let t=await this.getMetadataForPaths([e.source.path]).then(i=>i[0]);if(!t)return;let n=async(i,o,s)=>{let a=typeof s.sourceMapUrl=="string"?s.sourceMapUrl:s.sourceMapUrl.hasOwnProperty(rA)?s.sourceMapUrl[rA]:await Ef.promises.readFile(s.compiledPath,"utf8").then(ju);if(!a)return[];let c=await this.sourceMapFactory.load({...s,sourceMapUrl:a}),u=this.sourceMapFactory.guardSourceMapFn(c,()=>SH(s.sourceUrl,{lineNumber:i,columnNumber:o||1},c),()=>null);if(!u||u.line===null)return[];let l=await this.getMetadataForPaths([s.compiledPath]).then(p=>p[0]);return l?(await Promise.all([...l].map(d=>n(u.line,u.column,d)))).flat():[{absolutePath:s.compiledPath,lineNumber:u.line||1,columnNumber:u.column?u.column+1:1}]};for(let i of e.breakpoints??[]){let o=`${e.source.path}:${i.line}:${i.column||1}`;if(this.predictedLocations.has(o))return;let s=[];this.predictedLocations.set(o,s);for(let a of t)s.push(...await n(i.line,i.column||0,a))}}async getPredictionForSource(e){return this.getMetadataForPaths([e]).then(t=>t[0])}async getMetadataForPaths(e){let t=setTimeout(()=>{this.longParseEmitter.fire(),this.logger.warn("runtime.sourcemap","Long breakpoint predictor runtime",{longPredictionWarning:OR,patterns:[...this.outFiles.explode()].join(", ")})},OR),n=await this.bpSearch.getMetadataForPaths(e);return clearTimeout(t),n}predictedResolvedLocations(e){let t=`${e.absolutePath}:${e.lineNumber}:${e.columnNumber||1}`;return this.predictedLocations.get(t)??[]}};lc=E([(0,nr.injectable)(),H(0,(0,nr.inject)(so)),H(1,(0,nr.inject)(Qi)),H(2,(0,nr.inject)(ie)),H(3,(0,nr.inject)(oo))],lc);var mo=w(V());var FH=class{constructor(e=!1,t=!1){this.verified=e;this.hit=t}},BH=class{constructor(){this._statisticsById=new Map}registerBreakpoints(e){e.forEach(t=>{t.id!==void 0&&!this._statisticsById.has(t.id)&&this._statisticsById.set(t.id,new FH(t.verified,!1))})}registerResolvedBreakpoint(e){this.getStatistics(e).verified=!0}registerBreakpointHit(e){this.getStatistics(e).hit=!0}getStatistics(e){let t=this._statisticsById.get(e);if(t!==void 0)return t;{let n=new FH;return this._statisticsById.set(e,n),n}}statistics(){let e=0,t=0,n=0;for(let i of this._statisticsById.values())e++,i.hit&&n++,i.verified&&t++;return{set:e,verified:t,hit:n}}};var il=w(V());var pM=require("crypto"),Tf=w(V());var iQ=0,Ht=Symbol("ICdpApi"),dc=class extends Error{constructor(t){super("<<message>>");this.method=t}setCause(t,n){return this.cause={code:t,message:n},this.message=`CDP error ${t} calling method ${this.method}: ${n}`,this.stack=this.stack?.replace("<<message>>",this.message),this}},Ft=class{constructor(e,t,n){this.logger=t;this.telemetryReporter=n;this._connectionId=iQ++;this._lastId=1e3;this._disposedSessions=new Map;this._onDisconnectedEmitter=new U;this.waitWrapper=sQ();this.onDisconnected=this._onDisconnectedEmitter.event;this._transport=e,this._transport.onMessage(([i,o])=>this._onMessage(i,o)),this._transport.onEnd(()=>this._onTransportClose()),this._sessions=new Map,this._closed=!1,this._rootSession=new UH(this,"",this.logger),this._sessions.set("",this._rootSession)}rootSession(){return this._rootSession.cdp()}_send(e,t={},n){let i=++this._lastId,o={id:i,method:e,params:t};n&&(o.sessionId=n);let s=JSON.stringify(o);return this.logger.verbose("cdp.send",void 0,{connectionId:this._connectionId,message:o}),this._transport.send(s),i}_onMessage(e,t){let n=JSON.parse(e),i=n;n.result&&n.result.scriptSource?i={...n,result:{...n.result,scriptSource:"<script source>"}}:n.method==="Debugger.scriptParsed"&&n.params&&mr(n.params.sourceMapURL)&&(i={...n,params:{...n.params,sourceMapURL:"<data source map url>"}}),this.logger.verbose("cdp.receive",void 0,{connectionId:this._connectionId,message:i});let o=this._sessions.get(n.sessionId||"");if(!o){let c=this._disposedSessions.get(n.sessionId);if(c){let u=(Date.now()-c.getTime())/1e3;this.logger.warn("internal",`Got message for a session disposed ${u} seconds ago`,{sessionId:n.sessionId,disposeOn:c});return}else throw new Error(`Unknown session id: ${n.sessionId} while processing: ${n.method}`)}let s=n.method,a;try{o._onMessage(n)}catch(c){a=c}s&&this.telemetryReporter.reportOperation("cdpOperation",s,t.elapsed().ms,a)}_onTransportClose(){if(!this._closed){this._closed=!0,this._transport.dispose(),this.logger.info("cdp.receive","Connection closed",{connectionId:this._connectionId});for(let e of this._sessions.values())e._onClose();this._sessions.clear(),this._onDisconnectedEmitter.fire()}}close(){this._onTransportClose()}isClosed(){return this._closed}createSession(e){let t=new UH(this,e,this.logger);return this._sessions.set(e,t),t.cdp()}disposeSession(e){let t=this._sessions.get(e);t&&(t._onClose(),this._disposedSessions.set(t.sessionId(),new Date),this._sessions.delete(t.sessionId()))}},oQ=+process.version.substring(1).split(".")[0]<11,UH=class{constructor(e,t,n){this.logger=n;this._queue=[];this._prefixListeners=new of;this._directListeners=new of;this.paused=!1;this._callbacks=new Map,this._connection=e,this._sessionId=t,this._cdp=this._createApi()}pause(){this.paused=!0}resume(){if(!this.paused)return;this.paused=!1;let e=this._queue;this._queue=[],this.logger.verbose("cdp.receive","Dequeue messages",{message:e});for(let t of e)this._processResponse(t)}cdp(){return this._cdp}sessionId(){return this._sessionId}_createApi(){return new Proxy({},{get:(e,t)=>t==="pause"?()=>this.pause():t==="resume"?()=>this.resume():t==="session"?this:new Proxy({},{get:(n,i)=>{if(i!=="then")return i==="on"?(o,s)=>this.on(`${t}.${o}`,s):o=>this.send(`${t}.${i}`,o)}})})}on(e,t){return this._directListeners.listen(e,t)}onPrefix(e,t){return this._prefixListeners.listen(e,t)}send(e,t={}){return this.sendOrDie(e,t).catch(()=>{})}sendOrDie(e,t={}){if(!this._connection)return Promise.reject(new dc(e).setCause(0,"Connection is closed"));let n=this._connection._send(e,t,this._sessionId);return new Promise((i,o)=>{this._callbacks.set(n,{resolve:i,reject:o,from:new dc(e),method:e})})}_onMessage(e){if(this.paused&&e.id){this._processResponse(e);return}if(this._queue.length>0){this._queue.push(e);return}if(!oQ&&!this.paused){this._processResponse(e);return}this._queue.push(e),this.paused||this._processQueue()}_processQueue(){this._connection?.waitWrapper(()=>{if(this.paused)return;let e=this._queue.shift();e&&(this._processResponse(e),this._queue.length&&this._processQueue())})}_processResponse(e){if(e.id===void 0){let n=e;this._directListeners.emit(n.method,n.params);for(let[i,o]of this._prefixListeners.listeners)n.method.startsWith(i)&&o.fire(n);return}let t=this._callbacks.get(e.id);t&&(this._callbacks.delete(e.id),"error"in e?t.reject(t.from.setCause(e.error.code,e.error.message)):"result"in e&&t.resolve(e.result))}async detach(){if(!this._connection)throw new Error("Session already detached. Most likely the target has been closed.");this._connection._send("Target.detachFromTarget",{},this._sessionId)}isClosed(){return!this._connection}_onClose(){for(let e of this._callbacks.values())e.reject(e.from.setCause(0,"Connection is closed"));this._callbacks.clear(),this._connection=void 0}};function sQ(){if(parseInt(process.versions.node,10)>=11)return setImmediate;let r=!1,e=[],t=()=>{let n=e.shift();if(!n){r=!1;return}setImmediate(t),n()};return n=>{e.push(n),r||(r=!0,setImmediate(t))}}var el=w(V());var tM=w(we()),rM=require("path"),nM=require("url");var JR=require("path"),YR=require("worker_threads");var fc=w(zR()),sA=require("fs"),aA=require("worker_threads");var bQ=Buffer.from("(function (exports, require, module, __filename, __dirname) { "),vQ=Buffer.from(`
});`),xQ=Buffer.from("(function (exports, require, module, __filename, __dirname, process, global, Buffer) { return function (exports, require, module, __filename, __dirname) { "),wQ=Buffer.from(`
}.call(this, exports, require, module, __filename, __dirname); });`),IQ=Buffer.from("#!"),_Q=Buffer.from("\r")[0],AQ=Buffer.from(`
`)[0],SQ=(r,e)=>r.slice(0,e.length).equals(e),KR=(r,e,t)=>{let n=e.length===64?fc.shaHash:fc.hash;if(n(r)===e)return!0;if(t){if(SQ(r,IQ)){let i=r.indexOf(AQ);return r[i-1]===_Q&&i--,n(r.slice(i))===e}if(n(Buffer.concat([bQ,r,vQ]))===e)return!0}return n(Buffer.concat([xQ,r,wQ]))===e},XR=r=>r instanceof Buffer?r:Buffer.from(r,"utf-8");async function EQ(r){switch(r.type){case 0:try{let e=await sA.promises.readFile(r.file);return{id:r.id,hash:r.mode===0?(0,fc.hash)(e):(0,fc.shaHash)(e)}}catch{return{id:r.id}}case 1:try{return{id:r.id,hash:(0,fc.hash)(XR(r.data))}}catch{return{id:r.id}}case 2:try{let e=await sA.promises.readFile(r.file);return{id:r.id,matches:KR(e,r.expected,r.checkNode)}}catch{return{id:r.id,matches:!1}}case 3:try{return{id:r.id,matches:KR(XR(r.data),r.expected,r.checkNode)}}catch{return{id:r.id,matches:!1}}}}function PQ(r){r.on("message",e=>{EQ(e).then(t=>r.postMessage(t))})}aA.parentPort&&PQ(aA.parentPort);var KH=class{constructor(e=3,t=(0,JR.join)(__dirname,"hash.js")){this.maxFailures=e;this.hasherScriptPath=t;this.idCounter=0;this.failureCount=0;this.deferredMap=new Map;this.deferCleanup=bT(3e4,()=>this.cleanup())}async hashBytes(e,t){return(await this.send({type:1,data:t,mode:e,id:this.idCounter++})).hash}async hashFile(e,t){return(await this.send({type:0,file:t,mode:e,id:this.idCounter++})).hash}async verifyBytes(e,t,n){return(await this.send({type:3,data:e,id:this.idCounter++,expected:t,checkNode:n})).matches}async verifyFile(e,t,n){return(await this.send({type:2,file:e,id:this.idCounter++,expected:t,checkNode:n})).matches}dispose(){this.cleanup(),this.deferCleanup.clear()}send(e){let t=this.getProcess();if(!t)throw new Error("hash.js process unexpectedly exited");this.deferCleanup();let n=Ge();return this.deferredMap.set(e.id,{deferred:n,request:e}),t.postMessage(e),n.promise}cleanup(){this.instance&&(this.instance.removeAllListeners("exit"),this.instance.terminate(),this.instance=void 0,this.failureCount=0)}getProcess(){if(this.instance)return this.instance;if(this.failureCount>this.maxFailures)return;let e=this.instance=new YR.Worker(this.hasherScriptPath);return e.setMaxListeners(1/0),e.on("message",t=>{let n=t,i=this.deferredMap.get(n.id);i&&(i.deferred.resolve(n),this.deferredMap.delete(n.id))}),e.on("exit",()=>{this.instance=void 0,this.failureCount++;let t=this.getProcess();if(t){this.deferCleanup();for(let{request:n}of this.deferredMap.values())t.postMessage(n)}else{for(let{deferred:n}of this.deferredMap.values())n.reject(new Error("hash.js process unexpectedly exited"));this.deferredMap.clear(),this.deferCleanup.clear()}}),e}};var ZR=require("fs"),QR=new KH;async function eM(r,e,t){return!r||Z$(r)?void 0:e?(typeof t=="string"?await QR.verifyBytes(t,e,!0):await QR.verifyFile(r,e,!0))?r:void 0:await new cn(ZR.promises).exists(r)?r:void 0}var mc=class{constructor(e,t,n,i,o,s,a,c){this.url=t;this.inlineScriptOffset=s;this.runtimeScriptOffset=a;this.contentHash=c;this._scripts=[];this.hasBeenAnnounced=!1;this.sourceReference=e.getSourceReference(t),this._contentGetter=Se(i),this._container=e,this.absolutePath=n||"",this._fqname=this._fullyQualifiedName(),this._name=this._humanName(),this.setSourceMapUrl(o),this._existingAbsolutePath=this.checkContentHash(c)}get sendLazy(){return!this.url}checkContentHash(e){return eM(this.absolutePath,this.inlineScriptOffset||this.runtimeScriptOffset?void 0:e,this._container._fileContentOverridesForTest.get(this.absolutePath))}offsetScriptToSource(e){return this.runtimeScriptOffset?{...e,lineNumber:Math.max(1,e.lineNumber-this.runtimeScriptOffset.lineOffset),columnNumber:e.columnNumber-this.runtimeScriptOffset.columnOffset}:e}offsetSourceToScript(e){return this.runtimeScriptOffset?{...e,lineNumber:e.lineNumber+this.runtimeScriptOffset.lineOffset,columnNumber:e.columnNumber+this.runtimeScriptOffset.columnOffset}:e}setSourceMapUrl(e){if(!e){this.sourceMap=void 0;return}this.sourceMap={type:0,sourceByUrl:new Map,value:Ge(),metadata:e}}addScript(e){this._scripts.push(e)}filterScripts(e){this._scripts=this._scripts.filter(e)}get scripts(){return this._scripts}get getSuggestedMimeType(){if(this.url.endsWith(".wat"))return"text/wat";if(!/\.[^/]+$/.test(this.url)||this.url.includes("?"))return"text/javascript"}async content(){let e=await this._contentGetter();return this.inlineScriptOffset?.lineOffset&&(e=`
`.repeat(this.inlineScriptOffset.lineOffset)+e),e}async prettyPrint(){if(!this._container)return;if(hc(this)&&this.sourceMap.metadata.sourceMapUrl.endsWith("-pretty.map")){let c=this.sourceMap.value.settledValue;return c&&{map:c,source:[...this.sourceMap.sourceByUrl.values()][0]}}let e=await this.content();if(!e)return;let t=this.url||`eval://${this.sourceReference}.js`,n=t+"-pretty.map",o=t.split(/[\/\\]/).pop()+"-pretty.js",s=await HR(o,e,t,n);if(!s)return;this.setSourceMapUrl({compiledPath:this.absolutePath,sourceMapUrl:""}),this.sourceMap.value.resolve(s);let a=this;return await this._container._addSourceMapSources(a,s),{map:s,source:[...a.sourceMap.sourceByUrl.values()][0]}}async toDap(){let e=await this._existingAbsolutePath,t={name:this._name,path:this._fqname,sourceReference:this.sourceReference,presentationHint:this.blackboxed()?"deemphasize":void 0,origin:this.blackboxed()?tM.t("Skipped by skipFiles"):void 0};return e&&(t.sourceReference=0,t.path=e),this.hasBeenAnnounced||(this.hasBeenAnnounced=!0,this._container.emitLoadedSource(this)),t}existingAbsolutePath(){return this._existingAbsolutePath}async prettyName(){let e=await this._existingAbsolutePath;return e||this._fqname}_humanName(){if(Pr(this._fqname)){for(let e of this._container.rootPaths)if(tH(e,this._fqname))return Xe((0,rM.relative)(e,this._fqname))}return this._fqname}_fullyQualifiedName(){if(!this.url)return"<eval>/VM"+this.sourceReference;if(this.url.endsWith(".repl"))return"repl";if(this.absolutePath.startsWith("<node_internals>"))return this.absolutePath;if(Pr(this.url))return this.url;let e=xt(this.url);if(e)return e;let t=this.url;try{let n=[],i=new nM.URL(this.url);if(i.protocol==="data:")return"<eval>/VM"+this.sourceReference;i.hostname&&n.push(i.hostname),i.port&&n.push("\uA789"+i.port),i.pathname&&n.push(/^\/[a-z]:/.test(i.pathname)?i.pathname.slice(1):i.pathname);let o=i.searchParams?.toString();o&&n.push("?"+o),t=n.join("")}catch{}return t.endsWith("/")&&(t+="(index)"),this.inlineScriptOffset&&(t+=`\uA789${this.inlineScriptOffset.lineOffset+1}:${this.inlineScriptOffset.columnOffset+1}`),t}blackboxed(){return this._container.isSourceSkipped(this.url)}};var Cf;(n=>{async function r(i){return i.value.promise}n.waitForValue=r;function e(i,o){return i.type===0&&i.value.settledValue?Promise.resolve(i.value.settledValue):Promise.race([r(i),De(o)])}n.waitForValueWithTimeout=e;async function t(i){return await r(i),i.sourceByUrl}n.waitForSources=t})(Cf||={});var Dt=class extends mc{constructor(){super(...arguments);this.compiledToSourceUrl=new Map}},XH=class extends mc{constructor(t,n,i){super(t,n.url,i,()=>Promise.resolve("Binary content not shown, see the decompiled WAT file"),void 0,void 0,void 0,void 0);this.event=n;this.sourceMap={type:1,value:Ge(),sourceByUrl:new Map}}checkContentHash(){return Promise.resolve(void 0)}offsetScriptToSource(t){return t}offsetSourceToScript(t){return t}},Nr=r=>!!r&&r instanceof mc&&!!r.sourceMap,hc=r=>Nr(r)&&r.sourceMap.type===0,gc=r=>Nr(r)&&r.sourceMap.type===1,cA=r=>!!r&&typeof r.getDisassembly=="function";function iM(r,e){if(!e)return r;let{lineNumber:t,columnNumber:n}=r;return e&&(t+=e.lineOffset,t<=1&&(n+=e.columnOffset)),{...r,lineNumber:t,columnNumber:n}}function oM(r,e){if(!e)return r;let{lineNumber:t,columnNumber:n}=r;return e&&(t=Math.max(1,t-e.lineOffset),t<=1&&(n=Math.max(1,n-e.columnOffset))),{...r,lineNumber:t,columnNumber:n}}var sM=r=>({lineNumber:r.lineNumber+1,columnNumber:r.columnNumber+1}),Jo=r=>({lineNumber:r.lineNumber-1,columnNumber:r.columnNumber-1});var wt=class{constructor(e,t){this.lineNumber=e;this.columnNumber=t}get base0(){return this}get base1(){return new Bt(this.lineNumber+1,this.columnNumber+1)}get base01(){return new Hi(this.lineNumber,this.columnNumber+1)}compare(e){let t=e.base0;return this.lineNumber-t.lineNumber||this.columnNumber-t.columnNumber}},Bt=class{constructor(e,t){this.lineNumber=e;this.columnNumber=t}get base0(){return new wt(this.lineNumber-1,this.columnNumber-1)}get base1(){return this}get base01(){return new Hi(this.lineNumber-1,this.columnNumber)}compare(e){let t=e.base1;return this.lineNumber-t.lineNumber||this.columnNumber-t.columnNumber||0}},Hi=class{constructor(e,t){this.lineNumber=e;this.columnNumber=t}get base0(){return new wt(this.lineNumber-1,this.columnNumber)}get base1(){return new Bt(this.lineNumber,this.columnNumber+1)}get base01(){return this}compare(e){let t=e.base01;return this.lineNumber-t.lineNumber||this.columnNumber-t.columnNumber}},yi=class r{constructor(e,t){this.begin=e;this.end=t}static{this.ZERO=new r(new wt(0,0),new wt(0,0))}static{this.INFINITE=new r(new wt(0,0),new wt(1/0,1/0))}static simplify(e){if(e.length===0)return[];let t=e.slice().sort((o,s)=>o.begin.compare(s.begin)),n=[],i=t[0];for(let o=1;o<t.length;o++){let s=t[o];i.end.compare(s.begin)>=0?i=new r(i.begin,s.end):(n.push(i),i=s)}return n.push(i),n}contains(e){return e.compare(this.begin)>=0&&e.compare(this.end)<=0}toString(){let e=this.begin.base0,t=this.end.base0;return`Range[${e.lineNumber}:${e.columnNumber} -> ${t.lineNumber}:${t.columnNumber}]`}};var aM=require("worker_threads");var Yu=require("worker_threads");function uA(r,e){let t=ro(r),n=(a,{loc:c}=a,{loc:u}=a)=>{if(!c||!u)throw new Error("should include locations");let l=e(c,u);if(o.length>0){let p=o[o.length-1];p.scopeNode.children??=[],p.scopeNode.children.push(l)}o.push({node:a,scopeNode:l})},i=new Set,o=[],s;return Rs(t,{enter:a=>{switch(a.type){case"FunctionDeclaration":case"ArrowFunctionExpression":n(a,a.params[0]||a.body,a.body),i.add(a.body);break;case"Program":n(a),s=o[0].scopeNode;break;case"ForStatement":case"ForOfStatement":case"ForInStatement":n(a),i.add(a.body);break;case"BlockStatement":i.has(a)||n(a);break}},leave:a=>{a===o[o.length-1].node&&o.pop()}}),s}Yu.isMainThread||Yu.parentPort?.postMessage(uA(Yu.workerData,(r,e)=>({start:r.start,end:e.end})));var Qu=class r{constructor(e){this.range=e}static hydrate(e){let t=new r(new yi(new wt(e.start.line,e.start.column),new wt(e.end.line,e.end.column)));return t.children=e.children?.map(r.hydrate),t}search(e){if(this.range.contains(e)){if(!this.children)return this;for(let t of this.children){let n=t.search(e);if(n)return n}return this}}findDeepest(e,t){if(this.range.contains(e)){if(this.children)for(let n of this.children){let i=n.findDeepest(e,t);if(i!==void 0)return i}return t(this)}}filterHoist(e){if(this.children)for(let t=0;t<this.children.length;t++){let n=this.children[t];if(n.filterHoist(e),!e(n)){let i=n.children||[];this.children.splice(t,1,...i),t--}}}forEach(e){e(this),this.children?.forEach(t=>t.forEach(e))}toJSON(){return{range:this.range,children:this.children}}},CQ=1024*512;function cM(r){return r.length<CQ?TQ(r):new Promise((e,t)=>{let n=new aM.Worker(`${__dirname}/renameWorker.js`,{workerData:r});n.on("message",i=>e(Qu.hydrate(i))),n.on("error",t),n.on("exit",()=>t("rename worker exited"))})}function TQ(r){return uA(r,(e,t)=>new Qu(new yi(new Hi(e.start.line,e.start.column).base0,new Hi(t.end.line,t.end.column).base0)))}var uM=/[$a-z_][$0-9A-Z_$]*/iy,Ws=Symbol("IRenameProvider"),Zu=class{constructor(e,t,n){this.logger=e;this.sourceMapFactory=t;this.launchConfig=n;this.renames=new Map}provideOnStackframe(e){if(!this.launchConfig.sourceMapRenames)return Rn.None;let t=e.uiLocation();return t===void 0?Rn.None:"then"in t?t.then(n=>this.provideForSource(n?.source)):this.provideForSource(t?.source)}provideForSource(e){if(!this.launchConfig.sourceMapRenames||!(e instanceof Dt))return Rn.None;let t=Ns(e.compiledToSourceUrl.keys());if(!t)throw new Error("unreachable");if(!hc(t))return Rn.None;let n=this.renames.get(t.url);if(n)return n;let i=this.sourceMapFactory.load(t.sourceMap.metadata).then(async o=>{if(!o?.hasNames)return Rn.None;let s=await t.content();return s?await this.createFromSourceMap(o,s):Rn.None}).catch(()=>Rn.None);return this.renames.set(t.url,i),i}async createFromSourceMap(e,t){let n=Date.now(),i;try{i=await cM(t)}catch(a){return this.logger.info("runtime",`Error parsing content for source tree: ${a}}`,{url:e.metadata.compiledPath}),Rn.None}let o=new Fs(t);e.eachMapping(a=>{if(!a.name)return;let c=new Hi(a.generatedLine,a.generatedColumn).base0,u=o.convert(c);uM.lastIndex=u;let l=uM.exec(t);if(!l)return;let p=l[0];if(p===a.name)return;let d=i.search(c)||i;d.data??=[],d.data.some(h=>h.compiled==p)||d.data.push({compiled:p,original:a.name})}),i.filterHoist(a=>!!a.data);let s=Date.now();return this.logger.info("runtime",`renames calculated in ${s-n}ms`,{url:e.metadata.compiledPath}),new Rn(i)}};Zu=E([(0,el.injectable)(),H(0,(0,el.inject)(ie)),H(1,(0,el.inject)(oo)),H(2,(0,el.inject)(Ne))],Zu);var Rn=class r{constructor(e){this.renames=e}static{this.None=new r(new Qu(yi.ZERO))}getOriginalName(e,t){return this.getClosestRename(t,n=>n.compiled===e)?.original}getCompiledName(e,t){return this.getClosestRename(t,n=>n.original===e)?.compiled}getClosestRename(e,t){return this.renames.findDeepest(e,n=>n.data?.find(t))}};var Yo="$returnValue",LQ="__js_debug_hoisted_",lM=()=>LQ+(0,pM.randomBytes)(8).toString("hex"),Mn=Symbol("IEvaluator"),tl=class{constructor(e,t){this.cdp=e;this.renameProvider=t}get hasReturnValue(){return!!this.returnValue}setReturnedValue(e){this.returnValue=e}prepare(e,{isInternalScript:t,hoist:n,renames:i}={}){t!==!1&&(e+=gt());let o=new Map;o.set(Yo,lM());for(let c of n??[])o.set(c,lM());let{transformed:s,hoisted:a}=this.replaceVariableInExpression(e,o,i);return a.size?{canEvaluateDirectly:!1,invoke:(c,u={})=>Promise.all([...o].map(([l,p])=>this.hoistValue(l===Yo?this.returnValue:u[l],p))).then(()=>this.cdp.Debugger.evaluateOnCallFrame({...c,expression:s}))}:{canEvaluateDirectly:!0,invoke:c=>this.cdp.Debugger.evaluateOnCallFrame({...c,expression:s})}}async evaluate(e,t){if(!("callFrameId"in e))return this.cdp.Runtime.evaluate(e);let n=t;if(t?.stackFrame){let i=await this.renameProvider.provideOnStackframe(t.stackFrame);n={...n,renames:{mapping:i,position:t.stackFrame.rawPosition}}}return this.prepare(e.expression,n).invoke(e)}async hoistValue(e,t){let n=e?.objectId,i=`setTimeout(() => { delete globalThis.${t} }, 0)`;n?await this.cdp.Runtime.callFunctionOn({objectId:n,functionDeclaration:`function() { globalThis.${t} = this; ${i}; ${gt()} }`}):await this.cdp.Runtime.evaluate({expression:`globalThis.${t} = ${JSON.stringify(e?.value)};${i};`+gt()})}replaceVariableInExpression(e,t,n){let i=new Set,o=!1,s=(p,d)=>({type:"ConditionalExpression",test:{type:"BinaryExpression",left:{type:"UnaryExpression",operator:"typeof",prefix:!0,argument:{type:"Identifier",name:p}},operator:"!==",right:{type:"Literal",value:"undefined"}},consequent:{type:"Identifier",name:p},alternate:d}),a=[],c=ro(e),u=IH(c,{enter(p,d){let h=p;if(p.type!=="Identifier"||e[h.start-1]===".")return;let f=t.get(p.name);if(f)return i.add(p.name),o=!0,{replace:J_(p,d)?{type:"Identifier",name:f}:s(f,DQ)};let g=n?.mapping.getCompiledName(p.name,n.position);if(g)return o=!0,{replace:J_(p,d)?{type:"Identifier",name:g}:s(g,p)}},leave:()=>{a.pop()}});if(!o)return{hoisted:i,transformed:e};let l=c.body[c.body.length-1].end;return{hoisted:i,transformed:Ko(u)+e.slice(l)}}};tl=E([(0,Tf.injectable)(),H(0,(0,Tf.inject)(Ht)),H(1,(0,Tf.inject)(Ws))],tl);var DQ={type:"Identifier",name:"undefined"};var JH=class r{static parse(e,t,n,i){t=lA(t,n);let o=t&&Ms(t);if(o)throw new K($s(e,o.message));let{canEvaluateDirectly:s,invoke:a}=i.prepare(t);return new r(s?t:a)}constructor(e){typeof e=="function"?this.invoke=e:this.breakCondition=e}async shouldStayPaused(e){return this.invoke?(await this.invoke({callFrameId:e.callFrames[0].callFrameId,returnByValue:!0}))?.result.value===!0:Promise.resolve(!0)}},lA=(r,e)=>`(()=>{try{return ${r};}catch(e){console.error(\`Breakpoint condition error: \${e.message||e}\`);return ${!!e}}})()`;var $Q=/^(>|>=|={1,3}|<|<=|%)?\s*([0-9]+)$/,rl=class r{constructor(e){this.predicate=e;this.hits=0;this.breakCondition=void 0}shouldStayPaused(){return Promise.resolve(this.predicate(++this.hits))}static parse(e){let t=$Q.exec(e);if(!t)throw new K(B_(e));let[,n="=",i]=t;return new r(kQ(e,n,Number(i)))}},kQ=(r,e,t)=>{switch(e){case"=":case"==":case"===":return n=>n===t;case">":return n=>n>t;case">=":return n=>n>=t;case"<":return n=>n<t;case"<=":return n=>n<=t;case"%":return n=>n%t===0;default:throw new K(B_(r))}};var dM=require("crypto"),QH=w(V());var YH=class{constructor(e){this.invoke=e;this.breakCondition=void 0}async shouldStayPaused(e){return await this.invoke({callFrameId:e.callFrames[0].callFrameId}),!1}};var Hc=class{constructor(e,t){this.breakCondition=t;let n=t&&Ms(t);if(n)throw new K($s(e,n.message))}shouldStayPaused(){return Promise.resolve(!0)}};var qs=class{constructor(e){this.evaluator=e}compile(e,t){let n=this.logMessageToExpression(t),i=Ms(n);if(i)throw new K($s(e,i.message));let{canEvaluateDirectly:o,invoke:s}=this.evaluator.prepare(n);return o?new Hc(e,this.logMessageToExpression(t)):new YH(s)}serializeLogStatements(e){return mR([],e,!1)}logMessageToExpression(e){let t=u=>u.replace(/%/g,"%%"),n=[],i=[],o=0;for(;;){let u=e.indexOf("{",o);if(u===-1){n.push(t(e.slice(o)));break}n.push(t(e.slice(o,u)));let[l]=Hf(e.slice(u));if(o=u+l.end,o-1===u+1||e[o-1]!=="}"){n.push(t(e.slice(u,o)));continue}if(l.type!=="BlockStatement")break;l.body.length===1&&l.body[0].type==="BlockStatement"&&(l.body=Hf(`(${e.slice(u+1,o-2)}})`)),i.push(Ko(this.serializeLogStatements(l.body))),n.push("%O")}let a=`console.log(${[JSON.stringify(n.join("")),...i].join(", ")}), false`,c=(0,dM.createHash)("sha256").update(a).digest("hex").slice(0,7);return a+`
//# sourceURL=logpoint-${c}.cdp`}};qs=E([(0,QH.injectable)(),H(0,(0,QH.inject)(Mn))],qs);var RQ=new Hc({line:0},void 0),Gbe=new Hc({line:0},"false"),ZH=Symbol("IBreakpointConditionFactory"),nl=class{constructor(e,t,n){this.logPointCompiler=e;this.evaluator=t;this.breakOnError=n.__breakOnConditionalError}getConditionFor(e){return e.condition?JH.parse(e,e.condition,this.breakOnError,this.evaluator):e.logMessage?this.logPointCompiler.compile(e,e.logMessage):e.hitCondition?rl.parse(e.hitCondition):RQ}};nl=E([(0,il.injectable)(),H(0,(0,il.inject)(qs)),H(1,(0,il.inject)(Mn)),H(2,(0,il.inject)(Ne))],nl);var ry=require("path");var ey=(r,e)=>r.lineNumber===e.lineNumber&&r.columnNumber===e.columnNumber;var ty=r=>!("location"in r),fM=r=>"location"in r,MQ=(r,e)=>r.url&&e===r.url||r.urlRegex&&new RegExp(r.urlRegex).test(e),ol=class{constructor(e,t,n){this._manager=e;this._source=t;this._originalPosition=n;this.isEnabled=!1;this.setInCdpScriptIds=new Set;this.cdpScriptIds=this.setInCdpScriptIds;this.cdpBreakpoints=[];this._cdpIds=new Set}get enabled(){return this.isEnabled}get cdpIds(){return this._cdpIds}get source(){return this._source}get originalPosition(){return this._originalPosition}async updateSourceLocation(e,t,n){this._source=t,this._originalPosition=n;let i=[];for(let o of this.cdpBreakpoints)o.state===1&&i.push(this.updateUiLocations(e,o.cdpId,o.locations));await Promise.all(i)}async refreshUiLocations(e){await Promise.all(this.cdpBreakpoints.filter(t=>t.state===1).map(t=>this.updateUiLocations(e,t.cdpId,t.locations)))}async enable(e){if(this.isEnabled)return;this.isEnabled=!0;let t=[this._setPredicted(e)],n=this._manager._sourceContainer.source(this.source);if((!n||!(n instanceof Dt))&&t.push(this._setByPath(e,n?.offsetSourceToScript(this.originalPosition)||this.originalPosition)),await Promise.all(t),n&&this.isEnabled){let i=await this._manager._sourceContainer.currentSiblingUiLocations({lineNumber:this.originalPosition.lineNumber,columnNumber:this.originalPosition.columnNumber,source:n});await Promise.all(i.map(o=>this._setByUiLocation(e,n.offsetSourceToScript(o))))}}async updateUiLocations(e,t,n){this.updateExistingCdpRef(t,a=>({...a,locations:n}));let i=(await Promise.all(n.map(a=>e.rawLocationToUiLocation(e.rawLocation(a))))).find(a=>!!a);if(!i)return;let o=this._manager._sourceContainer.source(this.source);if(!o)return;let s=await this._manager._sourceContainer.currentSiblingUiLocations(i);this.updateExistingCdpRef(t,a=>{let c=s.filter(u=>u.source===o);return{...a,locations:n,uiLocations:c.length?c:s}})}compare(e){let t=this.originalPosition,n=e.originalPosition;return t.lineNumber!==n.lineNumber?t.lineNumber-n.lineNumber:t.columnNumber-n.columnNumber}async disable(){if(!this.isEnabled)return;this.isEnabled=!1;let e=this.cdpBreakpoints.map(t=>this.removeCdpBreakpoint(t));await Promise.all(e)}async updateForNewLocations(e,t){let n=this._manager._sourceContainer.source(this.source);if(!n)return[];let i=await this._manager._sourceContainer.currentSiblingUiLocations({lineNumber:this.originalPosition.lineNumber,columnNumber:this.originalPosition.columnNumber,source:n},await t.source);if(!i.length)return[];let o=[];for(let s of i)o.push(this._setForSpecific(e,t,n.offsetSourceToScript(s)));for(let s of this.cdpBreakpoints){if(!ty(s.args)||!MQ(s.args,t.url))continue;let a=s.args;i.some(c=>c.columnNumber-1===a.columnNumber&&c.lineNumber-1===a.lineNumber)||(this._manager.logger.verbose("runtime.sourcemap","Adjusted breakpoint due to overlaid sourcemap",{url:n.url}),o.push(this.removeCdpBreakpoint(s)))}return await Promise.all(o),i}executionContextWasCleared(){this.updateCdpRefs(e=>e.filter(t=>ty(t.args)))}hasResolvedAt(e,t){let{lineNumber:n,columnNumber:i}=t.base0;return this.cdpBreakpoints.some(o=>o.state===1&&o.locations.some(s=>s.scriptId===e&&s.lineNumber===n&&(s.columnNumber===void 0||s.columnNumber===i)))}getBreakCondition(){}updateExistingCdpRef(e,t){this.updateCdpRefs(n=>n.map(i=>i.state!==1||i.cdpId!==e?i:t(i)))}updateCdpRefs(e){let t=this;t.cdpBreakpoints=e(this.cdpBreakpoints);let n=new Set;this.setInCdpScriptIds.clear();for(let i of this.cdpBreakpoints)if(i.state===1){n.add(i.cdpId);for(let o of i.locations)this.setInCdpScriptIds.add(o.scriptId)}this._cdpIds=n}async _setPredicted(e){if(!this.source.path||!this._manager._breakpointsPredictor)return;let t=this._manager._breakpointsPredictor.predictedResolvedLocations({absolutePath:this.source.path,lineNumber:this.originalPosition.lineNumber,columnNumber:this.originalPosition.columnNumber}),n=[];for(let i of t){let o=this._manager._sourceContainer.sourcePathResolver.absolutePathToUrlRegexp(i.absolutePath);o!==void 0&&(typeof o=="string"?n.push(this._setByUrlRegexp(e,o,i)):n.push(o.then(s=>s?this._setByUrlRegexp(e,s,i):void 0)))}await Promise.all(n)}async _setByUiLocation(e,t){await Promise.all(t.source.scripts.map(n=>this._setForSpecific(e,n,t)))}async _setByPath(e,t){let n=this._manager._sourceContainer.source({path:this.source.path});if(!(n instanceof Dt&&[...n.compiledToSourceUrl.keys()].some(o=>o.absolutePath===this.source.path)))if(this.source.path){let i=await this._manager._sourceContainer.sourcePathResolver.absolutePathToUrlRegexp(this.source.path);if(!i)return;await this._setByUrlRegexp(e,i,t)}else{let o=this._manager._sourceContainer.source(this.source)?.url;if(!o)return;await this._setByUrl(e,o,t),this.source.path!==o&&this.source.path!==void 0&&await this._setByUrl(e,We(this.source.path),t)}}hasSetOnLocation(e,t){return this.cdpBreakpoints.find(n=>e.scriptId&&fM(n.args)&&n.args.location.scriptId===e.scriptId&&ey(n.args.location,t)||e.url&&!e.hasSourceURL&&ty(n.args)&&(n.args.urlRegex?new RegExp(n.args.urlRegex).test(e.url):e.url===n.args.url)&&ey(n.args,t))}hasSetOnLocationByUrl(e,t,n){return this.cdpBreakpoints.find(i=>{if(ty(i.args))return ey(i.args,n)?e==="url"?i.args.urlRegex?new RegExp(i.args.urlRegex).test(t):i.args.url===t:e==="re"&&i.args.urlRegex===t:!1;let o=this._manager._sourceContainer.getScriptById(i.args.location.scriptId);if(o)return ey(i.args.location,n)&&e==="re"?new RegExp(t).test(o.url):o.url===t})}async _setForSpecific(e,t,n){return t.url&&!t.hasSourceURL&&(!t.embedderName||t.embedderName===t.url)?this._setByUrl(e,t.url,n):this._setByScriptId(e,t,n)}async _setByUrl(e,t,n){n=Jo(n);let i=this.hasSetOnLocationByUrl("url",t,n);if(i){i.state===0&&await i.done;return}return this._setAny(e,{url:t,condition:this.getBreakCondition(),...n})}async _setByUrlRegexp(e,t,n){n=Jo(n);let i=this.hasSetOnLocationByUrl("re",t,n);if(i){i.state===0&&await i.done;return}return this._setAny(e,{urlRegex:t,condition:this.getBreakCondition(),...n})}async _setByScriptId(e,t,n){n=Jo(n);let i=this.hasSetOnLocation(t,n);if(i){i.state===0&&await i.done;return}return this._setAny(e,{condition:this.getBreakCondition(),location:{scriptId:t.scriptId,...n}})}async _setAny(e,t){if(!this.isEnabled)return;let n={state:0,args:t,deadletter:!1};n.done=(async()=>{let i=fM(t)?await e.cdp().Debugger.setBreakpoint(t):await e.cdp().Debugger.setBreakpointByUrl(t);if(!i)return;if(n.deadletter){await e.cdp().Debugger.removeBreakpoint({breakpointId:i.breakpointId});return}let o="actualLocation"in i?[i.actualLocation]:i.locations;this._manager._resolvedBreakpoints.set(i.breakpointId,this);let s={state:1,cdpId:i.breakpointId,args:t,locations:o,uiLocations:[]};return this.updateCdpRefs(a=>a.map(c=>c===n?s:c)),await this.updateUiLocations(e,i.breakpointId,o),s})(),this.updateCdpRefs(i=>[...i,n]),await n.done}async removeCdpBreakpoint(e){this.updateCdpRefs(t=>t.filter(n=>n!==e)),e.state===0?(e.deadletter=!0,await e.done):(await this._manager._thread?.cdp().Debugger.removeBreakpoint({breakpointId:e.cdpId}),this._manager._resolvedBreakpoints.delete(e.cdpId))}};var co=class r extends ol{constructor(t,n,i){super(t,n,{lineNumber:1,columnNumber:1});this.mode=i}static getModeKeyForSource(t,n){return t===1?(0,ry.basename)(n,(0,ry.extname)(n)||void 0):n}_setPredicted(){return Promise.resolve()}_setByPath(t,n){if(!this.source.path)return Promise.resolve();let i=r.getModeKeyForSource(this.mode,this.source.path);return this.mode===1?super._setByUrlRegexp(t,Or(i),n):super._setByPath(t,n)}};var hM=w(we());var On=class extends ol{constructor(t,n,i,o,s){super(t,i,{lineNumber:o.line,columnNumber:o.column||1});this.dapId=n;this.dapParams=o;this.condition=s;this.completedSet=Ge()}equivalentTo(t){return t.dapParams.column===this.dapParams.column&&t.dapParams.line===this.dapParams.line&&t.dapParams.hitCondition===this.dapParams.hitCondition&&t.dapParams.condition===this.dapParams.condition&&t.dapParams.logMessage===this.dapParams.logMessage}untilSetCompleted(){return this.completedSet.promise}markSetCompleted(){this.completedSet.resolve()}testHitCondition(t){return this.condition.shouldStayPaused(t)}async toDap(){let t=this.enabled&&this.getResolvedUiLocation();return t?{id:this.dapId,verified:!0,source:await t.source.toDap(),line:t.lineNumber,column:t.columnNumber}:{id:this.dapId,verified:!1,message:hM.t("Unbound breakpoint")}}diagnosticDump(){return{source:this.source,params:this.dapParams,cdp:this.cdpBreakpoints}}getBreakCondition(){return this.condition.breakCondition}updateCdpRefs(t){let n=this.getResolvedUiLocation();super.updateCdpRefs(t),this.getResolvedUiLocation()!==n&&this.notifyResolved()}getResolvedUiLocation(){for(let t of this.cdpBreakpoints)if(t.state===1&&t.uiLocations.length)return t.uiLocations[0]}async notifyResolved(){await this._manager.notifyBreakpointChange(this,this.completedSet.hasSettled())}};var ny=class extends On{constructor(e,t,n,i){super(e,t,n,i,new rl(()=>!1))}getResolvedUiLocation(){}};var w1=w(Rf());var Mf=class extends co{constructor(t,n){super(t,{path:n},1);this.pattern=n}async enable(t){if(this.isEnabled)return;this.isEnabled=!0;let n=(0,w1.makeRe)(Xe(this.pattern),{contains:!0,lookbehinds:!1});await this._setAny(t,{urlRegex:n.source.replace(/([a-z]):/i,(i,o)=>`[${o.toLowerCase()}${o.toUpperCase()}]:`),lineNumber:0,columnNumber:0})}};var ll=w(V());var cl={dispose:()=>{}},Ce=class{constructor(e){this.disposed=!1;this.items=[];e&&(this.items=e.slice())}get isDisposed(){return this.disposed}callback(...e){for(let t of e)this.push({dispose:t})}push(...e){return this.disposed?(e.forEach(t=>t.dispose()),e[0]):(this.items.push(...e),e[0])}disposeObject(e){this.items=this.items.filter(t=>t!==e),e.dispose()}dispose(){let e=Promise.all(this.items.map(t=>t.dispose()));return this.items=[],this.disposed=!0,e}};var ul=Symbol("IExperimentationService");var Kt=Symbol("ITelemetryReporter");var QZ=/\/node_modules\/|^node\:/,ZZ=2,I1=5e3,eee=I1/2,bt=class{constructor(e,t,n){this.telemetry=t;this.experimentation=n;this.disposable=new Ce;this.hadBreakpoint=!1;this.didVerifyBreakpoint=!1;this.hadNonModuleSourcemap=!1;this.startedAt=Date.now();this.disposable.push(bt.didVerifyEmitter.event(()=>{this.didVerifyBreakpoint=!0})),bt.consecutiveQualifyingSessions>=ZZ&&this.disposable.push(Tk(async()=>{this.currentlyQualifying&&await this.experimentation.getTreatment("diagnosticPrompt",!0)&&(t.report("diagnosticPrompt",{event:"suggested"}),bt.didSuggest=!0,e.suggestDiagnosticTool({}))},I1))}get currentlyQualifying(){return this.hadBreakpoint&&!this.didVerifyBreakpoint&&this.hadNonModuleSourcemap}notifyHadBreakpoint(){this.hadBreakpoint=!0}notifyVerifiedBreakpoint(){this.didVerifyBreakpoint||(bt.didVerifyEmitter.fire(),bt.didSuggest&&(bt.didSuggest=!1,this.telemetry.report("diagnosticPrompt",{event:"resolved"})))}attach(e){if(!this.hadNonModuleSourcemap){let t=this.disposable.push(e.Debugger.on("scriptParsed",n=>{n.sourceMapURL&&!QZ.test(n.url)&&(this.hadNonModuleSourcemap=!0,this.disposable.disposeObject(t))}))}}dispose(){this.currentlyQualifying&&Date.now()-eee>this.startedAt?bt.consecutiveQualifyingSessions++:bt.consecutiveQualifyingSessions=0,this.disposable.dispose()}};bt.consecutiveQualifyingSessions=0,bt.didVerifyEmitter=new U,bt.didSuggest=!1,bt=E([(0,ll.injectable)(),H(0,(0,ll.inject)(Nu)),H(1,(0,ll.inject)(Kt)),H(2,(0,ll.inject)(ul))],bt);var Bn=w(V());function tee(r){let e=[];for(let t=0,n=r.length;t<n;++t){let i=r.charCodeAt(t);if(i<128)e.push(i);else if(i<2048)e.push(192|i>>6,128|i&63);else if(i<55296||i>=57344)e.push(224|i>>12,128|i>>6&63,128|i&63);else{let o=65536+((i&1023)<<10|r.charCodeAt(++t)&1023);e.push(240|o>>18&7,128|o>>12&63,128|o>>6&63,128|o&63)}}return new Uint8Array(e)}var _1=tee;var pl=2654435761,dl=2246822519,ly=3266489917,A1=668265263,S1=374761393;function PA(r,e=0){r=typeof r=="string"?_1(r):r;let t=r,n=e+S1&4294967295,i=0;if(t.length>=16){let s=[e+pl+dl&4294967295,e+dl&4294967295,e+0&4294967295,e-pl&4294967295],a=r,c=a.length-16,u=0;for(i=0;(i&4294967280)<=c;i+=4){let l=i,p=a[l+0]+(a[l+1]<<8),d=a[l+2]+(a[l+3]<<8),h=p*dl+(d*dl<<16),f=s[u]+h&4294967295;f=f<<13|f>>>19;let g=f&65535,v=f>>>16;s[u]=g*pl+(v*pl<<16)&4294967295,u=u+1&3}n=(s[0]<<1|s[0]>>>31)+(s[1]<<7|s[1]>>>25)+(s[2]<<12|s[2]>>>20)+(s[3]<<18|s[3]>>>14)&4294967295}n=n+r.length&4294967295;let o=r.length-4;for(;i<=o;i+=4){let s=i,a=t[s+0]+(t[s+1]<<8),c=t[s+2]+(t[s+3]<<8),u=a*ly+(c*ly<<16);n=n+u&4294967295,n=n<<17|n>>>15,n=(n&65535)*A1+((n>>>16)*A1<<16)&4294967295}for(;i<t.length;++i){let s=t[i];n=n+s*S1,n=n<<11|n>>>21,n=(n&65535)*pl+((n>>>16)*pl<<16)&4294967295}return n=n^n>>>15,n=((n&65535)*dl&4294967295)+((n>>>16)*dl<<16),n=n^n>>>13,n=((n&65535)*ly&4294967295)+((n>>>16)*ly<<16),n=n^n>>>16,n<0?n+4294967296:n}var fl=Symbol("IContainer"),po=Symbol("StoragePath"),Xr=Symbol("IInitializeParams"),Fn=Symbol("VSCodeApi"),ml=Symbol("IsVSCode"),it=Symbol("ExtensionContext"),TA=Symbol("ProcessEnv"),Of=Symbol("execa"),_e=Symbol("FS"),Zo="ExtensionLocation",vc=Symbol("IBrowserFinder"),Zve=Symbol("DwarfDebugging"),hl=Symbol("SessionSubStates"),CA=new WeakMap,pt=(r,e)=>{if(!(typeof e=="object"&&e&&"dispose"in e))return e;let t=e,n=CA.get(r.container);return n?n.push(t):CA.set(r.container,[t]),e},py=r=>{CA.get(r)?.forEach(e=>e.dispose())},Jr=Symbol("IExtensionContribution");var fy=w(V());var E1=w(require("fs")),dy=w(require("path")),P1=r=>{let e={};d(e);function t(f,g){return r({category:"telemetry",output:f,data:g})}let n=f=>t("js-debug/dap/operation",{...e,...f}),i=f=>t("js-debug/cdp/operation",{...e,...f}),o=f=>t("js-debug/error",{...e,...f}),s=f=>{e.browser=(f.targetProject||f.targetProject)+"/"+f.targetVersion,t("js-debug/browserVersion",{...e,...f})},a=f=>t("js-debug/breakpointStats",{...e,...f}),c=f=>t("js-debug/statistics",{...e,...f}),u=f=>{e.nodeVersion=f.version,t("js-debug/nodeRuntime",{...e,...f})},l=f=>{t("js-debug/launch",{...e,...f,parameters:JSON.stringify(f.parameters)})},p=f=>{t("js-debug/diagnosticPrompt",{...e,...f})};function d(f){try{let g=dy.resolve(dy.dirname(__filename),"..","..",".gitcommit");f.jsDebugCommitId=E1.readFileSync(g,"utf8")}catch{}}return{breakpointStats:a,statistics:c,browserVersion:s,cdpOperation:i,dapOperation:n,error:o,launch:l,nodeRuntime:u,diagnosticPrompt:p,setGlobalMetric:(f,g)=>{e[f]=g}}};var Nf=class{constructor(e=!0){this.isVSCode=e;this.measurements=Object.create(null)}add(e,t,n){let i=this.measurements[e];i||(i=this.measurements[e]={times:[],errors:[]}),i.times.push(t),n&&i.errors.push(n)}flush(){let e={errors:[]};for(let t in this.measurements){let{times:n,errors:i}=this.measurements[t],o={operation:t,totalTime:0,max:0,avg:0,stddev:0,count:n.length,failed:i.length};for(let s of n)o.totalTime+=s,o.max=Math.max(o.max,s);o.avg=o.totalTime/o.count;for(let s of n)o.stddev+=(s-o.avg)**2;o.stddev=Math.sqrt(o.stddev/(n.length-1)),e[o.operation]=o,e[`!${o.operation}.errors`]=i,this.isVSCode||(e[`${o.operation}.errors`]=i)}return this.measurements=Object.create(null),e}};var Yr=class{constructor(e=!0){this.isVsCode=e;this.target=[];this.flushEmitter=new U;this.loggers=P1(e=>this.pushOutput(e));this.batchFlushTimeout={};this.batchers={dapOperation:new Nf(this.isVsCode),cdpOperation:new Nf(this.isVsCode)};this.onFlush=this.flushEmitter.event;this.setGlobalMetric=this.loggers.setGlobalMetric}report(e,...t){let n=this.loggers[e];n(...t)}reportOperation(e,t,n,i){this.batchers[e].add(t,n,i),this.batchFlushTimeout[e]===void 0&&(this.batchFlushTimeout[e]=setTimeout(()=>{this.report(e,this.batchers[e].flush()),this.batchFlushTimeout[e]=void 0},Yr.batchFlushInterval))}attachDap(e){this.target instanceof Array&&this.target.forEach(t=>e.output(t)),this.target=e}flush(){this.flushEmitter.fire();let e=Object.entries(this.batchFlushTimeout);for(let[t,n]of e){let i=this.batchers[t].flush();i.length&&this.report(t,i),this.batchFlushTimeout[t]=void 0,clearTimeout(n)}}dispose(){for(let e of Object.values(this.batchFlushTimeout))e&&clearTimeout(e)}pushOutput(e){e.data=LA(e.data),this.target instanceof Array?this.target.push(e):this.target.output(e)}};Yr.batchFlushInterval=5e3,Yr=E([(0,fy.injectable)(),H(0,(0,fy.inject)(ml))],Yr);var LA=r=>typeof r=="number"?Number(r.toFixed(1)):typeof r!="object"||!r?r:r instanceof Error?DA(r):r instanceof Array?r.map(LA):No(r,LA),C1=/(?:[A-z]:)?(?:[\\/][^:]*)+[\\/]([^:]*:)/g;function DA(r){let e=String(r.message),t=String(r.name);C1.lastIndex=0;let n=typeof r.stack=="string"?r.stack.replace(C1,"$1"):void 0;return{error:{message:e,name:t,stack:n}}}var L1=require("crypto"),fo=w(V());var xc=Symbol("IDwarfModuleProvider");var hy=Symbol("IWasmSymbolProvider"),RA=Symbol("IWasmWorkerFactory"),gl=class{constructor(e,t){this.dwarf=e;this.launchConfig=t;this.cdpCounter=0;this.cdp=new Map;this.prompt=Se(()=>this.dwarf.prompt())}async spawn(e){if(!this.launchConfig.enableDWARF)return null;this.worker??=this.dwarf.load().then(i=>{if(!i)return null;let o=i.spawn({getWasmGlobal:(s,a)=>this.loadWasmValue(`globals[${s}]`,a),getWasmLocal:(s,a)=>this.loadWasmValue(`locals[${s}]`,a),getWasmOp:(s,a)=>this.loadWasmValue(`stack[${s}]`,a),getWasmLinearMemory:(s,a,c)=>this.loadWasmValue(`[].slice.call(new Uint8Array(memories[0].buffer, ${+s}, ${+a}))`,c).then(u=>new Uint8Array(u).buffer)});return o.rpc.sendMessage("hello",[],!1),o});let t=await this.worker;if(!t)return null;let n=this.cdpCounter++;return this.cdp.set(n,e),{rpc:t.rpc,getStopId:i=>`${n}:${i}`,dispose:()=>(this.cdp.delete(n),t.dispose())}}async dispose(){await this.worker?.then(e=>e?.dispose()),this.worker=Promise.resolve(null)}async loadWasmValue(e,t){let n=t,i=n.indexOf(":"),o=n.substring(0,i),s=n.substring(i+1),a=await this.cdp.get(+o)?.Debugger.evaluateOnCallFrame({callFrameId:s,expression:e+gt(),silent:!0,returnByValue:!0,throwOnSideEffect:!0});if(!a||a.exceptionDetails)throw new Error(`evaluate failed: ${a?.exceptionDetails?.text||"unknown"}`);return a.result.value}};gl=E([(0,fo.injectable)(),H(0,(0,fo.inject)(xc)),H(1,(0,fo.inject)(Ne))],gl);var Hl=class{constructor(e,t,n,i){this.dwarf=e;this.cdp=t;this.logger=n;this.launchConfig=i;this.worker=Se(()=>this.dwarf.spawn(this.cdp))}async loadWasmSymbols(e){if(!this.launchConfig.enableDWARF)return this.defaultSymbols(e);let t=await this.worker();if(!t){let a=this.defaultSymbols(e);return a.onDidDisassemble=this.dwarf.prompt,a}let{rpc:n}=t,i=(0,L1.randomUUID)(),o=e.debugSymbols?.externalURL,s;try{s=await n.sendMessage("addRawModule",i,o,{url:e.url,code:!o&&e.url.startsWith("wasm://")?await this.getBytecode(e.scriptId):void 0})}catch{return this.defaultSymbols(e)}return!(s instanceof Array)||s.length===0?(n.sendMessage("removeRawModule",i),this.defaultSymbols(e)):(this.logger.info("sourcemap.parsing","parsed files from wasm",{files:s}),new $A(e,this.cdp,i,t,s))}async dispose(){await this.worker.value?.then(e=>e?.dispose())}defaultSymbols(e){return new my(e,this.cdp,[])}async getBytecode(e){let n=(await this.cdp.Debugger.getScriptSource({scriptId:e}))?.bytecode;return n?Buffer.from(n,"base64").buffer:void 0}};Hl=E([(0,fo.injectable)(),H(0,(0,fo.inject)(RA)),H(1,(0,fo.inject)(Ht)),H(2,(0,fo.inject)(ie)),H(3,(0,fo.inject)(Ne))],Hl);var my=class{constructor(e,t,n){this.event=e;this.cdp=t;this.doDisassemble=Se(async()=>{let e=[],t;for await(let n of this.getDisassembledStream()){e=e.concat(n.lines);let i;if(t){let o=new Uint32Array(t.length+n.lines.length);i=t.length,o.set(t),t=o}else t=new Uint32Array(n.lines.length),i=0;for(let o=0;o<n.lines.length;o++)t[i+o]=n.bytecodeOffsets[o]}return t??=new Uint32Array(0),{lines:e,byteOffsetsOfLines:t}});n.push(this.decompiledUrl=e.url.replace(".wasm",".wat")),this.files=n}async getDisassembly(){let{lines:e}=await this.doDisassemble();return this.onDidDisassemble?.(),e.join(`
`)}originalPositionFor(e){return this.disassembledPositionFor(e)}async disassembledPositionFor(e){let{byteOffsetsOfLines:t}=await this.doDisassemble(),n=_R(t,e.base0.columnNumber,(i,o)=>i-o);if(n!==t.length)return{url:this.decompiledUrl,position:new wt(n,0)}}async compiledPositionFor(e,t){if(e!==this.decompiledUrl)return[];let{byteOffsetsOfLines:n}=await this.doDisassemble(),{lineNumber:i}=t.base0;if(i>=n.length)return[];let o=n[t.base0.lineNumber];return[new wt(0,o)]}dispose(){}async*getDisassembledStream(){let{scriptId:e}=this.event,t=await this.cdp.Debugger.disassembleWasmModule({scriptId:e});if(t)for(yield t.chunk;t.streamId;){let n=await this.cdp.Debugger.nextWasmDisassemblyChunk({streamId:t.streamId});if(!n)return;yield n.chunk}}},$A=class extends my{constructor(t,n,i,o,s){super(t,n,s);this.moduleId=i;this.worker=o;this.mappedLines=new Map}get codeOffset(){return this.event.codeOffset||0}async originalPositionFor(t){let n=await this.worker.rpc.sendMessage("rawLocationToSourceLocation",{codeOffset:t.base0.columnNumber-this.codeOffset,inlineFrameIndex:t.base0.lineNumber,rawModuleId:this.moduleId});return n.length?{position:new wt(n[0].lineNumber,n[0].columnNumber),url:n[0].sourceFileURL}:super.originalPositionFor(t)}async compiledPositionFor(t,n){if(t===this.decompiledUrl)return super.compiledPositionFor(t,n);let{lineNumber:i,columnNumber:o}=n.base0,s=await this.worker.rpc.sendMessage("sourceLocationToRawLocation",{lineNumber:i,columnNumber:o===0?-1:o,rawModuleId:this.moduleId,sourceFileURL:t});if(o===0&&s.length===0){let a=await this.getMappedLines(t),c=a.find(u=>u>i);if(!a.includes(i)&&c)return this.compiledPositionFor(t,new wt(c,0))}return s.filter(a=>a.rawModuleId===this.moduleId).map(a=>new wt(0,this.codeOffset+a.startOffset))}dispose(){return this.worker.rpc.sendMessage("removeRawModule",this.moduleId)}async getVariablesInScope(t,n){let i={codeOffset:n.base0.columnNumber-this.codeOffset,inlineFrameIndex:n.base0.lineNumber,rawModuleId:this.moduleId};return(await this.worker.rpc.sendMessage("listVariablesInScope",i)).map(s=>({name:s.name,scope:s.scope,type:s.type,evaluate:async()=>{let a=await this.worker.rpc.sendMessage("evaluate",s.name,i,this.worker.getStopId(t));return a?new kA(a,this.worker.rpc):ree}}))}async getFunctionStack(t){let n=await this.worker.rpc.sendMessage("getFunctionInfo",{codeOffset:t.base0.columnNumber-this.codeOffset,inlineFrameIndex:t.base0.lineNumber,rawModuleId:this.moduleId});return"frames"in n?n.frames:[]}async getStepSkipList(t,n,i,o){if(i===this.decompiledUrl)return[];let s={codeOffset:n.base0.columnNumber-this.codeOffset,inlineFrameIndex:n.base0.lineNumber,rawModuleId:this.moduleId},a=()=>o&&i?this.worker.rpc.sendMessage("sourceLocationToRawLocation",{lineNumber:o.base0.lineNumber,columnNumber:-1,rawModuleId:this.moduleId,sourceFileURL:i}):[],c;switch(t){case 2:{c=await this.worker.rpc.sendMessage("getInlinedFunctionRanges",s);break}case 1:{let u=await Promise.all([this.worker.rpc.sendMessage("getInlinedCalleesRanges",s),a()]);c=Bo(u);break}case 0:c=await a();break;default:c=[];break}return c.map(u=>new yi(new wt(0,u.startOffset+this.codeOffset),new wt(0,u.endOffset+this.codeOffset)))}async evaluate(t,n,i){try{return await this.worker.rpc.sendMessage("evaluate",i,{codeOffset:n.base0.columnNumber-this.codeOffset,inlineFrameIndex:n.base0.lineNumber,rawModuleId:this.moduleId},this.worker.getStopId(t))??void 0}catch(o){throw new K(Je(o.message))}}getMappedLines(t){let n=this.mappedLines.get(t);if(n)return n;let i=(async()=>{try{let o=await this.worker.rpc.sendMessage("getMappedLines",this.moduleId,t);return new Uint32Array(o?.sort((s,a)=>s-a)||[])}catch{return new Uint32Array}})();return this.mappedLines.set(t,i),i}},ree={type:"null",description:"no properties"},kA=class r{constructor(e,t){if(this.type=e.type,this.description=e.description,this.linearMemoryAddress=e.linearMemoryAddress,this.linearMemorySize=e.linearMemoryAddress,e.objectId&&e.hasChildren){let n=e.objectId;this.getChildren=Se(()=>this._getChildren(t,n))}}async _getChildren(e,t){return(await e.sendMessage("getProperties",t)).map(i=>({name:i.name,value:new r(i.value,e)}))}};var Vs=Symbol("IScriptSkipper");function D1(r){return typeof r.lineNumber=="number"&&typeof r.columnNumber=="number"&&!!r.source}var $1=()=>({source:null,line:null,column:null,name:null,lastColumn:null,isSourceMapLoadFailure:!0}),nee=/\?t=[0-9]+$/,iee=r=>r.endsWith(".hot-update.js")||nee.test(r),oee={load:0,resolveLocation:2e3,sourceMapMinPause:1e3,output:1e3,sourceMapCumulativePause:1e4},k1=(r,e)=>e instanceof Dt&&e.compiledToSourceUrl.has(r);var R1=2**31-1,ir=class{constructor(e,t,n,i,o,s,a,c,u){this.sourceMapFactory=t;this.logger=n;this.launchConfig=i;this.initializeConfig=o;this.sourcePathResolver=s;this.scriptSkipper=a;this.resourceProvider=c;this.wasmSymbols=u;this.rootPaths=[];this.scriptsById=new Map;this.onSourceMappedSteppingChangeEmitter=new U;this.onScriptEmitter=new U;this._sourceByOriginalUrl=new to(e=>e.toLowerCase());this._sourceByReference=new Map;this._sourceMapSourcesByUrl=new Map;this._sourceByAbsolutePath=ac();this._sourceMapTimeouts=oee;this._fileContentOverridesForTest=new Map;this._temporarilyDisabledSourceMaps=new Set;this._permanentlyDisabledSourceMaps=new Set;this.onScript=this.onScriptEmitter.event;this._statistics={fallbackSourceMapCount:0};this._doSourceMappedStepping=this.launchConfig.sourceMaps;this.onSourceMappedSteppingChange=this.onSourceMappedSteppingChangeEmitter.event;this._dap=e;let l="webRoot"in i?i.webRoot:i.rootPath;l&&(this.rootPaths=[l,ln(l,"..","ClientApp")]),a.setSourceContainer(this),this.setSourceMapTimeouts({...this.sourceMapTimeouts(),...i.timeouts})}get sources(){return this._sourceByReference.values()}statistics(){return this._statistics}get doSourceMappedStepping(){return this._doSourceMappedStepping}set doSourceMappedStepping(e){e!==this._doSourceMappedStepping&&(this._doSourceMappedStepping=e,this.onSourceMappedSteppingChangeEmitter.fire(e))}setSourceMapTimeouts(e){this._sourceMapTimeouts=e}sourceMapTimeouts(){return this._sourceMapTimeouts}setFileContentOverrideForTest(e,t){t===void 0?this._fileContentOverridesForTest.delete(e):this._fileContentOverridesForTest.set(e,t)}async loadedSources(){let e=[];for(let t of this._sourceByReference.values())e.push(t.toDap());return await Promise.all(e)}source(e){if(e.sourceReference)return this._sourceByReference.get(e.sourceReference);if(e.path)return this._sourceByAbsolutePath.get(e.path)}isSourceSkipped(e){return this.scriptSkipper.isScriptSkipped(e)}addScriptById(e){this.scriptsById.set(e.scriptId,e),"source"in e&&this.onScriptEmitter.fire(e)}getSourceScriptById(e){return this.scriptsById.get(e)}getScriptById(e){let t=this.scriptsById.get(e);return t&&"source"in t?t:void 0}getSourceByOriginalUrl(e){return this._sourceByOriginalUrl.get(e)}getSourceReference(e){let t=PA(e)&R1;for(let n=0;n<65535;n++){if(!this._sourceByReference.has(t))return t;t===R1&&(t=0),t++}return this.logger.assert(!1,"Max iterations exceeding for source reference assignment"),t}async preferredUiLocation(e){let t=!1,n=4;for(;;){let i=await this._originalPositionFor(e);if(!D1(i)){n=t?void 0:i;break}e=i,t=!0,n=void 0}return{...e,isMapped:t,unmappedReason:n}}async currentSiblingUiLocations(e,t){let n=await this._uiLocations(e);return t?n.filter(i=>i.source===t):n}clear(e){this.scriptsById.clear();for(let t of this._sourceByReference.values())this.removeSource(t,e);this._sourceByReference.clear(),this.sourceMapFactory instanceof js&&this.sourceMapFactory.invalidateCache()}async _uiLocations(e){let[t,n]=await Promise.all([this.getSourceMapUiLocations(e),this.getCompiledLocations(e)]);return[...t,e,...n]}async getSourceMapUiLocations(e){let t=await this._originalPositionFor(e);if(!D1(t))return[];let n=await this.getSourceMapUiLocations(t);return n.push(t),n}async _originalPositionFor(e){if(!Nr(e.source))return 1;let t=await Cf.waitForValueWithTimeout(e.source.sourceMap,this._sourceMapTimeouts.resolveLocation);if(!t)return 2;if(this._doSourceMappedStepping)return this._originalPositionForMap(e,t);if(cA(t)){let n=await t.disassembledPositionFor(new Bt(e.lineNumber,e.columnNumber)),i=n&&e.source.sourceMap.sourceByUrl.get(n.url);if(i)return i?{columnNumber:n.position.base1.lineNumber,lineNumber:n.position.base1.lineNumber,source:i}:3}return 0}async _originalPositionForMap(e,t){let n=e.source;if(!Nr(n))return 1;if(this._temporarilyDisabledSourceMaps.has(n)||this._permanentlyDisabledSourceMaps.has(n))return 0;let i=await this.getOptiminalOriginalPosition(t,oM(e,n.inlineScriptOffset));if(!i)return 3;let o=n.sourceMap.sourceByUrl.get(i.url);if(!o)return 3;let s=i.position.base1;return{lineNumber:s.lineNumber,columnNumber:s.columnNumber,source:o}}async getCompiledLocations(e){if(!(e.source instanceof Dt))return[];let t=[];for(let[n,i]of e.source.compiledToSourceUrl){let o=await Cf.waitForValueWithTimeout(n.sourceMap,this._sourceMapTimeouts.resolveLocation);if(!o)continue;let s;if("decompiledUrl"in o){let a=await o.compiledPositionFor(i,new Bt(e.lineNumber,e.columnNumber));if(!a)continue;s=a.map(c=>({lineNumber:c.base1.lineNumber,columnNumber:c.base1.columnNumber,source:n}))}else{let a=this.sourceMapFactory.guardSourceMapFn(o,()=>SH(i,e,o),$1);if(!a)continue;let{lineNumber:c,columnNumber:u}=iM({lineNumber:a.line||1,columnNumber:(a.column||0)+1},n.inlineScriptOffset),l={lineNumber:c,columnNumber:u,source:n};s=[l,...await this.getCompiledLocations(l)]}t=t.concat(s)}return t}async getOptiminalOriginalPosition(e,t){if(cA(e))return await e.originalPositionFor(new Bt(t.lineNumber,t.columnNumber));let n=this.sourceMapFactory.guardSourceMapFn(e,()=>{let i=e.originalPositionFor({line:t.lineNumber,column:t.columnNumber-1,bias:Zi});return i.line!==null?i:e.originalPositionFor({line:t.lineNumber,column:t.columnNumber-1,bias:Ru})},$1);if(!(n.column===null||n.line===null||n.source===null))return{position:new Hi(n.line,n.column),url:n.source}}async addSource(e,t,n,i,o,s){let a=await this.sourcePathResolver.urlToAbsolutePath({url:e.url});this.logger.verbose("runtime.sourcecreate","Creating source from url",{inputUrl:e.url,absolutePath:a});let c;return e.scriptLanguage==="WebAssembly"?c=new XH(this,e,a):c=new mc(this,e.url,a,t,n&&this.sourcePathResolver.shouldResolveSourceMap({sourceMapUrl:n,compiledPath:a||e.url})?{sourceMapUrl:n,compiledPath:a||e.url,cacheKey:e.hash}:void 0,i,o,s),this._addSource(c),c}async _addSource(e){let t=e.url&&this._sourceByOriginalUrl.get(e.url);t&&!k1(t,e)&&this.removeSource(t,!0),this._sourceByOriginalUrl.set(e.url,e),this._sourceByReference.set(e.sourceReference,e),e instanceof Dt&&this._sourceMapSourcesByUrl.set(e.url,e);let n=this._sourceByAbsolutePath.get(e.absolutePath);(n===void 0||n.url.length>=e.url.length||k1(n,e))&&this._sourceByAbsolutePath.set(e.absolutePath,e),this.scriptSkipper.initializeSkippingValueForSource(e),e.sendLazy||this.emitLoadedSource(e),hc(e)?this._finishAddSourceWithSourceMap(e):gc(e)&&this._finishAddSourceWithWasm(e)}async _finishAddSourceWithWasm(e){let t=await this.wasmSymbols.loadWasmSymbols(e.event),n=[];for(let i of t.files){let o=await this.sourcePathResolver.urlToAbsolutePath({url:i}),s=o?We(o):i;this.logger.verbose("runtime.sourcecreate","Creating wasm source from source map",{inputUrl:i,absolutePath:o,resolvedUrl:s});let a=o&&We(o),c=i===t.decompiledUrl?()=>t.getDisassembly():()=>a?this.resourceProvider.fetch(a).then(l=>l.body):Promise.resolve(`Could not read ${i}`),u=new Dt(this,s,o,c);u.compiledToSourceUrl.set(e,i),e.sourceMap.sourceByUrl.set(i,u),n.push(this._addSource(u))}await Promise.all(n),e.sourceMap.value.resolve(t)}async _finishAddSourceWithSourceMap(e){let t=e.sourceMap.value,n;try{n=await this.sourceMapFactory.load(e.sourceMap.metadata)}catch(i){if(this.initializeConfig.clientID==="visualstudio"){let o=e.sourceMap.metadata.sourceMapUrl;try{let s=await this.sourcePathResolver.urlToAbsolutePath({url:o});s&&(e.sourceMap.metadata.sourceMapUrl=We(s)),n=await this.sourceMapFactory.load(e.sourceMap.metadata),this._statistics.fallbackSourceMapCount++,this.logger.info("sourcemap.parsing","Failed to process original source-map; falling back to storage source-map",{fallbackSourceMapUrl:e.sourceMap.metadata.sourceMapUrl,originalSourceMapUrl:o,originalSourceMapError:DA(i)})}catch{}}if(n===void 0)return this._dap.output({output:mH(e.url,i.message).error.format+`
`,category:"stderr"}),t.resolve(void 0)}if(this._sourceByReference.get(e.sourceReference)!==e)return t.resolve(void 0);this.logger.verbose("sourcemap.parsing","Creating sources from source map",{sourceMapId:n.id,metadata:n.metadata});try{await this._addSourceMapSources(e,n)}finally{t.resolve(n)}this.scriptSkipper.initializeSkippingValueForSource(e)}removeSource(e,t=!1){let n=this._sourceByReference.get(e.sourceReference);if(n!==void 0){if(this.logger.assert(e===n,"Expected source to be the same as the existing reference"),this._sourceByReference.delete(e.sourceReference),this._sourceByOriginalUrl.get(e.url)===e&&this._sourceByOriginalUrl.delete(e.url),e instanceof Dt){this._sourceMapSourcesByUrl.delete(e.url);for(let[i,o]of e.compiledToSourceUrl)i.sourceMap.sourceByUrl.delete(o)}this._sourceByAbsolutePath.delete(e.absolutePath),Nr(e)&&(this._permanentlyDisabledSourceMaps.delete(e),this._temporarilyDisabledSourceMaps.delete(e)),!t&&e.hasBeenAnnounced&&e.toDap().then(i=>this._dap.loadedSource({reason:"removed",source:i})),gc(e)&&e.sourceMap.value.promise.then(i=>i?.dispose()),Nr(e)&&this._removeSourceMapSources(e,t)}}emitLoadedSource(e){return e.hasBeenAnnounced=!0,e.toDap().then(t=>this._dap.loadedSource({reason:"new",source:t}))}async _addSourceMapSources(e,t){let n=[];for(let i of t.sources){if(i===null)continue;let o=await this.sourcePathResolver.urlToAbsolutePath({url:i,map:t}),s=o?We(o):t.computedSourceUrl(i),a=this._sourceMapSourcesByUrl.get(s);if(e===a)continue;if(a)if(iee(e.url))this.removeSource(a);else{a.compiledToSourceUrl.set(e,i),e.sourceMap.sourceByUrl.set(i,a);continue}this.logger.verbose("runtime.sourcecreate","Creating source from source map",{inputUrl:i,sourceMapId:t.id,absolutePath:o,resolvedUrl:s});let c=o&&We(o),u=this.sourceMapFactory.guardSourceMapFn(t,()=>t.sourceContentFor(i),()=>null),l;if(u){let d=ju(u);if(d&&(!mr(d)&&o?l=Os(o?We(o):i,d):l=d),o&&l){let h={sourceMapUrl:l,compiledPath:o};this.sourcePathResolver.shouldResolveSourceMap(h)||(l=void 0)}}let p=new Dt(this,s,o,u!==null?()=>Promise.resolve(u):c?()=>this.resourceProvider.fetch(c).then(d=>d.body):()=>e.content(),l?{compiledPath:o||s,sourceMapUrl:l,cacheKey:t.metadata.cacheKey}:void 0,void 0,e.runtimeScriptOffset);p.compiledToSourceUrl.set(e,i),e.sourceMap.sourceByUrl.set(i,p),n.push(this._addSource(p))}await Promise.all(n)}_removeSourceMapSources(e,t){for(let n of e.sourceMap.sourceByUrl.keys()){let i=e.sourceMap.sourceByUrl.get(n);i&&(e.sourceMap.sourceByUrl.delete(n),i.compiledToSourceUrl.delete(e),!i.compiledToSourceUrl.size&&this.removeSource(i,t))}}async waitForSourceMapSources(e){return Nr(e)?[...(await Cf.waitForSources(e.sourceMap)).values()]:[]}async revealUiLocation(e){this._dap.revealLocationRequested({source:await e.source.toDap(),line:e.lineNumber,column:e.columnNumber})}disableSourceMapForSource(e,t=!1){t?this._permanentlyDisabledSourceMaps.add(e):this._temporarilyDisabledSourceMaps.add(e)}clearDisabledSourceMaps(e){e?this._temporarilyDisabledSourceMaps.delete(e):this._temporarilyDisabledSourceMaps.clear()}};ir=E([(0,Bn.injectable)(),H(0,(0,Bn.inject)(Vr)),H(1,(0,Bn.inject)(oo)),H(2,(0,Bn.inject)(ie)),H(3,(0,Bn.inject)(Ne)),H(4,(0,Bn.inject)(Xr)),H(5,(0,Bn.inject)(tt)),H(6,(0,Bn.inject)(Vs)),H(7,(0,Bn.inject)(ic)),H(8,(0,Bn.inject)(hy))],ir);var M1=r=>r.originalPosition.columnNumber===1&&r.originalPosition.lineNumber===1,O1=500,N1=Symbol("DontCompare");var Un=class{constructor(e,t,n,i,o,s,a){this.logger=n;this.launchConfig=i;this.conditionFactory=o;this.suggester=s;this._breakpointsPredictor=a;this._resolvedBreakpoints=new Map;this._totalBreakpointsCount=0;this._launchBlocker=new Set;this._predictorDisabledForTest=!1;this._breakpointsStatisticsCalculator=new BH;this.entryBreakpointMode=0;this._enabledFilter=()=>!0;this._byDapId=new Map;this._byPath=ac();this._byRef=new Map;this.moduleEntryBreakpoints=ac();this._dap=e,this._sourceContainer=t,a?.onLongParse(()=>e.longPrediction({})),t.onScript(c=>{c.source.then(u=>{let l=this._thread;l&&this._byRef.get(u.sourceReference)?.forEach(p=>p.updateForNewLocations(l,c))})}),t.onSourceMappedSteppingChange(()=>{if(this._thread)for(let c of this._byDapId.values())c.refreshUiLocations(this._thread)}),this._scriptSourceMapHandler=async(c,u)=>{if(!n.assert(this._thread,"Expected thread to be set for the breakpoint source map handler"))return[];let l=[],p=[u];for(let d=0;d<p.length;d++)for(let h of p[d]){let f=h.absolutePath,g=f?this._byPath.get(f):void 0;for(let S of g||[])l.push(S.updateForNewLocations(this._thread,c));let v=this._byRef.get(h.sourceReference);for(let S of v||[])l.push(S.updateForNewLocations(this._thread,c));h.sourceMap&&p.push(h.sourceMap.sourceByUrl.values())}return Bo(await Promise.all(l))}}get appliedByPath(){return this._byPath}get appliedByRef(){return this._byRef}hasAtLocation(e){let t=this._byPath.get(e.source.absolutePath)||[],n=this._byRef.get(e.source.sourceReference)||[];return t.concat(n).some(i=>i.originalPosition.columnNumber===e.columnNumber&&i.originalPosition.lineNumber===e.lineNumber)}async moveBreakpoints(e,t,n,i){let o=l=>xT(l,async p=>{let d=await this._sourceContainer.getOptiminalOriginalPosition(n,p.originalPosition);if(!d)return!1;let h=d.position.base1;return p.updateSourceLocation(e,{path:i.absolutePath,sourceReference:i.sourceReference},{lineNumber:h.lineNumber,columnNumber:h.columnNumber,source:i}),!1}),s=t.absolutePath,a=i.absolutePath,c=s?this._byPath.get(s):void 0;if(c&&a){let[l,p]=await o(c);this._byPath.set(s,l),this._byPath.set(a,p)}let u=this._byRef.get(t.sourceReference);if(u){let[l,p]=await o(u);this._byRef.set(t.sourceReference,l),this._byRef.set(i.sourceReference,p)}}async updateEntryBreakpointMode(e,t){if(t===this.entryBreakpointMode)return;let n=[...this.moduleEntryBreakpoints.values()];this.moduleEntryBreakpoints.clear(),this.entryBreakpointMode=t,await Promise.all(n.map(i=>this.ensureModuleEntryBreakpoint(e,i.source)))}async applyEnabledFilter(e,t=N1){if(t!==N1&&this._enabledFilter!==t)return;this._enabledFilter=e||(()=>!0);let n=this._thread;n&&await Promise.all([...this._byDapId.values()].map(i=>this._enabledFilter(i)?i.enable(n):i.disable()))}async getBreakpointLocations(e,t,n,i){let o=n.base1,s=i.base1,[a,c]=await Promise.all([this._sourceContainer.currentSiblingUiLocations({source:t,lineNumber:o.lineNumber,columnNumber:o.columnNumber}),this._sourceContainer.currentSiblingUiLocations({source:t,lineNumber:s.lineNumber,columnNumber:s.columnNumber})]);if(a.length!==c.length)return this.logger.warn("internal","Expected to have the same number of start and end locations"),[];let u=[],l=[];for(let p=0;p<a.length;p++){let d=a[p],h=c[p];if(d.source!==h.source){this.logger.warn("internal","Expected to have the same number of start and end scripts");continue}let f=d.source;if(!f.scripts.length)continue;let{scriptId:g}=f.scripts[f.scripts.length-1];u.push(e.cdp().Debugger.getPossibleBreakpoints({restrictToFunction:!1,start:{scriptId:g,...f.offsetSourceToScript(Jo(d))},end:{scriptId:g,...f.offsetSourceToScript(Jo(h))}}).then(v=>{if(v?.locations)return Promise.all(v.locations.map(async S=>{let{lineNumber:R,columnNumber:F=0}=S,X=await this._sourceContainer.currentSiblingUiLocations({source:f,...f.offsetScriptToSource(sM({lineNumber:R,columnNumber:F}))});l.push({breakLocation:S,uiLocations:X})}))}))}return await Promise.all(u),l}setThread(e){this._thread=e,this._thread.cdp().Debugger.on("breakpointResolved",t=>{let n=this._resolvedBreakpoints.get(t.breakpointId);n&&n.updateUiLocations(e,t.breakpointId,[t.location])}),this._thread.setSourceMapDisabler(t=>{let n=[];for(let i of t){let o=this._resolvedBreakpoints.get(i);if(o){let s=this._sourceContainer.source(o.source);Nr(s)&&n.push(s)}}return n});for(let t of this._byPath.values())t.forEach(n=>this._setBreakpoint(n,e)),this.ensureModuleEntryBreakpoint(e,t[0]?.source);for(let t of this._byRef.values())t.forEach(n=>this._setBreakpoint(n,e));"runtimeSourcemapPausePatterns"in this.launchConfig&&this.launchConfig.runtimeSourcemapPausePatterns.length&&this.setRuntimeSourcemapPausePatterns(e,this.launchConfig.runtimeSourcemapPausePatterns),this._byDapId.size>0&&this._installSourceMapHandler(this._thread)}async launchBlocker(){OH(this.logger,"BreakpointManager.launchBlocker",async()=>{this._predictorDisabledForTest||await Promise.all([...this._launchBlocker])})}setRuntimeSourcemapPausePatterns(e,t){return Promise.all(t.map(n=>this._setBreakpoint(new Mf(this,n),e)))}addLaunchBlocker(...e){for(let t of e)this._launchBlocker.add(t),t.finally(()=>this._launchBlocker.delete(t))}setPredictorDisabledForTest(e){this._predictorDisabledForTest=e}_installSourceMapHandler(e){let t=this.launchConfig.perScriptSourcemaps==="yes",n;t?n=Promise.all([this.updateEntryBreakpointMode(e,1),e.setScriptSourceMapHandler(!1,this._scriptSourceMapHandler)]).then(()=>!0):this._breakpointsPredictor&&!this.launchConfig.pauseForSourceMap?n=e.setScriptSourceMapHandler(!1,this._scriptSourceMapHandler):n=e.setScriptSourceMapHandler(!0,this._scriptSourceMapHandler),this._sourceMapHandlerInstalled={entryBpSet:n}}async _uninstallSourceMapHandler(e){e.setScriptSourceMapHandler(!1),this._sourceMapHandlerInstalled=void 0}_setBreakpoint(e,t){this._enabledFilter(e)&&this.addLaunchBlocker(Promise.race([De(O1),e.enable(t)]))}async setBreakpoints(e,t){!this._sourceMapHandlerInstalled&&this._thread&&e.breakpoints?.length&&this._installSourceMapHandler(this._thread);let n=await this._sourceMapHandlerInstalled?.entryBpSet;e.source.path=hi(e.source.path);let i=this._sourceContainer.source(e.source);if(!n&&this._breakpointsPredictor&&!i){let l=this._breakpointsPredictor.predictBreakpoints(e);this.addLaunchBlocker(l),await l}let o=this._thread;if(o?.debuggerReady.hasSettled()===!1){let l=o.debuggerReady.promise;this.addLaunchBlocker(l),await l}let s=l=>{let p={unbound:l.slice(),new:[],list:[]};if(!e.breakpoints)return p;for(let d=0;d<e.breakpoints.length;d++){let h=e.breakpoints[d],f;try{f=new On(this,t[d],e.source,h,this.conditionFactory.getConditionFor(h))}catch(S){if(!(S instanceof K))throw S;this._dap.output({category:"stderr",output:S.message}),f=new ny(this,t[d],e.source,h)}let g=p.unbound.findIndex(S=>S.equivalentTo(f)),v=p.unbound[g];v?.equivalentTo?.(f)?(p.list.push(v),p.unbound.splice(g,1)):(p.new.push(f),p.list.push(f),this._byDapId.set(f.dapId,f))}return p},a=()=>e.source.sourceReference?this._byRef.get(e.source.sourceReference):e.source.path?this._byPath.get(e.source.path):void 0,c=s(a()??[]);if(e.source.sourceReference)this._byRef.set(e.source.sourceReference,c.list);else if(e.source.path)this._byPath.set(e.source.path,c.list);else return{breakpoints:[]};if(c.unbound.length===0&&c.new.length===0)return{breakpoints:[]};if(this._totalBreakpointsCount-=c.unbound.length,await Promise.all(c.unbound.map(l=>(this._byDapId.delete(l.dapId),l.disable()))),this._totalBreakpointsCount+=c.new.length,this._thread&&(this._totalBreakpointsCount===0&&this._sourceMapHandlerInstalled?this._uninstallSourceMapHandler(this._thread):this._totalBreakpointsCount>0&&!this._sourceMapHandlerInstalled&&this._installSourceMapHandler(this._thread)),o&&c.new.length){this.ensureModuleEntryBreakpoint(o,e.source);let l=a(),p=Promise.all(c.new.filter(this._enabledFilter).filter(d=>l?.includes(d)).map(d=>d.enable(o)));this.addLaunchBlocker(Promise.race([De(O1),p])),await p}let u=await Promise.all(c.list.map(l=>l.toDap()));return this._breakpointsStatisticsCalculator.registerBreakpoints(u),De(0).then(()=>c.new.forEach(l=>l.markSetCompleted())),{breakpoints:u}}async notifyBreakpointChange(e,t){if(!this._byDapId.has(e.dapId))return;let n=await e.toDap();n.verified&&(this._breakpointsStatisticsCalculator.registerResolvedBreakpoint(e.dapId),this.suggester.notifyVerifiedBreakpoint()),t&&this._dap.breakpoint({reason:"changed",breakpoint:n})}isEntrypointBreak(e,t){return[...this.moduleEntryBreakpoints.values()].some(i=>i.enabled&&i.cdpScriptIds.has(t))?!0:e.some(i=>{let o=this._resolvedBreakpoints.get(i);return o&&(o instanceof co||M1(o))})}isEntrypointCdpBreak(e){return this._resolvedBreakpoints.get(e)instanceof co}async shouldPauseAt(e,t,n,i=!1){if(!t.length)return e.reason!=="instrumentation";let o=0,s=i?1:0;return await Promise.all(t.map(async a=>{if(n?.cdpId===a){o++;return}let c=this._resolvedBreakpoints.get(a);if(c instanceof co){this.entryBreakpointMode===0&&!(c instanceof Mf)&&c.disable(),s++;return}c instanceof On&&(await c.testHitCondition(e)?o++:s++)})),o>0||s===0}registerBreakpointsHit(e){for(let t of e){let n=this._resolvedBreakpoints.get(t);n instanceof On&&this._breakpointsStatisticsCalculator.registerBreakpointHit(n.dapId)}}statisticsForTelemetry(){return this._breakpointsStatisticsCalculator.statistics()}ensureModuleEntryBreakpoint(e,t){if(!t.path||(this._byPath.get(t.path)??[]).some(M1))return;let i=co.getModeKeyForSource(this.entryBreakpointMode,t.path);if(!t.path||this.moduleEntryBreakpoints.has(i))return;let o=new co(this,t,this.entryBreakpointMode);this.moduleEntryBreakpoints.set(t.path,o),this._setBreakpoint(o,e)}executionContextWasCleared(){for(let e of this._byDapId.values())e.executionContextWasCleared()}async reapply(){let e=[...this._byDapId.values()];if(await Promise.all(e.map(t=>t.disable())),this._thread){let t=this._thread;await Promise.all(e.map(n=>n.enable(t)))}}};Un=E([(0,mo.injectable)(),H(0,(0,mo.inject)(Vr)),H(1,(0,mo.inject)(ir)),H(2,(0,mo.inject)(ie)),H(3,(0,mo.inject)(Ne)),H(4,(0,mo.inject)(ZH)),H(5,(0,mo.inject)(bt)),H(6,(0,mo.inject)(pc))],Un);var ZO=require("crypto"),_l=w(V());var ot=class r{static{this.Undefined=new r(void 0)}constructor(e){this.element=e,this.next=r.Undefined,this.prev=r.Undefined}},Ff=class{constructor(){this._first=ot.Undefined;this._last=ot.Undefined;this._size=0}get size(){return this._size}isEmpty(){return this._first===ot.Undefined}clear(){let e=this._first;for(;e!==ot.Undefined;){let t=e.next;e.prev=ot.Undefined,e.next=ot.Undefined,e=t}this._first=ot.Undefined,this._last=ot.Undefined,this._size=0}unshift(e){return this._insert(e,!1)}push(e){return this._insert(e,!0)}_insert(e,t){let n=new ot(e);if(this._first===ot.Undefined)this._first=n,this._last=n;else if(t){let o=this._last;this._last=n,n.prev=o,o.next=n}else{let o=this._first;this._first=n,n.next=o,o.prev=n}this._size+=1;let i=!1;return()=>{i||(i=!0,this._remove(n))}}shift(){if(this._first!==ot.Undefined){let e=this._first.element;return this._remove(this._first),e}}pop(){if(this._last!==ot.Undefined){let e=this._last.element;return this._remove(this._last),e}}applyFilter(e){let t=this._first;for(;t!==ot.Undefined;){let n=t.next;e(t.element)||this._remove(t),t=n}}_remove(e){if(e.prev!==ot.Undefined&&e.next!==ot.Undefined){let t=e.prev;t.next=e.next,e.next.prev=t}else e.prev===ot.Undefined&&e.next===ot.Undefined?(this._first=ot.Undefined,this._last=ot.Undefined):e.next===ot.Undefined?(this._last=this._last.prev,this._last.next=ot.Undefined):e.prev===ot.Undefined&&(this._first=this._first.next,this._first.prev=ot.Undefined);this._size-=1}*[Symbol.iterator](){let e=this._first;for(;e!==ot.Undefined;)yield e.element,e=e.next}};var Ty=w(V()),XO=w(require("net"));var mn=class extends K{constructor(e){super({id:9243,format:e,showUser:!0}),this._cause={id:9243,format:e,showUser:!0}}};function ho(r,e,t){if(e.isCancellationRequested)return Promise.reject(new mn(t||"Task cancelled"));let n=Ge(),i=e.onCancellationRequested(n.resolve);return Promise.race([n.promise.then(()=>{throw new mn(t||"Task cancelled")}),r.then(o=>(i.dispose(),o)).catch(o=>{throw i.dispose(),o})])}function F1(r,e){let t=new Xt(e),n=r.map(async i=>{try{return await i(t.token)}finally{t.cancel()}});return Promise.race(n)}var B1=Object.freeze(function(r,e){let t=setTimeout(r.bind(e),0);return{dispose(){clearTimeout(t)}}}),or=Object.freeze({isCancellationRequested:!1,onCancellationRequested:()=>({dispose:()=>{}})}),see=Object.freeze({isCancellationRequested:!0,onCancellationRequested:B1}),Xt=class r{constructor(e){this._token=void 0;this._parentListener=void 0;this._parentListener=e&&e.onCancellationRequested(this.cancel,this)}static withTimeout(e,t){let n=new r(t),i=n._token=new yl,o=setTimeout(()=>i.cancel(),e);return i.onCancellationRequested(()=>clearTimeout(o)),n}get token(){return this._token||(this._token=new yl),this._token}cancel(){this._token?this._token instanceof yl&&this._token.cancel():this._token=see}dispose(e=!1){e&&this.cancel(),this._parentListener&&this._parentListener.dispose(),this._token?this._token instanceof yl&&this._token.dispose():this._token=or}},yl=class{constructor(){this._isCancelled=!1;this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?B1:(this._emitter||(this._emitter=new U),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}};var oS=w(require("net"));var vte=w(q1(),1),xte=w(zA(),1),wte=w(XA(),1),jO=w(rS(),1),iS=w(UO(),1);var WO=jO.default;var qO=(r,e)=>r+Math.floor(Math.random()*(e-r));async function Xs({min:r=53e3,max:e=54e3,attempts:t=1e3,tester:n=GO}={},i=or){let o=qO(r,e);for(let s=Math.min(t,e-r);;s--)try{return await n(o,i)}catch(a){if(s===0||a instanceof mn)throw a;o=o===e-1?r:o+1}}async function VO(r,e){try{return await GO(r,e),!0}catch{return!1}}function GO(r,e=or){let t;return new Promise((n,i)=>{let o=oS.createServer();o.listen(r,"127.0.0.1",()=>{let s=o.address();o.close(()=>n(s.port))}),o.on("error",i),t=e.onCancellationRequested(()=>{o.close(),i(new mn("Port open lookup cancelled"))})}).finally(()=>t?.dispose())}var zO=(r,e)=>(t,n)=>{let i=oS.createServer(r);return i.listen(t,e),Cy(i,n)},KO=r=>(e,t)=>Cy(new iS.default({host:"127.0.0.1",...r,port:e}),t),Cy=(r,e)=>{let t;return new Promise((n,i)=>{r.on("error",i),r.on("listening",()=>n(r)),t=e.onCancellationRequested(()=>{r.close(),i(new mn("Port open lookup cancelled"))})}).finally(()=>t?.dispose())};var JO=async(r,e,t,n,i=or)=>{let o=t?await Cy(XO.createServer(e).listen(t,n),i):await Xs({tester:zO(e,n)},i),s=r.register(o.address().port);return o.on("close",()=>s.dispose()),o.on("error",()=>s.dispose()),o},Ly=async(r,e,t)=>{let n=await Xs({tester:KO(e)},t),i=r.register(n.address().port);return n.on("close",()=>i.dispose()),n.on("error",()=>i.dispose()),n},dt=Symbol("IPortLeaseTracker"),wl=class{constructor(e){this.usedPorts=new Set;this.onRegistered=new U;this.isMandated=e==="remote"}register(e){return this.usedPorts.add(e),this.onRegistered.fire(e),{dispose:()=>this.usedPorts.delete(e)}}isRegistered(e,t=2e3){return this.usedPorts.has(e)?Promise.resolve(!0):e<53e3||e>=54e3?Promise.resolve(!1):F1([()=>De(t).then(()=>!1),n=>new Promise(i=>{let o=this.onRegistered.event(s=>{s===e&&i(!0)});n.onCancellationRequested(()=>o.dispose())})])}};wl=E([(0,Ty.injectable)(),H(0,(0,Ty.inject)(Zo))],wl);var YO="JsDebug",QO="*";var sS=class{constructor(){this.replays=new Map}addReplay(e,t,n){let i=this.replays.get(e);return i||(i=new Ff,this.replays.set(e,i)),i.push({event:`${e}.${t}`,params:n})}capture(e,t,n,i){let o=e[t];if(i===0)o.on(n,s=>this.addReplay(t,n,s));else if(i===2){let s;o.on(n,a=>{s?.(),s=this.addReplay(t,n,a)})}else{let s=new Ff;o.on(n,a=>{s.size===i.cap&&s.shift()?.(),s.push(this.addReplay(t,n,a))})}}filter(e,t){let n=this.replays.get(e);n&&n.applyFilter(t)}clearEvent(e,t){let n=`${e}.${t}`;this.filter(e,i=>i.event!==n)}clearDomain(e){this.replays.delete(e)}read(e){return this.replays.get(e)??[]}},Dy=Symbol("ICdpProxyProvider"),Il=class{constructor(e,t,n){this.cdp=e;this.portTracker=t;this.logger=n;this.disposables=new Ce;this.replay=new sS;this.jsDebugApi={subscribe:(e,{events:t})=>{for(let n of t)n.endsWith(QO)?e.pushDisposable(this.cdp.session.onPrefix(n.slice(0,-QO.length),i=>e.send({method:i.method,params:i.params}))):e.pushDisposable(this.cdp.session.on(n,i=>e.send({method:n,params:i})));return{}}};this.replay.capture(e,"CSS","styleSheetAdded",0),this.replay.capture(e,"Debugger","paused",2),this.replay.capture(e,"Runtime","executionContextCreated",{cap:50,type:1}),this.replay.capture(e,"Runtime","consoleAPICalled",{cap:50,type:1}),e.Debugger.on("resumed",()=>{this.replay.clearEvent("Debugger","paused")}),e.CSS.on("fontsUpdated",i=>{i.font&&this.replay.addReplay("CSS","fontsUpdated",i)}),e.CSS.on("styleSheetRemoved",i=>this.replay.filter("CSS",o=>o.params.styleSheetId!==i.styleSheetId))}async proxy(){this.server||(this.server=this.createServer());let{server:e,path:t}=await this.server,n=e.address();return{host:n.address,port:n.port,path:t}}async createServer(){let e=`/${(0,ZO.randomBytes)(20).toString("hex")}`,t=await Ly(this.portTracker,{perMessageDeflate:!0,path:e});return this.logger.info("proxyActivity","activated cdp proxy"),t.on("connection",n=>{let i=new aS(n,this.logger);this.logger.info("proxyActivity","accepted proxy connection",{id:i.id}),n.on("close",()=>{this.logger.verbose("proxyActivity","closed proxy connection",{id:i.id}),this.disposables.disposeObject(i)}),n.on("message",async o=>{let s;try{s=JSON.parse(o.toString())}catch(d){return i.send({id:0,error:{code:-32700,message:d.message}})}this.logger.verbose("proxyActivity","received proxy message",s);let{method:a,params:c,id:u=0}=s,[l,p]=a.split(".");try{let d=l===YO?await this.invokeJsDebugDomainMethod(i,p,c):await this.invokeCdpMethod(i,l,p,c);i.send({id:u,result:d})}catch(d){let h=d instanceof dc&&d.cause?d.cause:{code:0,message:d.message};i.send({id:u,error:h})}})}),{server:t,path:e}}dispose(){this.disposables.dispose(),this.server?.then(e=>e.server.close()),this.server=void 0}invokeCdpMethod(e,t,n,i){let o=this.cdp.session.sendOrDie(`${t}.${n}`,i);switch(n){case"enable":for(let s of this.replay.read(t))e.send({method:s.event,params:s.params});break;case"disable":this.replay.clearDomain(t);break;default:}return o}invokeJsDebugDomainMethod(e,t,n){if(!this.jsDebugApi.hasOwnProperty(t))throw new dc(t).setCause(-32601,`${YO}.${t} not found`);return this.jsDebugApi[t](e,n)}};Il=E([(0,_l.injectable)(),H(0,(0,_l.inject)(Ht)),H(1,(0,_l.inject)(dt)),H(2,(0,_l.inject)(ie))],Il);var Ate=0,aS=class{constructor(e,t){this.webSocket=e;this.logger=t;this.disposables=new Ce;this.id=Ate++}pushDisposable(e){this.disposables.push(e)}dispose(){this.disposables.dispose(),this.webSocket.close()}send(e){this.logger.verbose("proxyActivity","send proxy message",e),this.webSocket.send(JSON.stringify(e))}};var tN=require("./vendor/acorn-loose.js"),Jf=w(V());var cS=rr(function(r,e,t){let n=t?"variable":"property",i=(l,p,d)=>{if(p!=="function")return n;if(l==="constructor")return"class";let h=String(d);return h.startsWith("class ")||h.includes("[native code]")&&/^[A-Z]/.test(l)?"class":t?"function":"method"},o=l=>{switch(typeof l){case"number":case"boolean":return`${l}`;case"object":return l===null?"null":l.constructor.name||"object";case"function":return`fn(${new Array(l.length).fill("?").join(", ")})`;default:return typeof l}},s=[],a=new Set,c="~",u=r===void 0?this:r;for(;u!=null;u=u.__proto__){c+="~";let l=Object.getOwnPropertyNames(u).filter(p=>p.startsWith(e)&&!p.match(/^\d+$/));for(let p of l){if(a.has(p))continue;a.add(p);let d=Object.getOwnPropertyDescriptor(u,p),h=n,f;try{let g=u[p];h=i(p,typeof d?.value,g),f=o(g)}catch{}s.push({label:p,sortText:c+p.replace(/^_+/,g=>"{".repeat(g.length)),type:h,detail:f})}t=!1}return{result:s,isArray:this instanceof Array}}),eN=sc(cS.source);var Ste=r=>{switch(r.type){case"ClassDeclaration":case"ClassExpression":return{type:"class",id:r.id};case"MethodDefinition":return{type:r.key?.type==="Identifier"&&r.key.name==="constructor"?"constructor":"method",id:r.key};case"VariableDeclarator":return{type:r.init?.type==="FunctionExpression"||r.init?.type==="ArrowFunctionExpression"?"function":"variable",id:r.id}}};function Ete(r){let e=!1;return Rs(r,{enter(t){if(t.type==="CallExpression"||t.type==="NewExpression"||t.type==="UnaryExpression"&&t.operator==="delete"||t.type==="ClassBody")return e=!0,0}}),e}var $y=Symbol("ICompletions"),Al=class{constructor(e,t){this.evaluator=e;this.cdp=t}async completions(e){let t=ro(e.expression),n=new Fs(e.expression).convert(e.position),i=()=>Promise.resolve([]);return Rs(t,{enter:(o,s)=>{let a=o;if(a.start<n&&n<=a.end){if(o.type==="MemberExpression"||o.type==="Identifier"&&s?.type==="MemberExpression"&&!s.computed&&s.object!==o){let c=o.type==="MemberExpression"?o:s;i=c.computed?()=>this.elementAccessCompleter(e,c,n):()=>this.propertyAccessCompleter(e,c,n)}else o.type==="Identifier"&&(i=()=>this.identifierCompleter(e,t,o,n));s=o}}}),i().then(o=>o.sort((s,a)=>s.sortText>a.sortText?1:-1))}async elementAccessCompleter(e,t,n){if(t.property.type!=="Literal"||typeof t.property.value!="string")return[];let i=e.expression.slice(ks(t.property)+1,n);return(await this.defaultCompletions(e,i)).filter(s=>s.sortText!=="~~[").map(s=>({...s,text:JSON.stringify(s.text??s.label)+"]",start:ks(t.property),length:X_(t.property)-ks(t.property)}))}async identifierCompleter(e,t,n,i){let o=[];Rs(t,{enter(c){let u=Ste(c);u?.id?.type==="Identifier"&&o.push({label:u.id.name,type:u.type,sortText:u.id.name})}});let s=e.expression.slice(ks(n),i),a=[...o,...await this.defaultCompletions(e,s)];return this.evaluator.hasReturnValue&&e.executionContextId!==void 0&&Yo.startsWith(s)&&a.push({sortText:`~${Yo}`,label:Yo,type:"variable"}),a}async propertyAccessCompleter(e,t,n){let{result:i,isArray:o}=await this.completePropertyAccess({executionContextId:e.executionContextId,stackFrame:e.stackFrame,expression:pR(e.expression,t.object),prefix:(0,tN.isDummy)(t.property)?"":e.expression.slice(ks(t.property),n),throwOnSideEffect:Ete(t)}),s=ks(t.property)-1,a=/^[$a-z_][0-9a-z_$]*$/i;for(let c of i)a.test(c.label)||(c.text=`[${JSON.stringify(c.label)}]`,c.start=s,c.length=1);if(o){let c="index";i.unshift({label:`[${c}]`,text:`[${c}]`,type:"property",sortText:"~~[",start:s,selectionStart:1,selectionLength:c.length,length:1})}return i}async completePropertyAccess({executionContextId:e,stackFrame:t,expression:n,prefix:i,isInGlobalScope:o=!1,throwOnSideEffect:s=!1}){let a={expression:`(${n})`,objectGroup:"console",silent:!0,throwOnSideEffect:s},c=t&&t.callFrameId(),u=await this.evaluator.evaluate(c?{...a,callFrameId:c}:{...a,contextId:e},{stackFrame:t});if(!u||u.exceptionDetails)return{result:[],isArray:!1};if(!u.result.objectId){let l={...a,returnByValue:!0,throwOnSideEffect:!1,expression:eN.expr(`(${n})`,JSON.stringify(i),JSON.stringify(o))},p=await this.evaluator.evaluate(c?{...l,callFrameId:c}:{...l,contextId:e});return!p||p.exceptionDetails?{result:[],isArray:!1}:p.result.value}try{return(await cS({cdp:this.cdp,args:[void 0,i,o],objectId:u.result.objectId,returnByValue:!0})).value}catch{return{result:[],isArray:!1}}finally{this.cdp.Runtime.releaseObject({objectId:u.result.objectId})}}async defaultCompletions(e,t=""){for(let n of["self","global","this"]){let{result:i}=await this.completePropertyAccess({executionContextId:e.executionContextId,stackFrame:e.stackFrame,expression:n,prefix:t,isInGlobalScope:!0});if(e.stackFrame){let o=t.toLowerCase(),s=new Set(i.map(a=>a.label));for(let a of await e.stackFrame.completions())s.has(a.label)||!a.label.toLowerCase().includes(o)||(s.add(a.label),i.push(a))}return i.push(...this.syntheticCompletions(e,t)),i}return this.syntheticCompletions(e,t)}syntheticCompletions(e,t){return this.evaluator.hasReturnValue&&Yo.startsWith(t)?[{sortText:`~${Yo}`,label:Yo,type:"variable"}]:[]}};Al=E([(0,Jf.injectable)(),H(0,(0,Jf.inject)(Mn)),H(1,(0,Jf.inject)(Ht))],Al);var Uy=w(we());var Ho=class{constructor(e,t){this._tokens=[];this._separator=t||"",this._budget=e-1-this._separator.length}append(e){if(e.length>this.budget()){this.appendEllipsis();return}this._append(e)}_append(e){this._tokens.length&&(this._budget-=this._separator.length),this._tokens.push(e),this._budget-=e.length}appendEllipsis(){this._tokens[this._tokens.length-1]!=="\u2026"&&this._append("\u2026")}checkBudget(){return this._budget<=0&&this.appendEllipsis(),this._budget>0}budget(){return this._budget-(this._tokens.length?this._separator.length:0)}build(){return this._tokens.join(this._separator)}isEmpty(){return!this._tokens.length}};var AN=w(IN());var Wte=1e4;function qte(r,e){if(!r.includes("%"))return[{type:"string",value:r}];let t=[];function n(c){if(!c)return;let u=t[t.length-1];u?.type==="string"?u.value+=c:t.push({type:"string",value:c})}function i(c,u,l){t.push({type:"specifier",specifier:c,precision:u,substitutionIndex:l})}let o=0,s=0,a=new RegExp(`%%|%(?:(\\d+)\\$)?(?:\\.(\\d*))?([${e.join("")}])`,"g");for(let c=a.exec(r);c;c=a.exec(r)){let u=c.index;if(u>o&&n(r.substring(o,u)),c[0]==="%%")n("%");else{let[,l,p,d]=c;l&&Number(l)>0&&(s=Number(l)-1);let h=p?Number(p):void 0;i(d,h,s),++s}o=u+c[0].length}return n(r.substring(o)),t}function fS(r,e,t){let n=qte(r,Array.from(t.keys())),i=new Set,o=t.get("");if(!o)throw new Error("Expected to hav a default formatter");let s=new Ho(Wte),a=!1;for(let c=0;s.checkBudget()&&c<n.length;++c){let u=n[c];if(u.type==="string"){s.append(u.value);continue}let l=u.substitutionIndex;if(l>=e.length){s.append("%"+(u.precision||"")+u.specifier);continue}i.add(l),u.specifier==="c"&&(a=!0);let p=t.get(u.specifier)||o;s.append(p(e[l],{budget:s.budget(),quoted:!1}))}a&&s.append("\x1B[0m");for(let c=0;s.checkBudget()&&c<e.length;++c)i.has(c)||(i.add(c),(r||c)&&s.append(" "),s.append(o(e[c],{budget:s.budget(),quoted:!1})));return{result:s.build(),usedAllSubs:i.size===e.length}}function _N(r){try{return new AN.default(r).ansi256().object().ansi256}catch{}}function SN(r){let e=/\s*(.*?)\s*:\s*(.*?)\s*(?:;|$)/g,t="\x1B[0m",n=e.exec(r);for(;n!==null;){if(n.length===3)switch(n[1]){case"color":let i=_N(n[2]);i&&(t+=`\x1B[38;5;${i}m`);break;case"background":case"background-color":let o=_N(n[2]);o&&(t+=`\x1B[48;5;${o}m`);break;case"font-weight":n[2]==="bold"&&(t+="\x1B[1m");break;case"font-style":n[2]==="italic"&&(t+="\x1B[3m");break;case"text-decoration":n[2]==="underline"&&(t+="\x1B[4m");break;default:}n=e.exec(r)}return t}var PN=r=>r.replace(/\\/gm,"\\\\").replace(/\n/gm,"\\n").replace(/\r/gm,"\\r").replace(/\t/gm,"\\t"),Gte={budget:1e5,quoted:!0},EN={budget:1e3,quoted:!0,postProcess:PN},zte={budget:1/0,quoted:!1},Kte={budget:1e3,quoted:!0,postProcess:PN},Xte={budget:1e5,quoted:!0},Ny=r=>{switch(r){case"repl":return Gte;case"hover":return EN;case"propertyValue":return EN;case"watch":return Kte;case"copy":case"clipboard":return zte;default:return Xte}};var Jte=30,Yte=100,mS=20,Qte=1e4,Zte=3,CN=120,hS=new Set(["null","regexp","date"]);function Ac(r){return r.type==="function"||r.type==="object"&&!hS.has(r.subtype)}function gS(r){return r.subtype==="array"||r.subtype==="typedarray"}function Sc(r,e,t){let n=Ny(e),i=Fy(r,n,t);return r.preview?.subtype==="regexp"?i:n.postProcess?.(i)??i}function Fy(r,e,t){return r.type==="function"?r.description?$N(r.description,e.budget):"<function>":r.type==="object"&&r.subtype==="node"?r.description:"preview"in r&&r.preview?By(r.preview,e.budget,t):DN(r,e.budget,e.quoted,t)}function By(r,e,t){return gS(r)?ere(r,e):r.subtype==="internal#entry"?no(r.description||"",e):r.type==="function"?$N(r.description,e):Ac(r)?tre(r,e,t):nre(r,e,t)}function ere(r,e){let t=new Ho(e),n=r.description,i=n.match(/[^(]*\(([\d]+)\)/);if(!i)return n;let o=parseInt(i[1],10);n.startsWith("Array(")&&(n=n.substring(5)),t.append(no(n,t.budget())),t.append(" ");let s=new Ho(t.budget()-2,", "),a=-1;for(let c of r.properties){if(!s.checkBudget())break;if(isNaN(c.name))continue;let u=parseInt(c.name,10);u>a+1&&s.appendEllipsis(),a=u,s.append(em(c,s.budget()))}o>a+1&&s.appendEllipsis();for(let c of r.properties){if(!s.checkBudget())break;isNaN(c.name)&&s.append(em(c,s.budget(),c.name))}return r.overflow&&s.appendEllipsis(),t.append("["+s.build()+"]"),t.build()}function tre(r,e,t){let n=new Ho(e," ");r.description!=="Object"&&n.append(no(r.description,n.budget()));let i=new Map,o=r.properties||[];for(let d of o)i.set(d.name,d);let s=i.get("[[PrimitiveValue]]");if(s)return n.append(`(${em(s,n.budget()-2)})`),n.build();let a=i.get("[[PromiseStatus]]"),c=i.get("[[PromiseValue]]");if(a&&c)return a.value==="pending"?n.append(`{<${a.value}>}`):n.append(`{${em(c,n.budget()-2,`<${a.value}>`)}}`),n.build();let u=i.get("[[GeneratorStatus]]");if(u)return n.append(`{<${u.value}>}`),n.build();let l=new Ho(n.budget()-2,", ");for(let d of o){if(!l.checkBudget())break;l.append(em(d,l.budget(),d.name))}for(let d of r.entries||[]){if(!l.checkBudget())break;if(d.key){let h=By(d.key,Math.min(mS,l.budget()),t),f=By(d.value,Math.min(mS,l.budget()-h.length-4),t);l.append(Pl(h," => ",f,l.budget()))}else l.append(By(d.value,Math.min(mS,l.budget()),t))}r.overflow&&l.appendEllipsis();let p=l.build();return p?n.append("{"+p+"}"):n.isEmpty()&&n.append("{}"),n.build()}function TN(r,e){return r.length<=e?r:"\u2026"}function rre(r,e){return r.length>=e?r.slice(0,e-1)+"\u2026":r}function nre(r,e,t){if(r.type==="object"&&r.subtype==="null")return TN("null",e);if(r.type==="undefined")return TN("undefined",e);if(r.type==="string"){let n=r.description??r.value;return t?.hex&&(n=Buffer.from(n,"utf8").toString("hex")),Wu(n,e)}return r.type==="number"||r.type==="bigint"?tm(r,!1,e,t):rre(r.description||"",e)}function Pl(r,e,t,n){return r===void 0?Wu(t,n):r.length+e.length>n?no(r,n):`${r}${e}${Wu(t,n-r.length-e.length)}`}function em(r,e,t){return e=Math.min(e,Yte),r.type==="function"?Pl(t,": ","\u0192",e):r.type==="object"&&r.value==="Object"?Pl(t,": ","{\u2026}",e):typeof r.value>"u"?Pl(t,": ",`<${r.type}>`,e):r.type==="string"?Pl(t,": ",`'${r.value}'`,e):Pl(t,": ",r.value??"unknown",e)}function DN(r,e,t,n){if(r.type==="string"){let i=r.value||(r.description?r.description:"");n?.hex&&(i=Buffer.from(i,"utf8").toString("hex"),t=!1);let o=Wu(i,t?e-2:e);return t?`'${o}'`:o}return r.type==="undefined"?"undefined":r.subtype==="null"?"null":r.type==="bigint"||r.type==="number"?tm(r,!1,e,n):r.description?no(r.description,Math.max(e,1e5)):no(String("value"in r?r.value:r.description),e)}function $N(r,e){let t=new Ho(e),n=r.replace(/^function [gs]et /,"function ").replace(/^function [gs]et\(/,"function(").replace(/^[gs]et /,""),i=n.match(/^(async\s+function)/),o=n.startsWith("function*"),s=n.startsWith("*"),a=!o&&n.startsWith("function"),c=n.startsWith("class ")||n.startsWith("class{"),u=n.indexOf("=>"),l=!i&&!o&&!a&&!c&&u>0,p;if(c){p=n.substring(5);let f=/^[^{\s]+/.exec(p.trim()),g="";f&&(g=f[0].trim()||""),h("class",p,g)}else if(i)p=n.substring(i[1].length),h("async \u0192",p,d(p));else if(o)p=n.substring(9),h("\u0192*",p,d(p));else if(s)p=n.substring(1),h("\u0192*",p,d(p));else if(a)p=n.substring(8),h("\u0192",p,d(p));else if(l){let f=n;n.length>Jte&&(f=n.substring(0,u+2)+" {\u2026}"),h("",n,f)}else h("\u0192",n,d(n));return t.build();function d(f){let g=f.indexOf("("),v=f.match(/\)\s*{/),S=v&&v.index||0;if(g!==-1&&v&&S>g){let R=f.substring(0,g).trim()||"",F=f.substring(g,S+1);return R+F}return"()"}function h(f,g,v){t.checkBudget()&&(f.length&&t.append(f+" "),g=g.trim(),g.endsWith(" { [native code] }")&&(g=g.substring(0,g.length-18)),t.budget()>=g.length?t.append(g):t.append(v.replace(/\n/g," ")))}}function Ec(r){let e=r;if(e.type!=="object"||e.subtype==="null")return{title:DN(e,Qte,!1,void 0)};let t=e.description??e.className??"Error",n=/^\s+at\s/m.exec(t);if(!n){let i=t.lastIndexOf(`
`);return i===-1?{title:t}:{title:t.substring(0,i)}}return{title:t.substring(0,n.index-1),stackTrace:t.substring(n.index+2)}}function tm(r,e,t,n){if(r.type==="number"){if("unserializableValue"in r)return r.unserializableValue;let s=r.value||+r.description;return n?.hex?s.toString(16):String(s)}if(r.type==="bigint"){let s=r.unserializableValue||r.description;return n?.hex?BigInt(s.slice(0,-1)).toString(16):s}let i=r,o=typeof i.value=="number"?i.value:+String(i.description);return no(String(e?Math.floor(o):o),t)}function ire(r,e){return Wu(String(typeof r.value<"u"?r.value:r.description),e)}function kN(r){let e=[],t=new Set([void 0]),n=new Map;for(let l of r.properties.filter(p=>p.valuePreview)){let p=new Map;p.set(void 0,l.name),n.set(void 0,Math.max(n.get(void 0)||0,l.name.length)),e.push(p),l.valuePreview?.properties.map(d=>{d.value&&(t.add(d.name),p.set(d.name,d.value),n.set(d.name,Math.max(n.get(d.name)||0,d.value.length)))})}for(let l of t.values())l&&n.set(l,Math.max(n.get(l)||0,l.length));let i=Array.from(n.values()).reduce((l,p)=>l+p,0),o=CN-4-(t.size-1)*3;if(i>o){let l=o/i;for(let p of n.keys()){let d=Math.max(Zte,n.get(p)*l|0);n.set(p,d)}}let s=[];for(let l of t.values())s.push("-".repeat(n.get(l)));let a="[-"+s.join("-|-")+"-]",c=[];c.push(a.replace("[","\u256D").replace(/\|/g,"\u252C").replace("]","\u256E").replace(/-/g,"\u2504"));let u=[];for(let l of t.values())u.push(LN(l||"",n.get(l)));c.push("\u250A "+u.join(" \u250A ")+" \u250A"),c.push(a.replace("[","\u251C").replace(/\|/g,"\u253C").replace("]","\u2524").replace(/-/g,"\u2504"));for(let l of e){let p=[];for(let d of t.values())p.push(LN(l.get(d)||"",n.get(d)));c.push("\u250A "+p.join(" \u250A ")+" \u250A")}return c.push(a.replace("[","\u2570").replace(/\|/g,"\u2534").replace("]","\u256F").replace(/-/g,"\u2504")),c.map(l=>no(l,CN)).join(`
`)}var HS=new Map([["",(r,e)=>Fy(r,e)],["s",(r,e)=>ire(r,e.budget)],["i",(r,e)=>tm(r,!0,e.budget,void 0)],["d",(r,e)=>tm(r,!0,e.budget,void 0)],["f",(r,e)=>tm(r,!1,e.budget,void 0)],["c",r=>SN(r.value)],["o",(r,e)=>Fy(r,e)],["O",(r,e)=>Fy(r,e)]]);function LN(r,e){return r.length===e?r:r.length<e?r+" ".repeat(e-r.length):no(r,e)}var MN=rr(function(){return this});var jy=class{constructor(e,t){this.protoObj=e;this.cdp=t}async toDap(e){if(!this.protoObj.objectId)return{category:"stderr",output:Uy.t("Only objects can be queried")};let t=await this.cdp.Runtime.queryObjects({prototypeObjectId:this.protoObj.objectId,objectGroup:"console"});if(await this.cdp.Runtime.releaseObject({objectId:this.protoObj.objectId}),!t)return{category:"stderr",output:Uy.t("Could not query the provided object")};let n;try{n=await MN({cdp:this.cdp,args:[],objectId:t.objects.objectId,objectGroup:"console",generatePreview:!0})}catch(s){return{category:"stderr",output:Uy.t(s.message)}}let i="\x1B[32mobjects: "+Sc(n,"repl")+"\x1B[0m";return{category:"stdout",output:"",variablesReference:e.replVariables.createVariableForOutput(i,[n]).id}}};var ON=/^(\W*at .*\()(.*):(\d+):(\d+)(\))$/,NN=/^(\W*at )(.*):(\d+):(\d+)$/,Ys=class{constructor(e){this.stack=e}static isStackLike(e){return ON.test(e)||NN.test(e)}*[Symbol.iterator](){for(let e of this.stack.split(`
`)){let t=ON.exec(e)||NN.exec(e);if(!t){yield e+`
`;continue}let[,n,i,o,s,a]=t;n&&(yield n),yield new yS(i,new Bt(Number(o),Number(s))),a&&(yield a),yield`
`}}},yS=class{constructor(e,t){this.path=e;this.position=t}toString(){return`${this.path}:${this.position.lineNumber}:${this.position.columnNumber}`}};var Qr=w(we());var rm=w(V());async function bS(r){let e=await r.uiLocation();return e?e.source.blackboxed()?2:Nr(e.source)&&!e.isMapped&&e.unmappedReason===3?1:0:0}var ore=new Set(["breakpoint","exception","entry"]),sre=256,Qs=class{constructor(e,t){this.launchConfig=e;this.logger=t;this._smartStepCount=0}resetSmartStepCount(){this._smartStepCount>0&&(this.logger.verbose("internal",`smartStep: skipped ${this._smartStepCount} steps`),this._smartStepCount=0)}async getSmartStepDirection(e,t){if(!this.launchConfig.smartStep||ore.has(e.reason))return;let n=(await e.stackTrace.loadFrames(1)).find(Xa(Tr));if((n&&await bS(n))===0){this.resetSmartStepCount();return}return this._smartStepCount++>sre?2:t?.reason==="step"?t.direction:0}};Qs=E([(0,rm.injectable)(),H(0,(0,rm.inject)(Ne)),H(1,(0,rm.inject)(ie))],Qs);var FN=rr(function(){return[Symbol.for("debug.description"),Symbol.for("nodejs.util.inspect.custom")]}),BN=sc(function(r,e){let t={},n="<<default preview>>";if(typeof this!="object"||!this)return t;for(let[i,o]of Object.entries(this)){if(e)try{let s=e.call(o,n);if(s!==n){t[i]=String(s);continue}}catch(s){t[i]=`<<indescribable>>${JSON.stringify([String(s),i])}`;continue}if(typeof o=="object"&&o){let s;for(let a of runtimeArgs[0])if(typeof o[a]=="function")try{s=o[a]();break}catch{}!s&&!String(o.toString).includes("[native code]")&&(s=String(o)),s&&!s.startsWith("[object ")&&(t[i]=s.length>=r?s.slice(0,r)+"\u2026":s)}}return t}),Wy=sc(function(r,e){if(e)try{let t="<<default preview>>",n=e.call(this,t);if(n!==t)return String(n)}catch(t){return`<<indescribable>>${JSON.stringify([String(t),"object"])}`}if(typeof this=="object"&&this){let t;for(let n of[Symbol.for("debug.description"),Symbol.for("nodejs.util.inspect.custom")])if(typeof this[n]=="function")try{t=this[n]();break}catch{}if(!t&&!String(this.toString).includes("[native code]")&&(t=String(this)),t&&!t.startsWith("[object "))return t.length>=r?t.slice(0,r)+"\u2026":t}});var qe=w(we()),eF=require("crypto");var Wn=class r{constructor(e=process.hrtime()){this.value=e}get ms(){return this.s*1e3}get s(){return this.value[0]+this.value[1]/1e9}elapsed(){return new r().subtract(this)}subtract(e){let t=this.value[1]-e.value[1],n=this.value[0]-e.value[0];return t<0&&(t+=1e9,n--),new r([n,t])}};var Cl=class{constructor(e,t,n,i,o,s){this.launchConfig=e;this.targetInfo=t;this.parentTarget=n;this.targetOriginValue=i;this.cdp=o;this.logger=s;this.onNameChanged=new U().event;this.attached=!1;this.isWaitingForDebugger=!0;o.pause()}id(){return this.targetInfo.targetId}name(){return this.targetInfo.title}fileName(){return this.targetInfo.url}type(){return"node"}parent(){return this.parentTarget}children(){return[]}canStop(){return!1}stop(){}canRestart(){return!1}restart(){}canAttach(){return!this.attached}async attach(){return await this.cdp.Runtime.enable({}),await this.cdp.Debugger.enable({}),this.attached=!0,this.cdp}canDetach(){return this.attached}async detach(){await this.cdp.Debugger.resume({}),await this.cdp.NodeWorker.detach({sessionId:this.targetInfo.targetId}),this.attached=!1}targetOrigin(){return this.targetOriginValue}afterBind(){return this.cdp.resume(),Promise.resolve()}async runIfWaitingForDebugger(){this.isWaitingForDebugger=!1,await this.cdp.Runtime.runIfWaitingForDebugger({})}initialize(){return Promise.resolve()}waitingForDebugger(){return this.isWaitingForDebugger}supportsCustomBreakpoints(){return!1}supportsXHRBreakpoints(){return!1}scriptUrlToUrl(e){return e[0]==="/"||process.platform==="win32"&&e[1]===":"&&e[2]==="\\"?We(e):e}executionContextName(){return this.targetInfo.title}};var ft=w(we()),qy=new Map;function Tl(){if(qy.size)return qy;function r(o,s){for(let a of s)a.group=o,qy.set(a.id,a)}function e(o,s){let a=s||o;return{id:"instrumentation:"+o,title:a,group:"",details:c=>{if(o==="webglErrorFired"){let u=c.webglErrorName;return u=u.replace(/^.*(0x[0-9a-f]+).*$/i,"$1"),{short:u,long:ft.t('Paused on WebGL Error instrumentation breakpoint, error "{0}"',u)}}return o==="scriptBlockedByCSP"&&c.directiveText?{short:ft.t('CSP violation "{0}"',c.directiveText),long:ft.t('Paused on Content Security Policy violation instrumentation breakpoint, directive "{0}"',c.directiveText)}:{short:a,long:ft.t('Paused on instrumentation breakpoint "{0}"',a)}},apply:async(c,u)=>(u?await c.EventBreakpoints.setInstrumentationBreakpoint({eventName:o}):await c.EventBreakpoints.removeInstrumentationBreakpoint({eventName:o}))?!0:!!(u?await c.DOMDebugger.setInstrumentationBreakpoint({eventName:o}):await c.DOMDebugger.removeInstrumentationBreakpoint({eventName:o}))}}function t(o,s,a){let c=s===void 0?"*":typeof s=="string"?[s]:s;return{id:"listener:"+o,title:a||o,group:"",details:u=>{let l=(u.targetName||"*").toLowerCase();return{short:l+"."+o,long:ft.t('Paused on event listener breakpoint "{0}", triggered on "{1}"',o,l)}},apply:async(u,l)=>{let p=!0;for(let d of c)l?p=p&&!!await u.DOMDebugger.setEventListenerBreakpoint({eventName:o,targetName:d}):p=p&&!!await u.DOMDebugger.removeEventListenerBreakpoint({eventName:o,targetName:d});return p}}}r("Ad Auction Worklet",[e("beforeBidderWorkletBiddingStart",ft.t("Bidder Bidding Phase Start")),e("beforeBidderWorkletReportingStart",ft.t("Bidder Reporting Phase Start")),e("beforeSellerWorkletScoringStart",ft.t("Seller Scoring Phase Start")),e("beforeSellerWorkletReportingStart",ft.t("Seller Reporting Phase Start"))]),r("Animation",[e("requestAnimationFrame",ft.t("Request Animation Frame")),e("cancelAnimationFrame",ft.t("Cancel Animation Frame")),e("requestAnimationFrame.callback",ft.t("Animation Frame Fired"))]),r("Canvas",[e("canvasContextCreated",ft.t("Create canvas context")),e("webglErrorFired",ft.t("WebGL Error Fired")),e("webglWarningFired",ft.t("WebGL Warning Fired"))]),r("Clipboard",[t("copy"),t("cut"),t("paste"),t("beforecopy"),t("beforecut"),t("beforepaste")]),r("Control",[t("resize"),t("scroll"),t("scrollend"),t("zoom"),t("focus"),t("blur"),t("select"),t("change"),t("submit"),t("reset")]),r("Device",[t("deviceorientation"),t("devicemotion")]),r("DOM Mutation",[t("DOMActivate"),t("DOMFocusIn"),t("DOMFocusOut"),t("DOMAttrModified"),t("DOMCharacterDataModified"),t("DOMNodeInserted"),t("DOMNodeInsertedIntoDocument"),t("DOMNodeRemoved"),t("DOMNodeRemovedFromDocument"),t("DOMSubtreeModified"),t("DOMContentLoaded")]),r("Drag / Drop",[t("drag"),t("dragstart"),t("dragend"),t("dragenter"),t("dragover"),t("dragleave"),t("drop")]),r("Geolocation",[e("Geolocation.getCurrentPosition","getCurrentPosition"),e("Geolocation.watchPosition","watchPosition")]),r("Keyboard",[t("keydown"),t("keyup"),t("keypress"),t("input")]),r("Load",[t("load"),t("beforeunload"),t("unload"),t("abort"),t("error"),t("hashchange"),t("popstate"),t("navigate"),t("navigatesuccess"),t("navigateerror"),t("currentchange"),t("nagivateto"),t("navigatefrom"),t("finish"),t("dispose")]);let n=["audio","video"];r("Media",[t("play",n),t("pause",n),t("playing",n),t("canplay",n),t("canplaythrough",n),t("seeking",n),t("seeked",n),t("timeupdate",n),t("ended",n),t("ratechange",n),t("durationchange",n),t("volumechange",n),t("loadstart",n),t("progress",n),t("suspend",n),t("abort",n),t("error",n),t("emptied",n),t("stalled",n),t("loadedmetadata",n),t("loadeddata",n),t("waiting",n)]),r("Mouse",[t("auxclick"),t("click"),t("dblclick"),t("mousedown"),t("mouseup"),t("mouseover"),t("mousemove"),t("mouseout"),t("mouseenter"),t("mouseleave"),t("mousewheel"),t("wheel"),t("contextmenu")]),r("Notification",[e("Notification.requestPermission","requestPermission")]),r("Parse",[e("Element.setInnerHTML",ft.t("Set innerHTML")),e("Document.write","document.write")]),r("Picture-in-Picture",[t("enterpictureinpicture","video"),t("leavepictureinpicture","video"),t("resize","PictureInPictureWindow"),t("enter","documentPictureInPicture")]),r("Pointer",[t("pointerover"),t("pointerout"),t("pointerenter"),t("pointerleave"),t("pointerdown"),t("pointerup"),t("pointermove"),t("pointercancel"),t("gotpointercapture"),t("lostpointercapture"),t("pointerrawupdate")]),r("Script",[e("scriptFirstStatement",ft.t("Script First Statement")),e("scriptBlockedByCSP",ft.t("Script Blocked by Content Security Policy"))]),r("Timer",[e("setTimeout"),e("clearTimeout"),e("setInterval"),e("clearInterval"),e("setTimeout.callback",ft.t("setTimeout fired")),e("setInterval.callback",ft.t("setInterval fired"))]),r("Touch",[t("touchstart"),t("touchmove"),t("touchend"),t("touchcancel")]),r("WebAudio",[e("audioContextCreated",ft.t("Create AudioContext")),e("audioContextClosed",ft.t("Close AudioContext")),e("audioContextResumed",ft.t("Resume AudioContext")),e("audioContextSuspended",ft.t("Suspend AudioContext"))]),r("Window",[e("DOMWindow.close","window.close")]),r("Worker",[t("message"),t("messageerror")]);let i=["xmlhttprequest","xmlhttprequestupload"];return r("XHR",[t("readystatechange",i),t("load",i),t("loadstart",i),t("loadend",i),t("abort",i),t("error",i),t("progress",i),t("timeout",i)]),qy}var vS=sc(function(r,e){let t=" ".repeat(e),n=`
`;function i(s){if(s instanceof Uint8Array)return Uint8Array;if(s instanceof Uint8ClampedArray)return Uint8ClampedArray;if(s instanceof Uint16Array)return Uint16Array;if(s instanceof Uint32Array)return Uint32Array;if(s instanceof BigUint64Array)return BigUint64Array;if(s instanceof Int8Array)return Int8Array;if(s instanceof Int32Array)return Int32Array;if(s instanceof BigInt64Array)return BigInt64Array;if(s instanceof Float32Array)return Float32Array;if(s instanceof Float64Array)return Float64Array}function o(s,a=0,c=[]){switch(typeof s){case"bigint":return`${s}n`;case"boolean":return s.toString();case"function":{let p=s.toString().replace(/^[^\s]+\(/,"function(").split(/\r?\n/g),d=/^$/;for(let h of p){let f=/^[ \t]+/.exec(h);if(f){d=new RegExp(`^[ \\t]{0,${f[0].length}}`);break}}return p.map((h,f)=>f===0?h:(h=h.replace(d,""),f===p.length-1?t.repeat(a)+h:t.repeat(a+1)+h)).join(n)}case"number":return`${s}`;case"object":if(s===null)return"null";if(c.includes(s))return"[Circular]";if(s instanceof Date)return`"${s.toISOString()}"`;if(typeof Node<"u"&&r instanceof Node)return r.outerHTML;let u=i(s);if(u)return`new ${u.name}([${s.join(", ")}])`;if(s instanceof ArrayBuffer)return`new Uint8Array([${new Uint8Array(s).join(", ")}]).buffer`;if(s instanceof Array)return["[",...s.map(p=>t.repeat(a+1)+o(p,a+1,[...c,s])+","),t.repeat(a)+"]"].join(n);let l=s;return["{",...Object.keys(l).map(p=>t.repeat(a+1)+(/^[$a-z_][0-9a-z_$]*$/i.test(p)?p:JSON.stringify(p))+": "+o(l[p],a+1,[...c,s])+","),t.repeat(a)+"}"].join(n);case"string":return JSON.stringify(s);case"symbol":return s.toString();case"undefined":return"undefined";default:return String(s)}}try{return o(r)}catch{return""+r}}),UN=rr(`
  function(spaces2) {
    const result = ${vS.expr("this","spaces2")};
    return result;
  }
`);var vi=w(we());var Pc=w(V());var jN=rr(function(){let r={__proto__:this.__proto__},e=Object.getOwnPropertyNames(this);for(let t=0;t<e.length;++t){let n=e[t],i=n>>>0;if(String(i>>>0)===n&&i>>>0!==4294967295)continue;let o=Object.getOwnPropertyDescriptor(this,n);o&&Object.defineProperty(r,n,o)}return r});var WN=rr(function(r,e){let t={},n=r===-1?0:r,i=e===-1?this.length:r+e;for(let o=n;o<i&&o<this.length;++o){let s=Object.getOwnPropertyDescriptor(this,o);s&&Object.defineProperty(t,o,s)}return t});var qN=rr(function(r){return r.call(this)});var xS=rr(function(r,e){let{buffer:t,byteLength:n,byteOffset:i}=this instanceof ArrayBuffer?new DataView(this):this instanceof WebAssembly.Memory?new DataView(this.buffer):this,o=i+Math.min(r,n),s=Math.max(0,Math.min(e,n-r));return a(new Uint8Array(t,o,s));function a(c){let u="0123456789abcdef",l="";for(let p=0;p<c.length;p++){let d=c[p];l+=u[d>>>4]+u[d&15]}return l}});var wS=rr(function(r,e){let t=c(e),{buffer:n,byteLength:i,byteOffset:o}=this instanceof ArrayBuffer?new DataView(this):this instanceof WebAssembly.Memory?new DataView(this.buffer):this,s=o+Math.min(r,i),a=Math.max(0,Math.min(t.length,i-r));return new Uint8Array(n,s,a).set(t.subarray(0,a)),a;function c(u){let l=new Uint8Array(u.length>>>1);for(let p=0;p<u.length;p+=2)l[p>>>1]=parseInt(u.slice(p,p+2),16);return l}});var sm=(()=>{let r=0,e=2147483646;return()=>r++%e+1})(),kS=r=>{if(typeof r=="string")return{value:r};let e=r;return e.objectId?{objectId:e.objectId}:e.unserializableValue?{unserializableValue:e.unserializableValue}:{value:e.value}},cre=new Set(["typedarray","dataview","arraybuffer","webassemblymemory"]);var JN=1024,ure=/^[$a-z_][0-9a-z_$]*$/i,lre=/^#[0-9a-z_$]+$/i,pre=r=>r.hasOwnProperty("configurable"),VN=(r,e,t)=>{let n=dR(r,Hf(e),t);return Ko(n)},GN="<<indescribable>>",YN=r=>{if(!r.startsWith(GN))return r;let e,t;try{[e,t]=JSON.parse(r.slice(GN.length))}catch{return r}return vi.t("{0} (couldn't describe: {1})",e,t)},IS=r=>!!r&&typeof r=="object"&&"readMemory"in r&&"writeMemory"in r,zN={PARAMETER:{name:vi.t("Parameters"),sortOrder:-10},LOCAL:{name:vi.t("Locals"),sortOrder:-9},GLOBAL:{name:vi.t("Globals"),sortOrder:-8}},nm=class r{constructor(e,t,n,i,o,s,a){this.cdp=e;this.parent=t;this.vars=i;this.locationProvider=o;this.currentRef=s;this.settings=a;this.name=n.name,this.presentationHint=n.presentationHint,this.sortOrder=n.sortOrder||0}get customDescriptionGenerator(){return this.settings.customDescriptionGenerator}createVariable(e,t,...n){let i=new e(new r(this.cdp,this.currentRef?.(),t,this.vars,this.locationProvider,()=>i,this.settings),...n);return i.id>0&&this.vars.add(i),i}createVariableByType(e,t,n){if(gS(t))return this.createVariable(zy,e,t);if(t.objectId){if(t.subtype==="map"||t.subtype==="set")return this.createVariable(PS,e,t,n);if(!hS.has(t.subtype))return this.createVariable(im,e,t,n)}return this.createVariable(qn,e,t)}async getDescriptionSymbols(e){return this.settings.descriptionSymbols??=FN({cdp:this.cdp,args:[],objectId:e}).then(t=>({objectId:t.objectId}),()=>({value:[]})),await this.settings.descriptionSymbols}async createObjectPropertyVars(e,t){let n=[];if(this.settings.customPropertiesGenerator){let{result:u,errorDescription:l}=await this.evaluateCodeForObject(e,this.settings.customPropertiesGenerator,[]);u&&u.type!=="undefined"?e=u:n.push([this.createVariable(ES,{name:"",sortOrder:-1},u,u?.description||l||vi.t("Unknown error"))])}if(!e.objectId)return[];t&&this.cdp.DotnetDebugger.setEvaluationOptions({options:t,type:"variable"});let[i,o,s]=await Promise.all([this.cdp.Runtime.getProperties({objectId:e.objectId,accessorPropertiesOnly:!0,ownProperties:!1,generatePreview:!0}),this.cdp.Runtime.getProperties({objectId:e.objectId,ownProperties:!0,generatePreview:!0}),this.cdp.Runtime.callFunctionOn({functionDeclaration:BN.decl(`${JN}`,this.settings.customDescriptionGenerator||"null"),arguments:[await this.getDescriptionSymbols(e.objectId)],objectId:e.objectId,throwOnSideEffect:!0,returnByValue:!0}).then(u=>u?.result.value||{}).catch(()=>({}))]);if(!i||!o)return[];let a=new Map,c=[];for(let u of i.result){if(u.symbol){c.push(u);continue}u.name==="__proto__"&&o.internalProperties?.some(l=>l.name==="[[Prototype]]")||a.set(u.name,u)}for(let u of o.result)u.get||u.set||(u.symbol?c.push(u):a.set(u.name,u));for(let u of[a.values(),c.values()])for(let l of u)n.push(this.createPropertyVar(l,e,s?.hasOwnProperty(l.name)?YN(s[l.name]):void 0));for(let u of o.privateProperties??[])n.push(this.createPropertyVar(u,e,void 0,{presentationHint:{visibility:"private"},sortOrder:1}));for(let u of o.internalProperties||[]){if(u.name==="[[StableObjectId]]")continue;let l;u.name==="[[FunctionLocation]]"&&u.value&&u.value.subtype==="internal#location"?l=this.createVariable(SS,{name:u.name,presentationHint:{visibility:"internal",attributes:["readOnly"]},sortOrder:2},u.value):u.value!==void 0&&(l=this.createVariableByType({name:u.name,presentationHint:{visibility:"internal"},sortOrder:2},u.value)),l&&n.push([l])}return Bo(await Promise.all(n))}async createPropertyVar(e,t,n,i){let o=[],s=e.get&&e.get.type!=="undefined",a=e.set&&e.set.type!=="undefined",c={name:e.name,presentationHint:{},sortOrder:0,...i};return i||(pre(e)?(e.enumerable===!1&&!s&&(c.presentationHint.visibility="internal",c.sortOrder=1),(e.writable===!1||s&&!a)&&(c.presentationHint.attributes=["readOnly"])):(c.presentationHint.visibility="private",c.sortOrder=1)),"value"in e&&e.value&&o.push(this.createVariableByType(c,e.value,n)),s?o.push(this.createVariable(LS,c,e.get,t)):a&&o.push(this.createVariable(TS,c,e.set)),o}async evaluateCodeForObject(e,t,n){try{let i=await this.cdp.Runtime.callFunctionOn({objectId:e.objectId,functionDeclaration:t,arguments:n.map(kS)});if(i){if(i.exceptionDetails===void 0)return{result:i.result};if(i&&i.result.description)return{errorDescription:i.result.description}}return{errorDescription:vi.t("Unknown error")}}catch(i){return{errorDescription:i.stack||i.message||String(i)}}}},dre=r=>typeof r=="number"||/^[0-9]+$/.test(r),qn=class r{constructor(e,t){this.context=e;this.remoteObject=t;this.id=sm()}get name(){return this.context.name}get sortOrder(){return this.context.sortOrder}get accessor(){let{parent:e,name:t}=this.context;if(e instanceof om)return e.accessor;if(!(e instanceof r))return this.context.name;let n=e.context.parent;if(n instanceof r){if(this.remoteObject.subtype==="internal#entry")return`[...${n.accessor}.entries()][${+t}]`;if(e.remoteObject.subtype==="internal#entry")return`${e.accessor}[${this.name==="key"?0:1}]`}return dre(t)?`${e.accessor}[${t}]`:ure.test(t)?`${e.accessor}.${t}`:e.accessor==="this"&&lre.test(t)?`${e.accessor}.${t}`:`${e.accessor}[${JSON.stringify(t)}]`}async toDap(e,t){let n=this.context.name;return this.context.parent instanceof Ll&&(n=await this.context.parent.getRename(n)),Promise.resolve({name:n,value:Sc(this.remoteObject,e,t),evaluateName:this.accessor,type:this.remoteObject.type,variablesReference:0,presentationHint:this.context.presentationHint})}async setProperty(e,t){let n=await this.context.cdp.Runtime.callFunctionOn({objectId:this.remoteObject.objectId,functionDeclaration:`function(a) { return this[a] = ${t}; ${gt()} }`,arguments:[kS(e)],silent:!0});if(!n)throw new K(Je(vi.t("Unable to set variable value")));if(n.exceptionDetails)throw new K(QN(n.exceptionDetails));return this.context.createVariableByType({name:e},n.result)}async getChildren(e){return Promise.resolve([])}},Vy=class{constructor(e){this.child=e;this.id=sm()}getChildren(){return Promise.resolve([this.child])}},_S=class extends qn{constructor(t,n,i,o){super(t,{type:i[0]?.type??"string"});this.value=n;this.args=i;this.stackTrace=o}toDap(){return Promise.resolve({name:this.context.name,value:this.value,variablesReference:this.stackTrace||this.args.some(Ac)?this.id:0})}getChildren(t){let n=[],{args:i,stackTrace:o}=this;for(let s=0;s<i.length;++s)Ac(i[s])&&n.push(this.context.createVariableByType({name:`arg${s}`,sortOrder:s},i[s]));return o&&n.push(this.context.createVariable(AS,{name:"",sortOrder:Number.MAX_SAFE_INTEGER},this.remoteObject,o)),Promise.resolve(n)}},AS=class extends qn{constructor(t,n,i){super(t,n);this.stacktrace=i}async toDap(){return{name:"",value:await this.stacktrace.format(),variablesReference:0}}},SS=class extends qn{constructor(e,t){super(e,t),this.location=t.value}async toDap(){return{name:this.context.name,value:await this.context.locationProvider.renderDebuggerLocation(this.location),variablesReference:0,presentationHint:{visibility:"internal"}}}},ES=class extends qn{constructor(t,n,i){super(t,n);this.message=i}get accessor(){if(!(this.context.parent instanceof qn))throw new Error("ErrorVariable must have a parent Variable");return this.context.parent.accessor}toDap(){return Promise.resolve({name:this.context.name,value:this.message,variablesReference:0})}},Gy=Symbol("NoStringRepr"),im=class extends qn{constructor(t,n,i){super(t,n);this.customStringRepr=i}async toDap(t,n){let[i,o]=await Promise.all([await super.toDap(t,n),await this.getValueRepresentation(t)]);return{...i,type:this.remoteObject.className||this.remoteObject.subtype||this.remoteObject.type,variablesReference:this.id,memoryReference:cre.has(this.remoteObject.subtype)?String(this.id):void 0,value:o}}async getValueRepresentation(t){if(typeof this.customStringRepr=="string")return this.customStringRepr;if(!this.context.parent&&this.remoteObject.objectId&&this.customStringRepr!==Gy)try{let n=await this.context.cdp.Runtime.callFunctionOn({functionDeclaration:Wy.decl(`${JN}`,this.context.customDescriptionGenerator||"null"),objectId:this.remoteObject.objectId,returnByValue:!0});if(n?.result.value)return this.customStringRepr=YN(n.result.value)}catch{this.customStringRepr=Gy}return this.context.name==="__proto__"&&this.remoteObject.description||Sc(this.remoteObject,t)}async readMemory(t,n){let i=await xS({cdp:this.context.cdp,args:[t,n],objectId:this.remoteObject.objectId,returnByValue:!0});return Buffer.from(i.value,"hex")}async writeMemory(t,n){return(await wS({cdp:this.context.cdp,args:[t,n.toString("hex")],objectId:this.remoteObject.objectId,returnByValue:!0})).value}getChildren(t){return this.context.createObjectPropertyVars(this.remoteObject,t.evaluationOptions)}},KN="[[Entries]]",PS=class extends im{constructor(t,n){super(t,n,Gy);this.baseChildren=Se(()=>super.getChildren({variablesReference:this.id}));this.isMap=n.subtype==="map";let i=n.preview;this.size=Number(i?.properties.find(o=>o.name==="size")?.value)??void 0}async toDap(t){let n=await super.toDap(t);return this.size&&this.size>100&&(n.indexedVariables=this.size),n}async getChildren(t){let n=await this.baseChildren();return[...(await n.find(o=>o.name===KN)?.getChildren(t)||[]).filter(o=>o.sortOrder===0),...n.filter(o=>o.name!==KN)]}},zy=class extends im{constructor(t,n){super(t,n,Gy);this.length=0;let i=String(n.description).match(/\(([0-9]+)\)/);this.length=i?+i[1]:0}async toDap(t){return{...await super.toDap(t),indexedVariables:this.length>100?this.length:void 0,namedVariables:this.length>100?1:void 0}}async getChildren(t){switch(t?.filter){case"indexed":return this.getArraySlots(t);case"named":return this.getArrayProperties();default:return Promise.all([this.getArrayProperties(),this.getArraySlots()]).then(Bo)}}async getArrayProperties(){try{let t=await jN({cdp:this.context.cdp,args:[],objectId:this.remoteObject.objectId,generatePreview:!0});return this.context.createObjectPropertyVars(t)}catch{return[]}}async getArraySlots(t){let n=t&&typeof t.start<"u"?t.start:-1,i=t&&typeof t.count<"u"?t.count:-1,o;try{o=await WN({cdp:this.context.cdp,generatePreview:!1,args:[n,i],objectId:this.remoteObject.objectId})}catch{return[]}let s=await this.context.createObjectPropertyVars(o);return o.objectId&&await this.context.cdp.Runtime.releaseObject({objectId:o.objectId}),s}},CS=class extends zy{async toDap(e){return this.remoteObject.preview?{...await super.toDap(e),name:kN(this.remoteObject.preview)}:super.toDap(e)}},om=class extends qn{constructor(e,t){super(e,t)}getChildren(e){return this.context.createObjectPropertyVars(this.remoteObject)}},TS=class extends om{async toDap(e,t){return{...await super.toDap(e,t),value:"write-only",variablesReference:this.id}}},LS=class extends om{constructor(t,n,i){super(t,n);this.parentObject=i}async toDap(t,n){let i=await super.toDap(t,n);return i.variablesReference=this.id,i.presentationHint={...i.presentationHint,lazy:!0},i}async getChildren(t){try{let n=await qN({cdp:this.context.cdp,objectId:this.parentObject.objectId,args:[new bf(this.remoteObject.objectId)]});return[this.context.createVariableByType({name:this.name,presentationHint:this.context.presentationHint},n)]}catch(n){if(!(n instanceof oc))throw n}return super.getChildren(t)}},Ky=class r{constructor(e,t,n){this.context=e;this.variable=t;this.scopeRef=n;this.id=sm();this.sortOrder=0}static{this.presentationHint={attributes:["readOnly"]}}toDap(){return Promise.resolve({name:this.context.name,value:this.variable.description||"",variablesReference:this.variable.getChildren?this.id:0,memoryReference:this.variable.linearMemoryAddress?String(this.id):void 0,presentationHint:this.context.presentationHint})}async getChildren(){return(await this.variable.getChildren?.()||[]).map(t=>this.context.createVariable(r,{name:t.name,presentationHint:r.presentationHint},t.value,this.scopeRef))}async readMemory(e,t){let n=this.variable.linearMemoryAddress;if(n===void 0)return;let i=await this.context.cdp.Debugger.evaluateOnCallFrame({callFrameId:this.scopeRef.callFrameId,expression:`(${xS.source}).call(memories[0].buffer, ${+n+e}, ${+t}) ${gt()}`,returnByValue:!0});if(!i)throw new oc({exceptionId:0,text:"No response from CDP",lineNumber:0,columnNumber:0});return Buffer.from(i.result.value,"hex")}async writeMemory(e,t){let n=this.variable.linearMemoryAddress;return n===void 0?0:(await this.context.cdp.Debugger.evaluateOnCallFrame({callFrameId:this.scopeRef.callFrameId,expression:`(${wS.source}).call(memories[0].buffer, ${+n+e}, ${JSON.stringify(t.toString("hex"))}) ${gt()}`,returnByValue:!0}))?.result.value||0}},DS=class{constructor(e,t,n,i){this.context=e;this.kind=t;this.variables=n;this.scopeRef=i;this.id=sm();this.sortOrder=zN[this.kind]?.sortOrder||0}toDap(){return Promise.resolve({name:zN[this.kind]?.name||this.kind,value:"",variablesReference:this.id})}getChildren(){return Promise.all(this.variables.map(async e=>{let t=await e.evaluate();return this.context.createVariable(Ky,{name:e.name,presentationHint:Ky.presentationHint},t,this.scopeRef)}))}},Ll=class{constructor(e,t,n,i,o){this.remoteObject=e;this.context=t;this.ref=n;this.extraProperties=i;this.renameProvider=o;this.id=sm()}async getChildren(e){let t=await this.context.createObjectPropertyVars(this.remoteObject),n=new Set(t.map(i=>i.name));for(let i of this.extraProperties)n.has(i.name)||t.push(this.context.createVariableByType({name:i.name},i.value));return t}async getRename(e){return(await this.renameProvider.provideOnStackframe(this.ref.stackFrame)).getOriginalName(e,this.ref.stackFrame.rawPosition)||e}async setProperty(e,t){let n=await this.context.cdp.Debugger.evaluateOnCallFrame({expression:`${t} ${gt()}`,callFrameId:this.ref.callFrameId});if(!n)throw new K(Ze(vi.t("Invalid expression")));if(n.exceptionDetails)throw new K(QN(n.exceptionDetails));return await this.context.cdp.Debugger.setVariableValue({callFrameId:this.ref.callFrameId,scopeNumber:this.ref.scopeNumber,variableName:e,newValue:kS(n.result)}),this.context.createVariableByType({name:e},n.result)}},$S=class{constructor(){this.value=new Map}get(e){return this.value.get(e)}add(e){this.value.set(e.id,e)}clear(){this.value.clear()}},Zs=class{constructor(e,t,n,i,o){this.renameProvider=e;this.cdp=t;this.dap=n;this.launchConfig=i;this.locationProvider=o;this.vars=new $S;this.contextSettings={customDescriptionGenerator:i.customDescriptionGenerator&&VN(["defaultValue"],i.customDescriptionGenerator,!1),customPropertiesGenerator:i.customPropertiesGenerator&&VN([],i.customPropertiesGenerator,!1)}}createDetached(){return new Zs(this.renameProvider,this.cdp,this.dap,this.launchConfig,this.locationProvider)}clear(){this.vars.clear()}createFloatingVariable(e,t){return this.createFloatingContext().createVariableByType({name:e},t)}createVariableForOutput(e,t,n,i){let o=this.createFloatingContext(),s=t.length===1&&i==="table"?o.createVariable(CS,{name:""},t[0]):t.length===1&&Ac(t[0])&&!n?o.createVariableByType({name:""},t[0]):o.createVariable(_S,{name:""},e,t,n),a=new Vy(s);return this.vars.add(a),a}createScope(e,t,n){let i=new Ll(e,new nm(this.cdp,void 0,{name:""},this.vars,this.locationProvider,()=>i,this.contextSettings),t,n,this.renameProvider);return this.vars.add(i),i}createWasmScope(e,t,n){let i=new DS(new nm(this.cdp,void 0,{name:""},this.vars,this.locationProvider,()=>i,this.contextSettings),e,t,n);return this.vars.add(i),i}hasVariable(e){return!!this.vars.get(e)}hasMemory(e){return IS(this.vars.get(Number(e)))}async readMemory(e,t,n){let i=this.vars.get(Number(e));return IS(i)?i.readMemory(t,n):void 0}async writeMemory(e,t,n){let i=this.vars.get(Number(e)),o=IS(i)?await i.writeMemory(t,n):0;return o>0&&this.dap.invalidated({areas:["variables"]}),o}async getVariableNames(e){let t=this.vars.get(e.variablesReference);return t?(await t.getChildren(e)).filter(Xa(qn)).map(i=>i.name):[]}async getVariables(e){let t=this.vars.get(e.variablesReference);if(!t)return[];let n=await t.getChildren(e);return(await Promise.all(n.map(o=>o.toDap(t instanceof Ll||t instanceof Vy?"repl":"propertyValue",e.format).then(s=>({v:o,dap:s}))))).sort((o,s)=>o.v.sortOrder-s.v.sortOrder||+o.dap.name-+s.dap.name||o.dap.name.localeCompare(s.dap.name)).map(o=>o.dap)}async setVariable(e){let t=this.vars.get(e.variablesReference);if(!e.value)throw new K(Ze(vi.t("Cannot set an empty value")));if(t instanceof Ll||t instanceof qn)return await(await t.setProperty(e.name,e.value)).toDap("propertyValue",e.format);throw new K(Je(vi.t("Variable not found")))}createFloatingContext(){return new nm(this.cdp,void 0,{name:"<unnamed>"},this.vars,this.locationProvider,void 0,this.contextSettings)}};Zs=E([(0,Pc.injectable)(),H(0,(0,Pc.inject)(Ws)),H(1,(0,Pc.inject)(Ht)),H(2,(0,Pc.inject)(Vr)),H(3,(0,Pc.inject)(Ne))],Zs);function QN(r){let e=r.exception&&Ec(r.exception).title||r.text;return Ze(e)}var Xy=class{constructor(e){this.description=e;this.sourceMapLoads=new Map;this.scripts=[]}get isDefault(){return this.description.auxData&&this.description.auxData.isDefault}async remove(e){await Promise.all(this.scripts.map(async t=>{let n=await t.source;n.filterScripts(i=>i.executionContextId!==this.description.id),n.scripts.length||e.removeSource(n)}))}},RS=class{constructor(e){this._obj=e;this._dapDeferred=Ge()}resolve(){this._dapDeferred.resolve(this._obj)}with(e){return this._dapDeferred.hasSettled()?e(this._obj):this._dapDeferred.promise.then(t=>e(t))}},mre=50,ZN=(r,e)=>r.sourceReference===e.sourceReference&&kH(r.path||"",e.path||""),hre=()=>`
//# sourceURL=eval-${(0,eF.randomBytes)(4).toString("hex")}.repl
`,MS=class{enqueue(e,t){if(!this.queue||this.queue.operation!==e){let n=this.queue?.result.then(t,t)??t(),i=this.queue={operation:e,result:n.finally(()=>{this.queue===i&&(this.queue=void 0)})}}return this.queue.result}};var Dl=class r{constructor(e,t,n,i,o,s,a,c,u,l,p,d,h,f){this.target=i;this.logger=s;this.evaluator=a;this.completer=c;this.launchConfig=u;this._breakpointManager=l;this.console=p;this.exceptionPause=d;this._smartStepper=h;this.shutdown=f;this._executionContexts=new Map;this._excludedCallers=[];this.stateQueue=new MS;this._onPausedEmitter=new U;this.disposed=!1;this.debuggerReady=Ge();this.onPaused=this._onPausedEmitter.event;this._dap=new RS(n),this._sourceContainer=e,this._cdp=t,this.id=r._lastThreadId++,this.replVariables=new Zs(o,this._cdp,n,u,this),e.onSourceMappedSteppingChange(()=>this.refreshStackTrace()),this._initialize()}static{this._lastThreadId=0}static{this._allThreadsByDebuggerId=new Map}setExcludedCallers(e){this._excludedCallers=e}cdp(){return this._cdp}name(){return this.target.name()}pausedDetails(){return this._pausedDetails}pausedVariables(){return this._pausedVariables}defaultExecutionContext(){for(let e of this._executionContexts.values())if(e.isDefault)return e}resume(){return this.stateQueue.enqueue("resume",async()=>(this._sourceContainer.clearDisabledSourceMaps(),!await this._cdp.Debugger.resume({})&&this._pausedDetails!==void 0?Je(qe.t("Unable to resume")):{allThreadsContinued:!1}))}pause(){return this.stateQueue.enqueue("pause",async()=>(this._expectedPauseReason={reason:"pause"},await this._cdp.Debugger.pause({})?{}:Je(qe.t("Unable to pause"))))}stepOver(){return this.stateQueue.enqueue("stepOver",async()=>{this._expectedPauseReason={reason:"step",direction:1};let e=await this.getCurrentSkipList(1);return await this._cdp.Debugger.stepOver({skipList:e})?{}:Je(qe.t("Unable to step next"))})}stepInto(e){return this.stateQueue.enqueue("stepInto",async()=>{this._waitingForStepIn={lastDetails:this._pausedDetails},this._expectedPauseReason={reason:"step",direction:0};let t=this._pausedDetails?.stepInTargets?.[e];if(t){let n=await this._cdp.Debugger.setBreakpoint({location:t.breakLocation});if(this._waitingForStepIn.intoTargetBreakpoint=n?.breakpointId,await this._cdp.Debugger.resume({}))return{}}else{let n=await this.getCurrentSkipList(0);if(await this._cdp.Debugger.stepInto({breakOnAsyncCall:!0,skipList:n}))return{}}return Je(qe.t("Unable to step in"))})}stepOut(){return this.stateQueue.enqueue("stepOut",async()=>(this._expectedPauseReason={reason:"step",direction:2},await this._cdp.Debugger.stepOut({})?{}:Je(qe.t("Unable to step out"))))}async getCurrentSkipList(e){if(!this._pausedDetails)return;let[t]=await this._pausedDetails.stackTrace.loadFrames(1);if(!t||!tF(t))return;let n=await t.getStepSkipList(e);if(n)return yi.simplify(n).map(i=>({start:i.begin.base0,end:i.end.base0,scriptId:t.root.scriptId}))}_stackFrameNotFoundError(){return Je(qe.t("Stack frame not found"))}_evaluateOnAsyncFrameError(){return Je(qe.t("Unable to evaluate on async stack frame"))}async restartFrame(e){let t=this._pausedDetails?.stackTrace.frame(e.frameId)?.root;if(!t)return this._stackFrameNotFoundError();let n=t.callFrameId();return n?await this._cdp.Debugger.restartFrame({callFrameId:n,mode:"StepInto"})?(this._expectedPauseReason={reason:"frame_entry",description:qe.t("Paused on frame entry")},t.canExplicitlyBeRestarted||await this._cdp.Debugger.stepInto({}),{}):Ze(qe.t("Frame could not be restarted")):Ze(qe.t("Cannot restart asynchronous frame"))}async stackTrace(e){return this._pausedDetails?this._pausedDetails.stackTrace.toDap(e):Je(qe.t("Thread is not paused"))}async scopes(e){let t=this._pausedDetails?this._pausedDetails.stackTrace.frame(e.frameId):void 0;return t?t.scopes():this._stackFrameNotFoundError()}async exceptionInfo(){let e=this._pausedDetails&&this._pausedDetails.exception;if(!e)return Je(qe.t("Thread is not paused on exception"));let t=Ec(e);return{exceptionId:t.title,breakMode:"all",details:{stackTrace:t.stackTrace,evaluateName:void 0}}}async revealPage(){return this._cdp.Page.bringToFront({}),{}}async completions(e){let t;if(e.frameId!==void 0){if(t=this._pausedDetails?this._pausedDetails.stackTrace.frame(e.frameId)?.root:void 0,!t)return this._stackFrameNotFoundError();if(!t.callFrameId())return this._evaluateOnAsyncFrameError()}if(e.line===1&&e.text.startsWith("cd "))return{targets:this.getExecutionContextCompletions(e)};let n=await this.completer.completions({executionContextId:this._selectedContext?this._selectedContext.description.id:void 0,stackFrame:t,expression:e.text,position:new Bt(e.line||1,e.column)});return{targets:[...this.getExecutionContextCompletions(e),...n]}}getExecutionContextCompletions(e){if(e.line&&e.line>1)return[];let t=e.text.slice(0,e.column).trim();return[...this._executionContexts.values()].map(n=>`cd ${this.target.executionContextName(n.description)}`).filter(n=>n.startsWith(t)).map(n=>({label:n,start:0,length:e.text.length}))}async _evaluteWasm(e,t,n){if(!e)return;let i=e.root,o=i.callFrameId(),s=await i.scriptSource?.source;if(!gc(s)||!o)return;let a=await s.sourceMap.value.promise;if(!a.evaluate)return;let c=new wt(e instanceof cm?e.inlineFrameIndex:0,i.rawPosition.base0.columnNumber),u=await a.evaluate(o,c,t.expression);if(u)return await n.createFloatingVariable(t.expression,u).toDap(t.context,t.format)}async _evaluteJs(e,t,n){let i=e?.root.callFrameId(),o=t.context==="clipboard"?{expression:vS.expr(t.expression,"2"),includeCommandLineAPI:!0,returnByValue:!0,objectGroup:"console"}:{expression:t.expression,includeCommandLineAPI:!0,objectGroup:"console",generatePreview:!0,timeout:t.context==="hover"?this.getHoverEvalTimeout():void 0};if(t.context==="repl"){if(o.expression=yf(o.expression),o.expression.indexOf("await")!==-1){let c=yR(o.expression);c&&(o.expression=c,o.awaitPromise=!0)}o.expression+=hre()}t.evaluationOptions&&this.cdp().DotnetDebugger.setEvaluationOptions({options:t.evaluationOptions,type:"evaluation"});let s=this.evaluator.evaluate(i?{...o,callFrameId:i}:{...o,contextId:this._selectedContext?this._selectedContext.description.id:void 0},{isInternalScript:!1,stackFrame:e?.root});if(t.context==="repl")return await this._evaluateRepl(t,s,t.format);let a=await s;if(!a)throw new K(Je(qe.t("Unable to evaluate")));if(a.exceptionDetails){let c=a.exceptionDetails.exception?Ec(a.exceptionDetails.exception).title:a.exceptionDetails.text;throw c.startsWith("Uncaught")||(c="Uncaught "+c),new K(Je(c))}return n.createFloatingVariable(o.expression,a.result).toDap(t.context,t.format)}async evaluate(e){let t,n;if(e.frameId!==void 0){if(n=this._pausedDetails?this._pausedDetails.stackTrace.frame(e.frameId):void 0,!n)throw new K(this._stackFrameNotFoundError());if(t=n.root.callFrameId(),!t)throw new K(this._evaluateOnAsyncFrameError())}if(e.context==="repl"&&e.expression.startsWith("cd ")){let s=e.expression.substring(3).trim();for(let a of this._executionContexts.values())if(this.target.executionContextName(a.description)===s)return this._selectedContext=a,{result:`[${s}]`,variablesReference:0}}let i=t?this._pausedVariables:this.replVariables;if(!i)throw new K(Je(qe.t("Unable to evaluate")));let o=await this._evaluteWasm(n,e,i)??await this._evaluteJs(n,e,i);return{type:o.type,result:o.value,variablesReference:o.variablesReference,namedVariables:o.namedVariables,indexedVariables:o.indexedVariables,memoryReference:o.memoryReference}}getHoverEvalTimeout(){let e=this.launchConfig.timeouts?.hoverEvaluation;if(e===void 0)return 500;if(!(e<=0))return e}async _evaluateRepl(e,t,n){let i=await t;if(!i)return{name:e.expression,value:"",variablesReference:0};if(i.exceptionDetails){let c=await new am(i.exceptionDetails).toDap(this);throw new K(Fk(c.output))}let o=this._selectedContext&&this.defaultExecutionContext()!==this._selectedContext?`\x1B[33m[${this.target.executionContextName(this._selectedContext.description)}] `:"",s=await this.replVariables.createFloatingVariable(e.expression,i.result).toDap("repl",n),a=Ny("repl").budget;return s.variablesReference===0&&s.value.length===a&&setImmediate(()=>this.console.enqueue(this,{toDap:()=>({output:qe.t("Output has been truncated to the first {0} characters. Run `{1}` to copy the full output.",a,`copy(${e.expression.trim()})`),category:"stdout"})})),{...s,value:`${o}${s.value}`}}_initialize(){this._cdp.Runtime.on("executionContextCreated",e=>{this._executionContextCreated(e.context)}),this._cdp.Runtime.on("executionContextDestroyed",e=>{this._executionContextDestroyed(e.executionContextId)}),this._cdp.Runtime.on("executionContextsCleared",()=>{this.launchConfig.noDebug||this._ensureDebuggerEnabledAndRefreshDebuggerId(),this.replVariables.clear(),this._executionContextsCleared()}),this._cdp.Inspector.on("targetReloadedAfterCrash",()=>{this._breakpointManager.reapply()}),this.launchConfig.outputCapture==="console"&&(this._cdp.Runtime.on("consoleAPICalled",e=>{this.console.dispatch(this,e)}),this._cdp.Runtime.on("exceptionThrown",e=>{this.console.enqueue(this,new am(e.exceptionDetails))})),this._cdp.Runtime.on("inspectRequested",e=>{e.hints.copyToClipboard?this._copyObjectToClipboard(e.object):e.hints.queryObjects?this.console.enqueue(this,new jy(e.object,this.cdp())):this._revealObject(e.object)}),this._cdp.Debugger.on("paused",async e=>this._onPaused(e)),this._cdp.Debugger.on("resumed",()=>this.onResumed()),this._cdp.Debugger.on("scriptParsed",e=>this._onScriptParsed(e)),this._cdp.Debugger.on("scriptFailedToParse",e=>this._onScriptParsed(e)),this._cdp.Runtime.enable({}),this._cdp.Profiler.enable({}),this.launchConfig.noDebug?this.logger.info("runtime.launch","Running with noDebug, so debug domains are disabled"):this._ensureDebuggerEnabledAndRefreshDebuggerId(),this.target.initialize(),this._dap.with(e=>e.thread({reason:"started",threadId:this.id}))}dapInitialized(){this._dap.resolve()}async getStepInTargets(e){let t=this._pausedDetails;if(!t)return[];let n=t.stackTrace.frames.find(l=>l.frameId===e);if(!(n instanceof Tr))return[];let i=await n.uiLocation();if(!i)return[];let o=t.event.callFrames[0].location,[s,a]=await Promise.all([this._breakpointManager.getBreakpointLocations(this,i.source,new Bt(i.lineNumber,1),new Bt(i.lineNumber+1,1)).then(l=>l.filter(p=>p.breakLocation.lineNumber!==o.lineNumber||p.breakLocation.columnNumber!==o.columnNumber)),i.source.content()]),c=t.stepInTargets?.length||0;t.stepInTargets=t.stepInTargets?.concat(s)||s;let u=a&&new Fs(a);return s.map((l,p)=>{let d=l.uiLocations.find(f=>f.source===i.source);if(!d)return;if(!u)return{id:c+p,label:`Column ${d}`,line:d.lineNumber,column:d.columnNumber};let h=bR(a.slice(u.getLineOffset(d.lineNumber-1),u.getLineOffset(d.lineNumber)),d.columnNumber-1);if(h)return{id:c+p,label:h.text,line:d.lineNumber,column:h.start+1,endLine:d.lineNumber,endColumn:h.end+1}}).filter(St)}async refreshStackTrace(){this._pausedDetails&&(this._pausedDetails=await this._createPausedDetails(this._pausedDetails.event),this._onThreadResumed(),await this._onThreadPaused(this._pausedDetails))}_executionContextCreated(e){let t=new Xy(e);this._executionContexts.set(e.id,t)}_executionContextDestroyed(e){let t=this._executionContexts.get(e);t&&(this._executionContexts.delete(e),t.remove(this._sourceContainer))}_executionContextsCleared(){this._removeAllScripts(),this._breakpointManager.executionContextWasCleared(),this._pausedDetails&&this.onResumed(),this._executionContexts.clear()}_ensureDebuggerEnabledAndRefreshDebuggerId(){this._cdp.Debugger.enable({}).then(e=>{this.debuggerReady.resolve(),e&&r._allThreadsByDebuggerId.set(e.debuggerId,this)}),this.exceptionPause.apply(this._cdp)}async _onPaused(e){let t=e.hitBreakpoints??[],n=e.reason==="Break on start"||e.reason==="debugCommand",i=e.callFrames[0]?.location,o=e.data?.scriptId||i?.scriptId,s=o&&(e.reason==="instrumentation"||this._breakpointManager.isEntrypointBreak(t,o)||t.some(l=>this._pauseOnSourceMapBreakpointIds?.includes(l)));if(this.evaluator.setReturnedValue(e.callFrames[0]?.returnValue),s){this.launchConfig.perScriptSourcemaps==="auto"&&this._shouldEnablePerScriptSms(e)&&await this._enablePerScriptSourcemaps(),e.data&&!n&&(e.data.__rewriteAs="breakpoint");let l=this._expectedPauseReason;if(!(o&&await this._handleSourceMapPause(o,i))){if(!n){if(await this.isCrossThreadStep(e))e.data={...e.data,__rewriteAs:"step"};else if(!await this._breakpointManager.shouldPauseAt(e,t,this.target.entryBreakpoint,!0))if(l?.reason==="step"){if(l.direction!==0)return this._cdp.Debugger.resume({})}else return this.resume()}}}else if(!(e.reason==="exception"||e.reason==="promiseRejection"?await this.exceptionPause.shouldPauseAt(e):await this._breakpointManager.shouldPauseAt(e,t,this.target.entryBreakpoint,!1)))return this.resume();let a=this._waitingForStepIn?.intoTargetBreakpoint;if(a){e.hitBreakpoints?.includes(a)?(this._waitingForStepIn.intoTargetBreakpoint=void 0,await this._cdp.Debugger.removeBreakpoint({breakpointId:a}),await this._cdp.Debugger.stepInto({breakOnAsyncCall:!1})):this.resume();return}if(n&&("continueOnAttach"in this.launchConfig&&this.launchConfig.continueOnAttach||this.launchConfig.type==="pwa-extensionHost"||this.target instanceof Cl)){this.resume();return}let c=this._pausedDetails=await this._createPausedDetails(e);if(this._excludedCallers.length&&await this._matchesExcludedCaller(this._pausedDetails.stackTrace)){this.logger.info("runtime","Skipping pause due to excluded caller"),this.resume();return}let u=await this._smartStepper.getSmartStepDirection(c,this._expectedPauseReason);if(this._pausedDetails===c){switch(u){case 0:return this.stepInto();case 2:return this.stepOut();case 1:return this.stepOver();default:}this._waitingForStepIn=void 0,this._pausedVariables=this.replVariables.createDetached(),await this._onThreadPaused(c)}}async _matchesExcludedCaller(e){if(!this._excludedCallers.length)return!1;let t=e.frames[0],n=t instanceof Tr&&await t.uiLocation();if(!n)return!1;let i,o,s=[];for(let{caller:a,target:c}of this._excludedCallers)if(!(c.line!==n.lineNumber||c.column!==n.columnNumber)&&(i??=await n.source.toDap(),!!ZN(i,c.source))){o||(o=await e.loadFrames(mre).then(l=>Promise.all(l.slice(1).filter(Xa(Tr)).map(p=>p.uiLocation()))));for(let u=0;u<o.length;u++){let l=o[u];if(!l||l.lineNumber!==a.line||l.columnNumber!==a.column)continue;let p=s[u]??=await l.source.toDap();if(ZN(p,a.source))return!0}}return!1}onResumed(){this._pausedDetails=void 0,this._pausedVariables=void 0,this.evaluator.setReturnedValue(void 0),this._onThreadResumed()}async dispose(){this.disposed=!0,await this.shutdown.shutdown();for(let[e,t]of r._allThreadsByDebuggerId)t===this&&r._allThreadsByDebuggerId.delete(e);this._removeAllScripts(!0),this._executionContextsCleared(),await this._dap.with(e=>e.thread({reason:"exited",threadId:this.id}))}rawLocation(e){if("location"in e){let t=e;return{lineNumber:Math.max(0,t.location.lineNumber)+1,columnNumber:Math.max(0,t.location.columnNumber||0)+1,scriptId:t.location.scriptId}}return{lineNumber:Math.max(0,e.lineNumber)+1,columnNumber:Math.max(0,e.columnNumber||0)+1,scriptId:e.scriptId}}rawLocationToUiLocation(e){if(!e.scriptId||this.disposed||this.launchConfig.noDebug)return;let t=this._sourceContainer.getScriptById(e.scriptId);return t?t.resolvedSource?this._sourceContainer.preferredUiLocation({...t.resolvedSource.offsetScriptToSource(e),source:t.resolvedSource}):t.source.then(n=>this._sourceContainer.preferredUiLocation({...n.offsetSourceToScript(e),source:n})):this.rawLocationToUiLocationWithWaiting(e)}async rawLocationToUiLocationWithWaiting(e){let t=e.scriptId?await this.getScriptByIdOrWait(e.scriptId):void 0;if(!t)return;let n=await t.source;return this._sourceContainer.preferredUiLocation({...n.offsetScriptToSource(e),source:n})}getScriptById(e){return this._sourceContainer.getScriptById(e)}getScriptByIdOrWait(e,t=500){return this._sourceContainer.getScriptById(e)||this.waitForScriptId(e,t)}waitForScriptId(e,t){return new Promise(n=>{let i=this._sourceContainer.onScript(s=>{s.scriptId===e&&(n(s),i.dispose(),clearTimeout(o))}),o=setTimeout(()=>{n(void 0),i.dispose()},t)})}async renderDebuggerLocation(e){let t=this.rawLocation(e),n=await this.rawLocationToUiLocation(t);return n?`@ ${await n.source.prettyName()}:${n.lineNumber}`:`@ VM${t.scriptId||"XX"}:${t.lineNumber}`}async updateCustomBreakpoints(e,t){if(!this.target.supportsCustomBreakpoints())return;this._enabledCustomBreakpoints??=new Set;let n=new Set;for(let o of e)n.add("x"+o);for(let o of t)n.add("e"+o);let i=[];for(let o of n)if(!this._enabledCustomBreakpoints.has(o)){let s=o.slice(1);i.push(o.startsWith("x")?this._cdp.DOMDebugger.setXHRBreakpoint({url:s}):Tl().get(s)?.apply(this._cdp,!0))}for(let o of this._enabledCustomBreakpoints)if(!n.has(o)){let s=o.slice(1);i.push(o.startsWith("x")?this._cdp.DOMDebugger.removeXHRBreakpoint({url:s}):Tl().get(s)?.apply(this._cdp,!1))}this._enabledCustomBreakpoints=n,await Promise.all(i)}async _createPausedDetails(e){let t=e.reason==="assert"||e.reason==="exception"||e.reason==="promiseRejection"||e.reason==="other"||e.reason==="ambiguous",n=e.hitBreakpoints?.filter(o=>!this._breakpointManager.isEntrypointCdpBreak(o))||[];if((n.length||!t)&&this._sourceContainer.clearDisabledSourceMaps(),e.hitBreakpoints&&this._sourceMapDisabler)for(let o of this._sourceMapDisabler(e.hitBreakpoints))this._sourceContainer.disableSourceMapForSource(o);let i=ns.fromDebugger(this,e.callFrames,e.asyncStackTrace,e.asyncStackTraceId);if(e.data?.__rewriteAs==="breakpoint")return{thread:this,event:e,stackTrace:i,reason:"breakpoint",description:qe.t("Paused on breakpoint")};if(e.data?.__rewriteAs==="step")return{thread:this,event:e,stackTrace:i,reason:"step",description:qe.t("Paused")};switch(e.reason){case"assert":return{thread:this,event:e,stackTrace:i,reason:"exception",description:qe.t("Paused on assert")};case"debugCommand":return{thread:this,event:e,stackTrace:i,reason:"pause",description:qe.t("Paused on debug() call")};case"DOM":return{thread:this,event:e,stackTrace:i,reason:"data breakpoint",description:qe.t("Paused on DOM breakpoint")};case"EventListener":return this._resolveEventListenerBreakpointDetails(i,e);case"exception":return{thread:this,event:e,stackTrace:i,reason:"exception",description:qe.t("Paused on exception"),exception:e.data};case"promiseRejection":return{thread:this,event:e,stackTrace:i,reason:"exception",description:qe.t("Paused on {0}","promise rejection"),exception:e.data};case"instrumentation":return e.data&&e.data.scriptId?{thread:this,event:e,stackTrace:i,reason:"step",description:qe.t("Paused")}:{thread:this,event:e,stackTrace:i,reason:"function breakpoint",description:qe.t("Paused on instrumentation breakpoint")};case"XHR":return{thread:this,event:e,stackTrace:i,reason:"data breakpoint",description:qe.t("Paused on XMLHttpRequest or fetch")};case"OOM":return{thread:this,event:e,stackTrace:i,reason:"exception",description:qe.t("Paused before Out Of Memory exception")};default:if(n.length){let o=!1,s=this.target.entryBreakpoint;if(s&&n.includes(s.cdpId)){o=!0;let a=this._sourceContainer.source({path:xt(s.path)});a!==void 0&&(o=!(await this._sourceContainer.currentSiblingUiLocations({lineNumber:e.callFrames[0].location.lineNumber+1,columnNumber:(e.callFrames[0].location.columnNumber||0)+1,source:a}))?.some(u=>this._breakpointManager.hasAtLocation(u)))}return o||this._breakpointManager.registerBreakpointsHit(n),{thread:this,event:e,stackTrace:i,hitBreakpoints:e.hitBreakpoints,reason:o?"entry":"breakpoint",description:qe.t("Paused on breakpoint")}}return this._expectedPauseReason?{thread:this,event:e,stackTrace:i,description:qe.t("Paused"),...this._expectedPauseReason}:{thread:this,event:e,stackTrace:i,reason:"pause",description:qe.t("Paused on debugger statement")}}}_resolveEventListenerBreakpointDetails(e,t){let n=t.data,i=n&&n.eventName||"",o=Tl().get(i);if(o){let s=o.details(n);return{thread:this,event:t,stackTrace:e,reason:"function breakpoint",description:s.short,text:s.long}}return{thread:this,event:t,stackTrace:e,reason:"function breakpoint",description:qe.t("Paused on event listener")}}_clearDebuggerConsole(){return{category:"console",output:"\x1B[2J"}}_removeAllScripts(e=!1){this._sourceContainer.clear(e)}_onScriptParsed(e){let t={url:e.url,hasSourceURL:!!e.hasSourceURL,embedderName:e.embedderName,scriptId:e.scriptId,executionContextId:e.executionContextId};if(Pr(e.url)&&(e.url=We(e.url)),this._sourceContainer.getScriptById(e.scriptId))return;if(e.url.endsWith(".cdp")){this._sourceContainer.addScriptById(t);return}e.url&&(e.url=this.target.scriptUrlToUrl(e.url));let n=this._executionContexts.get(e.executionContextId);n||(this.logger.info("internal","Creating missing execution context id",e),n=new Xy({id:e.executionContextId,name:"<autofilled>",origin:"",uniqueId:String(e.executionContextId)}),this._executionContexts.set(e.executionContextId,n));let o={...t,source:(async()=>{let s=this._sourceContainer.getSourceByOriginalUrl(e.url);if(e.hash&&s?.contentHash===e.hash)return s.addScript({scriptId:e.scriptId,url:e.url,embedderName:e.embedderName,hasSourceURL:!!e.hasSourceURL,executionContextId:e.executionContextId}),s;let a=async()=>{let d=await this._cdp.Debugger.getScriptSource({scriptId:e.scriptId});return d?d.scriptSource:void 0},c=e.startLine||e.startColumn?{lineOffset:e.startLine,columnOffset:e.startColumn}:void 0,u=e.url.endsWith("#vscode-extension")?{lineOffset:2,columnOffset:0}:void 0,l;e.sourceMapURL&&(l=mr(e.sourceMapURL)?e.sourceMapURL:e.url&&Os(e.url,e.sourceMapURL)||e.url,l||this._dap.with(d=>Lk(d,`Could not load source map from ${e.sourceMapURL}`)));let p=await this._sourceContainer.addSource(e,a,l,c,u,!e.hasSourceURL&&this.launchConfig.enableContentValidation?e.hash:void 0);return p.addScript({scriptId:e.scriptId,url:e.url,embedderName:e.embedderName,hasSourceURL:!!e.hasSourceURL,executionContextId:e.executionContextId}),p})()};o.source.then(s=>o.resolvedSource=s),n.scripts.push(o),this._sourceContainer.addScriptById(o),(e.sourceMapURL||e.scriptLanguage==="WebAssembly")&&this._getOrStartLoadingSourceMaps(o)}async _handleSourceMapPause(e,t){this._pausedForSourceMapScriptId=e;let n=this._sourceContainer.sourceMapTimeouts().sourceMapMinPause,i=n+this._sourceContainer.sourceMapTimeouts().sourceMapCumulativePause,o=this._sourceContainer.getScriptById(e);if(!o)return this._pausedForSourceMapScriptId=void 0,!1;let s=new Wn,a=await Promise.race([this._getOrStartLoadingSourceMaps(o),De(i)]),c=s.elapsed().ms,u=this._sourceContainer.sourceMapTimeouts().sourceMapCumulativePause-Math.max(c-n,0);this._sourceContainer.setSourceMapTimeouts({...this._sourceContainer.sourceMapTimeouts(),sourceMapCumulativePause:u}),this.logger.verbose("internal","Blocked execution waiting for source-map",{timeSpentWallClockInMs:c,sourceMapCumulativePause:u}),a||this._dap.with(d=>d.output({category:"stderr",output:qe.t("WARNING: Processing source-maps of {0} took longer than {1} ms so we continued execution without waiting for all the breakpoints for the script to be set.",o.url||o.scriptId,i)})),console.assert(this._pausedForSourceMapScriptId===e),this._pausedForSourceMapScriptId=void 0;let l=t?.lineNumber||0,p=t?.columnNumber;return!!a?.map(Jo).some(d=>d.lineNumber===l&&(p===void 0||p===d.columnNumber))}_getOrStartLoadingSourceMaps(e){let t=this._executionContexts.get(e.executionContextId);if(!t)return Promise.resolve([]);let n=t.sourceMapLoads.get(e.scriptId);if(n)return n;let i=e.source.then(o=>this._sourceContainer.waitForSourceMapSources(o)).then(o=>o.length&&this._scriptWithSourceMapHandler?this._scriptWithSourceMapHandler(e,o):[]);return t.sourceMapLoads.set(e.scriptId,i),i}async _revealObject(e){if(e.type!=="function"||e.objectId===void 0)return;let t=await this._cdp.Runtime.getProperties({objectId:e.objectId,ownProperties:!0});if(t)for(let n of t.internalProperties||[]){if(n.name!=="[[FunctionLocation]]"||!n.value||n.value.subtype!=="internal#location")continue;let i=await this.rawLocationToUiLocation(this.rawLocation(n.value.value));i&&this._sourceContainer.revealUiLocation(i);break}}async _copyObjectToClipboard(e){if(!e.objectId){this._dap.with(t=>t.copyRequested({text:Sc(e,"copy")}));return}try{let t=await UN({cdp:this.cdp(),objectId:e.objectId,args:[2],silent:!0,returnByValue:!0});this._dap.with(n=>n.copyRequested({text:t.value}))}catch{}finally{this.cdp().Runtime.releaseObject({objectId:e.objectId}).catch(()=>{})}}async _onThreadPaused(e){this._expectedPauseReason=void 0,this._onPausedEmitter.fire(e);let t;e.hitBreakpoints&&(t=await Promise.race([De(1e3).then(()=>{}),Promise.all(e.hitBreakpoints.map(n=>this._breakpointManager._resolvedBreakpoints.get(n)).filter(Xa(On)).map(n=>n.untilSetCompleted().then(()=>n.dapId)))])),await De(0),this._dap.with(n=>n.stopped({reason:e.reason,description:e.description,threadId:this.id,text:e.text,hitBreakpointIds:t,allThreadsStopped:!1}))}_onThreadResumed(){this._dap.with(e=>e.continued({threadId:this.id,allThreadsContinued:!1}))}isCrossThreadStep(e){if(!e.asyncStackTraceId||!e.asyncStackTraceId.debuggerId)return!1;let t=r.threadForDebuggerId(e.asyncStackTraceId.debuggerId);if(!t||!t._waitingForStepIn?.lastDetails)return!1;let n=t._waitingForStepIn.lastDetails.stackTrace;return t._cdp.Debugger.getStackTrace({stackTraceId:e.asyncStackTraceId}).then(i=>!i||!i.stackTrace.callFrames.length||!Tr.fromRuntime(t,i.stackTrace.callFrames[0],!1).equivalentTo(n.frames[0])?!1:(t._waitingForStepIn=void 0,!0))}async setScriptSourceMapHandler(e,t){this._scriptWithSourceMapHandler=t;let n=e&&this._sourceContainer.sourceMapTimeouts().sourceMapMinPause&&t;if(n&&!this._pauseOnSourceMapBreakpointIds?.length){await this.debuggerReady.promise;let i=await Promise.all([this._cdp.Debugger.setInstrumentationBreakpoint({instrumentation:"beforeScriptWithSourceMapExecution"}),this._cdp.Debugger.setBreakpointByUrl({lineNumber:0,columnNumber:0,urlRegex:"\\.[wW][aA][sS][mM]"})]);this._pauseOnSourceMapBreakpointIds=i.map(o=>o?.breakpointId).filter(St)}else if(!n&&this._pauseOnSourceMapBreakpointIds?.length){let i=this._pauseOnSourceMapBreakpointIds;this._pauseOnSourceMapBreakpointIds=void 0,await Promise.all(i.map(o=>this._cdp.Debugger.removeBreakpoint({breakpointId:o})))}return!!this._pauseOnSourceMapBreakpointIds?.length}async _enablePerScriptSourcemaps(){await this._breakpointManager.updateEntryBreakpointMode(this,1),await this.setScriptSourceMapHandler(!1,this._scriptWithSourceMapHandler)}_shouldEnablePerScriptSms(e){let t=this._sourceContainer.getScriptById(e.callFrames[0]?.location.scriptId);return t?t.url.includes("@vite/client")?!0:e.reason!=="instrumentation"||!mr(e.data?.sourceMapURL)?!1:t.url.startsWith("webpack")||t.url.startsWith("ng:"):!1}setSourceMapDisabler(e){this._sourceMapDisabler=e}static threadForDebuggerId(e){return r._allThreadsByDebuggerId.get(e)}async replacePathsInStackTrace(e){let t=[];for(let i of new Ys(e)){if(typeof i=="string"){t.push(i);continue}let o=this._sourceContainer.getSourceByOriginalUrl(We(i.path))||this._sourceContainer.getSourceByOriginalUrl(i.path);if(!o){t.push(i.toString());continue}t.push(this._sourceContainer.preferredUiLocation({columnNumber:i.position.base1.columnNumber,lineNumber:i.position.base1.lineNumber,source:o}).then(({source:s,lineNumber:a,columnNumber:c})=>`${s.absolutePath}:${a}:${c}`))}return(await Promise.all(t)).join("")}};var tF=r=>typeof r.uiLocation=="function",ns=class r{constructor(e){this.thread=e;this.frames=[];this._frameById=new Map;this._lastInlineWasmExpanded=Promise.resolve(0);this._lastFrameThread=e}static fromRuntime(e,t){let n=new r(e);for(let i of t.callFrames)i.url.endsWith(".cdp")||n.frames.push(Tr.fromRuntime(e,i,!1));return t.parentId?(n._asyncStackTraceId=t.parentId,console.assert(!t.parent)):n._appendStackTrace(e,t.parent),n}static fromDebugger(e,t,n,i){let o=new r(e);for(let s of t)o._appendFrame(Tr.fromDebugger(e,s));return i?(o._asyncStackTraceId=i,console.assert(!n)):o._appendStackTrace(e,n),o}async loadFrames(e,t){return await this.expandAsyncStack(e,t),await this.expandWasmFrames(),this.frames}async expandAsyncStack(e,t){for(;this.frames.length<e&&this._asyncStackTraceId;){if(this._asyncStackTraceId.debuggerId&&(this._lastFrameThread=Dl.threadForDebuggerId(this._asyncStackTraceId.debuggerId)),!this._lastFrameThread){this._asyncStackTraceId=void 0;break}t&&this._lastFrameThread.cdp().DotnetDebugger.setEvaluationOptions({options:{noFuncEval:t},type:"stackFrame"});let n=await this._lastFrameThread.cdp().Debugger.getStackTrace({stackTraceId:this._asyncStackTraceId});this._asyncStackTraceId=void 0,n&&this._appendStackTrace(this._lastFrameThread,n.stackTrace)}}expandWasmFrames(){return this._lastInlineWasmExpanded=this._lastInlineWasmExpanded.then(async e=>{for(;e<this.frames.length;e++){let t=this.frames[e];if(!(t instanceof Tr))continue;let n=t.scriptSource?.resolvedSource;if(!gc(n))continue;let i=await n.sourceMap.value.promise;if(!i.getFunctionStack)continue;let o=await i.getFunctionStack(t.rawPosition);if(o.length===0)continue;let s=[];for(let a=0;a<o.length;a++){let c=new cm({source:n,thread:this.thread,inlineFrameIndex:a,name:o[a].name,root:t});this._frameById.set(c.frameId,c),s.push(c)}this._spliceFrames(e,1,...s),e+=o.length-1}return e})}frame(e){return this._frameById.get(e)}_appendStackTrace(e,t){for(console.assert(!t||!this._asyncStackTraceId);t;){if(t.description==="async function"&&t.callFrames.length&&t.callFrames.shift(),t.callFrames.length){this._appendFrame(new Jy(t.description||"async"));for(let n of t.callFrames)this._appendFrame(Tr.fromRuntime(e,n,!0))}t.parentId&&(this._asyncStackTraceId=t.parentId,console.assert(!t.parent)),t=t.parent}}_spliceFrames(e,t,...n){this.frames.splice(e,t,...n);for(let i of n)i instanceof Jy||this._frameById.set(i.frameId,i)}_appendFrame(e){this._spliceFrames(this.frames.length,0,e)}async formatAsNative(){return await this.formatWithMapper(e=>e.formatAsNative())}async format(){return await this.formatWithMapper(e=>e.format())}async formatWithMapper(e){let t=await this.loadFrames(50);for(let i=t.length-1;i>=0;i--){let o=t[i];if(o instanceof Tr&&o.isReplEval){t=t.slice(0,i+1);break}}let n=t.map(e);return(await Promise.all(n)).join(`
`)+`
`}async toDap(e){let t=e.startFrame||0,n=(e.levels||50)+t,i=await this.loadFrames(n,e.noFuncEval);n=Math.min(i.length,e.levels?n:i.length);let o=[];for(let s=t;s<n;s++)o.push(i[s].toDap(e.format));return{stackFrames:await Promise.all(o),totalFrames:this._asyncStackTraceId?1e6:i.length}}},NS=Uh(),Jy=class{constructor(e="async"){this.label=e;this.frameId=NS()}async toDap(){return{name:this.label,id:0,line:0,column:0,presentationHint:"label"}}async formatAsNative(){return`    --- ${this.label} ---`}async format(){return`\u25C0 ${this.label} \u25B6`}},rF="<anonymous>",gre=/^class\s+(.+) {($|\n)/;async function Hre(r,e,t){if(!e.functionName)return rF;if(e.functionName.includes("."))return e.functionName;let n;if(e.this.objectId&&t&&(n=(await r.cdp().Runtime.callFunctionOn({functionDeclaration:Wy.decl("64","null"),objectId:e.this.objectId,returnByValue:!0}))?.result.value),!n&&e.this.description){n=e.this.description;let s=gre.exec(n);s&&(n=s[1])}if(!n)return e.functionName;let i=n.indexOf(`
`);i!==-1&&(n=n.slice(0,i).trim());let o=e.functionName;return n===o?`${n}.constructor`:n?`${n}.${o}`:o}function yre(r){return r.functionName||rF}var Tr=class r{constructor(e,t,n,i=!1){this.callFrame=t;this.isAsync=i;this.frameId=NS();this.root=this;this.getLocationInfo=Se(async()=>{let e=this.uiLocation(),t=await bS(this),n=this.overrideName||("this"in this.callFrame?await Hre(this._thread,this.callFrame,t===0):yre(this.callFrame));return{isSmartStepped:t,name:n,uiLocation:await e}});this.completions=Se(async()=>{if(!this._scope)return[];let e=this._thread.pausedVariables();if(!e)return[];let t=[];for(let i=0;i<this._scope.chain.length;i++){let o=this._scopeVariable(i,this._scope);o&&t.push(e.getVariableNames({variablesReference:o.id}).then(s=>s.map(a=>({label:a,type:"property"}))))}let n=await Promise.all(t);return[].concat(...n)});this._rawLocation=n,this.uiLocation=Se(()=>e.rawLocationToUiLocation(n)),this._thread=e;let o=n.scriptId?e.getScriptById(n.scriptId):void 0;this.isReplEval=o?o.url.endsWith(".repl"):!1}get rawPosition(){return new Bt(this._rawLocation.lineNumber,this._rawLocation.columnNumber)}static fromRuntime(e,t,n){return new r(e,t,e.rawLocation(t),n)}static fromDebugger(e,t){let n=new r(e,t,e.rawLocation(t));return n._scope={chain:t.scopeChain,thisObject:t.this,returnValue:t.returnValue,variables:new Array(t.scopeChain.length).fill(void 0),callFrameId:t.callFrameId},n}get scriptId(){return"scriptId"in this.callFrame?this.callFrame.scriptId:this.callFrame.location.scriptId}get scriptSource(){return this._thread._sourceContainer.getScriptById(this.scriptId)}get canExplicitlyBeRestarted(){return!!this.callFrame.canBeRestarted}equivalentTo(e){return e instanceof r&&e._rawLocation.columnNumber===this._rawLocation.columnNumber&&e._rawLocation.lineNumber===this._rawLocation.lineNumber&&e._rawLocation.scriptId===this._rawLocation.scriptId}callFrameId(){return this._scope?this._scope.callFrameId:void 0}async scopes(){let e=this._scope;if(!e)throw new K(Bk());return{scopes:(await Promise.all(e.chain.map(async(n,i)=>{let o="",s;switch(n.type){case"global":o=Qr.t("Global");break;case"local":o=Qr.t("Local"),s="locals";break;case"with":o=Qr.t("With Block"),s="locals";break;case"closure":o=Qr.t("Closure"),s="arguments";break;case"catch":o=Qr.t("Catch Block"),s="locals";break;case"block":o=Qr.t("Block"),s="locals";break;case"script":o=Qr.t("Script");break;case"eval":o=Qr.t("Eval");break;case"module":o=Qr.t("Module");break;default:o=n.type.substr(0,1).toUpperCase()+n.type.substr(1);break}n.name&&n.type==="closure"?o=Qr.t("Closure ({0})",n.name):n.name&&(o=`${o}: ${n.name}`);let a=this._scopeVariable(i,e);if(!a)return;let c={name:o,presentationHint:s,expensive:n.type==="global",variablesReference:a.id};if(n.startLocation){let u=this._thread.rawLocation(n.startLocation),l=await this._thread.rawLocationToUiLocation(u);if(c.line=(l||u).lineNumber,c.column=(l||u).columnNumber,l&&(c.source=await l.source.toDap()),n.endLocation){let p=this._thread.rawLocation(n.endLocation),d=await this._thread.rawLocationToUiLocation(p);c.endLine=(d||p).lineNumber,c.endColumn=(d||p).columnNumber}}return c}))).filter(St)}}getStepSkipList(e){return Promise.resolve(void 0)}async toDap(e){let{isSmartStepped:t,name:n,uiLocation:i}=await this.getLocationInfo(),o=i?await i.source.toDap():void 0,s=t?"deemphasize":"normal";t&&o&&(o.origin=t===1?Qr.t("Skipped by smartStep"):Qr.t("Skipped by skipFiles"));let a=(i||this._rawLocation).lineNumber,c=(i||this._rawLocation).columnNumber,u=n;return o&&e&&(e.module&&(u+=` [${o.name}]`),e.line&&(u+=` Line ${a}`)),{id:this.frameId,name:u,line:a,column:c,source:o,presentationHint:s,canRestart:this.callFrame.canBeRestarted??!this.isAsync}}async formatAsNative(){let{name:e,uiLocation:t}=await this.getLocationInfo(),n=await t?.source.existingAbsolutePath()||await t?.source.prettyName()||this.callFrame.url,{lineNumber:i,columnNumber:o}=t||this._rawLocation;return`    at ${e} (${n}:${i}:${o})`}async format(){let{name:e,uiLocation:t}=await this.getLocationInfo(),n=await t?.source.prettyName()||"<unknown>",i=t||this._rawLocation,o=`${e} @ ${n}:${i.lineNumber}`;return i.columnNumber>1&&(o+=`:${i.columnNumber}`),o}_scopeVariable(e,t){let n=t.variables[e];if(n)return n;let i={stackFrame:this,callFrameId:t.callFrameId,scopeNumber:e},o=[];e===0&&(t.thisObject&&o.push({name:"this",value:t.thisObject}),t.returnValue&&o.push({name:Qr.t("Return value"),value:t.returnValue}));let s=this._thread.pausedVariables();if(!s)return;let a=s.createScope(t.chain[e].object,i,o);return t.variables[e]=a}},OS={scopes:[]},cm=class{constructor(e){this.frameId=NS();this.name=e.name,this.root=e.root,this.thread=e.thread,this.source=e.source,this.inlineFrameIndex=e.inlineFrameIndex,this.wasmPosition=new wt(this.inlineFrameIndex,this.root.rawPosition.base0.columnNumber),this.uiLocation=Se(()=>e.thread._sourceContainer.preferredUiLocation({columnNumber:e.root.rawPosition.base1.columnNumber,lineNumber:e.inlineFrameIndex+1,source:e.source}))}async formatAsNative(){let{columnNumber:e,lineNumber:t,source:n}=await this.uiLocation();return`    at ${this.name} (${n.url}:${t}:${e})`}async format(){let{columnNumber:e,lineNumber:t,source:n}=await this.uiLocation(),i=await n.prettyName()||"<unknown>";return`${this.name} @ ${i}:${t}:${e}`}async toDap(){let{columnNumber:e,lineNumber:t,source:n}=await this.uiLocation();return Promise.resolve({id:this.frameId,name:this.name,column:e,line:t,source:await n.toDap()})}async getStepSkipList(e){let t=this.source.sourceMap.value.settledValue;if(!t?.getStepSkipList)return;let n=await this.uiLocation();return n?t.getStepSkipList(e,this.wasmPosition,n.source.compiledToSourceUrl.get(this.source),new Bt(n.lineNumber,n.columnNumber)):t.getStepSkipList(e,this.root.rawPosition)}async scopes(){let e=this.source.sourceMap.value.settledValue,t=this.root.callFrameId();if(!e||!t)return OS;let n=await e.getVariablesInScope?.(t,this.wasmPosition);if(!n)return OS;let i=this.thread.pausedVariables();if(!i)return OS;let o={stackFrame:this.root,callFrameId:t,scopeNumber:0};return{scopes:await Promise.all([...AR(n,s=>s.scope)].map(([s,a])=>i.createWasmScope(s,a,o).toDap("propertyValue").then(c=>({name:c.name,variablesReference:c.variablesReference,expensive:s!=="LOCAL"}))))}}};var nF=w(we());var Cc=class{constructor(e){this.event=e;this.stackTrace=Se(e=>this.event.stackTrace?ns.fromRuntime(e,this.event.stackTrace):void 0);this.getUiLocation=Se(async e=>{let t=this.stackTrace(e);if(!t)return;let n;for(let i of t.frames){if(!(i instanceof Tr))continue;let o=await i.uiLocation();if(o&&(n||(n=o),!o.source.blackboxed()))return{source:await o.source.toDap(),line:o.lineNumber,column:o.columnNumber}}if(n)return{source:await n.source.toDap(),line:n.lineNumber,column:n.columnNumber}})}formatDefaultString(e,t,n=!1){let o=t.length>1&&t[0].type==="string"?fS(t[0].value,t.slice(1),HS):fS("",t,HS),s=o.result+`
`;return o.usedAllSubs&&!t.some(Ac)?{output:s}:this.formatComplexStringOutput(e,s,t,n)}async formatComplexStringOutput(e,t,n,i){(n.some(s=>s.subtype==="error")||Ys.isStackLike(t))&&(await this.getUiLocation(e),t=await e.replacePathsInStackTrace(t),i=!0);let o=e.replVariables.createVariableForOutput(t,n,i?this.stackTrace(e):void 0);return{output:t,variablesReference:o.id}}},Yy=class extends Cc{async toDap(e){return this.event.args[0]?.value==="console.assert"&&(this.event.args[0].value=nF.t("Assertion failed")),{category:"stderr",...await this.formatDefaultString(e,this.event.args,!0),...await this.getUiLocation(e)}}},Tc=class extends Cc{constructor(t,n,i){super(t);this.includeStack=n;this.category=i}async toDap(t){return{category:this.category,...await this.formatDefaultString(t,this.event.args,this.includeStack),...await this.getUiLocation(t)}}},ea=class extends Tc{constructor(e){super(e,!1,"stdout")}},Qy=class extends Tc{constructor(e){super(e,!0,"stdout")}},Zy=class extends Tc{constructor(e){super(e,!0,"stderr")}},eb=class extends Tc{constructor(e){super(e,!0,"stderr")}},tb=class extends Cc{async toDap(e){return{category:"stdout",group:this.event.type==="startGroupCollapsed"?"startCollapsed":"start",...await this.formatDefaultString(e,this.event.args),...await this.getUiLocation(e)}}},rb=class extends Tc{constructor(e){super(e,!1,"stdout")}async toDap(e){return this.event.args[0]?.preview?{category:"stdout",output:"",variablesReference:e.replVariables.createVariableForOutput("",this.event.args,void 0,this.event.type).id,...await this.getUiLocation(e)}:super.toDap(e)}};var am=class extends Cc{constructor(){super(...arguments);this.stackTrace=Se(t=>{if(this.event.stackTrace)return ns.fromRuntime(t,this.event.stackTrace);if(this.event.scriptId)return ns.fromRuntime(t,{callFrames:[{functionName:"(program)",lineNumber:this.event.lineNumber,columnNumber:this.event.columnNumber,scriptId:this.event.scriptId,url:this.event.url||""}]})})}async toDap(t){let n=this.event.exception?Ec(this.event.exception):{title:""},i=n.title;i.startsWith("Uncaught")||(i=`Uncaught ${this.event.exception?.className??"Error"} `+i);let o=this.stackTrace(t),s=this.event.exception&&!n.stackTrace?[this.event.exception]:[];return Ys.isStackLike(i)?i=await t.replacePathsInStackTrace(i):o&&(i+=`
`+await o.formatAsNative()),{category:"stderr",output:i,variablesReference:o||s.length?t.replVariables.createVariableForOutput(i,s,o).id:void 0,...await this.getUiLocation(t)}}};var nb=Symbol("IConsole");var lm=w(V());var iF=w(V());var ta=Symbol("IShutdownParticipants"),$l=class{constructor(){this.participants=[]}register(e,t){if(this.shutdownStage!==void 0&&this.shutdownStage>=e)return t(),cl;for(;this.participants.length<=e;)this.participants.push(new Set);return this.participants[e].add(t),{dispose:()=>this.participants[e].delete(t)}}async shutdown(){for(this.shutdownStage=0;this.shutdownStage<this.participants.length;this.shutdownStage++)await Promise.all([...this.participants[this.shutdownStage]].map(e=>e()))}};$l=E([(0,iF.injectable)()],$l);var um=class{toDap(){return{category:"console",output:"\x1B[2J"}}},ib=class{toDap(){return{category:"stdout",output:"",group:"end"}}};var ob=class{constructor(e){this.sink=e;this.q=[];this.disposed=!1;this.onDrainedEmitter=new U;this.onDrained=this.onDrainedEmitter.event}get length(){return this.q.length}enqueue(e){this.disposed||(this.q.push(new FS(e)),this.q.length===1&&this.process())}dispose(){this.disposed=!0,this.q=[]}async process(){let e=this.q.findIndex(t=>t.value===sF);e===0?await this.q[0].wait:e===-1?(this.sink(oF(this.q)),this.q=[]):(this.sink(oF(this.q.slice(0,e))),this.q=this.q.slice(e)),this.q.length?this.process():this.onDrainedEmitter.fire()}},oF=r=>r.map(e=>e.value).filter(e=>e!==aF),sF=Symbol("unsettled"),aF=Symbol("unsettled"),FS=class{constructor(e){this.value=sF;e instanceof Promise?this.wait=e.then(t=>{this.value=t},()=>{this.value=aF}):(this.value=e,this.wait=Promise.resolve())}};var vre=new Set(["group","assert","count"]),kl=class{constructor(e,t){this.dap=e;this.isDirty=!1;this.queue=new ob(e=>{for(let t of e)this.dap.output(t)});this.onDrained=this.queue.onDrained;t.register(0,async()=>{this.length&&await new Promise(n=>this.onDrained(n)),this.dispose()})}get length(){return this.queue.length}dispose(){this.queue.dispose()}dispatch(e,t){let n=this.parse(t);n&&this.enqueue(e,n)}enqueue(e,t){if(!(t instanceof um))this.isDirty=!0;else if(this.isDirty)this.isDirty=!1;else return;this.queue.enqueue(t.toDap(e))}parse(e){if(e.type==="log"){let t=e.stackTrace?.callFrames[0];if(t&&t.url==="internal/console/constructor.js"&&vre.has(t.functionName))return}switch(e.type){case"clear":return new um;case"endGroup":return new ib;case"assert":return new Yy(e);case"table":return new rb(e);case"startGroup":case"startGroupCollapsed":return new tb(e);case"debug":case"log":case"info":return new ea(e);case"trace":return new Qy(e);case"error":return new eb(e);case"warning":return new Zy(e);case"dir":case"dirxml":return new ea(e);case"count":return new ea(e);case"profile":case"profileEnd":return new ea(e);case"timeEnd":return new ea(e);default:try{Fh(e.type,"unknown console message type")}catch{}}}};kl=E([(0,lm.injectable)(),H(0,(0,lm.inject)(Vr)),H(1,(0,lm.inject)(ta))],kl);var Lc=w(V()),lF=require("os"),pF=require("path");var BS=require("path"),cF=(0,BS.join)(__dirname,"diagnosticTool.js"),uF=(0,BS.join)(__dirname,"diagnosticTool.css");var yo=Symbol("ITarget"),hr=Symbol("ILauncher");var ra=class{constructor(e,t,n,i){this.fs=e;this.sources=t;this.breakpoints=n;this.target=i}async generateObject(){let[e]=await Promise.all([this.dumpSources()]);return{breakpoints:this.dumpBreakpoints(),sources:e,config:this.target.launchConfig}}async generateHtml(e=(0,pF.join)((0,lF.tmpdir)(),"js-debug-diagnostics.html")){return await this.fs.writeFile(e,`<!DOCTYPE html>
      <html lang="en">
      <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Document</title>
        <style>${await this.fs.readFile(uF,"utf-8")}<</style>
      </head>
      <body>
        <script>window.DUMP=${JSON.stringify(await this.generateObject())}</script>
        <script>${await this.fs.readFile(cF,"utf-8")}</script>
      </body>
      </html>`),e}dumpBreakpoints(){let e=[];for(let t of[this.breakpoints.appliedByPath,this.breakpoints.appliedByRef])for(let n of t.values())for(let i of n){let o=i.diagnosticDump();e.push({source:o.source,params:o.params,cdp:o.cdp.map(s=>s.state===1?{...s,uiLocations:s.uiLocations.map(a=>this.dumpUiLocation(a))}:{...s,done:void 0})})}return e}dumpSources(){let e=[],t=0;for(let n of this.sources.sources)e.push((async()=>({uniqueId:t++,url:n.url,sourceReference:n.sourceReference,absolutePath:n.absolutePath,actualAbsolutePath:await n.existingAbsolutePath(),scriptIds:n.scripts.map(i=>i.scriptId),prettyName:await n.prettyName(),compiledSourceRefToUrl:n instanceof Dt?[...n.compiledToSourceUrl.entries()].map(([i,o])=>[i.sourceReference,o]):void 0,sourceMap:hc(n)?{url:n.sourceMap.metadata.sourceMapUrl,metadata:n.sourceMap.metadata,sources:No(Object.fromEntries(n.sourceMap.sourceByUrl),i=>i.sourceReference)}:void 0}))());return Promise.all(e)}dumpUiLocation(e){return{lineNumber:e.lineNumber,columnNumber:e.columnNumber,sourceReference:e.source.sourceReference}}};ra=E([(0,Lc.injectable)(),H(0,(0,Lc.inject)(_e)),H(1,(0,Lc.inject)(ir)),H(2,(0,Lc.inject)(Un)),H(3,(0,Lc.inject)(yo))],ra);var fF=w(we()),sb=w(V());var dF="@vscode/dwarf-debugging",Rl=class{constructor(e){this.dap=e;this.didPrompt=!1}async load(){try{return await import(dF)}catch{return}}prompt(){this.didPrompt||(this.didPrompt=!0,this.dap.output({output:fF.t("You may install the `{}` module via npm for enhanced WebAssembly debugging",dF),category:"console"}))}};Rl=E([(0,sb.injectable)(),H(0,(0,sb.inject)(Vr))],Rl);var na=w(V());var Ol=Symbol("IExceptionPauseService");var Ml=class{constructor(e,t,n,i,o){this.evaluator=e;this.scriptSkipper=t;this.dap=n;this.sourceContainer=o;this.state={cdp:"none"};this.blocker=Ge();this.noDebug=!!i.noDebug,this.breakOnError=i.__breakOnConditionalError,this.blocker.resolve()}get launchBlocker(){return this.blocker.promise}async setBreakpoints(e){if(!this.noDebug){try{this.state=this.parseBreakpointRequest(e)}catch(t){if(!(t instanceof K))throw t;this.dap.output({category:"stderr",output:t.message});return}this.cdp?await this.sendToCdp(this.cdp):this.state.cdp!=="none"&&this.blocker.hasSettled()&&(this.blocker=Ge())}}async shouldPauseAt(e){if(e.reason!=="exception"&&e.reason!=="promiseRejection"||this.state.cdp==="none"||e.callFrames.some(n=>this.sourceContainer.getSourceScriptById(n.location.scriptId)?.url.endsWith(".cdp"))||this.shouldScriptSkip(e))return!1;let t=this.state.condition;if(e.data?.uncaught){if(t.uncaught&&!await this.evalCondition(e,t.uncaught))return!1}else if(t.caught&&!await this.evalCondition(e,t.caught))return!1;return!0}async apply(e){this.cdp=e,this.state.cdp!=="none"&&await this.sendToCdp(e)}async sendToCdp(e){await e.Debugger.setPauseOnExceptions({state:this.state.cdp}),this.blocker.resolve()}async evalCondition(e,t){return!!(await t({callFrameId:e.callFrames[0].callFrameId},{error:e.data}))?.result.value}shouldScriptSkip(e){if(e.data?.uncaught||!e.callFrames.length)return!1;let t=this.sourceContainer.getScriptById(e.callFrames[0].location.scriptId);return!!t&&this.scriptSkipper.isScriptSkipped(t.url)}parseBreakpointRequest(e){let t=(e.filterOptions??[]).concat(e.filters.map(a=>({filterId:a}))),n="none",i=[],o=[];for(let{filterId:a,condition:c}of t)a==="all"?(n="all",c&&i.push(a)):a==="uncaught"&&(n==="none"&&(n="uncaught"),c&&o.push(a));let s=a=>{if(a.length===0)return;let c="!!("+t.map(p=>p.condition).filter(St).join(") || !!(")+")",u=Ms(c);if(u)throw new K($s({line:0,condition:c},u.message));let l=lA(c,this.breakOnError);return this.evaluator.prepare(l,{hoist:["error"]}).invoke};return n==="none"?{cdp:n}:{cdp:n,condition:{caught:s(i),uncaught:s(o)}}}};Ml=E([(0,na.injectable)(),H(0,(0,na.inject)(Mn)),H(1,(0,na.inject)(Vs)),H(2,(0,na.inject)(Vr)),H(3,(0,na.inject)(Ne)),H(4,(0,na.inject)(ir))],Ml);var ub=w(V());var ab=class{constructor(){this.didEnable=new WeakSet}async retrieve(e){this.didEnable.has(e)||(this.didEnable.add(e),await e.Performance.enable({}));let t=await e.Performance.getMetrics({});if(!t)return{error:"Error in CDP"};let n={};for(let i of t.metrics)n[i.name]=i.value;return{metrics:n}}};var cb=class{async retrieve(e){let t=await e.Runtime.evaluate({expression:`({
        memory: process.memoryUsage(),
        cpu: process.cpuUsage(),
        timestamp: Date.now(),
        resourceUsage: process.resourceUsage && process.resourceUsage(),
      })${gt()}`,returnByValue:!0});return t?t.exceptionDetails?{error:t.exceptionDetails.text}:{metrics:t.result.value}:{error:"No response from CDP"}}};var lb=Symbol("IPerformanceProvider"),Dc=class{constructor(e){this.target=e}create(){return this.target.type()==="node"?new cb:new ab}};Dc=E([(0,ub.injectable)(),H(0,(0,ub.inject)(yo))],Dc);var GS=w(we()),gF=require("crypto"),ia=w(V()),HF=require("os"),yF=require("path");var fb=w(V());var US=w(we()),$c=w(V()),pb=require("path");var Nl=class{constructor(e){this.sources=e;this.locationIdCounter=0;this.locationsByRef=new Map}getLocationIdFor(e){let t=[e.functionName,e.url,e.scriptId,e.lineNumber,e.columnNumber].join(":"),n=this.locationsByRef.get(t);if(n)return n.id;let i=this.locationIdCounter++;return this.locationsByRef.set(t,{id:i,callFrame:e,locations:(async()=>{let o=await this.sources.getScriptById(e.scriptId)?.source;if(!o)return[];let s=await this.sources.currentSiblingUiLocations({lineNumber:e.lineNumber+1,columnNumber:e.columnNumber+1,source:o});return Promise.all(s.map(async a=>({...a,source:await a.source.toDap()})))})()}),i}getLocations(){return Promise.all([...this.locationsByRef.values()].sort((e,t)=>e.id-t.id).map(async e=>({callFrame:e.callFrame,locations:await e.locations})))}};var ar=class{constructor(e,t,n,i){this.cdp=e;this.fs=t;this.sources=n;this.launchConfig=i}static canApplyTo(){return!0}async start(e,t){if(!await this.cdp.Profiler.start({}))throw new K(Mu());return new jS(this.cdp,this.fs,this.sources,this.launchConfig.__workspaceFolder,t)}async save(e,t){let n=await mF(e,this.sources,this.launchConfig.__workspaceFolder);(0,pb.isAbsolute)(t)||(t=(0,pb.join)(this.launchConfig.__workspaceFolder,t)),await this.fs.writeFile(t,JSON.stringify(n))}};ar.type="cpu",ar.extension=".cpuprofile",ar.label=US.t("CPU Profile"),ar.description=US.t("Generates a .cpuprofile file you can open in VS Code or the Edge/Chrome devtools"),ar.editable=!0,ar=E([(0,$c.injectable)(),H(0,(0,$c.inject)(Ht)),H(1,(0,$c.inject)(_e)),H(2,(0,$c.inject)(ir)),H(3,(0,$c.inject)(Ne))],ar);var jS=class{constructor(e,t,n,i,o){this.cdp=e;this.fs=t;this.sources=n;this.workspaceFolder=i;this.file=o;this.stopEmitter=new U;this.disposed=!1;this.onUpdate=new U().event;this.onStop=this.stopEmitter.event}async dispose(){this.disposed||(this.disposed=!0,this.stopEmitter.fire())}async stop(){let e=await this.cdp.Profiler.stop({});if(!e)throw new K(Mu());await this.dispose();let t=await mF(e.profile,this.sources,this.workspaceFolder);await this.fs.writeFile(this.file,JSON.stringify(t))}};async function mF(r,e,t){let n=new Nl(e),i=r.nodes.map(o=>({...o,locationId:n.getLocationIdFor(o.callFrame),positionTicks:o.positionTicks?.map(s=>({...s,startLocationId:n.getLocationIdFor({...o.callFrame,lineNumber:s.line-1,columnNumber:0}),endLocationId:n.getLocationIdFor({...o.callFrame,lineNumber:s.line,columnNumber:0})}))}));return{...r,nodes:i,$vscode:{rootPath:t,locations:await n.getLocations()}}}var WS=w(we()),kc=w(V());var yn=class{constructor(e,t,n,i){this.cdp=e;this.fs=t;this.sources=n;this.launchConfig=i}static canApplyTo(){return!0}async start(e,t){if(await this.cdp.HeapProfiler.enable({}),!await this.cdp.HeapProfiler.startSampling({}))throw new K(Mu());return new qS(this.cdp,this.fs,this.sources,this.launchConfig.__workspaceFolder,t)}};yn.type="heap",yn.extension=".heapprofile",yn.label=WS.t("Heap Profile"),yn.description=WS.t("Generates a .heapprofile file you can open in VS Code or the Edge/Chrome devtools"),yn.editable=!0,yn=E([(0,kc.injectable)(),H(0,(0,kc.inject)(Ht)),H(1,(0,kc.inject)(_e)),H(2,(0,kc.inject)(ir)),H(3,(0,kc.inject)(Ne))],yn);var qS=class{constructor(e,t,n,i,o){this.cdp=e;this.fs=t;this.sources=n;this.workspaceFolder=i;this.file=o;this.stopEmitter=new U;this.disposed=!1;this.onUpdate=new U().event;this.onStop=this.stopEmitter.event}async dispose(){this.disposed||(this.disposed=!0,await this.cdp.HeapProfiler.disable({}),this.stopEmitter.fire())}async stop(){let e=await this.cdp.HeapProfiler.stopSampling({});if(!e)throw new K(Mu());await this.dispose();let t=await this.annotateSources(e.profile);await this.fs.writeFile(this.file,JSON.stringify(t))}async annotateSources(e){let t=new Nl(this.sources),n=(o,s)=>{s.locationId=t.getLocationIdFor(o.callFrame);for(let a of o.children){let c={...a,children:[]};s.children.push(c),n(a,c)}},i={...e.head,children:[]};return n(e.head,i),{...e,head:i,$vscode:{rootPath:this.workspaceFolder,locations:await t.getLocations()}}}};var VS=w(we()),hF=require("fs"),db=w(V());var bn=class{constructor(e){this.cdp=e;this.cdp.HeapProfiler.on("addHeapSnapshotChunk",({chunk:t})=>this.currentWriter?.stream.write(t))}static canApplyTo(){return!0}async start(e,t){return{onStop:new U().event,onUpdate:new U().event,dispose:()=>{},stop:async()=>{await this.cdp.HeapProfiler.enable({}),await this.dumpToFile(t),await this.cdp.HeapProfiler.disable({})}}}async dumpToFile(e){let{stream:t,promise:n}=this.currentWriter={stream:(0,hF.createWriteStream)(e),promise:this.cdp.HeapProfiler.takeHeapSnapshot({})};await n,t.end(),this.currentWriter=void 0}};bn.type="memory",bn.extension=".heapsnapshot",bn.label=VS.t("Heap Snapshot"),bn.description=VS.t("Generates a .heapsnapshot file you can open in VS Code or the Edge/Chrome devtools"),bn.instant=!0,bn=E([(0,db.injectable)(),H(0,(0,db.inject)(Ht))],bn);var mb=Symbol("IProfilerFactory"),hb=()=>{let r=new Date;return["vscode-profile",r.getFullYear(),r.getMonth()+1,r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds()].map(e=>String(e).padStart(2,"0")).join("-")},Zr=class{constructor(e){this.container=e}get(e){let t=Zr.ctors.find(n=>n.type===e);if(!t)throw new Error(`Invalid profilter type ${e}`);return this.container.get(t)}};Zr.ctors=[ar,yn,bn],Zr=E([(0,fb.injectable)(),H(0,(0,fb.inject)(fl))],Zr);var gb=Symbol("IProfileController"),Fl=class{constructor(e,t,n,i,o){this.cdp=e;this.factory=t;this.basicCpuProfiler=n;this.breakpoints=i;this.shutdown=o;this.seenConsoleProfileNames=Object.create(null)}connect(e,t){e.on("startProfile",async n=>(await this.start(e,t,n),{})),e.on("stopProfile",()=>this.stopProfiling(e)),this.cdp.Profiler.on("consoleProfileStarted",()=>{e.output({output:GS.t("Console profile started")+`
`,category:"console"})}),this.cdp.Profiler.on("consoleProfileFinished",async n=>{let i=this.saveConsoleProfile(e,n),o=this.shutdown.register(0,()=>i);await i,o.dispose()}),t.onPaused(()=>this.stopProfiling(e))}async start(e,t,n){if(this.profile)throw new K(Nk());this.profile=this.startProfileInner(e,t,n).catch(i=>{throw this.profile=void 0,i}),await this.profile}async saveConsoleProfile(e,t){let n;if(t.title){n=t.title.replace(/[\/\\]/g,"-");let i=this.seenConsoleProfileNames[t.title]||0;this.seenConsoleProfileNames[t.title]=i+1,i>0&&(n+=`-${i}`)}else n=hb();n+=ar.extension,await this.basicCpuProfiler.save(t.profile,n),e.output({output:GS.t('CPU profile saved as "{0}" in your workspace folder',n)+`
`,category:"console"})}async startProfileInner(e,t,n){let i=!1,o;if(n.stopAtBreakpoint?.length){let l=new Set(n.stopAtBreakpoint);i=!0,o=p=>!(p instanceof On)||l.has(p.dapId)}else o=()=>!1;await this.breakpoints.applyEnabledFilter(o);let s=(0,yF.join)((0,HF.tmpdir)(),`vscode-js-profile-${(0,gF.randomBytes)(4).toString("hex")}`),a=await this.factory.get(n.type).start(n,s),c={file:s,profile:a,enableFilter:o,keptDebuggerOn:i};a.onUpdate(l=>e.profilerStateUpdate({label:l,running:!0})),a.onStop(()=>this.disposeProfile(c));let u=!!t.pausedDetails();return i?await t.resume():u&&(await this.cdp.Debugger.disable({}),u&&t.onResumed()),e.profileStarted({file:c.file,type:n.type}),c}async stopProfiling(e){let t=await this.profile?.catch(()=>{});return!t||!this.profile?{}:(this.profile=void 0,await t?.profile.stop(),e.profilerStateUpdate({label:"",running:!1}),{})}async disposeProfile({profile:e,enableFilter:t,keptDebuggerOn:n}){n||await this.cdp.Debugger.enable({}),await this.breakpoints.applyEnabledFilter(void 0,t),e.dispose()}};Fl=E([(0,ia.injectable)(),H(0,(0,ia.inject)(Ht)),H(1,(0,ia.inject)(mb)),H(2,(0,ia.inject)(ar)),H(3,(0,ia.inject)(Un)),H(4,(0,ia.inject)(ta))],Fl);var Kn=w(V());var q3=w(bF()),V3=require("dns"),Gb=w(W3()),Nc=w(V());var Jl=Symbol("IRequestOptionsProvider");var ua=class{constructor(e,t){this.fs=e;this.options=t;this.autoLocalhostPortFallbacks={}}async fetch(e,t=or,n){try{let o=(0,q3.dataUriToBuffer)(e);return{ok:!0,url:e,body:new TextDecoder().decode(o.buffer),statusCode:200}}catch{}let i=Pr(e)?e:xt(e);if(i)try{return{ok:!0,url:e,body:await this.fs.readFile(i,"utf-8"),statusCode:200}}catch(o){return{ok:!1,url:e,error:o,statusCode:200}}return this.fetchHttp(e,t,n)}async fetchJson(e,t,n){let i=await this.fetch(e,t,{Accept:"application/json",...n});if(!i.ok)return i;try{return{...i,body:JSON.parse(i.body)}}catch(o){return{...i,ok:!1,url:e,error:o}}}async fetchHttp(e,t,n){let i=new URL(e),o=i.protocol!=="http:",s=Number(i.port)??(o?443:80),a={headers:n,followRedirect:!0};o&&await Vu(e)&&(a.rejectUnauthorized=!1),this.options?.provideOptions(a,e);let c=i.hostname==="localhost";if(c&&this.autoLocalhostPortFallbacks[s]){let p=await this.requestHttp(i.toString(),a,t);return p.statusCode!==503?p:(delete this.autoLocalhostPortFallbacks[s],this.requestHttp(e,a,t))}let l=await this.requestHttp(e,a,t);if(l.statusCode===503&&c){let p;try{p=await V3.promises.lookup(i.hostname)}catch{return l}i.hostname=p.family===6?"127.0.0.1":"[::1]",l=await this.requestHttp(i.toString(),a,t),l.statusCode!==503&&(this.autoLocalhostPortFallbacks[s]=i.hostname)}return l}async requestHttp(e,t,n){this.options?.provideOptions(t,e);let i=new Ce;try{let o=(0,Gb.default)(e,t);i.push(n.onCancellationRequested(()=>o.cancel()));let s=await o;return{ok:!0,url:e,body:s.body,statusCode:s.statusCode}}catch(o){if(!(o instanceof Gb.RequestError))throw o;let s=o.response?String(o.response?.body):o.message,a=o.response?.statusCode??503;return{ok:!1,body:s,statusCode:a,url:e,error:new pH(a,e,s)}}finally{i.dispose()}}};ua=E([(0,Nc.injectable)(),H(0,(0,Nc.inject)(_e)),H(1,(0,Nc.optional)()),H(1,(0,Nc.inject)(Jl))],ua);var Fc=class extends ua{constructor(t,n,i,o,s){super(t,s);this.logger=n;this.target=i;this.cdp=o;this.disposables=new Ce}dispose(){this.disposables.dispose()}async fetchHttp(t,n,i={}){let o=await super.fetchHttp(t,n,i);return o.ok?o:(this.logger.info("runtime","Network load failed, falling back to CDP",{url:t,res:o}),this.fetchOverBrowserNetwork(t,o))}async fetchOverBrowserNetwork(t,n){if(!this.cdp)return n;let i=await this.cdp.Network.loadNetworkResource({frameId:this.target?.targetInfo.targetId,url:t,options:{includeCredentials:!0,disableCache:!0}});if(!i||!i.resource.success||!i.resource.httpStatusCode||i.resource.httpStatusCode>=400||!i.resource.stream)return n;let o=Number(i.resource.headers?.["Content-Length"]);isNaN(o)&&(o=1/0);let s=[],a=0;for(;;){let c=await this.cdp.IO.read({handle:i.resource.stream,offset:a});if(!c)return this.logger.info("runtime","Stream error encountered in middle, falling back",{url:t}),n;let u=c.base64Encoded?Buffer.from(c.data,"base64").toString():c.data;if(a+=Buffer.byteLength(u,"utf-8"),s.push(u),a>=o){this.cdp.IO.close({handle:i.resource.stream});break}if(c.eof)break}return{ok:!0,body:s.join(""),statusCode:i.resource.httpStatusCode,url:t}}};Fc=E([(0,Kn.injectable)(),H(0,(0,Kn.inject)(_e)),H(1,(0,Kn.inject)(ie)),H(2,(0,Kn.optional)()),H(2,(0,Kn.inject)(yo)),H(3,(0,Kn.optional)()),H(3,(0,Kn.inject)(Ht)),H(4,(0,Kn.optional)()),H(4,(0,Kn.inject)(Jl))],Fc);var pa=w(V()),K3=w(Rf());var la="node:";function z3(r,e=Or){let t=[];for(let n=0;n<r.length;n++){let i=r[n];if(i.startsWith("!")){let o=G3(i.slice(1),e);for(let s=0;s<t.length;s++)t[s]=`^(?!${o.slice(1)})${t[s].slice(1)}`}else t.push(G3(i,e))}return t.map(n=>new RegExp(n,"i"))}function G3(r,e=Or){let t=r.split("/"),n=[];for(let i=0;i<t.length;i++){let o=t[i];if(o==="**")i===0?n.push("(.+/)?"):i===t.length-1||n.push(".*/");else{if(o.includes("*")){let s=o.split("*");n.push(s.map(a=>e(a)).join("[^\\/]*"))}else n.push(e(o));n.push(i<t.length-1?"\\/":"$")}}return`^${n.join("")}`}function Soe(r){let e=/^<node_internals>[\/\\](.*)$/,t=r.map(n=>{n=n.trim();let i=e.exec(n);return i?i[1]:null}).filter(St);return t.length>0?t:void 0}function Eoe(r,e){return e.filter(n=>!n.includes("<node_internals>")).map(n=>Pr(n)?Gu(r.rebaseLocalToRemote(n)):Xe(n)).map($H)}var bo=class{constructor({skipFiles:e},t,n,i,o){this.logger=n;this.cdp=i;this._regexForAuthored=yT(e=>z3(e,t=>If(t,0,t.length,!0,!0)));this._scriptsWithSkipping=new Set;this._targetId=o.id(),this._rootTargetId=X3(o).id(),this._isUrlFromSourceMapSkipped=new to(s=>this._normalizeUrl(s)),this._authoredGlobs=Eoe(t,e),this._nodeInternalsGlobs=Soe(e),this._initNodeInternals(o),this._updateSkippedDebounce=vT(500,()=>this._updateGeneratedSkippedSources()),e.length&&this._updateGeneratedSkippedSources(),bo.sharedSkipsEmitter.event(s=>{s.rootTargetId===this._rootTargetId&&s.targetId!==this._targetId&&this._toggleSkippingFile(s.params)})}setSourceContainer(e){this._sourceContainer=e}_testSkipNodeInternal(e){return this._nodeInternalsGlobs?(e.startsWith(la)&&(e=e.slice(la.length)),(0,K3.default)([e],this._nodeInternalsGlobs).length>0):!1}_testSkipAuthored(e){return this._regexForAuthored(this._authoredGlobs).some(t=>t.test(e))}_isNodeInternal(e,t){return e.startsWith(la)?!0:t?.has(e)||/^internal\/.+\.js$/.test(e)}async _updateGeneratedSkippedSources(){let e=this._regexForAuthored(this._authoredGlobs).map(n=>n.source),t=this._allNodeInternals?.settledValue;if(t){e.push(`^(${la})?internal\\/`);for(let n of t)this._testSkipNodeInternal(n)&&e.push(`^(${la})?${Or(n)}$`)}await this.cdp.Debugger.setBlackboxPatterns({patterns:e})}_normalizeUrl(e){return Xe(e.toLowerCase())}isScriptSkipped(e){return this._isNodeInternal(e,this._allNodeInternals?.settledValue)?this._testSkipNodeInternal(e):(e=this._normalizeUrl(e),this._isUrlFromSourceMapSkipped.get(e)===!0?!0:this._testSkipAuthored(e))}async _updateSourceWithSkippedSourceMappedSources(e,t){let n=this.isScriptSkipped(e.url),i=[],o=n;for(let a of e.sourceMap.sourceByUrl.values()){let c=this.isScriptSkipped(a.url);if(typeof c>"u"&&(c=n),c!==o){let[[u],[l]]=await Promise.all([this._sourceContainer.currentSiblingUiLocations({source:a,lineNumber:1,columnNumber:1},e),this._sourceContainer.currentSiblingUiLocations({source:a,lineNumber:1/0,columnNumber:1},e)]);u&&l?(i.push({lineNumber:u.lineNumber-1,columnNumber:u.columnNumber-1},{lineNumber:l.lineNumber-1,columnNumber:l.columnNumber-1}),o=!o):this.logger.error("internal","Could not map script beginning for "+a.sourceReference)}}let s=t;i.length||(s=s.filter(a=>this._scriptsWithSkipping.has(a.scriptId)),s.forEach(a=>this._scriptsWithSkipping.delete(a.scriptId))),s.map(({scriptId:a})=>this.cdp.Debugger.setBlackboxedRanges({scriptId:a,positions:i}))}initializeSkippingValueForSource(e){this._initializeSkippingValueForSource(e)}_initializeSkippingValueForSource(e,t=e.scripts){let n=e.url,i=this.isScriptSkipped(n);if(!i&&e.absolutePath&&this._testSkipAuthored(We(e.absolutePath))&&(this.setIsUrlBlackboxSkipped(n,!0),i=!0,this._updateSkippedDebounce()),Nr(e)){if(i)for(let o of e.sourceMap.sourceByUrl.values())this._isUrlFromSourceMapSkipped.set(o.url,!0);for(let o of e.sourceMap.sourceByUrl.values())this._initializeSkippingValueForSource(o,t);this._updateSourceWithSkippedSourceMappedSources(e,t)}}async _initNodeInternals(e){if(e.type()!=="node"||!this._nodeInternalsGlobs||this._allNodeInternals)return;let t=this._allNodeInternals=Ge(),n=await this.cdp.Runtime.evaluate({expression:"require('module').builtinModules"+gt(),returnByValue:!0,includeCommandLineAPI:!0});n&&!n.exceptionDetails?t.resolve(new Set(n.result.value.map(i=>i+".js"))):t.resolve(new Set),await this._updateGeneratedSkippedSources()}async _toggleSkippingFile(e){let t;e.resource&&Pr(e.resource)&&(t=e.resource);let n={path:t,sourceReference:e.sourceReference},i=this._sourceContainer.source(n);if(!i)return{};let o=!this.isScriptSkipped(i.url);if(i instanceof Dt){this._isUrlFromSourceMapSkipped.set(i.url,o);let s=Array.from(i.compiledToSourceUrl.keys());await Promise.all(s.map(a=>this._updateSourceWithSkippedSourceMappedSources(a,a.scripts)))}else{if(Nr(i))for(let s of i.sourceMap.sourceByUrl.values())this._isUrlFromSourceMapSkipped.set(s.url,o);this.setIsUrlBlackboxSkipped(i.url,o),await this._updateGeneratedSkippedSources()}return{}}setIsUrlBlackboxSkipped(e,t){let n=e,i=`!${n}`,o=this._authoredGlobs.filter(s=>s!==n&&s!==i);this._regexForAuthored(o).some(s=>s.test(e))!==t&&(o.push(t?n:i),this._regexForAuthored.clear()),this._authoredGlobs=o}async toggleSkippingFile(e){let t=await this._toggleSkippingFile(e);return bo.sharedSkipsEmitter.fire({params:e,rootTargetId:this._rootTargetId,targetId:this._targetId}),t}};bo.sharedSkipsEmitter=new U,bo=E([(0,pa.injectable)(),H(0,(0,pa.inject)(Ne)),H(1,(0,pa.inject)(tt)),H(2,(0,pa.inject)(ie)),H(3,(0,pa.inject)(Ht)),H(4,(0,pa.inject)(yo))],bo);function X3(r){let e=r.parent();return e?X3(e):r}var wm=w(V());var Y3=require("path");var J3=/^webpack:\/{3}([^/]+?\.vue)(\?[0-9a-z]*)?$/i,Poe=/^webpack:\/{3}\.\/.+\.vue\?[0-9a-z]+$/i,Ql=Symbol("IVueFileMapper");var Yl=class{constructor(e,t){this.files=e;this.search=t;this.getMapping=Se(async()=>{let e=new Map;return await this.search.streamAllChildren(this.files,t=>e.set((0,Y3.basename)(t),t)),e})}async lookup(e){let t=J3.exec(e);return t?(await this.getMapping()).get(t[1]):void 0}getVueHandling(e){return this.files.empty?0:J3.test(e)?1:Poe.test(e)?2:0}};Yl=E([(0,wm.injectable)(),H(0,(0,wm.inject)(Go)),H(1,(0,wm.inject)(Ku))],Yl);var vo=class{constructor(){this.changeEmitter=new U;this.addEmitter=new U;this.removeEmitter=new U;this.targetMap=new Map;this.onChanged=this.changeEmitter.event;this.onAdd=this.addEmitter.event;this.onRemove=this.removeEmitter.event}get size(){return this.targetMap.size}add(e,t){this.targetMap.set(e,t),this.addEmitter.fire([e,t]),this.changeEmitter.fire()}get(e){return this.targetMap.get(e)}remove(e){let t=this.targetMap.get(e);return t===void 0?!1:(this.targetMap.delete(e),this.removeEmitter.fire([e,t]),this.changeEmitter.fire(),!0)}value(){return this.targetMap.values()}};var I2=w(v2()),ev=w(V());var x2=require("child_process"),Uc=class r extends Error{constructor(t,n,i,o,s){super(`${t} exited with code ${o||-1}: ${n}`);this.command=t;this.stderr=n;this.stdout=i;this.code=o;this.innerError=s}static fromExeca(t){return new r(t.command,t.stderr.toString(),t.stdout.toString(),t.exitCode)}};function Zb(r,e,t){return new Promise((n,i)=>{let o=(0,x2.spawn)(r,e,{...t,stdio:"pipe"}),s=[],a=[];o.stderr.on("data",u=>s.push(u)),o.stdout.on("data",u=>a.push(u));let c=(u,l)=>i(new Uc(r,Buffer.concat(s).toString(),Buffer.concat(a).toString(),u,l));o.on("error",u=>c(void 0,u)),o.on("close",u=>u?c(u):n({stdout:Buffer.concat(a).toString(),stderr:Buffer.concat(s).toString()}))})}var Dse=new Map([["chrome",0],["safari",1],["firefox",2],["msedge",3],["microsoft edge",3],["appxq0fevzme2pys62n3e0fbqa7peapykr8v",4],["ie.http",5]]),w2=r=>{r=r.toLowerCase();for(let[e,t]of Dse.entries())if(r.includes(e))return t},rp=Symbol("IDefaultBrowserProvider"),tp=class{constructor(e,t=process.platform){this.execa=e;this.platform=t;this.lookup=Se(()=>this.platform==="win32"?this.lookupWindows():this.lookupUnix())}async lookupUnix(){let{name:e}=await(0,I2.default)();return w2(e)}async lookupWindows(){let e=await this.execa("reg",["QUERY"," HKEY_CURRENT_USER\\Software\\Microsoft\\Windows\\Shell\\Associations\\UrlAssociations\\http\\UserChoice","/v","ProgId"]);if(e.failed)throw Uc.fromExeca(e);let t=/ProgId\s*REG_SZ\s*(\S+)/.exec(e.stdout);if(t)return w2(t[1])}};tp=E([(0,ev.injectable)(),H(0,(0,ev.inject)(Of))],tp);var A2=w(V()),rv=w(require("os"));var tv=class{async setup(){}dispose(){}write(e){if(e.level>2)throw new Error(e.message);console.log(JSON.stringify(e))}};var gE=class{constructor(e=512){this.size=e;this.items=[];this.i=0}write(e){this.items[this.i]=e,this.i=(this.i+1)%this.size}read(){return this.items.slice(this.i).concat(this.items.slice(0,this.i))}},Xn=class{constructor(){this.logTarget={queue:[]};this.logBuffer=new gE}static async test(){let e=new Xn;return e.setup({sinks:[new tv],showWelcome:!1}),e}info(e,t,n){this.log({tag:e,timestamp:Date.now(),message:t,metadata:n,level:1})}verbose(e,t,n){this.log({tag:e,timestamp:Date.now(),message:t,metadata:n,level:0})}warn(e,t,n){this.log({tag:e,timestamp:Date.now(),message:t,metadata:n,level:2})}error(e,t,n){this.log({tag:e,timestamp:Date.now(),message:t,metadata:n,level:3})}fatal(e,t,n){this.log({tag:e,timestamp:Date.now(),message:t,metadata:n,level:4})}assert(e,t){if(e===!1||e===void 0||e===null){if(this.error("runtime.assertion",t,{error:new Error("Assertion failed")}),process.env.JS_DEBUG_THROW_ASSERTIONS)throw new Error(t);debugger;return!1}return!0}log(e){if(this.logBuffer.write(e),"queue"in this.logTarget){this.logTarget.queue.push(e);return}for(let t of this.logTarget.sinks)t.write(e)}getRecentLogs(){return this.logBuffer.read()}dispose(){if("sinks"in this.logTarget){for(let e of this.logTarget.sinks)e.dispose();this.logTarget={queue:[]}}}forTarget(){return this}async setup(e){if(await Promise.all(e.sinks.map(n=>n.setup())),e.showWelcome!==!1){let n=$se();for(let i of e.sinks)i.write(n)}let t=this.logTarget;this.logTarget={sinks:e.sinks.slice()},"sinks"in t?t.sinks.forEach(n=>n.dispose()):t.queue.forEach(n=>this.log(n))}};Xn.null=(()=>{let e=new Xn;return e.setup({sinks:[]}),e})(),Xn=E([(0,A2.injectable)()],Xn);var $se=()=>({timestamp:Date.now(),tag:"runtime.welcome",level:1,message:`${zh} v${Ja} started`,metadata:{os:`${rv.platform()} ${rv.arch()}`,nodeVersion:process.version,adapterVersion:Ja}});var $m=Symbol("MutableLaunchConfig"),S2=r=>{let e=new U;return new Proxy({},{ownKeys(){return Object.keys(r)},get(t,n){switch(n){case"update":return i=>{r=i,e.fire()};case"onChange":return e.event;default:return r[n]}}})};var Kj=w(Tj()),mv=w(V());var zc=Symbol("touched"),ga;(c=>{function r(){return{children:{},[zc]:1}}c.root=r;function e(u,l){return u[zc]=1,a(u,s(l),0)}c.getPath=e;function t(u){u[zc]=1}c.touch=t;function n(u){u[zc]=2}c.touchAll=n;function i(u,l){let p=u.children[l]??={children:{}};return p[zc]=1,p}c.getOrMakeChild=i;function o(u){if(u[zc]){for(let[l,p]of Object.entries(u.children))switch(p[zc]){case 1:o(p);break;case 2:break;default:delete u.children[l]}return u}}c.prune=o;function s(u){let l=u.split(/\/|\\/);return l[0]===""&&l.unshift(),l}function a(u,l,p){let d=i(u,l[p]);return p===l.length-1?d:a(d,l,p+1)}})(ga||={});var BE=require("fs"),UE=w(Rf()),Kc=require("path"),zj=w(Gj());var gce=/\//g,fv=class{constructor(e){this.stat=Fo(e=>BE.promises.lstat(e));this.readdir=Fo(e=>BE.promises.readdir(e,{withFileTypes:!0}));this.alreadyProcessedFiles=new Set;this.fileEmitter=new U;this.onFile=this.fileEmitter.event;this.errorEmitter=new U;this.onError=this.errorEmitter.event;this.processor=e.fileProcessor,this.filter=e.filter,this.ignore=e.ignore.map(i=>UE.default.matcher((0,zj.default)(Xe(i),{cwd:e.cwd})));let t=(0,Kc.isAbsolute)(e.pattern)?(0,Kc.relative)(e.cwd,e.pattern):e.pattern,n=UE.default.parse(Xe(t),{ignore:e.ignore,cwd:e.cwd,expand:!0});this.done=Promise.all(n.map(i=>{let o=[];for(let u=1;u<i.tokens.length;){let l=u+1;for(;l<i.tokens.length&&i.tokens[l].type!=="slash";)l++;let p=i.tokens[u];p.type==="globstar"?o.push("**"):l===u+1&&p.type==="text"?o.push(p.value):o.push(new RegExp("^"+i.tokens.slice(u,l).map(d=>d.output||d.value).join("")+"$")),u=l+1}let s=o[0]==="**"?[0,1]:[0],a=ga.getPath(e.cache,e.cwd),c={elements:o,seen:new Set};return Promise.all(s.map(u=>this.readSomething(c,u,e.cwd,[],a)))})).then(()=>{})}async readSomething(e,t,n,i,o){if(this.alreadyProcessedFiles.has(o))return;let s=`${t}:${n}`;if(e.seen.has(s))return;e.seen.add(s);let a;try{a=await this.stat(n)}catch(u){this.errorEmitter.fire({path:n,error:u});return}if(this.alreadyProcessedFiles.has(o))return;let c=o.data;if(c&&a.mtimeMs===c.mtime){if(c.type===0){let u=[],p=Object.entries(o.children).filter(([,d])=>d.data?.type!==0).map(([d])=>d);for(let[d,h]of Object.entries(o.children))u.push(h.data!==void 0?this.handleDirectoryEntry(e,t,n,{name:d,type:h.data.type},p,o):this.stat(n).then(f=>this.handleDirectoryEntry(e,t,n,{name:d,type:f.isFile()?1:0},p,o),()=>{}));await Promise.all(u)}else c.type===1&&(this.alreadyProcessedFiles.add(o),this.fileEmitter.fire(c.extracted));return}a.isDirectory()?await this.handleDir(e,t,a.mtimeMs,n,o):(this.alreadyProcessedFiles.add(o),await this.handleFile(a.mtimeMs,n,i,o))}applyFilterToFile(e,t,n){let i=n.children[e];if(this.alreadyProcessedFiles.has(i))return!1;if(!this.filter)return!0;let o=i.data?.type===1?i.data.extracted:void 0;return ga.touch(i),this.filter(t,o)}handleDirectoryEntry(e,t,n,i,o,s){let a=n+"/"+i.name,c=this.getDirectoryReadDescends(e,t,n,i);if(c===void 0)return;let u=ga.getOrMakeChild(s,i.name);if(!(i.type===1&&!this.applyFilterToFile(i.name,a,s)))return typeof c=="number"?this.readSomething(e,t+c,a,o,u):Promise.all(c.map(l=>this.readSomething(e,t+l,a,o,u)))}getDirectoryReadDescends(e,t,n,i){let o=n+"/"+i.name;if(this.ignore.some(c=>c(o)))return;let s=t===e.elements.length-1,a=e.elements[t];if(a==="**")return i.type===1?s?0:this.getDirectoryReadDescends(e,t+1,n,i):s?0:[0,1];if((a instanceof RegExp&&a.test(i.name)||a===i.name)&&(i.type===0?!s:s))return 1}async handleFile(e,t,n,i){let o=Kc.sep==="/"?t:t.replace(gce,Kc.sep),s;try{s=await this.processor(o,{siblings:n,mtime:e})}catch(a){this.errorEmitter.fire({path:o,error:a});return}i.data={type:1,mtime:e,extracted:s},this.fileEmitter.fire(s)}async handleDir(e,t,n,i,o){let s;try{s=await this.readdir(i)}catch(u){this.errorEmitter.fire({path:i,error:u});return}let a=[],c=s.filter(u=>u.isFile()).map(u=>u.name);for(let u of s){if(u.name.startsWith("."))continue;let l;if(u.isDirectory())l=0;else if(u.isFile())l=1;else continue;a.push(this.handleDirectoryEntry(e,t,i,{name:u.name,type:l},c,o))}await Promise.all(a),o.data={type:0,mtime:n}}};var cp=class{constructor(e){this.logger=e}async streamAllChildren(e,t){let n=[];return await this.globForFiles(e,o=>n.push(t(Tt(o.path)))),(await Promise.all(n)).filter(o=>o!==void 0)}async streamChildrenWithSourcemaps(e){let t=[],n=e.lastState||{},i={};return await Promise.all([...e.files.explode()].map(async s=>{let a=JSON.stringify(s),c=n[a]||ga.root();await this._streamChildrenWithSourcemaps(c,e,t,s);let u=ga.prune(c);u&&(i[a]=u)})),this.logger.info("sourcemap.parsing",`turboGlobStream search found ${t.length} files`),{values:(await Promise.all(t)).filter(St),state:i}}async _streamChildrenWithSourcemaps(e,t,n,i){let o=new fv({pattern:i.pattern,ignore:i.negations,cwd:i.cwd,cache:e,filter:t.filter,fileProcessor:(s,a)=>MR(s,a).then(c=>c&&t.processMap(c))});o.onError(({path:s,error:a})=>{this.logger.warn("sourcemap.parsing","Error parsing source map",{error:a,path:s})}),o.onFile(s=>s&&n.push(t.onProcessedMap(s))),await o.done}async globForFiles(e,t){await Promise.all([...e.explode()].map(n=>new Promise((i,o)=>(0,Kj.default)([n.pattern,"!**/*.asar/**"],{ignore:n.negations,cwd:n.cwd}).on("data",t).on("end",i).on("error",o))))}};cp=E([(0,mv.injectable)(),H(0,(0,mv.inject)(ie))],cp);var Sv=w(we()),va=w(V());var Xj=require("url"),Jj=w(require("path"));var hv=class{constructor(){this._onFrameAddedEmitter=new U;this._onFrameRemovedEmitter=new U;this._onFrameNavigatedEmitter=new U;this.onFrameAdded=this._onFrameAddedEmitter.event;this.onFrameRemoved=this._onFrameRemovedEmitter.event;this.onFrameNavigated=this._onFrameNavigatedEmitter.event;this._frames=new Map}attached(e,t){e.Page.enable({}),e.Page.getResourceTree({}).then(n=>{this._processCachedResources(e,n?n.frameTree:void 0,t)})}mainFrame(){return this._mainFrame}_processCachedResources(e,t,n){t&&this._addFramesRecursively(e,t,t.frame.parentId,n),e.Page.on("frameAttached",i=>{this._frameAttached(e,n,i.frameId,i.parentFrameId)}),e.Page.on("frameNavigated",i=>{this._frameNavigated(e,n,i.frame)}),e.Page.on("frameDetached",i=>{this._frameDetached(e,n,i.frameId)})}_addFrame(e,t,n){let i=new WE(this,e,t,n);return this._frames.set(i.id,i),i.isMainFrame()&&(this._mainFrame=i),this._onFrameAddedEmitter.fire(i),i}_frameAttached(e,t,n,i){let o=this._frames.get(n);return o||(o=this._addFrame(e,n,i)),o._ref(t),o}_frameNavigated(e,t,n){let i=this._frames.get(n.id);i||(i=this._frameAttached(e,t,n.id,n.parentId)),i._navigate(n,t),this._onFrameNavigatedEmitter.fire(i)}_frameDetached(e,t,n){let i=this._frames.get(n);i&&i._unref(t)}frameForId(e){return this._frames.get(e)}frames(){return Array.from(this._frames.values())}_addFramesRecursively(e,t,n,i){let o=t.frame,s=this._frames.get(o.id);s?(s._navigate(o,i),this._onFrameNavigatedEmitter.fire(s)):(s=this._addFrame(e,o.id,n),s._navigate(o,i));for(let a=0;t.childFrames&&a<t.childFrames.length;++a)this._addFramesRecursively(e,t.childFrames[a],s.id,i)}},WE=class{constructor(e,t,n,i){this._targets=new Set;this.cdp=t,this.model=e,this._parentFrameId=i,this.id=n,this._url=""}_ref(e){this._targets.add(e)}_navigate(e,t){this._name=e.name,this._url=e.url,this._securityOrigin=e.securityOrigin,this._unreachableUrl=e.unreachableUrl||"",this._ref(t),this._unrefChildFrames(t)}name(){return this._name||""}url(){return this._url}securityOrigin(){return this._securityOrigin}unreachableUrl(){return this._unreachableUrl}isMainFrame(){return!this._parentFrameId}parentFrame(){return this._parentFrameId?this.model.frameForId(this._parentFrameId):void 0}childFrames(){return this.model.frames().filter(e=>e._parentFrameId===this.id)}_unrefChildFrames(e){for(let t of this.childFrames())t._unref(e)}_unref(e){this._targets.delete(e),!this._targets.size&&(this._unrefChildFrames(e),this.model._frames.delete(this.id),this.model._onFrameRemovedEmitter.fire(this))}displayName(){return this._name?this._name:Hce(this._url)||`<iframe ${this.id}>`}};function jE(r,e){return r.length<=e?r:r.substr(0,e-1)+"\u2026"}function Hce(r){let e;try{e=new Xj.URL(r)}catch{return jE(r,20)}if(e.protocol==="data")return jE(r,20);if(e.protocol==="blob"||r==="about:blank")return r;let t=Jj.basename(e.pathname);return t||(t=(e.host||"")+"/"),t==="/"&&(t=jE(r,20)),t}var Yj=require("url"),qE=class{constructor(e){this.versions=new Map;this.id=e.registrationId,this.scopeURL=e.scopeURL}},VE=class{constructor(e,t){this.revisions=[];this.registration=e,this.id=t.versionId,this.scriptURL=t.scriptURL,this._targetId=t.targetId,this._status=t.status,this._runningStatus=t.runningStatus}addRevision(e){this._targetId&&e.targetId&&this._targetId!==e.targetId&&console.error(`${this._targetId} !== ${e.targetId}`),e.targetId&&(this._targetId=e.targetId),this._status=e.status,this._runningStatus=e.runningStatus,this.revisions.unshift(e)}status(){return this._status}runningStatus(){return this._runningStatus}targetId(){return this._targetId}label(){let e=new Yj.URL(this.registration.scopeURL),t=e.pathname.substr(1);t.endsWith("/")&&(t=t.substring(0,t.length-1));let n=t||`${e.host}`,i=this._status==="activated"?"":` ${this._status}`,o=this._runningStatus==="running"?"":` ${this._runningStatus}`;return`${n} #${this.id}${i}${o}`}},gv=class r{constructor(e){this._registrations=new Map;this._versions=new Map;this._onDidChangeUpdater=new U;this.onDidChange=this._onDidChangeUpdater.event;this._targets=new Set;this._frameModel=e,r._instances.add(this)}static{this._instances=new Set}dispose(){r._instances.delete(this)}attached(e){this._targets.add(e),!this._cdp&&(this._cdp=e,e.ServiceWorker.enable({}),e.ServiceWorker.on("workerRegistrationUpdated",t=>this._workerRegistrationsUpdated(t.registrations)),e.ServiceWorker.on("workerVersionUpdated",t=>this._workerVersionsUpdated(t.versions)),r._mode!=="normal"&&this.setMode(r._mode))}async detached(e){this._targets.delete(e)}version(e){return this._versions.get(e)}registrations(){let e=[],t=this._frameModel.frames().map(n=>n.url());for(let n of this._registrations.values())for(let i of t)if(i.startsWith(n.scopeURL)){e.push(n);break}return e}registration(e){return this._registrations.get(e)}_workerVersionsUpdated(e){for(let t of e){let n=this._registrations.get(t.registrationId);if(!n)continue;let i=n.versions.get(t.versionId);i||(i=new VE(n,t),n.versions.set(t.versionId,i)),t.targetId&&this._versions.set(t.targetId,i),i.addRevision(t),i.status()==="redundant"&&i.runningStatus()==="stopped"&&(t.targetId&&this._versions.delete(t.targetId),n.versions.delete(i.id))}this._onDidChangeUpdater.fire()}_workerRegistrationsUpdated(e){for(let t of e)if(t.isDeleted){if(!this._registrations.has(t.registrationId))debugger;this._registrations.delete(t.registrationId)}else{if(this._registrations.has(t.registrationId))return;this._registrations.set(t.registrationId,new qE(t))}this._onDidChangeUpdater.fire()}static setModeForAll(e){r._mode=e;for(let t of r._instances)t.setMode(e)}setMode(e){if(this._cdp){this._cdp.ServiceWorker.setForceUpdateOnPageLoad({forceUpdateOnPageLoad:e==="force"});for(let t of this._targets.values())e==="bypass"?(t.Network.enable({}),t.Network.setBypassServiceWorker({bypass:!0})):t.Network.disable({})}}async stopWorker(e){if(!this._cdp)return;let t=this.version(e);t&&await this._cdp.ServiceWorker.stopWorker({versionId:t.id})}};var Ha=class{constructor(e,t,n,i,o,s,a,c){this.process=t;this.logger=o;this.telemetry=s;this.launchParams=a;this._targets=new Map;this._detachedTargets=new Set;this.frameModel=new hv;this.serviceWorkerModel=new gv(this.frameModel);this._lifecycleQueue=Promise.resolve();this._onTargetAddedEmitter=new U;this._onTargetRemovedEmitter=new U;this.onTargetAdded=this._onTargetAddedEmitter.event;this.onTargetRemoved=this._onTargetRemovedEmitter.event;this._connection=e,this._sourcePathResolver=i,this._browser=n,this._targetOrigin=c,this.serviceWorkerModel.onDidChange(()=>{for(let u of this._targets.values())u.type()==="service_worker"&&u._onNameChangedEmitter.fire()})}static async connect(e,t,n,i,o,s,a){let u=await e.rootSession().Target.attachToBrowserTarget({});if(!u)return;let l=e.createSession(u.sessionId);return new this(e,t,l,n,o,s,i,a)}dispose(){this.serviceWorkerModel.dispose()}targetList(){return Array.from(this._targets.values()).filter(e=>vf.has(e.type()))}async getCandiateInfo(e){let t=await this._browser.Target.getTargets({});return t?e?t.targetInfos.filter(e):t.targetInfos:[]}async closeBrowser(){if(this.launchParams.request==="launch"){if(this.launchParams.cleanUp==="wholeBrowser")await this._browser.Browser.close({}),this.process?.kill();else for(let e of this._targets.values())await this._browser.Target.closeTarget({targetId:e.targetId}),this._connection.close();this.process=void 0}}waitForMainTarget(e){let t,n=new Promise(o=>t=o),i=async o=>{if([...this._targets.values()].some(c=>c.targetId===o.targetId)||this._detachedTargets.has(o.targetId)||e&&!e(o))return;let s=this._browser.Target.on("targetInfoChanged",c=>{c.targetInfo.targetId===o.targetId&&(o=c.targetInfo)}),a;try{a=await this._browser.Target.attachToTarget({targetId:o.targetId,flatten:!0})}finally{s.dispose()}if(!a){t(void 0);return}t(this.attachedToTarget(o,a.sessionId,!0))};return this._browser.Target.setDiscoverTargets({discover:!0}),this._browser.Target.on("targetCreated",this.enqueueLifecycleFn(o=>i(o.targetInfo))),this._browser.Target.on("targetInfoChanged",o=>this._targetInfoChanged(o.targetInfo,this.enqueueLifecycleFn(i))),this._browser.Target.on("detachedFromTarget",this.enqueueLifecycleFn(async o=>{o.targetId&&await this._detachedFromTarget(o.sessionId,!1)})),n}enqueueLifecycleFn(e){return t=>this._lifecycleQueue=this._lifecycleQueue.then(()=>e(t))}attachedToTarget(e,t,n,i,o=!0){let s=this._targets.get(t);if(s)return s;let a=this._connection.createSession(t),c=new TH(this,e,a,i,n,this.launchParams,t,this.logger,()=>{this._connection.disposeSession(t),this._detachedFromTarget(t)});this._targets.set(t,c),i&&i._children.set(e.targetId,c),a.Target.on("attachedToTarget",async l=>{this.attachedToTarget(l.targetInfo,l.sessionId,l.waitingForDebugger,c)}),a.Target.on("detachedFromTarget",async l=>{l.targetId&&this._detachedFromTarget(l.sessionId,!1)}),a.Target.setAutoAttach({autoAttach:!0,waitForDebuggerOnStart:o,flatten:!0}),a.Network.setCacheDisabled({cacheDisabled:this.launchParams.disableNetworkCache}).catch(l=>this.logger.info("runtime.target","Error setting network cache state",l)),i||this.retrieveBrowserTelemetry(a);let u=e.type;return CH.has(u)&&this.frameModel.attached(a,e.targetId),this.serviceWorkerModel.attached(a),this._onTargetAddedEmitter.fire(c),!vf.has(u)||u==="service_worker"?c.runIfWaitingForDebugger():u==="page"&&o&&a.Page.waitForDebugger({}),c}async retrieveBrowserTelemetry(e){try{let t=await e.Browser.getVersion({});if(!t)throw new Error("Undefined return from getVersion()");let n={targetCRDPVersion:t.protocolVersion,targetRevision:t.revision,targetUserAgent:t.userAgent,targetV8:t.jsVersion,targetVersion:"",targetProject:"",targetProduct:""};this.logger.verbose("runtime.target","Retrieved browser information",t);let i=(t.product||"").split("/");i.length===2?(n.targetProject=i[0],n.targetVersion=i[1]):n.targetProduct=t.product,this.telemetry.report("browserVersion",n)}catch(t){this.logger.warn("runtime.target","Error getting browser telemetry",t)}}async _detachedFromTarget(e,t=!0){let n=this._targets.get(e);if(n){this._targets.delete(e),n.parentTarget?._children.delete(e);try{await n._detached()}catch{}if(this._onTargetRemovedEmitter.fire(n),t&&(this._detachedTargets.add(n.targetId),await this._browser.Target.detachFromTarget({sessionId:e})),!this._targets.size&&this.launchParams.request==="launch")try{this.launchParams.cleanUp==="wholeBrowser"?await this._browser.Browser.close({}):(await this._browser.Target.closeTarget({targetId:n.id()}),this._connection.close())}catch{}}}async _targetInfoChanged(e,t){let n=[...this._targets.values()].filter(i=>i.targetId===e.targetId);if(!e.attached||!n.length)return n.length&&await Promise.all(n.map(i=>this._detachedFromTarget(i.sessionId,!1))),t(e);for(let i of n)i._updateFromInfo(e);for(let i of this._targets.values())i.targetId!==e.targetId&&i._onNameChangedEmitter.fire()}};var fW=w(require("child_process")),mW=require("fs");var yce=50,In=class r{constructor(e){this.messageEmitter=new U;this.endEmitter=new U;this.onMessage=this.messageEmitter.event;this.onEnd=this.endEmitter.event;this._ws=e,this._ws.addEventListener("message",t=>{this.messageEmitter.fire([t.data.toString("utf-8"),new Wn])}),this._ws.addEventListener("close",()=>{this.endEmitter.fire(),this._ws=void 0}),this._ws.addEventListener("error",()=>{})}static async create(e,t,n){let i=!e.startsWith("ws://"),o=await Vu(e);for(;;){let s=Date.now()+yce;try{let a={headers:{host:n??"localhost"},perMessageDeflate:!1,maxPayload:268435456,rejectUnauthorized:!(i&&o),followRedirects:!0},c=new WO(e,[],a);return await ho(new Promise((u,l)=>{c.addEventListener("open",()=>u(new r(c))),c.addEventListener("error",p=>{let d=e===c.url?e:c.url.replace(/^http(s?):/,"ws$1:");if(d===e){l(p.error);return}this.create(d,t,n).then(u,l)})}),Xt.withTimeout(2e3,t).token,`Could not open ${e}`).catch(u=>{throw c.close(),u})}catch(a){if(t.isCancellationRequested)throw a;let c=s-Date.now();c>0&&await De(c)}}}send(e){this._ws?.send(e)}dispose(){return new Promise(e=>{if(!this._ws)return e();this._ws.addEventListener("close",()=>e()),this._ws.close()})}};var Hv=w(require("path"));function bce(r){let e=[/^APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL$/i,/^ELECTRON_.+$/i,/^GOOGLE_API_KEY$/i,/^VSCODE_.+$/i,/^SNAP(|_.*)$/i,/^GDK_PIXBUF_.+$/i];return new jt(r).map((t,n)=>e.some(i=>i.test(t))?void 0:n)}var jt=class r{constructor(e){this.defined=Se(()=>vu(this.value));this.value=e?mT(e):{}}static{this.platform=process.platform}static{this.empty=new r({})}static{this.processEnv=Se(()=>bce(process.env))}lookup(e){return r.platform==="win32"?HT(this.value,e):this.value[e]}addToPath(e,t="append",n=!1){let i=r.platform==="win32"?"Path":"PATH",o=r.platform==="win32"?Hv.win32.delimiter:Hv.posix.delimiter,s=this.lookup(i);return n&&!s&&(s=`\${env:${i}}`),s?t==="append"?s=s+o+e:s=e+o+s:s=e,this.update(i,s)}addNodeOption(e){let t=this.lookup("NODE_OPTIONS");return this.update("NODE_OPTIONS",t?`${t} ${e}`:e)}update(e,t){return r.merge(this,{[e]:t})}merge(...e){return r.merge(this,...e)}map(e){return new r(No(this.value,(t,n)=>e(n,t)))}static merge(...e){let t=e.map(i=>i instanceof r?i.value:i),n=r.platform==="win32"?gT(...t):Object.assign({},...t);return new r(n)}};var Qj="--remote-debugging-port",Zj="--remote-debugging-pipe",eW=r=>{let e={};for(let t of r){let n=t.indexOf("=");n===-1?e[t]=null:e[t.slice(0,n)]=t.slice(n+1)}return e},yv=r=>{let e=[];for(let t of Object.keys(r)){let n=r[t];n!==void 0&&e.push(n===null?t:`${t}=${n}`)}return e},ya=class r{constructor(e=[]){this.args=e;this.argMap=Se(()=>eW(this.args))}static{this.default=new r(["--disable-background-networking","--disable-background-timer-throttling","--disable-backgrounding-occluded-windows","--disable-breakpad","--disable-client-side-phishing-detection","--disable-default-apps","--disable-dev-shm-usage","--disable-renderer-backgrounding","--disable-sync","--metrics-recording-only","--no-first-run","--no-default-browser-check"])}add(e,t=null){return new r(yv({...this.argMap(),[e]:t}))}remove(e){return new r(yv({...this.argMap(),[e]:void 0}))}merge(e){return new r(yv({...this.argMap(),...e instanceof r?e.argMap():eW(e)}))}setConnection(e){return new r(yv({...this.argMap(),[Zj]:e==="pipe"?null:void 0,[Qj]:e!=="pipe"?String(e):void 0}))}getSuggestedConnection(){let e=this.argMap();if(e.hasOwnProperty(Zj))return"pipe";let t=e[Qj];if(t!==void 0)return t&&Number(t)||0}filter(e){let t=this.argMap(),n=[];for(let i of Object.keys(t)){let o=t[i];e(i,o)&&n.push(o===null?i:`${i}=${o}`)}return new r(n)}toArray(){return this.args.slice()}};var GE=require("url");function bv(r,e,t){let n=Fo(s=>{if(s)return new GE.URL(s);throw new Error(`A valid url wasn't supplied: <${s}>`)}),i={"url.hostname":()=>n(e).hostname,"url.port":()=>n(e).port,browserInspectUri:()=>encodeURIComponent(t),browserInspectUriPath:()=>new GE.URL(t).pathname,wsProtocol:()=>n(e).protocol==="https:"?"wss":"ws"};return r.replace(/{([^\}]+)}/g,(s,a)=>i.hasOwnProperty(a)?i[a]():s)}var uW=w(require("readline"));var iW=w(xv());var Yn=class{constructor(e,t,n){this.logger=e;this.pipeWrite=t;this.pipeRead=n;this.messageEmitter=new U;this.endEmitter=new U;this.onMessage=this.messageEmitter.event;this.onEnd=this.endEmitter.event;this.onceEnded=Se(()=>{this.streams&&(this.beforeClose(),this.streams.read.removeAllListeners(),this.pipeRead?.destroy(),this.streams.write.removeListener("end",this.onceEnded),this.streams.write.removeListener("error",this.onWriteError),this.streams.write.on("error",()=>{}),this.streams.write.end(),this.streams=void 0,this.endEmitter.fire())});this.onWriteError=e=>{this.logger.error("internal","pipeWrite error",{error:e})};let i=n||t;this.streams={read:i.on("error",o=>this.logger.error("internal","pipeRead error",{error:o})).pipe((0,iW.default)("\0")).on("data",o=>this.messageEmitter.fire([o,new Wn])).on("end",this.onceEnded),write:t.on("end",this.onceEnded).on("error",this.onWriteError)}}send(e){this.streams?.write.write(e+"\0")}dispose(){this.onceEnded()}beforeClose(){}};var wv=require("child_process"),zE=require("path");function Ai(r,e,t="forceful"){if(t==="none")return!0;if(process.platform==="win32"){let n=process.env.WINDIR||"C:\\Windows",i=(0,zE.join)(n,"System32","taskkill.exe");try{return(0,wv.execSync)(`${i} ${t==="forceful"?"/F":""} /T /PID ${r}`,{stdio:"pipe"}),!0}catch(o){return e.error("runtime.exception","Error running taskkill.exe",o),!1}}else try{let n=(0,zE.join)(__dirname,"./targets/node/terminateProcess.sh"),i=(0,wv.spawnSync)("sh",[n,r.toString(),t==="forceful"?"9":"15"]);return i.stderr&&i.status?(e.error("runtime.exception","Error running terminateProcess",i),!1):!0}catch(n){return e.error("runtime.exception","Error running terminateProcess",n),!1}}var aW=require("fs");async function KE(r,e,t,n){let i=new ua(aW.promises),[o,s]=await Promise.all([oW(i,new URL("/json/version",r),e),n?oW(i,new URL("/json/list",r),e):Promise.resolve(void 0)]);if(!o.ok)t.verbose("runtime.launch","Error looking up /json/version",o);else if(o.body.webSocketDebuggerUrl){let a=sW(o.url,o.body.webSocketDebuggerUrl);return t.verbose("runtime.launch","Discovered target URL from /json/version",{url:o.body.webSocketDebuggerUrl,fixed:a}),a}if(s)if(!s.ok)t.verbose("runtime.launch","Error looking up /json/list",s);else{let a=sW(s.url,s.body[0].webSocketDebuggerUrl);return t.verbose("runtime.launch","Discovered target URL from /json/list",{url:s.body[0].webSocketDebuggerUrl,fixed:a}),a}throw new Error("Could not find any debuggable target")}async function oW(r,e,t){if(e.hostname!=="localhost")return r.fetchJson(e.toString(),t,{host:"localhost"});e.hostname="127.0.0.1";let n=e.toString();e.hostname="[::1]";let i=e.toString(),o=new Xt(t);try{let s;return await eo([n,i].map(async c=>(s=await r.fetchJson(c,o.token),s.ok&&s)))||s}finally{o.cancel()}}var cW=r=>async(e,t,n)=>{for(;;)try{return await KE(e,t,n,r)}catch(i){if(t.isCancellationRequested)throw new Error(`Could not connect to debug target at ${e}: ${i.message}`);await De(200)}},up=cW(!0),Iv=cW(!1);function sW(r,e){let t=new URL(r),n=new URL(e);return n.host=t.host,n.toString()}var lW=async(r,e,t,n)=>{let i=t.connection===0?await Sce(e,n):await Iv(`http://localhost:${t.connection}`,n,r),o=t.inspectUri?bv(t.inspectUri,t.url,i):i;for(;;)try{return await In.create(o,n)}catch(s){if(n.isCancellationRequested)throw s;await De(200)}},_v=class{constructor(e){this.logger=e;this.pid=void 0;this.onExit=new U().event;this.onError=new U().event}async transport(e,t){return lW(this.logger,this,e,t)}kill(){}},Av=class{constructor(e,t){this.cp=e;this.logger=t;this.pid=void 0;this.exitEmitter=new U;this.onExit=this.exitEmitter.event;this.errorEmitter=new U;this.onError=this.errorEmitter.event;e.on("exit",n=>this.exitEmitter.fire(n||0)),e.on("error",n=>this.errorEmitter.fire(n))}get stderr(){return this.cp.stderr}get stdio(){return this.cp.stdio}async transport(e,t){return e.connection==="pipe"?new Yn(this.logger,this.cp.stdio[3],this.cp.stdio[4]):lW(this.logger,this,e,t)}kill(){Ai(this.cp.pid,this.logger)}};function Sce(r,e){if(!r.stderr)throw new Error("Cannot wait for a websocket for a target that lacks stderr");return new Promise((t,n)=>{let i=uW.createInterface({input:r.stderr}),o="",s=()=>u();i.on("line",l),i.on("close",s);let a=new Ce([r.onExit(()=>u()),r.onError(u)]),c=e.onCancellationRequested(()=>{p(),n(new mn(`Timed out after ${c} ms while trying to connect to the browser!`))});function u(d){p(),n(new Error(["Failed to launch browser!"+(d?" "+d.message:""),o,"","TROUBLESHOOTING: https://github.com/GoogleChrome/puppeteer/blob/master/docs/troubleshooting.md",""].join(`
`)))}function l(d){o+=d+`
`;let h=d.match(/^DevTools listening on (ws:\/\/.*)$/);h&&(p(),t(h[1]))}function p(){c.dispose(),i.removeListener("line",l),i.removeListener("close",s),a.dispose()}})}async function pW(r,e,t,n){let i=r.launchUnelevatedRequest({process:e,args:t});await ho(i,n,"Could not launch browser unelevated")}var dW=()=>{};async function hW(r,e,t,n,i,o,s={}){let{onStderr:a=dW,onStdout:c=dW,args:u=[],dumpio:l=!1,cwd:p=process.cwd(),env:d=jt.empty,connection:h="pipe",cleanUp:f="wholeBrowser",url:g,inspectUri:v}=s,S=new ya(u),R=S.getSuggestedConnection();s.includeLaunchArgs!==!1?(S=XE(S,s),R===void 0&&(S=S.setConnection(h),R=h)):R===void 0&&(R="pipe");let F=["pipe","pipe","pipe"];R==="pipe"&&(l?F=["ignore","pipe","pipe","pipe","pipe"]:F=["ignore","ignore","ignore","pipe","pipe"]);let X;if(!!(i.supportsLaunchUnelevatedProcessRequest&&s.launchUnelevated)&&typeof R=="number"&&R!==0)await pW(r,e,S.toArray(),o),X=new _v(t);else{t.info("runtime.launch",`Launching Chrome from ${e}`);let z=fW.spawn(e,S.toArray(),{detached:!0,env:d.defined(),cwd:await Vo(mW.promises,p)?p:process.cwd(),stdio:F});if(z.pid===void 0)throw await Promise.race([De(1e3).then(()=>new Error("Unable to launch the executable (undefined pid)")),new Promise(ee=>z.once("error",ee))]);X=new Av(z,t)}l?(X.stderr?.on("data",z=>a(z.toString())),X.stdout?.on("data",z=>c(z.toString()))):(X.stderr?.resume(),X.stdout?.resume());let J=()=>{f==="wholeBrowser"&&X.kill()};process.on("exit",J),X.onExit(()=>process.removeListener("exit",J));try{if(s.promisedPort){let z;R=await Promise.race([s.promisedPort,new Promise((ee,he)=>{z=X.onExit(Le=>{he(new K(Vk(Le)))})})]).finally(()=>z.dispose())}return{process:X,canReconnect:typeof R=="number",createConnection:async z=>{let ee=await X.transport({connection:R,inspectUri:v||void 0,url:g||void 0},z);return new Ft(ee,t,n)}}}catch(z){throw X.kill(),z}}function XE(r,e={}){let{userDataDir:t=null,ignoreDefaultArgs:n=!1}=e,i=n===!0?new ya:ya.default;return n instanceof Array&&(i=i.filter(o=>!n.includes(o))),t&&(i=i.add("--user-data-dir",t)),i=i.merge(r),r.toArray().every(o=>o.startsWith("-"))&&e.hasUserNavigation&&(i=i.add("about:blank")),i}async function gW(r,e,t,n){let{browserWSEndpoint:i,browserURL:o}=r;if(i){let s=await In.create(i,e);return new Ft(s,t,n)}else if(o){let s=await Iv(o,e,t),a=r.inspectUri?bv(r.inspectUri,r.pageURL,s):s,c=await In.create(a,e);return new Ft(c,t,n)}throw new Error("Either browserURL or browserWSEndpoint needs to be specified")}var Qn=class{constructor(e,t,n){this.logger=e;this.pathResolver=t;this.vscode=n;this._disposables=[];this._onTerminatedEmitter=new U;this.onTerminated=this._onTerminatedEmitter.event;this._onTargetListChangedEmitter=new U;this.onTargetListChanged=this._onTargetListChangedEmitter.event}dispose(){for(let e of this._disposables)e.dispose();this._disposables=[],this._attemptTimer&&clearTimeout(this._attemptTimer),this._targetManager&&this._targetManager.dispose()}resolveParams(e){return e.request==="attach"&&(e.type==="pwa-chrome"||e.type==="pwa-msedge"&&typeof e.useWebView!="object")&&e.browserAttachLocation==="workspace"}async launch(e,t){return this.resolveParams(e)?(this._lastLaunchParams={...e,timeout:1/0},await this.attemptToAttach(this._lastLaunchParams,t),{blockSessionTermination:!0}):{blockSessionTermination:!1}}_scheduleAttach(e,t){this._attemptTimer=setTimeout(()=>{this._attemptTimer=void 0,this.attemptToAttach(e,{...t,cancellationToken:or})},1e3)}createTargetManager(e,t,n){return Ha.connect(e,void 0,this.pathResolver,t,this.logger,n.telemetryReporter,n.targetOrigin)}async attemptToAttach(e,t){let n=await this.acquireConnectionForBrowser(t,e);this._connection=n,n.onDisconnected(()=>{this._connection=void 0,this._targetManager&&(this._targetManager.dispose(),this._targetManager=void 0,this._onTargetListChangedEmitter.fire()),this._lastLaunchParams===e&&e.restart?this._scheduleAttach(e,t):this._onTerminatedEmitter.fire({killed:!0,code:0})},void 0,this._disposables);let i=this._targetManager=await this.createTargetManager(n,e,t);if(!i)return;i.serviceWorkerModel.onDidChange(()=>this._onTargetListChangedEmitter.fire()),i.frameModel.onFrameNavigated(()=>this._onTargetListChangedEmitter.fire()),i.onTargetAdded(()=>{this._onTargetListChangedEmitter.fire()}),i.onTargetRemoved(()=>{this._onTargetListChangedEmitter.fire(),i.targetList().length||(this._onTerminatedEmitter.fire({killed:!0,code:0}),this._connection?.close())});let o=await Promise.race([i.waitForMainTarget(await this.getTargetFilter(i,e)),De(e.timeout).then(()=>{throw new K(fH())})]);return typeof o=="string"?o:void 0}async getTargetFilter(e,t){let n=Us(t),i=zu(n);if(t.targetSelection!=="pick")return i;let o=await e.getCandiateInfo(i);if(o.length===0)return i;if(o.length===1||!this.vscode)return c=>c.targetId===o[0].targetId;let s=Sv.t("Select a tab"),a=await this.vscode.window.showQuickPick(o.map(c=>({label:c.title,detail:c.url,targetId:c.targetId})),{matchOnDescription:!0,matchOnDetail:!0,placeHolder:s});return a?c=>c.targetId===a.targetId:i}async acquireConnectionForBrowser({telemetryReporter:e,cancellationToken:t},n){for(;this._lastLaunchParams===n;)try{return await this.acquireConnectionInner(e,n,t)}catch(i){if(t.isCancellationRequested)throw new K(ff(Sv.t("Cannot connect to the target at {0}: {1}",`${n.address}:${n.port}`,i.message)));await De(1e3)}throw new K(ff(Sv.t("Cannot connect to the target at {0}: {1}",`${n.address}:${n.port}`,"Cancelled")))}async acquireConnectionInner(e,t,n){let i=`http://${t.address}:${t.port}`;return await gW({browserURL:i,inspectUri:t.inspectUri,pageURL:t.url},n,this.logger,e)}async terminate(){this._lastLaunchParams=void 0,this._connection?.close()}async restart(){if(this._targetManager)for(let e of this._targetManager.targetList())e.type()==="page"&&!e.name().startsWith("devtools://")&&e.restart()}targetList(){let e=this._targetManager;return e?e.targetList():[]}};Qn=E([(0,va.injectable)(),H(0,(0,va.inject)(ie)),H(1,(0,va.inject)(tt)),H(2,(0,va.optional)()),H(2,(0,va.inject)(Fn))],Qn);var Si=w(V());var yW=w(wI()),bW=w(we()),Vm=w(require("fs")),xa=w(V()),lp=w(require("path"));var wo=class{constructor(e,t,n,i,o){this.storagePath=e;this.logger=t;this.pathResolver=n;this.initializeParams=i;this.fs=o;this._disposables=new Ce;this._onTerminatedEmitter=new U;this.onTerminated=this._onTerminatedEmitter.event;this._onTargetListChangedEmitter=new U;this.onTargetListChanged=this._onTargetListChangedEmitter.event;this._terminatedCts=new Xt}dispose(){this._disposables.dispose()}async launchBrowser({runtimeExecutable:e,trace:t,includeDefaultArgs:n,includeLaunchArgs:i,runtimeArgs:o,userDataDir:s,env:a,cwd:c,port:u,url:l,file:p,inspectUri:d,webRoot:h,cleanUp:f,launchUnelevated:g},v,S,R,F){let X=await this.findBrowserPath(e||"stable"),G;return typeof s=="string"?G=lp.resolve(s):s&&(G=lp.resolve(lp.join(this.storagePath,o?.includes("--headless")?".headless-profile":".profile"))),Vm.mkdirSync(this.storagePath,{recursive:!0}),G&&(Vm.mkdirSync(G,{recursive:!0}),G=Vm.realpathSync(G)),await hW(v,X,this.logger,R,this.initializeParams,S,{onStdout:J=>v.output({category:"stdout",output:J}),onStderr:J=>v.output({category:"stderr",output:J}),dumpio:typeof t=="boolean"?t:t.stdio,cleanUp:f,hasUserNavigation:!!(l||p),cwd:c||h||void 0,env:jt.merge(jt.processEnv(),a),args:o||[],userDataDir:G,connection:u||(d?0:"pipe"),launchUnelevated:g,ignoreDefaultArgs:!n,includeLaunchArgs:i,url:l,inspectUri:d,promisedPort:F})}getFilterForTarget(e){return zu(Us(e,["about:blank"]))}async doLaunch(e,t){let n;try{n=await this.launchBrowser(e,t.dap,t.cancellationToken,t.telemetryReporter)}catch(u){throw new K(U_(u))}let i=new Xt(this._terminatedCts.token);n.process.onExit(()=>this.fireTerminatedEvent());let o=()=>n.canReconnect&&!i.token.isCancellationRequested,s=async u=>{if(this._targetManager?.dispose(),this._targetManager=void 0,this._onTargetListChangedEmitter.fire(),o()&&(await De(1e3),o())){t.dap.output({category:"stderr",output:bW.t("Browser connection failed, will retry: {0}",u?.message||"Connection closed")});try{return await De(2e3),await a()}catch{}}n.process.kill(),this.fireTerminatedEvent()},a=async()=>{if(!i.token.isCancellationRequested)try{let u=await n.createConnection(i.token),l=await this.launchCdp(e,n,u,{...t,cancellationToken:i.token});await this.finishLaunch(l,e),u.onDisconnected(()=>s())}catch(u){if(o())return s(u);throw n.process.kill(),new K(U_(u))}},c=t.cancellationToken.onCancellationRequested(()=>i.cancel());try{await a()}finally{c.dispose()}}async launchCdp(e,t,n,i){if(this._connectionForTest=n,this._targetManager=await Ha.connect(n,t.process,this.pathResolver,e,this.logger,i.telemetryReporter,i.targetOrigin),!this._targetManager)throw new K(ff());this._targetManager.serviceWorkerModel.onDidChange(()=>this._onTargetListChangedEmitter.fire()),this._targetManager.frameModel.onFrameNavigated(()=>this._onTargetListChangedEmitter.fire()),this._disposables.push(this._targetManager),this._targetManager.onTargetAdded(()=>{this._onTargetListChangedEmitter.fire()}),this._targetManager.onTargetRemoved(()=>{this._onTargetListChangedEmitter.fire()});let o=this.getFilterForTarget(e),s=await ho(this._targetManager.waitForMainTarget(o),i.cancellationToken,"Could not attach to main target");if(!s)throw new K(fH());return s}async finishLaunch(e,t){if("skipNavigateForTest"in t)return;let n;if(t.file){let i=lp.resolve(t.webRoot||t.rootPath||"",t.file),o=Math.min(i.includes("#")?i.indexOf("#"):1/0,i.includes("?")?i.indexOf("?"):1/0);isFinite(o)&&!await un(this.fs,i)?n=We(i.slice(0,o))+i.slice(o):n=We(i)}else n=t.url;n&&await e.cdp().Page.navigate({url:n})}async launch(e,t){let n=this.resolveParams(e);return n?(await this.doLaunch(n,t),{blockSessionTermination:!0}):{blockSessionTermination:!1}}async terminate(){this._targetManager?await this._targetManager.closeBrowser():this.fireTerminatedEvent()}async restart(){for(let e of this.targetList())e.type()==="page"&&e.restart()}async findBrowserByExe(e,t){return t==="*"?(await e.findWhere(i=>i.quality==="stable")||(await e.findAll())[0])?.path:(0,yW.isQuality)(t)?(await e.findWhere(n=>n.quality===t))?.path:t}targetList(){let e=this._targetManager;return e?e.targetList():[]}connectionForTest(){return this._connectionForTest}fireTerminatedEvent(){this._terminatedCts.token.isCancellationRequested||(this._terminatedCts.cancel(),this._onTerminatedEmitter.fire({code:0,killed:!0}))}};wo=E([(0,xa.injectable)(),H(0,(0,xa.inject)(po)),H(1,(0,xa.inject)(ie)),H(2,(0,xa.inject)(tt)),H(3,(0,xa.inject)(Xr)),H(4,(0,xa.inject)(_e))],wo);var Xc=class extends wo{constructor(t,n,i,o,s,a){super(t,n,s,a,o);this.browserFinder=i}resolveParams(t){return t.type==="pwa-chrome"&&t.request==="launch"&&t.browserLaunchLocation==="workspace"?t:void 0}async findBrowserPath(t){let n=await this.findBrowserByExe(this.browserFinder,t);if(!n||!await Vo(this.fs,n))throw new K(dH("Chrome",t,(await this.browserFinder.findAll()).map(i=>i.quality)));return n}};Xc=E([(0,Si.injectable)(),H(0,(0,Si.inject)(po)),H(1,(0,Si.inject)(ie)),H(2,(0,Si.inject)(vc)),H(2,(0,Si.tagged)("browser","chrome")),H(3,(0,Si.inject)(_e)),H(4,(0,Si.inject)(tt)),H(5,(0,Si.inject)(Xr))],Xc);var vW=require("crypto"),Ei=w(V()),xW=require("net"),wW=require("os"),IW=require("path");var Ece=["--do-not-de-elevate"],pp=class extends wo{constructor(t,n,i,o,s,a){super(t,n,s,a,o);this.browserFinder=i}resolveParams(t){return t.type==="pwa-msedge"&&t.request==="launch"&&t.browserLaunchLocation==="workspace"?t:void 0}launchBrowser(t,n,i,o){return super.launchBrowser({...t,runtimeArgs:t.runtimeArgs??Ece},n,i,o,t.useWebView?this.getWebviewPort(t,o):void 0)}getFilterForTarget(t){return t.useWebView&&t.urlFilter?zu(Us(t)):super.getFilterForTarget(t)}async getWebviewPort(t,n){let i=Ge();if(!t.runtimeExecutable)return i.resolve(t.port),i.promise;let o=t.runtimeExecutable.split(/\\|\//).pop(),s=`VSCode_${(0,vW.randomBytes)(12).toString("base64")}`,a=`\\\\.\\pipe\\WebView2\\Debugger\\${o}\\${s}`,c=(0,xW.createServer)(u=>{u.on("data",async l=>{let p=JSON.parse(l.toString()),d=p.devtoolsActivePort||"",h=parseInt(d.split(`
`).shift()||""),f=t.port||h;i.resolve(f);let g=`ws://${t.address}:${f}/devtools/${p.type}/${p.id}`,v=await In.create(g,or),S=new Ft(v,this.logger,n);await S.rootSession().Runtime.runIfWaitingForDebugger({}),S.close()})});return c.on("error",i.reject),c.on("close",()=>i.resolve(t.port)),c.listen(a),t.userDataDir=t.userDataDir||(0,IW.join)((0,wW.tmpdir)(),`vscode-js-debug-userdatadir_${t.port}`),t.env=t.env||{},t.env.WEBVIEW2_USER_DATA_FOLDER=t.userDataDir.toString(),t.env.WEBVIEW2_ADDITIONAL_BROWSER_ARGUMENTS=`--remote-debugging-port=${t.port}`,t.env.WEBVIEW2_WAIT_FOR_SCRIPT_DEBUGGER="true",t.env.WEBVIEW2_PIPE_FOR_SCRIPT_DEBUGGER=s,i.promise}async findBrowserPath(t){let n=await this.findBrowserByExe(this.browserFinder,t);if(!n||!await Vo(this.fs,n))throw new K(dH("Edge",t,(await this.browserFinder.findAll()).map(i=>i.quality)));return n}};pp=E([(0,Ei.injectable)(),H(0,(0,Ei.inject)(po)),H(1,(0,Ei.inject)(ie)),H(2,(0,Ei.inject)(vc)),H(2,(0,Ei.tagged)("browser","edge")),H(3,(0,Ei.inject)(_e)),H(4,(0,Ei.inject)(tt)),H(5,(0,Ei.inject)(Xr))],pp);var ls=w(V());var _W=require("crypto"),Ev=w(V());var Pce=0,Io=class{constructor(e){this.portLeaseTracker=e;this.teardown=new WeakMap}async launch(e,t,n){this.server&&this.server.close();let i=`/${(0,_W.randomBytes)(20).toString("hex")}`,o=this.server=await Ly(this.portLeaseTracker,{perMessageDeflate:!0,host:"127.0.0.1",path:i}),s=++Pce;e.launchBrowserInCompanion({...n,serverPort:o.address().port,path:i,launchId:s});let a=await ho(new Promise((u,l)=>{o.once("connection",u),o.once("error",l)}),t,"Timed out waiting for browser connection"),c=new In(a);return this.teardown.set(c,()=>e.killCompanionBrowser({launchId:s})),c}close(e){this.teardown.get(e)?.()}dispose(){this.server?.close(),this.server=void 0}};Io=E([(0,Ev.injectable)(),H(0,(0,Ev.inject)(dt))],Io);var dp=class extends Qn{constructor(t,n,i,o){super(n,i,o);this.helper=t}resolveParams(t){return t.request==="attach"&&(t.type==="pwa-chrome"||t.type==="pwa-msedge")&&t.browserAttachLocation==="ui"}async acquireConnectionForBrowser(t,n){let i=await this.helper.launch(t.dap,t.cancellationToken,{type:n.type==="pwa-chrome"?"chrome":"edge",params:n,attach:{host:n.address,port:n.port}});return new Ft(i,this.logger,t.telemetryReporter)}};dp=E([(0,ls.injectable)(),H(0,(0,ls.inject)(Io)),H(1,(0,ls.inject)(ie)),H(2,(0,ls.inject)(tt)),H(3,(0,ls.optional)()),H(3,(0,ls.inject)(Fn))],dp);var ps=w(V());var fp=class extends wo{constructor(t,n,i,o,s,a){super(t,n,i,o,s);this.helper=a}resolveParams(t){return(t.type==="pwa-chrome"||t.type==="pwa-msedge")&&t.request==="launch"&&t.browserLaunchLocation==="ui"?t:void 0}async launchBrowser(t,n,i,o){let s=await this.helper.launch(n,i,{type:t.type==="pwa-chrome"?"chrome":"edge",browserArgs:XE(new ya(t.runtimeArgs||[]),{hasUserNavigation:!!t.url,ignoreDefaultArgs:!t.includeDefaultArgs}).setConnection(t.port||"pipe").toArray(),params:t});return{canReconnect:!1,createConnection:()=>Promise.resolve(new Ft(s,this.logger,o)),process:{onExit:new U().event,onError:new U().event,transport:()=>Promise.resolve(s),kill:()=>this.helper.close(s)}}}async findBrowserPath(){throw new Error("not implemented")}};fp=E([(0,ps.injectable)(),H(0,(0,ps.inject)(po)),H(1,(0,ps.inject)(ie)),H(2,(0,ps.inject)(tt)),H(3,(0,ps.inject)(Xr)),H(4,(0,ps.inject)(_e)),H(5,(0,ps.inject)(Io))],fp);var wa=w(V()),LW=require("net");var mp=class extends Qn{constructor(e,t,n){super(e,t,n)}resolveParams(e){return e.request==="attach"&&e.type==="pwa-msedge"&&typeof e.useWebView=="object"}async acquireConnectionForBrowser(e,t){let{getAppContainerProcessTokens:n}=await Promise.resolve().then(()=>w(TW())),i=n(t.useWebView.pipeName);if(!i)throw new K(Uk());let o=i.map(c=>(0,LW.connect)(c)),s;try{s=await ho(eo(o.map(c=>new Promise(u=>c.on("error",()=>u(void 0)).on("connect",()=>u(c))))),e.cancellationToken)}finally{for(let c of o)c!==s&&c.destroy()}if(!s)throw new K(jk());let a=new Yn(this.logger,s);return new Ft(a,this.logger,e.telemetryReporter)}};mp=E([(0,wa.injectable)(),H(0,(0,wa.inject)(ie)),H(1,(0,wa.inject)(tt)),H(2,(0,wa.optional)()),H(2,(0,wa.inject)(Fn))],mp);var yp=w(V()),qW=require("net");var _n=w(V());var Gm=Symbol("ILinkedBreakpointLocation");var NW=w(require("path"));var Km=w(V()),_a=w(require("path")),OW=require("url");var DW=require("fs"),ds=w(require("path")),JE=require("url");function Cv(r,e){return r?(r.endsWith("/")||(r+="/"),r+e):e}async function Tv(r,e,t,n,i){e=xt(e)||e;let o;if(r){if(zr(r))o=xt(r);else if(Pr(r))o=await n(r,t,i)||r;else if(ds.isAbsolute(e))o=Rce(e,r);else{let s=new JE.URL(e).pathname,a=await n(s,t,i),c=ds.dirname(a);o=Ds(c,r)}i.verbose("sourcemap.parsing","resolved sourceRoot",{sourceRoot:r,absSourceRoot:o})}else if(ds.isAbsolute(e))o=ds.dirname(e),i.verbose("sourcemap.parsing","no sourceRoot specified, using script dirname",{absSourceRoot:o});else{let s=new JE.URL(e).pathname||"/placeholder.js",a=await n(s,t,i);o=a?ds.dirname(a):"",i.verbose("sourcemap.parsing","no sourceRoot specified, using webRoot + script path dirname",{absSourceRoot:o})}return o=$R(o),o=Tt(o),o}var zm=async(r,e,t)=>{if(!r||!r.startsWith("/"))return"";let n=Object.keys(e).sort((i,o)=>o.length-i.length);for(let i of n){if(!i)continue;let o=e[i];if(i[0]!=="/"&&(t.verbose("sourcemap.parsing",`Keys should be absolute: ${i}`),i="/"+i),$ce(i,r))return kce(i,o,r)}return""},$W=(r,e)=>async(t,n,i)=>{if(process.platform==="win32"&&/^[a-z]:/i.test(t))return t;let o=await qu(r,ds.dirname(e),"package.json");if(!o)return zm(t,n,i);let s=await zm(t,hT(n,a=>a.length>=o.length),i);return process.platform!=="win32"&&t!=="/"&&!s&&(await DW.promises.stat(t).catch(()=>{}))?.isDirectory()?t:s||o};function $ce(r,e){return r===e?!0:(r.endsWith("/")||(r+="/"),e.startsWith(r))}function kce(r,e,t){let n=decodeURIComponent(t.substring(r.length));return n?Ds(e,n):e}function Rce(r,e){return ln(ds.dirname(r),e)}var MW=w(Rf()),gp=w(require("path"));var $v="*",kW=new RegExp(Or($v),"g"),Lv="?:"+$v,Mce=new RegExp(Or(Lv),"g"),YE=(r,e)=>{let t=e.match(r);return r.lastIndex=0,t?t.length:0},RW=new RegExp(`${Or(Lv)}|${Or($v)}`,"g"),Dv=class{constructor(e,t){this.logger=t;this.replacers=[];let n=Object.keys(e).sort((i,o)=>o.replace(Lv,"*").length-i.replace(Lv,"*").length);for(let i of n){let o=e[i];if(!o.includes("*")&&/\$[0-9'`&]/.test(o)){this.replacers.push([new RegExp(`^${i}$`,"i"),o]);continue}let s=Xe(i),a=`"${s}": "${o}"`,c=YE(kW,s)-YE(Mce,s);if(c>1){t.warn("runtime.sourcemap",`Warning: only one asterisk allowed in a sourceMapPathOverrides entry - ${a}`);continue}if(YE(kW,o)>c){t.warn("runtime.sourcemap",`The right side of a sourceMapPathOverrides entry must have 0 or 1 asterisks - ${a}}`);continue}let u="^",l=0;for(RW.lastIndex=0;;){let p=RW.exec(s);if(u+=Or(s.slice(l,p?.index),"/"),!p)break;p[0]===$v?u+="(.*?)":u+=".*?",l=p.index+p[0].length}c===0&&(u+="([\\/\\\\].*)?",o+="*"),this.replacers.push([new RegExp(u+"$","i"),o.replace(/\$/g,"$$$$").replace(/\*/,"$1")])}}apply(e){let t=Xe(e);for(let[n,i]of this.replacers){let o=t.replace(n,i);if(o!==t)return this.logger.verbose("runtime.sourcemap",`SourceMap: mapping ${e} => ${o}, via sourceMapPathOverrides entry - ${n.toString()}`),Ds(o)}return e}};var Oce=/\x00/,hp=class{constructor(e,t){this.options=e;this.logger=t;this.sourceMapOverrides=new Dv(this.options.sourceMapOverrides,this.logger);this.resolvePatterns=this.options.resolveSourceMapLocations?.map(e=>{let t=e.startsWith("!")?"!":"",n=e.slice(t.length).replace(/(?<!\.)\.[^.]+$/,".*");if(!Pr(n))return Xe(e);n=Xe(ln(n));let i=w_(this.options.workspaceFolder),o=w_(n),s=0;for(let a=0;a<i.length&&a<o.length&&o[a].toLowerCase()===i[a].toLowerCase();a++)s+=i[a].length+1;return n=n.slice(0,s).replace(/[\[\]\(\)\{\}\!\*]/g,"\\$&")+n.slice(s),t+n})}shouldResolveSourceMap({sourceMapUrl:e,compiledPath:t}){if(t.startsWith(la)||t==="")return!1;if(!this.resolvePatterns||this.resolvePatterns.length===0)return!0;let n=xt(e)||mr(e)&&t||e;if(n.startsWith("webpack-internal:///"))return!0;let i=nH(e)?!1:Z_(),o=this.rebaseRemoteToLocal(n);return(0,MW.default)((o!==n?[n,o]:[n]).map(Xe),this.resolvePatterns,{dot:!0,nocase:!i}).length>0}rebaseRemoteToLocal(e){if(!this.options.remoteRoot||!this.options.localRoot||!this.canMapPath(e))return gp.resolve(e);let t=af(this.options.remoteRoot,e);if(t.startsWith(".."))return"";let n=Ds(this.options.localRoot,t);return n=I_(n),this.logger.verbose("runtime.sourcemap",`Mapped remoteToLocal: ${e} -> ${n}`),ln(n)}rebaseLocalToRemote(e){if(!this.options.remoteRoot||!this.options.localRoot||!this.canMapPath(e))return e;let t=af(this.options.localRoot,e),n=Ds(this.options.remoteRoot,t);return n=Tt(n,!0),this.logger.verbose("runtime.sourcemap",`Mapped localToRemote: ${e} -> ${n}`),n}normalizeSourceMapUrl(e){e=e.replace(Oce,"");let t=e.lastIndexOf("?");return t!==-1&&e.slice(t-4,t)!==".vue"&&(e=e.slice(0,t)),e}canMapPath(e){return gp.posix.isAbsolute(e)||gp.win32.isAbsolute(e)||zr(e)}};var QE="https?:\\/\\/[^\\/]+\\/",Ia=class extends hp{constructor(t,n,i,o){super(i,o);this.vueMapper=t;this.fsUtils=n}absolutePathToUrlPath(t){t=_a.normalize(t);let{baseUrl:n,pathMapping:i}=this.options,o=["/",i["/"]],s=Object.entries(i).sort(([u,l],[p,d])=>d.length-l.length||p.length-u.length).find(([,u])=>rH(u,t))||o;if(!s)return{url:We(t),needsWildcard:!1};if(n&&zr(n))return{url:Gu(t),needsWildcard:!1};let a=Bs(_a.relative(s[1],t)),c=s[0].replace(/\/$|^\//g,"");return c&&(a=c+"/"+a),!n&&!MH(a)?{url:a,needsWildcard:!0}:{url:_H(n,a),needsWildcard:!1}}async urlToAbsolutePath({url:t,map:n}){let i=t.indexOf("?");return i!==-1&&t.slice(i-4,i)!==".vue"&&(t=t.slice(0,i)),n?this.sourceMapSourceToAbsolute(t,n):this.simpleUrlToAbsolute(t)}async simpleUrlToAbsolute(t){if(!t)return;if(zr(t)){let s=xt(t);if(await this.fsUtils.exists(s))return s;let a=kR(t);return await this.fsUtils.exists(a)?a:s}let n;try{let s=new OW.URL(t);if(!s.pathname||s.pathname==="/"?n="index.html":n=s.pathname,s.protocol==="webpack-internal:")return}catch{n=t}let i=_a.extname(n),o=n.replace(/^\//,"").split(/[\/\\]/);for(;o.length>0;){let s="/"+o.join("/"),a=await zm(s,this.options.pathMapping,this.logger);if(a){if(!i&&await this.fsUtils.exists(a+".html"))return a+".html";if(await this.fsUtils.exists(a))return a}o.shift()}}async sourceMapSourceToAbsolute(t,n){if(!this.shouldResolveSourceMap(n.metadata))return;switch(this.vueMapper.getVueHandling(t)){case 2:return;case 1:let a=await this.vueMapper.lookup(t);if(a)return Tt(a);break;default:}t=this.normalizeSourceMapUrl(t);let{pathMapping:i}=this.options,o=Cv(n.sourceRoot,t),s=this.sourceMapOverrides.apply(o);if(s!==o){s=Tt(s);let a=ln(i["/"],"..","ClientApp",af(i["/"],s));return this.options.clientID==="visualstudio"&&o.startsWith("webpack:///")&&!await this.fsUtils.exists(s)&&await this.fsUtils.exists(a)?a:s}return zr(t)?xt(t):_a.isAbsolute(t)?Tt(t):ln(await Tv(n.sourceRoot,n.metadata.compiledPath,i,zm,this.logger),t)}absolutePathToUrlRegexp(t){let n=this.absolutePathToUrlPath(t),i=n.url,o=i.length;i.endsWith("index.html")?(o=i.length-10-1,i=i.slice(0,o)+"\\/?($|index(\\.html)?)"):i.endsWith(".html")&&(o=i.length-5,i=i.slice(0,o)+"(\\.html)?");let s=0;n.needsWildcard&&(i=QE+i,s=QE.length,o+=QE.length);let a=kn(i,[s,o]);return n.needsWildcard?`${kn(We(t))}|${a}`:a}};Ia=E([(0,Km.injectable)(),H(0,(0,Km.inject)(Ql)),H(1,(0,Km.inject)(Er))],Ia);var kv=class extends Ia{constructor(t,n,i,o){super(t,n,i,o);this.blazorInCodespacesRegexpSubstitution="$1:\\$2";if(this.options.remoteFilePrefix){let s=`\\${NW.default.sep}`,a=this.options.remoteFilePrefix.replace(new RegExp(s,"g"),s);this.blazorInCodespacesRegexp=new RegExp(`^${a}${s}([A-z])\\$${s}(.*)$`)}else this.blazorInCodespacesRegexp=new RegExp("")}absolutePathToUrlRegexp(t){if(this.options.remoteFilePrefix){let n=t.replace(this.blazorInCodespacesRegexp,this.blazorInCodespacesRegexpSubstitution),o=Bs(n).replace(/^(\w):(.*)$/,"$1$2"),s=kn(o);if(s){let a=`dotnet://.*\\.dll/${s}`;return this.logger.verbose("runtime.breakpoints","absolutePathToUrlRegexp.blazor.remoteFs",{absolutePath:t,dotnetUrlRegexp:a}),a}}else{let n=We(t),i=kn(n),o=super.absolutePathToUrlRegexp(t);return i.includes(o)?i:`${i}|${o}`}return super.absolutePathToUrlRegexp(t)}};var FW=require("url");function BW(r){if("file"in r&&r.file)return Gu(r.file);if(r.url)try{let e=new FW.URL(r.url);return e.pathname="/",e.search="",e.hash="",e.protocol==="data:"?void 0:e.href}catch{}}var Jc=w(require("path")),jW=require("url");var UW="node:",fs=class r extends hp{constructor(t,n,i,o){super(i,o);this.fsUtils=t;this.linkedBp=n;this.options=i;this.logger=o}static shouldWarnAboutSymlinks(t){return"runtimeArgs"in t&&!t.runtimeArgs?.includes("--preserve-symlinks")}static getOptions(t){return{workspaceFolder:t.__workspaceFolder,resolveSourceMapLocations:t.resolveSourceMapLocations,basePath:t.cwd,sourceMapOverrides:t.sourceMapPathOverrides,remoteRoot:t.remoteRoot,localRoot:t.localRoot}}derive(t){return new r(this.fsUtils,this.linkedBp,{...this.options,...t},this.logger)}get resolutionOptions(){return this.options}async urlToAbsolutePath({url:t,map:n}){if(t=this.normalizeSourceMapUrl(t),t.startsWith(UW)&&this.options.basePath)return t=Jc.join(this.options.basePath,"lib",t.slice(UW.length)),t.endsWith(".js")||(t+=".js"),t;if(n)return this.sourceMapSourceToAbsolute(t,n);let i=xt(t);if(i)return this.rebaseRemoteToLocal(i);if(MH(t)){let s=this.sourceMapOverrides.apply(t);t=s===t?new jW.URL(t).pathname.slice(1):s}else if(Jc.isAbsolute(t))t=this.sourceMapOverrides.apply(t);else return`<node_internals>/${t}`;let o=ln(this.options.basePath??"",t);return this.rebaseRemoteToLocal(o)}absolutePathToUrl(t){return We(this.rebaseLocalToRemote(Jc.normalize(t)))}async absolutePathToUrlRegexp(t){let n=t;try{n=await this.fsUtils.realPath(t)}catch{}return kH(n,t)?kn(this.absolutePathToUrl(t)):(this.linkedBp?.warn(),kn(this.absolutePathToUrl(t))+"|"+kn(this.absolutePathToUrl(n)))}async sourceMapSourceToAbsolute(t,n){if(!this.shouldResolveSourceMap(n.metadata))return;let i=Cv(n.sourceRoot,t),o=this.sourceMapOverrides.apply(i);return o!==i?Tt(o):zr(t)?xt(t):!Jc.isAbsolute(t)&&this.options.basePath?ln(await Tv(this.options.remoteRoot&&Pr(n.sourceRoot)&&this.rebaseRemoteToLocal(n.sourceRoot)||n.sourceRoot,n.metadata.compiledPath,{"/":this.options.basePath},$W(this.fsUtils,n.metadata.compiledPath),this.logger),t):this.rebaseRemoteToLocal(t)||t}};var Br=Symbol("ISourcePathResolverFactory"),Pi=class{constructor(e,t){this.fsUtils=e;this.linkedBp=t}create(e,t){if(e.type==="pwa-node"||e.type==="node-terminal"||e.type==="pwa-extensionHost")return new fs(this.fsUtils,fs.shouldWarnAboutSymlinks(e)?this.linkedBp:void 0,fs.getOptions(e),t);throw new Error(`Not usable for type ${e.type}`)}};Pi=E([(0,_n.injectable)(),H(0,(0,_n.inject)(Er)),H(1,(0,_n.optional)()),H(1,(0,_n.inject)(Gm))],Pi);var Hp=class{constructor(e,t,n,i){this.initializeParams=e;this.vueMapper=t;this.fsUtils=n;this.linkedBp=i}create(e,t){if(e.type==="pwa-node"||e.type==="node-terminal"||e.type==="pwa-extensionHost")return new fs(this.fsUtils,fs.shouldWarnAboutSymlinks(e)?this.linkedBp:void 0,fs.getOptions(e),t);{let n=!!e.inspectUri;return new(n?kv:Ia)(this.vueMapper,this.fsUtils,{workspaceFolder:e.__workspaceFolder,resolveSourceMapLocations:e.resolveSourceMapLocations,baseUrl:BW(e),localRoot:null,remoteRoot:null,pathMapping:{"/":e.webRoot,...e.pathMapping},sourceMapOverrides:e.sourceMapPathOverrides,clientID:this.initializeParams.clientID,remoteFilePrefix:e.__remoteFilePrefix},t)}}};Hp=E([(0,_n.injectable)(),H(0,(0,_n.inject)(Xr)),H(1,(0,_n.inject)(Ql)),H(2,(0,_n.inject)(Er)),H(3,(0,_n.optional)()),H(3,(0,_n.inject)(Gm))],Hp);var WW=require("url");var Rv=class extends Ha{constructor(){super(...arguments);this.baseFilter=Us(this.launchParams);this.filter=t=>{let{debugWebWorkerExtHost:n,debugWebviews:i}=this.launchParams;return!!(n&&(t.type==="worker"&&t.title.startsWith("DebugWorkerExtensionHost")||t.type==="page"&&t.title.includes("[Extension Development Host]"))||i&&t.type==="iframe"&&this.baseFilter(t))}}static async connectRenderer(t,n,i,o,s,a){let u=await t.rootSession().Target.attachToBrowserTarget({});if(!u)return;let l=t.createSession(u.sessionId);return new this(t,void 0,l,n,o,s,i,a)}waitForMainTarget(t){let n=this.launchParams;return n.debugWebWorkerExtHost&&this._browser.Target.on("targetCreated",this.enqueueLifecycleFn(async({targetInfo:i})=>{if(!i.url.includes(n.__sessionId))return;let o=await this._browser.Target.attachToTarget({targetId:i.targetId,flatten:!0});o&&this.attachedToTarget(i,o.sessionId,!1)})),super.waitForMainTarget(t)}attachedToTarget(t,n,i,o){let s=super.attachedToTarget(t,n,i||this.filter(t),o,!1);return t.type==="iframe"&&s.setComputeNameFn(Nce),s}},Nce=r=>{let e;try{e=new WW.URL(r.targetInfo.url)}catch{return}switch(e.searchParams.get("purpose")){case"customEditor":return`${e.searchParams.get("extensionId")} editor: ${e.host}`;case"notebookRenderer":return`Notebook Renderer: ${e.host}`;default:let t=e.searchParams.get("extensionId");return`Webview: ${t?t+" ":""} ${e.host}`}};var Ci=class extends Qn{constructor(t,n,i){super(t,n);this.pathResolverFactory=i}async launch(t,n){if(t.type!=="pwa-extensionHost"||t.request!=="attach")return{blockSessionTermination:!1};let i=Ci.debugIdToRendererDebugPort.get(t.__sessionId);if(!i)return{blockSessionTermination:!1};let o=Cs({name:"Webview",type:"pwa-chrome",request:"attach",port:i,__workspaceFolder:t.__workspaceFolder,urlFilter:"",resolveSourceMapLocations:t.resolveSourceMapLocations,...t.rendererDebugOptions});return o.__sessionId=t.__sessionId,o.debugWebWorkerExtHost=t.debugWebWorkerHost,o.debugWebviews=t.debugWebviews,super.launch(o,n).catch(s=>this.logger.error("runtime.exception","Error in webview attach",{err:s})),{blockSessionTermination:!1}}async acquireConnectionInner(t,n,i){let o=new Ce,s=await new Promise((a,c)=>{let u=(0,qW.createConnection)({port:n.port},()=>a(u));u.on("error",c),o.push(i.onCancellationRequested(()=>{u.destroy(),c(new Error("connection timed out"))}))}).finally(()=>o.dispose());return new Ft(new Yn(this.logger,s),this.logger,t)}async getTargetFilter(t){return t.filter}async createTargetManager(t,n,i){return new Rv(t,void 0,t.rootSession(),this.pathResolverFactory.create(n,this.logger),this.logger,i.telemetryReporter,n,i.targetOrigin)}};Ci.debugIdToRendererDebugPort=new Map,Ci=E([(0,yp.injectable)(),H(0,(0,yp.inject)(ie)),H(1,(0,yp.inject)(tt)),H(2,(0,yp.inject)(Br))],Ci);var Aa=class r{constructor(){this.target={queue:[]}}connectTo(e){this.target={logger:e}}info(e,t,n){this.log({tag:e,timestamp:Date.now(),message:t,metadata:n,level:1})}verbose(e,t,n){this.log({tag:e,timestamp:Date.now(),message:t,metadata:n,level:0})}warn(e,t,n){this.log({tag:e,timestamp:Date.now(),message:t,metadata:n,level:2})}error(e,t,n){this.log({tag:e,timestamp:Date.now(),message:t,metadata:n,level:3})}fatal(e,t,n){this.log({tag:e,timestamp:Date.now(),message:t,metadata:n,level:4})}log(e){this.target&&("queue"in this.target?this.target.queue.push(e):this.target.logger.log(e))}getRecentLogs(){return this.target?"queue"in this.target?this.target.queue:this.target.logger.getRecentLogs():[]}assert(e,t){if(e===!1||e===void 0||e===null){if(this.error("runtime.assertion",t,{error:new Error("Assertion failed")}),process.env.JS_DEBUG_THROW_ASSERTIONS)throw new Error(t);debugger;return!1}return!0}setup(){throw new Error("A ProxyLogger cannot be setup()")}dispose(){this.target=void 0}forTarget(){return new r}};var VW=Symbol("ITargetOrigin"),Mv=class{constructor(e){this.id=e}},bp=class{constructor(e){this.id=e}};var Ov=class{constructor(e,t){this.parentList=e;this.logger=t;this.targets=new vo;this.onTerminatedEmitter=new U;this.onTerminated=this.onTerminatedEmitter.event;this.onTargetListChanged=this.targets.onChanged;e.onAdd(([,n])=>{n.parent&&this.targets.get(n.parent.id)&&this.targets.add(n.id,n.target)}),e.onRemove(([n])=>{this.targets.remove(n)&&!this.targets.size&&this.onTerminatedEmitter.fire({killed:!0,code:0})})}async launch(e,t){if(e.type!=="node-terminal"||e.request!=="attach")return{blockSessionTermination:!1};let n=this.parentList.get(e.delegateId);if(n===void 0)return setTimeout(()=>this.onTerminatedEmitter.fire({killed:!0,code:0}),1),{blockSessionTermination:!0};let i=n.target.targetOrigin();if(!(i instanceof bp))throw new Error("Expected delegate session to have a mutable target origin");let o=n.target.logger;if(!(o instanceof Aa))throw new Error("Expected delegate session to have a proxy logger");return i.id=t.targetOrigin.id,o.connectTo(this.logger),setTimeout(()=>{this.targets.add(e.delegateId,n.target),n.dap.connect(t.dap)},0),{blockSessionTermination:!0}}terminate(){for(let e of this.targets.value())e.stop();return Promise.resolve()}restart(){for(let e of this.targets.value())e.restart();return Promise.resolve()}targetList(){return[...this.targets.value()]}dispose(){this.terminate()}};var GW=w(V());var Fce=0,_o=class{constructor(){this.delegateSessions=new vo;this.refsByTarget=new WeakMap}createLauncher(e){return new Ov(this.delegateSessions,e)}addDelegate(e,t,n){let i={id:Fce++,target:e,dap:t,parent:n&&this.refsByTarget.get(n)};return this.refsByTarget.set(e,i),this.delegateSessions.add(i.id,i),i.id}removeDelegate(e){let t=this.refsByTarget.get(e);t&&this.delegateSessions.remove(t.id)}};_o=E([(0,GW.injectable)()],_o);var cq=w(V());var et=class r{constructor(e,t,n){this.major=e;this.minor=t;this.patch=n}static parse(e){let t=e.split(".").map(Number);if(t.length!==3||t.some(isNaN))throw new SyntaxError(`Input string '${e}' is not a semver`);return new r(t[0],t[1],t[2])}static min(e,t){return e.lt(t)?e:t}compare(e){return this.major-e.major||this.minor-e.minor||this.patch-e.patch}gt(e){return this.compare(e)>0}gte(e){return this.compare(e)>=0}lt(e){return this.compare(e)<0}lte(e){return this.compare(e)<=0}toString(){return`${this.major}.${this.minor}.${this.patch}`}};var iq=w(V());var rq=w(JW()),So=w(require("fs")),Qc=w(V()),nq=w(require("net")),iP=w(require("os")),oP=w(require("path"));var Bv=class{constructor(e,t){this.sessionId=e;this.sink=t;this.onMessageEmitter=new U;this.onEndEmitter=new U;this.disposables=new Ce;this.onMessage=this.onMessageEmitter.event;this.onEnd=this.onEndEmitter.event;this.disposables.push(t.NodeWorker.on("detachedFromWorker",n=>{n.sessionId===e&&(this.onEndEmitter.fire(),this.dispose())}),t.NodeWorker.on("receivedMessageFromWorker",n=>{n.sessionId===e&&this.onMessageEmitter.fire([n.message,new Wn])}))}send(e){this.sink.NodeWorker.sendMessageToWorker({message:e,sessionId:this.sessionId})}dispose(){this.disposables.isDisposed||(this.disposables.dispose(),this.onEndEmitter.fire())}};var tP=":::",Uv=class{constructor(e){this.processEnv=e}get nodeOptions(){return this.processEnv.NODE_OPTIONS}set nodeOptions(e){e===void 0?delete this.processEnv.NODE_OPTIONS:this.processEnv.NODE_OPTIONS=e}get inspectorOptions(){let e=this.processEnv.VSCODE_INSPECTOR_OPTIONS;if(!e)return;let t=e.split(tP).find(n=>!!n);if(t)try{return JSON.parse(t)}catch{return}}set inspectorOptions(e){e===void 0?delete this.processEnv.VSCODE_INSPECTOR_OPTIONS:this.processEnv.VSCODE_INSPECTOR_OPTIONS=JSON.stringify(e)}unsetForTree(){delete this.processEnv.VSCODE_INSPECTOR_OPTIONS}updateInspectorOption(e,t){let n=this.inspectorOptions;n&&(this.inspectorOptions={...n,[e]:t})}};var rP=require("path"),YW=(0,rP.join)(__dirname,"watchdog.js"),jv=(0,rP.join)(__dirname,"bootloader.js");var Ym=w(we()),Zn=w(V()),Ao=require("path");var Xm=w(V()),QW=require("path");var Yc=Symbol("IPackageJsonProvider"),Wv={getPath:()=>Promise.resolve(void 0),getContents:()=>Promise.resolve(void 0)},vp=class{constructor(e,t){this.fs=e;this.config=t;this.getPath=Se(async()=>{if(this.config.type!=="pwa-node"||this.config.request!=="launch")return;let e=await qu(this.fs,this.config.cwd,"package.json");return e?(0,QW.join)(e,"package.json"):void 0});this.getContents=Se(async()=>{let e=await this.getPath();if(e)try{let t=await this.fs.readFile(e);return JSON.parse(t.toString())}catch{return}})}};vp=E([(0,Xm.injectable)(),H(0,(0,Xm.inject)(Er)),H(1,(0,Xm.inject)(Ne))],vp);var ei=Symbol("INodeBinaryProvider");function qv(r,e){return r.has(1)?e.addNodeOption("--inspect-publish-uid=http"):e}var rue=new Set(["npm","yarn","pnpm","tnpm","cnpm"]),ZW=r=>rue.has((0,Ao.basename)(r,(0,Ao.extname)(r))),eq=(r,e)=>{if(!(!r||!ZW(r)))return e.find(t=>!t.startsWith("-")&&t!=="run"&&t!=="run-script")},nP=new et(12,0,0),nue=new et(8,0,0),iue=[{inclusiveMin:new et(16,0,0),inclusiveMax:new et(16,3,99),message:Ym.t("Some breakpoints might not work in your version of Node.js. We recommend upgrading for the latest bug, performance, and security fixes. Details: https://aka.ms/AAcsvqm")},{inclusiveMin:new et(7,0,0),inclusiveMax:new et(8,99,99),message:Ym.t("You're running an outdated version of Node.js. We recommend upgrading for the latest bug, performance, and security fixes.")}],Hr=class{constructor(e,t){this.path=e;this.version=t;this.capabilities=new Set;t===void 0&&(t=nP),t.gte(new et(12,0,0))&&this.capabilities.add(0),t.gte(new et(12,6,0))&&this.capabilities.add(1)}get isPreciselyKnown(){return this.version!==void 0}get warning(){if(this.version){for(let e of iue)if(e.inclusiveMax.gte(this.version)&&e.inclusiveMin.lte(this.version))return e}}has(e,t){return!this.isPreciselyKnown&&t!==void 0?t:this.capabilities.has(e)}},Jm=class extends K{constructor(t,n){super(Ok(t.toString(),n));this.version=t;this.location=n}},oue=["node","node64","electron"],sue=new Map([[11,new et(12,0,0)],[10,new et(12,0,0)],[9,new et(12,0,0)],[8,new et(12,0,0)],[7,new et(12,0,0)],[6,new et(12,0,0)],[5,new et(10,0,0)],[4,new et(10,0,0)],[3,new et(10,0,0)],[2,new et(8,0,0)],[1,new et(8,0,0)]]),hs=class{constructor(e,t,n){this.logger=e;this.fs=t;this.packageJson=n;this.knownGoodMappings=new Map}async resolveAndValidate(e,t="node",n,i){try{return await this.resolveAndValidateInner(e,t,n,i)}catch(o){if(!(o instanceof Jm))throw o;if(await this.shouldTryDebuggingAnyway(o))return new Hr(o.location,o.version instanceof et?o.version:void 0);throw o}}shouldTryDebuggingAnyway(e){return Promise.resolve(!1)}async resolveAndValidateInner(e,t,n,i){let o=await this.resolveBinaryLocation(t,e);if(this.logger.info("runtime.launch","Using binary at",{location:o,executable:t}),!o)throw new K(F_(t,Ym.t("path does not exist")));if(n)return new Hr(o,new et(n,0,0));let s=RH(o);if(!oue.includes(s)){if(ZW(o)){let g=await this.packageJson.getPath();g&&(e=e.addToPath((0,Ao.resolve)((0,Ao.dirname)(g),"node_modules/.bin"),"prepend"))}try{let g=await this.resolveAndValidateInner(e,"node",void 0,i);return new Hr(o,g.version)}catch(g){if(qk(g,9230))throw g;return new Hr(o,void 0)}}if(o.startsWith("/snap/"))return new Hr(o,void 0);let a=this.knownGoodMappings.get(o);if(a)return a;let c=await this.getVersionText(o,i);if(!c)return new Hr(o,void 0);this.logger.info("runtime.launch","Discovered version",{version:c});let u=/v([0-9]+)\.([0-9]+)\.([0-9]+)/.exec(c);if(!u)throw new Jm(c,o);let[,l,p,d]=u.map(Number),h=new et(l,p,d);if(s==="electron"){let g=await this.resolveAndValidate(e);h=et.min(sue.get(h.major)??nP,g.version??nP)}if(h.lt(nue))throw new Jm(h,o);let f=new Hr(o,h);return this.knownGoodMappings.set(o,f),f}async resolveBinaryLocation(e,t){return e&&(0,Ao.isAbsolute)(e)?await Q$(this.fs,e,t):await eH(this.fs,e,t.value)}async getVersionText(e,t){try{let{stdout:n}=await Zb(e,["--version"],{env:jt.processEnv().defined(),cwd:t});return n.trim()}catch(n){throw t&&!(await un(this.fs,t))?.isDirectory()?new K(Mk(t)):new K(F_(e,n.message))}}};hs=E([(0,Zn.injectable)(),H(0,(0,Zn.inject)(ie)),H(1,(0,Zn.inject)(_e)),H(2,(0,Zn.inject)(Yc))],hs);var xp=class extends hs{constructor(t,n,i,o){super(t,n,i);this.vscode=o}async shouldTryDebuggingAnyway({message:t}){if(!this.vscode)return!1;let n=Ym.t("Yes");return await this.vscode.window.showErrorMessage(t,n)===n}};xp=E([H(0,(0,Zn.inject)(ie)),H(1,(0,Zn.inject)(_e)),H(2,(0,Zn.inject)(Yc)),H(3,(0,Zn.optional)()),H(3,(0,Zn.inject)(Fn))],xp);var tq=require("path");var wp=class{constructor(e,t,n,i,o,s,a={},c){this.launchConfig=e;this.targetOriginValue=t;this.connection=n;this.targetInfo=o;this.logger=s;this.lifecycle=a;this._parent=c;this._serialize=Promise.resolve(void 0);this._attached=!1;this._onNameChangedEmitter=new U;this._onDisconnectEmitter=new U;this.entryBreakpoint=void 0;this.onDisconnect=this._onDisconnectEmitter.event;this.onNameChanged=this._onNameChangedEmitter.event;this.connection=n,this._cdp=i,i.pause(),this._waitingForDebugger=o.type==="waitingForDebugger",o.title?this._targetName=`${(0,tq.basename)(o.title)} [${o.processId}]`:this._targetName=`[${o.processId}]`,i.Target.on("targetDestroyed",()=>this.connection.close()),n.onDisconnected(()=>this._disconnected())}id(){return this.targetInfo.targetId}processId(){return this.targetInfo.processId}name(){return this._targetName}fileName(){return this.targetInfo.title}type(){return"node"}targetOrigin(){return this.targetOriginValue}parent(){return this._parent}async initialize(){this.lifecycle.initialized&&(this.entryBreakpoint=await this.lifecycle.initialized(this)||void 0)}waitingForDebugger(){return this._waitingForDebugger}scriptUrlToUrl(e){return e[0]==="/"||process.platform==="win32"&&e[1]===":"&&e[2]==="\\"?We(e):e}supportsCustomBreakpoints(){return!1}supportsXHRBreakpoints(){return!1}executionContextName(){return this._targetName}hasParent(){return!!this._parent}async runIfWaitingForDebugger(){await this._cdp.Runtime.runIfWaitingForDebugger({})}async _disconnected(){this._onDisconnectEmitter.fire()}canAttach(){return!this._attached}async attach(){return this._serialize=this._serialize.then(async()=>{if(!this._attached)return this._doAttach()}),this._serialize}async _doAttach(){this._waitingForDebugger=!1,this._attached=!0;let e=await this._cdp.Target.attachToTarget({targetId:this.targetInfo.targetId});if(!e){this.logger.info("runtime.launch","Failed to attach to target",{targetId:this.targetInfo.targetId});return}this._cdp.NodeWorker.enable({waitForDebuggerOnStart:!0}),e&&"__dynamicAttach"in e&&(await this._cdp.Runtime.enable({}),await this._cdp.Debugger.enable({}));let t;return this._cdp.Runtime.on("executionContextCreated",n=>{n.context.auxData&&n.context.auxData.isDefault&&(t=n.context.id)}),this._cdp.Runtime.on("executionContextDestroyed",n=>{n.executionContextId===t&&this.connection.close()}),this._cdp}async afterBind(){this._cdp.resume()}canDetach(){return this._attached}async detach(){this._serialize=this._serialize.then(async()=>{this._waitingForDebugger&&await(await this._doAttach())?.Runtime.runIfWaitingForDebugger({}),this._attached&&this._doDetach()})}async _doDetach(){await Promise.all([this._cdp.Target.detachFromTarget({targetId:this.targetInfo.targetId}),this._cdp.NodeWorker.disable({})]),this.connection.close(),this._attached=!1}canRestart(){return!1}restart(){}canStop(){return!0}stop(){try{this.lifecycle.close&&this.lifecycle.close(this)}finally{this.connection.close()}}};var tn=class{constructor(e,t,n,i){this.pathProvider=e;this.logger=t;this.portLeaseTracker=n;this.pathResolverFactory=i;this.serverConnections=new Set;this.targets=new vo;this.onTerminatedEmitter=new U;this.onTerminated=this.onTerminatedEmitter.event;this.onTargetListChanged=this.targets.onChanged;this.bootloaderFile=Se(this.getBootloaderFile.bind(this))}async launch(e,t){let n=this.resolveParams(e);if(!n)return{blockSessionTermination:!1};this._stopServer();let{server:i,pipe:o}=await this._startServer(t.telemetryReporter),s=this.logger.forTarget(),a=this.run={server:i,serverAddress:o,params:n,context:t,logger:s,pathResolver:this.pathResolverFactory.create(n,this.logger)};return await this.launchProgram(a),{blockSessionTermination:!0}}async terminate(){this.program?await this.program.stop():this.onProgramTerminated({code:0,killed:!0})}async restart(e){if(!this.run)return;let t=this.program;t&&(this.program=void 0,await t.stop(),await Promise.race([De(2e3).then(()=>!1),Promise.all([...this.serverConnections].map(i=>new Promise(o=>i.onDisconnected(o))))])||(this.logger.warn("runtime.launch","Timeout waiting for server connections to close"),this.closeAllConnections())),await this.launchProgram({...this.run,params:e?this.resolveParams(e)??this.run.params:this.run.params,context:{...this.run.context,cancellationToken:this.run.params.timeout>0?Xt.withTimeout(this.run.params.timeout).token:or}})}targetList(){return[...this.targets.value()]}dispose(){this._stopServer()}onProgramTerminated(e){this.onTerminatedEmitter.fire(e),this._stopServer(),this.program=void 0}resolveNodePath(e,t="node"){return this.pathProvider.resolveAndValidate(jt.merge(jt.processEnv(),this.getConfiguredEnvironment(e)),t,e.nodeVersionHint,e.cwd)}getConfiguredEnvironment(e){let t=jt.empty;if(e.envFile)try{t=t.merge(uue(e.envFile))}catch(n){throw new K(Rk(n.message))}return t.merge(e.env)}async resolveEnvironment({params:e,serverAddress:t},n,i){let o=this.getConfiguredEnvironment(e),s=await this.bootloaderFile(e.cwd,n),a={inspectorIpc:t,deferredMode:!1,waitForDebugger:"",execPath:await eH(So.promises,"node",process.env),onlyEntrypoint:!e.autoAttachChildProcesses,verbose:e.trace===!0||typeof e.trace=="object"&&e.trace.stdio?!0:void 0,autoAttachMode:"always",mandatePortTracking:this.portLeaseTracker.isMandated?!0:void 0,...i},c={NODE_OPTIONS:` --require ${s.interpolatedPath} `,VSCODE_INSPECTOR_OPTIONS:tP+JSON.stringify(a),ELECTRON_RUN_AS_NODE:null},u=o.lookup("NODE_OPTIONS");u&&(c.NODE_OPTIONS+=` ${u}`);let l=jt.processEnv().lookup("NODE_OPTIONS");return l&&(c.NODE_OPTIONS+=` ${l}`),o.merge({...c})}createLifecycle(e,t,n){return{}}async _startServer(e){let t=Zg(),n=await new Promise((i,o)=>{let s=nq.createServer(a=>this._startSession(a,e)).on("error",o).listen(t,()=>i(s))});return{pipe:t,server:n}}_stopServer(){this.run?.server.close(),this.run=void 0,this.bootloaderFile.value?.then(e=>e.dispose()),this.bootloaderFile.forget(),this.closeAllConnections()}closeAllConnections(){this.serverConnections.forEach(e=>e.close()),this.serverConnections.clear()}async _startSession(e,t){if(!this.run)return;let{connection:n,cdp:i,targetInfo:o}=await this.acquireTarget(e,t,this.run.logger);if(!this.run){e.destroy();return}o.processId===void 0&&(o.processId=Number(o.targetId));let s=new wp(this.run.params,this.run.context.targetOrigin,n,i,o,this.run.logger,this.createLifecycle(i,this.run,o),o.openerId?this.targets.get(o.openerId):void 0);this.listenToWorkerDomain(i,t,s),this.targets.add(o.targetId,s),s.onDisconnect(()=>this.targets.remove(o.targetId))}async listenToWorkerDomain(e,t,n){e.NodeWorker.on("attachedToWorker",i=>{let o=new Bv(i.sessionId,e),s=new Cl(n.launchConfig,{attached:!0,canAccessOpener:!1,type:"node-worker",targetId:`${n.id()}-${i.sessionId}`,title:i.workerInfo.title,url:i.workerInfo.url,openerId:n.id()},n,n.targetOrigin(),new Ft(o,n.logger,t).rootSession(),n.logger),a=new Ce;a.push(o),a.push(n.onDisconnect(()=>a.dispose())),a.push(o.onEnd(()=>a.dispose())),a.callback(()=>this.targets.remove(s.id())),this.targets.add(s.id(),s)})}async acquireTarget(e,t,n){let i=new Ft(new Yn(n,e),n,t);this.serverConnections.add(i),i.onDisconnected(()=>this.serverConnections.delete(i));let o=i.rootSession(),{targetInfo:s}=await new Promise(u=>o.Target.on("targetCreated",u)),a=s,c=this.portLeaseTracker.register(a.processInspectorPort);return i.onDisconnected(()=>c.dispose()),{targetInfo:a,cdp:o,connection:i,logger:n}}async getBootloaderFile(e,t){let n=Xe(jv);if(!n.includes(" "))return{interpolatedPath:n,dispose:()=>{}};if(t.has(0))return{interpolatedPath:`"${n}"`,dispose:()=>{}};let i=`require(${JSON.stringify(n)})`;if(!iP.tmpdir().includes(" ")||!e){let a=oP.join(iP.tmpdir(),"vscode-js-debug-bootloader.js");return await So.promises.writeFile(a,i),{interpolatedPath:a,dispose:()=>{}}}let o=".vscode-js-debug-bootloader.js",s=oP.join(e,o);return await So.promises.writeFile(s,i),{interpolatedPath:`./${o}`,dispose:()=>So.unlinkSync(s)}}async gatherTelemetryFromCdp(e,t){for(let n=0;n<8;n++){let i=await e.Runtime.evaluate({contextId:1,returnByValue:!0,expression:"typeof process === 'undefined' || process.pid === undefined ? 'process not defined' : ({ processId: process.pid, nodeVersion: process.version, architecture: process.arch })"+gt()});if(!this.program)return;if(!i||!i.result.value){this.logger.error("runtime.target","Undefined result getting telemetry");return}if(typeof i.result.value!="object"){this.logger.info("runtime.target","Process not yet defined, will retry"),await De(50*2**n);continue}let o=i.result.value;return t.context.telemetryReporter.report("nodeRuntime",{version:o.nodeVersion,arch:o.architecture}),this.program.gotTelemetery(o),o}}};tn=E([(0,Qc.injectable)(),H(0,(0,Qc.inject)(ei)),H(1,(0,Qc.inject)(ie)),H(2,(0,Qc.inject)(dt)),H(3,(0,Qc.inject)(Br))],tn);function uue(r){if(!So.existsSync(r))return{};let e=lue(So.readFileSync(r,"utf8"));return rq.parse(Buffer.from(e))}function lue(r){return r&&r[0]==="\uFEFF"&&(r=r.substr(1)),r}var pue=["NODE_OPTIONS","VSCODE_INSPECTOR_OPTIONS"],Sa=class extends tn{async appendEnvironmentVariables(e,t){let n="typeof process==='undefined'||process.pid===undefined?'process not defined':(()=>{"+Object.entries(t.defined()).map(([i,o])=>{let s=JSON.stringify(i);return pue.includes(i)?`process.env[${s}]=(process.env[${s}]||'')+${JSON.stringify(o)}`:`process.env[${s}]=${JSON.stringify(o)}`}).join(";")+"})()"+gt();for(let i=0;i<200;i++){let o=await e.Runtime.evaluate({contextId:1,returnByValue:!0,expression:n});if(!o){this.logger.error("runtime.target","Undefined result setting child environment vars");return}if(!o.exceptionDetails&&o.result.value!=="process not defined")return;this.logger.error("runtime.target","Error setting child environment vars",o),await De(50)}}};Sa=E([(0,iq.injectable)()],Sa);var Vv=class{constructor(e,t){this.a=e;this.b=t;this.stopped=Promise.race([this.a.stopped.then(async e=>await this.b.stop()&&e),this.b.stopped.then(async e=>await this.a.stop()&&e)])}gotTelemetery(e){this.a.gotTelemetery(e),this.b.gotTelemetery(e)}async stop(){return(await Promise.all([this.a.stop(),this.b.stop()]))[0]}},Gv=class{constructor(e,t,n){this.child=e;this.logger=t;this.killBehavior=n;this.killed=!1;this.stopped=new Promise((i,o)=>{e.once("exit",s=>i({killed:this.killed,code:s||0})),e.once("error",s=>o({killed:this.killed,code:1,error:s}))})}gotTelemetery(){}stop(){return this.killed=!0,Ai(this.child.pid,this.logger,this.killBehavior),this.stopped}},gs=class{constructor(){this.stopped=new Promise(e=>this.stopDefer=e)}gotTelemetery(e){this.telemetry=e}stop(){return this.stopDefer({code:0,killed:!0}),this.stopped}},Ea=class extends gs{constructor(t){super();this.wd=t;t.onEnd(n=>{this.stopDefer(n),this.wd.dispose()})}stop(){return this.wd.dispose(),this.stopped}},Ip=class r{constructor(e,t,n){this.terminalResult=e;this.logger=t;this.killBehavior=n;this.didStop=!1;this.stopped=new Promise(e=>this.onStopped=t=>{this.didStop=!0,e({code:0,killed:t})});e.processId&&this.startPollLoop(e.processId)}static{this.terminationPollInterval=1e3}static{this.killConfirmInterval=200}gotTelemetery({processId:e}){if(this.didStop){Ai(e,this.logger,this.killBehavior);return}this.loop||this.startPollLoop(e)}stop(){return this.didStop?this.stopped:(this.didStop=!0,this.loop?(Ai(this.loop.processId,this.logger,this.killBehavior),this.startPollLoop(this.loop.processId,r.killConfirmInterval)):this.terminalResult.shellProcessId?(Ai(this.terminalResult.shellProcessId,this.logger,this.killBehavior),this.startPollLoop(this.terminalResult.shellProcessId,r.killConfirmInterval)):this.onStopped(!0),this.stopped)}startPollLoop(e,t=r.terminationPollInterval){this.loop&&clearInterval(this.loop.timer);let n={processId:e,timer:setInterval(()=>{due(e)||(clearInterval(n.timer),this.onStopped(!0))},t)};this.loop=n}};function due(r){try{return process.kill(r,0),!0}catch{return!1}}var aq=w(require("net"));var oq=require("crypto"),sq=()=>(0,oq.randomBytes)(12).toString("hex");var ti=class r{constructor(e,t){this.info=e;this.server=t;this.onEndEmitter=new U;this.cts=new Xt;this.gracefulExit=!1;this.targetAlive=!1;this.targetInfo={targetId:this.info.ownId??sq(),processId:Number(this.info.pid)||0,type:this.info.waitForDebugger?"waitingForDebugger":"",title:this.info.scriptName,url:"file://"+this.info.scriptName,openerId:this.info.openerId,attached:!0,canAccessOpener:!1,processInspectorPort:Number(new URL(this.info.inspectorURL).port)};this.onEnd=this.onEndEmitter.event;this.listenToServer()}get isTargetAlive(){return this.targetAlive}static async attach(e){let t=await new Promise((i,o)=>{let s=aq.createConnection(e.ipcAddress,()=>i(s));s.on("error",o)}),n=new Yn(Xn.null,t);return new r(e,n)}listenToServer(){let{server:e,targetInfo:t}=this;e.send(JSON.stringify({method:"Target.targetCreated",params:{targetInfo:t}})),e.onMessage(async([n])=>{if(this.target&&!n.includes("Target.attachToTarget")&&!n.includes("Target.detachFromTarget")){this.target.send(n);return}let i=await this.execute(n);i&&e.send(JSON.stringify(i))}),e.onEnd(()=>{this.disposeTarget(),this.onEndEmitter.fire({killed:this.gracefulExit,code:this.gracefulExit?0:1})})}dispose(){this.gracefulExit=!0,this.cts.dispose(!0),this.disposeTarget(),this.server.dispose()}async execute(e){let t=JSON.parse(e);switch(t.method){case"Target.attachToTarget":return this.target&&this.disposeTarget(),this.target=await this.createTarget(),{id:t.id,result:{sessionId:this.targetInfo.targetId,__dynamicAttach:this.info.dynamicAttach?!0:void 0}};case"Target.detachFromTarget":return this.gracefulExit=!0,this.disposeTarget(),{id:t.id,result:{}};default:this.target?.send(t);return}}async createTarget(){this.gracefulExit=!1;let e=await In.create(this.info.inspectorURL,this.cts.token,this.info.remoteHostHeader);return e.onMessage(([t])=>this.server.send(t)),e.onEnd(()=>{e&&this.server.send(JSON.stringify({method:"Target.targetDestroyed",params:{targetId:this.targetInfo.targetId,sessionId:this.targetInfo.targetId}})),this.targetAlive=!1,this.server.dispose()}),e}disposeTarget(){this.target&&(this.target.dispose(),this.target=void 0)}};var sP=class extends Ea{constructor(t,n){super(t);this.logger=n;this.stopped.then(()=>{this.telemetry&&Ai(this.telemetry.processId,this.logger,"polite")})}},_p=class extends Sa{constructor(){super(...arguments);this.restarting=!1}async restart(){this.restarting=!0,this.onProgramTerminated({code:0,killed:!0,restart:!0}),this.program?.stop()}resolveParams(t){return t.type==="pwa-extensionHost"&&t.request==="attach"?t:void 0}async launchProgram(t){let n=await up(`http://localhost:${t.params.port}`,t.context.cancellationToken,this.logger),i=await ti.attach({ipcAddress:t.serverAddress,scriptName:"Extension Host",inspectorURL:n,waitForDebugger:!0,dynamicAttach:!0}),o=this.program=new sP(i,this.logger);this.program.stopped.then(s=>{o===this.program&&this.onProgramTerminated(s)})}createLifecycle(t,n,i){return i.openerId?{}:{initialized:()=>this.onFirstInitialize(t,n,i)}}async onFirstInitialize(t,n,i){this.setEnvironmentVariables(t,n,i.targetId);let o=await this.gatherTelemetryFromCdp(t,n),s=this.program;if(o&&s){let a=new Ip({processId:o.processId},this.logger,"forceful");a.stopped.then(()=>s.stop()),s.stopped.then(()=>{this.restarting||a.stop()})}}async setEnvironmentVariables(t,n,i){if(!n.params.autoAttachChildProcesses)return;let o=await this.resolveEnvironment(n,new Hr("node",et.parse(process.versions.node)),{openerId:i});return this.appendEnvironmentVariables(t,o.update("ELECTRON_RUN_AS_NODE",null))}};_p=E([(0,cq.injectable)()],_p);var Qm=require("fs"),uq=w(V());var Ap=class extends tn{resolveParams(e){return e.type==="pwa-extensionHost"&&e.request==="launch"?e:void 0}async launchProgram(e){let t=e.params.port||await Xs(),n=await e.context.dap.launchVSCodeRequest({args:fue(e.params,t),env:this.getConfiguredEnvironment(e.params).defined(),debugRenderer:e.params.debugWebviews||e.params.debugWebWorkerHost});n.rendererDebugPort&&Ci.debugIdToRendererDebugPort.set(e.params.__sessionId,n.rendererDebugPort),this.program=new gs,this.program.stop()}};Ap=E([(0,uq.injectable)()],Ap);var fue=(r,e)=>{let t=r.args.map(n=>{if(n.startsWith("-")){let i=n.split("=",2);return i.length===2&&((0,Qm.existsSync)(i[1])||(0,Qm.existsSync)(i[1]+".js"))?{prefix:i[0]+"=",path:i[1]}:{prefix:n}}else{try{let i=(0,Qm.lstatSync)(n);if(i.isDirectory())return{prefix:"--folder-uri=",path:n};if(i.isFile())return{prefix:"--file-uri=",path:n}}catch{}return{path:n}}});return r.noDebug||t.unshift({prefix:`--inspect-brk-extensions=${e}`}),t.unshift({prefix:`--debugId=${r.__sessionId}`}),t};var xq=w(we()),Zc=w(V());var lq=require("crypto"),Zm=require("fs"),pq=require("os"),dq=w(require("path")),zv=class r{constructor(){this.disposed=!1;this.path=dq.join((0,pq.tmpdir)(),`node-debug-callback-${(0,lq.randomBytes)(8).toString("hex")}`);this.file=Zm.promises.open(this.path,"w")}static{this.updateInterval=1e3}static{this.recencyDeadline=2e3}static isValid(e){try{let t=(0,Zm.readFileSync)(e);return t.length?t.readDoubleBE()>Date.now()-r.recencyDeadline:!1}catch{return!1}}async startTouchLoop(){await this.touch(),this.disposed||(this.updateInterval=setInterval(()=>this.touch(),r.updateInterval))}async touch(e=()=>Date.now()){let t=await this.file,n=Buffer.alloc(8);n.writeDoubleBE(e()),await t.write(n,0,n.length,0)}async dispose(){if(!this.disposed){this.disposed=!0,this.updateInterval&&clearInterval(this.updateInterval);try{await(await this.file).close(),await Zm.promises.unlink(this.path)}catch{}}}};var yq=require("fs");var hq=require("path");var fq=require("child_process"),mq=w(xv()),Sp=class{constructor(e=fq.spawn){this.spawn=e}lookup(e,t){return new Promise((n,i)=>{let o=this.createProcess(),s=this.createParser();o.on("error",i),o.stderr.on("error",a=>i(`Error finding processes: ${a.toString()}`)),o.stdout.pipe((0,mq.default)(/\r?\n/)).on("data",a=>{let c=s(a);c&&(t=e(c,t))}),o.on("close",(a,c)=>{a===0?n(t):c?i(new Error(`process terminated with signal: ${c}`)):a&&i(new Error(`process terminated with exit code: ${a}`))})})}};var Ep=class extends Sp{constructor(t){super();this.fsUtils=t}async getWorkingDirectory(t){try{let{stdout:n}=await Zb("lsof",["-a","-dcwd","-Fn",`-p${t}`]),i=n.trim().split(`
`).pop().slice(1);return i&&(0,hq.isAbsolute)(i)&&await this.fsUtils.exists(i)?i:void 0}catch(n){if(n instanceof Uc)return;throw n}}createProcess(){return this.spawn("ps",["-xo",`pid=PID,ppid=PPID,comm=${"a".repeat(256)},command=COMMAND`])}createParser(){let t;return n=>{if(!t){t=n.indexOf("COMMAND");return}let i=/^\W*([0-9]+)\W*([0-9]+)\W*/.exec(n);if(i)return{pid:Number(i[1]),ppid:Number(i[2]),command:n.slice(i[0].length,t).trim(),args:n.slice(t).trim()}}}};var Kv=class extends Ep{createProcess(){return this.spawn("ps",["-axo","pid=PID,ppid=PPID,comm:30,command=COMMAND"])}createParser(){let e=super.createParser();return t=>{let n=e(t);if(!n)return;let i=n.args.indexOf(n.command);if(i===-1)return n;for(i=i+n.command.length;i<n.args.length&&n.args[i]!==" ";)i++;return n.command=n.args.substr(0,i),n.args=n.args.substr(i+1),n}}};var gq=require("path");var Xv=class extends Sp{async getWorkingDirectory(){}createProcess(){let e=(0,gq.join)(process.env.WINDIR||"C:\\Windows","System32","wbem","WMIC.exe");return this.spawn(e,["process","get","CommandLine,CreationDate,ParentProcessId,ProcessId"])}createParser(){let e=/^(.*)\s+([0-9]+)\.[0-9]+[+-][0-9]+\s+([0-9]+)\s+([0-9]+)$/;return t=>{let n=e.exec(t.trim());if(!n||n.length!==5)return;let i=Number(n[4]),o=Number(n[3]),s=Number(n[2]),a=n[1].trim();if(!isNaN(i)&&!isNaN(o)&&a){let c=a;if(a[0]==='"'){let u=a.indexOf('"',1);u>0&&(c=a.substr(1,u-1),a=a.substr(u+2))}else{let u=a.indexOf(" ");u>0?(c=a.substr(0,u),a=a.substr(u+1)):a=""}return{pid:i,ppid:o,command:c,args:a,date:s}}}}};var Hq=new cn(yq.promises),eh=process.platform==="win32"?new Xv:process.platform==="darwin"?new Ep(Hq):new Kv(Hq);function Jv(r){let e=/--inspect(-brk)?(=((\[[0-9a-fA-F:]*\]|[0-9]+\.[0-9]+\.[0-9]+\.[0-9]+|[a-zA-Z0-9\.]*):)?(\d+))?/,t=/--inspect-port=(\d+)/,n,i,o=e.exec(r);return o&&o.length>=1&&(o.length>=5&&o[4]&&(n=o[4]),o.length>=6&&o[5]&&(i=parseInt(o[5]))),o=t.exec(r),o&&o.length===2&&(i=parseInt(o[1])),{address:n,port:i}}async function bq(r,e,t,n=or){let i=await mue(r.pid,t);if(!i)return[];let o=[],s=i.children.slice();for(;s.length;){let a=s.pop();s=s.concat(a.children);let{port:c}=Jv(a.args);c&&o.push(KE(`http://${r.hostname}:${c}`,n,t,!0).then(u=>ti.attach({ipcAddress:r.ipcAddress,scriptName:"Child Process",inspectorURL:u,waitForDebugger:!0,dynamicAttach:!0,pid:String(a.pid),openerId:e})).catch(u=>t.info("internal","Could not spawn WD for child process",{err:u,port:c,child:a})))}return(await Promise.all(o)).filter(a=>!!a)}async function mue(r,e){let t=new Map;t.set(0,{children:[],pid:0,ppid:0,command:"",args:""});try{await eh.lookup(({pid:i,ppid:o,command:s,args:a})=>(i!==o&&t.set(i,{pid:i,ppid:o,command:s,args:a,children:[]}),t),null)}catch(i){e.warn("internal","Error getting child process tree",i);return}let n=t.values();for(let i of n){let o=t.get(i.ppid);o&&o!==i&&o.children.push(i)}return!isNaN(r)&&r>0?t.get(r):t.get(0)}var vq=w(V());var Eo=class{create(e){return e===!1?new aP:e===!0?new Yv({maxAttempts:1/0,delay:1e3}):new Yv({maxAttempts:e.maxAttempts??1/0,delay:e.delay??1e3})}};Eo=E([(0,vq.injectable)()],Eo);var Yv=class r{constructor(e,t=0){this.options=e;this.attempt=t}get delay(){return this.options.delay}next(){return this.attempt===this.options.maxAttempts?void 0:new r(this.options,this.attempt+1)}reset(){return this.attempt?new r(this.options):this}},aP=class{constructor(){this.delay=-1}next(){}reset(){return this}};var Pp=class extends Sa{constructor(t,n,i,o,s=new Eo){super(t,n,o,i);this.restarters=s}resolveParams(t){return t.type==="pwa-node"&&t.request==="attach"?t:void 0}async launchProgram(t){let n=async(o,s)=>{let a=this.program,c;try{t.params.websocketAddress?c=t.params.websocketAddress:c=await up(`http://${t.params.address}:${t.params.port}`,s&&t.params.timeout>0?Xt.withTimeout(t.params.timeout).token:t.context.cancellationToken,this.logger)}catch(p){if(a&&a===s)return i(o,a,{killed:!1,code:1});throw p}let u=await ti.attach({ipcAddress:t.serverAddress,scriptName:"Remote Process",inspectorURL:c,remoteHostHeader:t.params.remoteHostHeader,waitForDebugger:!0,dynamicAttach:!0}),l=this.program=new Ea(u);l.stopped.then(p=>i(o.reset(),l,p))},i=async(o,s,a)=>{if(this.program!==s)return;if(a.killed){this.onProgramTerminated(a);return}let c=o.next();if(!c){this.onProgramTerminated(a);return}t.context.dap.output({output:xq.t(`Lost connection to debugee, reconnecting in {0}ms\r
`,c.delay)});let u=new gs;this.program=u;let l=await Promise.race([De(c.delay),u.stopped]);this.program===u&&(l?this.onProgramTerminated(a):n(c,u))};return n(this.restarters.create(t.params.restart))}async terminate(t){await super.terminate(),t&&this.telemetry&&Ai(this.telemetry.processId,this.logger)}createLifecycle(t,n,i){if(i.openerId)return{};let o;return{initialized:async()=>{o=this.onFirstInitialize(t,n,i),await o},close:()=>{this.targetList().length&&this.program?.stop(),o?.then(s=>s.dispose())}}}async onFirstInitialize(t,n,i){let o=new zv;await o.startTouchLoop();let s=new Hr("node",void 0);try{s=await this.resolveNodePath(n.params)}catch{}let[a]=await Promise.all([this.gatherTelemetryFromCdp(t,n),this.setEnvironmentVariables(t,n,o.path,i.targetId,s)]);return this.telemetry=a,a&&n.params.attachExistingChildren&&bq({pid:a.processId,nodePath:s.path,hostname:n.params.address,ipcAddress:n.serverAddress},i.targetId,this.logger).catch(c=>this.logger.warn("internal","Error watching child processes",{err:c})),o}async setEnvironmentVariables(t,n,i,o,s){if(!n.params.autoAttachChildProcesses)return;if(!await Vu(n.params.address)){this.logger.warn("runtime.target","Cannot attach to children of remote process");return}let a=await this.resolveEnvironment(n,s,{requireLease:i,openerId:o});return this.appendEnvironmentVariables(t,a)}};Pp=E([(0,Zc.injectable)(),H(0,(0,Zc.inject)(ei)),H(1,(0,Zc.inject)(ie)),H(2,(0,Zc.inject)(Br)),H(3,(0,Zc.inject)(dt))],Pp);var An=w(V()),Lp=require("path");function Qv(r){if(!r.runtimeArgs||r.attachSimplePort)return;let e=[];for(let t of r.runtimeArgs)/^--inspect-brk(=|$)/.test(t)?r.stopOnEntry=r.stopOnEntry||!0:e.push(t);r.runtimeArgs=e}var wq=require("os"),Iq=w(require("path")),_q=require("crypto"),Cp=require("fs"),Zv=class r{constructor(){this.path=Iq.join((0,wq.tmpdir)(),`node-debug-callback-${(0,_q.randomBytes)(8).toString("hex")}`);this.disposed=!1}static{this.pollInterval=200}read(e=r.pollInterval){return this.readPromise?this.readPromise:(this.readPromise=new Promise((t,n)=>{let i=setInterval(()=>{if(this.disposed){clearInterval(i),t(void 0);return}if((0,Cp.existsSync)(this.path)){try{t(JSON.parse((0,Cp.readFileSync)(this.path,"utf-8")))}catch(o){n(o)}finally{this.dispose()}clearInterval(i)}},e)}),this.readPromise)}dispose(){if(!this.disposed){this.disposed=!0;try{(0,Cp.unlinkSync)(this.path)}catch{}}}};var eu=w(require("path"));var th=Symbol("IProgramLauncher"),ex=r=>{let e=r.program;if(e&&eu.isAbsolute(e)){let t=eu.relative(r.cwd,e);e=eu.isAbsolute(t)?t:`.${eu.sep}${t}`}return e?[...r.runtimeArgs,e,...xf(r.args)]:[...r.runtimeArgs,...xf(r.args)]};var hue=async(r,e)=>{if(typeof e.stopOnEntry=="string")return(0,Lp.resolve)(e.cwd,e.stopOnEntry);if(e.program)return(0,Lp.resolve)(e.cwd,e.program);for(let t of xf(e.args)){if(t.startsWith("-"))continue;let n=(0,Lp.resolve)(e.cwd,t);if(await r.exists(n))return n}},Tp=class extends tn{constructor(t,n,i,o,s,a,c,u,l){super(t,n,l,u);this.bpPredictor=i;this.launchers=o;this.restarters=s;this.fsUtils=a;this.packageJson=c}resolveParams(t){let n;if(t.type==="pwa-node"&&t.request==="launch"?n={...t}:"server"in t&&t.server&&"program"in t.server&&(n={...t.server}),!!n)return Qv(n),n}async launchProgram(t){t.params.program&&(t.params.program=await this.tryGetCompiledFile(t.params.program)),this.attachSimplePort=await this.getSimpleAttachPortIfAny(t.params);let n=async i=>{this.program&&this.program.stop();let o=await this.resolveNodePath(t.params,t.params.runtimeExecutable||void 0),s=o.warning;s&&t.context.dap.output({category:"stderr",output:s.message});let a=new Zv,c=await this.resolveEnvironment(t,o,{fileCallback:a.path});this.attachSimplePort?(t.params.attachSimplePort||t.context.dap.output({category:"stderr",output:"Using legacy attach mode for --inspect-brk in npm scripts. We recommend removing --inspect-brk, and using `stopOnEntry` in your launch.json if you need it."}),c=c.merge({NODE_OPTIONS:null})):c=qv(o,c);let u={...t.params,env:c.value},l=this.launchers.find(d=>d.canLaunch(u));if(!l)throw new Error("Cannot find an appropriate launcher for the given set of options");let p=await l.launchProgram(o.path,u,t.context);if(this.attachSimplePort){let d=await ti.attach({ipcAddress:t.serverAddress,scriptName:"Remote Process",inspectorURL:await up(`http://127.0.0.1:${this.attachSimplePort}`,t.context.cancellationToken,this.logger),waitForDebugger:!0,dynamicAttach:!0});p=new Vv(p,new Ea(d))}else a.read().then(d=>{d&&p.gotTelemetery(d)});this.program=p,p.stopped.then(async d=>{if(a.dispose(),this.program!==p)return;if(d.killed||d.code===0){this.onProgramTerminated(d);return}let h=i.next();if(!h){this.onProgramTerminated(d);return}await De(h.delay),this.program===p&&n(h)})};return n(this.restarters.create(t.params.restart))}async getSimpleAttachPortIfAny(t){if(t.attachSimplePort)return t.attachSimplePort;let n=eq(t.runtimeExecutable,t.runtimeArgs);if(!(!n||!(await this.packageJson.getContents())?.scripts?.[n]?.includes("--inspect-brk")))return t.port??9229}createLifecycle(t,n,{targetId:i}){return{initialized:async()=>{if(this.attachSimplePort&&await this.gatherTelemetryFromCdp(t,n),!n.params.stopOnEntry)return;let o=await hue(this.fsUtils,n.params);if(!o){this.logger.warn("runtime","Could not resolve program entrypointfrom args");return}let s="(?:entryBreakpoint){0}",a=We(o),c=kn(a)+s,u=await t.Debugger.setBreakpointByUrl({urlRegex:c,lineNumber:0,columnNumber:0});return u?.breakpointId?{cdpId:u?.breakpointId,path:a}:void 0},close:()=>{let o=Number(i);if(o>0)try{process.kill(o)}catch{}}}}async tryGetCompiledFile(t){t=Tt(t);let n=(0,Lp.extname)(t);if(!n||n===".js")return t;let i=await this.bpPredictor.getPredictionForSource(t);if(!i||i.size===0)return t;let o=Ns(i.values());return o?(this.logger.info("runtime.launch","Updating entrypoint to compiled file",{from:t,to:o.compiledPath,candidates:i.size}),o.compiledPath):t}};Tp=E([(0,An.injectable)(),H(0,(0,An.inject)(ei)),H(1,(0,An.inject)(ie)),H(2,(0,An.inject)(pc)),H(3,(0,An.multiInject)(th)),H(4,(0,An.inject)(Eo)),H(5,(0,An.inject)(Er)),H(6,(0,An.inject)(Yc)),H(7,(0,An.inject)(Br)),H(8,(0,An.inject)(dt))],Tp);var $p=w(require("fs")),Aq=require("fs"),tx=w(V()),Sq=w(require("os")),Wt=w(require("path"));var rx=Symbol("INvmResolver");var Dp=class{constructor(e=new cn(Aq.promises),t=process.env,n=process.arch,i=process.platform,o=Sq.homedir()){this.fsUtils=e;this.env=t;this.arch=n;this.platform=i;this.homedir=o}async resolveNvmVersionPath(e){let t,n=[],i=this.parseVersionString(e),o=this.env.NVS_HOME;if(!o){let s=this.platform==="win32"?Wt.join(this.env.LOCALAPPDATA||"","nvs"):Wt.join(this.env.HOME||"",".nvs");$p.existsSync(s)&&(o=s)}if(i.nvsFormat||o){if(t=await this.resolveNvs(o,i),!t&&i.nvsFormat)throw new K(N_(e,"nvs"));n.push("nvs")}if(!t)if(this.platform==="win32")this.env.NVM_HOME&&(t=await this.resolveWindowsNvm(e),n.push("nvm-windows"));else{let s=this.env.NVM_DIR||Wt.join(this.homedir,".nvm");await this.fsUtils.exists(s)&&(t=await this.resolveUnixNvm(e),n.push("nvm"))}if(!t){let s=this.platform==="win32"?this.env.FNM_DIR||Wt.join(this.env.APPDATA||"","fnm"):this.env.FNM_DIR||Wt.join(this.homedir,".fnm");await this.fsUtils.exists(s)&&(t=await this.resolveFnm(e,s),n.push("fnm"))}if(!n.length)throw new K(O_());if(!t||!await this.fsUtils.exists(t))throw new K(N_(e,n.join("/")));return{directory:t,binary:await this.getBinaryInFolder(t)}}async getBinaryInFolder(e){return await eo(["node64.exe","node64"].map(t=>this.fsUtils.exists(Wt.join(e,t))))?"node64":"node"}async resolveNvs(e,{remoteName:t,semanticVersion:n,arch:i}){if(!e)throw new K(Dk());let o=this.findBinFolderForVersion(Wt.join(e,t),n,s=>$p.existsSync(Wt.join(s,i)));if(o)return this.platform!=="win32"?Wt.join(o,i,"bin"):Wt.join(o,i)}async resolveUnixNvm(e){let t=this.env.NVM_DIR;if(!t){let i=Wt.join(this.env.HOME||"",".nvm");await this.fsUtils.exists(i)&&(t=i)}if(!t)throw new K(O_());let n=this.findBinFolderForVersion(Wt.join(t,"versions","node"),`v${e}`);return n?Wt.join(n,"bin"):void 0}async resolveWindowsNvm(e){let t=this.env.NVM_HOME;if(!t)throw new K($k());return this.findBinFolderForVersion(t,`v${e}`)}async resolveFnm(e,t){let n=this.findBinFolderForVersion(Wt.join(t,"node-versions"),`v${e}`);if(n)return this.platform==="win32"?Wt.join(n,"installation"):Wt.join(n,"installation","bin")}findBinFolderForVersion(e,t,n){if(!$p.existsSync(e))return;let i=$p.readdirSync(e);if(i.includes(t))return Wt.join(e,t);let o=i.filter(s=>s.startsWith(`${t}.`)).sort(gue).filter(s=>n?n(Wt.join(e,s)):!0).pop();return o?Wt.join(e,o):void 0}parseVersionString(e){let n=/^(([\w-]+)\/)?(v?(\d+(\.\d+(\.\d+)?)?))(\/((x86)|(32)|((x)?64)|(arm\w*)|(ppc\w*)))?$/i.exec(e);if(!n)throw new Error("Invalid version string: "+e);let i=!!(n[2]||n[8]),o=n[2]||"node",s=n[4]||"",a=Hue(n[8]||this.arch);return{nvsFormat:i,remoteName:o,semanticVersion:s,arch:a}}};Dp=E([(0,tx.injectable)(),H(0,(0,tx.inject)(Er))],Dp);var gue=(r,e)=>{let t=/([0-9]+)\.([0-9]+)\.([0-9]+)/.exec(r),n=/([0-9]+)\.([0-9]+)\.([0-9]+)/.exec(e);if(!t||!n)return(n?-1:0)+(t?1:0);let[,i,o,s]=t,[,a,c,u]=n;return Number(i)-Number(a)||Number(o)-Number(c)||Number(s)-Number(u)};function Hue(r){switch(r){case"32":case"x86":case"ia32":return"x86";case"64":case"x64":case"amd64":return"x64";case"arm":let e=process.config.variables.arm_version;return e?"armv"+e+"l":"arm";default:return r}}var Eq=require("child_process"),ix=w(V()),Pq=w(xv());var kp=class{constructor(e){this.logger=e}canLaunch(e){return e.console==="internalConsole"}async launchProgram(e,t,n){let{executable:i,args:o,shell:s,cwd:a}=yue(e,ex(t),t.cwd);n.dap.output({category:"console",output:[i,...o].join(" ")+`
`});let c=(0,Eq.spawn)(i,o,{shell:s,cwd:a,env:jt.merge(jt.processEnv(),t.env).defined()});return t.outputCapture==="console"?this.discardStdio(n.dap,c):this.captureStdio(n.dap,c),new Gv(c,this.logger,t.killBehavior)}captureStdio(e,t){t.stdout.pipe(nx.stream()).on("data",n=>e.output({category:"stdout",output:n})).resume(),t.stderr.pipe(nx.stream()).on("data",n=>e.output({category:"stderr",output:n})).resume()}discardStdio(e,t){let n=[],i=()=>{n&&e.output({category:"stderr",output:Buffer.concat(n).toString()})},o=Buffer.from("Debugger attached."),s=a=>{a.includes(o)?(n=void 0,t.stderr.removeListener("data",s)):n&&n.push(a)};t.stderr.on("data",s),t.on("error",a=>{i(),e.output({category:"stderr",output:a.stack||a.message})}),t.on("exit",a=>{a!==null&&a>0&&(i(),e.output({category:"stderr",output:`Process exited with code ${a}\r
`}))}),t.stdout.resume(),t.stderr.resume()}};kp=E([(0,ix.injectable)(),H(0,(0,ix.inject)(ie))],kp);var yue=(r,e,t)=>{if(process.platform==="win32"&&(r=hi(r),t=hi(t),r.endsWith(".ps1")&&(e=["-File",r,...e],r="powershell.exe")),process.platform!=="win32"||!r.includes(" "))return{executable:r,args:e,shell:!1,cwd:t};let n=!1,i=[];for(let o of e)o.includes(" ")?(i.push(`"${o}"`),n=!0):i.push(o);return n?{executable:`"${r}"`,args:i,shell:!0,cwd:t}:{executable:r,args:e,shell:!1,cwd:t}};var nx=class r{constructor(){this.etxSpotted=!1}static stream(){return(0,Pq.default)(new r)}[Symbol.split](e){if(this.etxSpotted||=e.includes(""),!this.etxSpotted)return[e,""];let t=e.split("");return t.length>1?t.map((n,i)=>i<t.length-1?`${n}
`:n):t}};var ox=w(V());var Rp=class{constructor(e){this.logger=e}canLaunch(e){return e.internalConsoleOptions,e.console!=="internalConsole"}async launchProgram(e,t,n){let i={kind:t.console==="integratedTerminal"?"integrated":"external",title:t.name,cwd:t.cwd,args:[e,...ex(t)],env:vu(t.env),argsCanBeInterpretedByShell:!Array.isArray(t.args)},o;try{o=await this.sendLaunchRequest(i,n)}catch(s){throw new K(kk(s.message))}return new Ip(o,this.logger,t.killBehavior)}sendLaunchRequest(e,t){return t.dap.runInTerminalRequest(e)}};Rp=E([(0,ox.injectable)(),H(0,(0,ox.inject)(ie))],Rp);var Cq=w(V());var Mp=class{getTreatment(e,t){return Promise.resolve(t)}};Mp=E([(0,Cq.injectable)()],Mp);var Tq=w(V());var tu=class{constructor(){this.flushEmitter=new U;this.onFlush=this.flushEmitter.event}report(){}reportOperation(){}attachDap(){}flush(){this.flushEmitter.fire()}dispose(){}};tu=E([(0,Tq.injectable)()],tu);var Lq=require("crypto"),Pa=w(V()),Dq=require("os"),$q=w(require("path")),rh=w(require("vscode"));var cP=class{constructor(e){this.terminal=e;this.stopped=new Promise(t=>{let n=rh.window.onDidCloseTerminal(i=>{i===e&&(t({code:0,killed:!0}),n.dispose())})})}gotTelemetery(){}stop(){return this.terminal.sendText(""),setTimeout(()=>this.terminal.dispose(),1),this.stopped}},Hs=class extends tn{constructor(t,n,i,o,s){super(t,n,s,o);this.fs=i;this.terminalCreatedEmitter=new U;this.callbackFile=$q.join((0,Dq.tmpdir)(),`node-debug-callback-${(0,Lq.randomBytes)(8).toString("hex")}`);this.onTerminalCreated=this.terminalCreatedEmitter.event}async getProcessTelemetry(){try{return JSON.parse(await this.fs.readFile(this.callbackFile,"utf-8"))}catch{return}}resolveParams(t){if(t.type==="node-terminal"&&t.request==="launch")return t;if(t.type==="pwa-chrome"&&t.server&&"command"in t.server)return t.server}async launchProgram(t){let n;try{n=await this.resolveNodePath(t.params)}catch(a){if(a instanceof K&&a.cause.id===9230)throw a;n=new Hr("node",void 0)}let i=await this.resolveEnvironment(t,n,{fileCallback:this.callbackFile}),o=await this.createTerminal({name:t.params.name,cwd:t.params.cwd,iconPath:new rh.ThemeIcon("debug"),env:qv(n,i).defined(),isTransient:!0});this.terminalCreatedEmitter.fire(o),o.show();let s=this.program=new cP(o);t.params.command&&(await Promise.race([o.processId,De(1e3)]),o.sendText(t.params.command,!0)),s.stopped.then(a=>{s===this.program&&this.onProgramTerminated(a)})}createTerminal(t){return Promise.resolve(rh.window.createTerminal(t))}dispose(){super.dispose(),this.fs.unlink(this.callbackFile).catch(()=>{})}};Hs=E([(0,Pa.injectable)(),H(0,(0,Pa.inject)(ei)),H(1,(0,Pa.inject)(ie)),H(2,(0,Pa.inject)(_e)),H(3,(0,Pa.inject)(Br)),H(4,(0,Pa.inject)(dt))],Hs);var ou=w(V()),fh=w(U8());var zp=class{constructor(e,t){t&&e instanceof Yr&&(this.service=(0,fh.getExperimentationService)("ms-vscode.js-debug",Ja,Kh?fh.TargetPopulation.Insiders:fh.TargetPopulation.Public,{setSharedProperty(n,i){e.setGlobalMetric(n,i)},postEvent(n,i){e.pushOutput({category:"telemetry",output:n,data:i})}},t.globalState))}async getTreatment(e,t){if(!this.service)return t;try{return await this.service.getTreatmentVariableAsync("vscode",e,!0)}catch{return t}}};zp=E([(0,ou.injectable)(),H(0,(0,ou.inject)(Kt)),H(1,(0,ou.optional)()),H(1,(0,ou.inject)(it))],zp);var $x=w(V()),W8=w(require("vscode"));var j8=w(V()),br=w(require("vscode"));var Ye=class{constructor(){this._onSessionAddedEmitter=new br.EventEmitter;this._onSessionEndedEmitter=new br.EventEmitter;this._disposables=[];this.sessions=new Map;this.onSessionAdded=this._onSessionAddedEmitter.event;this.onSessionEnded=this._onSessionEndedEmitter.event}static isConcreteSession(e){return!!e.configuration.__pendingTargetId}static pickSession(e,t){if(e.length<2)return e[0];let n=br.window.createQuickPick();return n.title=t,n.items=e.map(i=>({label:i.name,id:i.id})),n.ignoreFocusOut=!0,new Promise(i=>{n.onDidAccept(()=>i(e.find(o=>o.id===n.selectedItems[0]?.id))),n.onDidHide(()=>i(void 0)),n.show()}).finally(()=>n.dispose())}get isDebugging(){return this.sessions.size>0}getById(e){return this.sessions.get(e)}isRunning(e){return[...this.sessions.values()].includes(e)}getByName(e){return[...this.sessions.values()].filter(t=>t.name===e)}getConcreteSessions(){return[...this.sessions.values()].filter(Ye.isConcreteSession)}getChildren(e){return[...this.sessions.values()].filter(t=>t.configuration.__parentId===e.id)}attach(){br.debug.onDidStartDebugSession(e=>{Ps(e.type)&&(this.sessions.set(e.id,e),this._onSessionAddedEmitter.fire(e))},void 0,this._disposables),br.debug.onDidTerminateDebugSession(e=>{Ps(e.type)&&(this.sessions.delete(e.id),this._onSessionEndedEmitter.fire(e))},void 0,this._disposables),br.debug.onDidReceiveDebugSessionCustomEvent(e=>{if(Ps(e.session.type)){if(e.event==="revealLocationRequested"){let t=e.body,n=br.debug.asDebugSourceUri(e.body.source),i={};if(t.line){let o=new br.Position((t.line||1)-1,(t.column||1)-1);i.selection=new br.Range(o,o)}br.window.showTextDocument(n,i);return}if(e.event==="copyRequested"){let t=e.body;br.env.clipboard.writeText(t.text);return}}},void 0,this._disposables)}dispose(){for(let e of this._disposables)e.dispose();this._disposables=[]}};Ye=E([(0,j8.injectable)()],Ye);var Kp=class{constructor(e){this.tracker=e}register(e){e.subscriptions.push(this.tracker.onSessionEnded(t=>{let n=t.configuration.cascadeTerminateToConfigurations;if(!(!n||!(n instanceof Array)))for(let i of n)for(let o of this.tracker.getByName(i))W8.debug.stopDebugging(o)}))}};Kp=E([(0,$x.injectable)(),H(0,(0,$x.inject)(Ye))],Kp);var kx=Symbol("IDebugConfigurationResolver"),Rx=Symbol("IDebugConfigurationProvider");var ed=w(we()),ws=w(V()),n4=require("os"),td=require("path"),hh=w(require("vscode"));var q8=w(V()),V8=w(require("vscode"));var bs=class{get type(){return this.getType()}get triggerKind(){return this.getTriggerKind()}async provideDebugConfigurations(e,t){try{let n=await this.provide(e,t);if(!n)return[];let i=n instanceof Array?n:[n],o=Ud.get(this.type);if(o)for(let s of i)s.type===this.type&&(s.type=o);return i}catch(n){return V8.window.showErrorMessage(n.message,{modal:!0}),[]}}};bs=E([(0,q8.injectable)()],bs);var Nx=w(V()),K8=require("path"),vs=w(require("vscode"));var mh=w(V()),gC=w(require("vscode"));var G8=w(require("vscode")),Xp=class{constructor(e){this.key=e}set value(e){e!==this._value&&(this._value=e,G8.commands.executeCommand("setContext",this.key,e))}get value(){return this._value}};var z8=Symbol("Uninitialized"),Mx=class{constructor(e,t){this.key=e;this.defaultValue=t;this._value=z8}write(e,t){t!==this.read(e)&&(this._value=t,e.update(this.key,t))}read(e){return this._value===z8&&(this._value=e.get(this.key)??this.defaultValue),this._value}};var Ox=new Mx("sourceSteppingEnabled",!0),Jp=class{constructor(e,t){this.context=e;this.tracker=t}register(e){let t=new Xp("jsDebugIsMapSteppingDisabled");Ox.read(this.context.workspaceState)===!1&&(t.value=!0);let n=i=>{t.value=!i,Ox.write(this.context.workspaceState,i);for(let o of this.tracker.getConcreteSessions())o.customRequest("setSourceMapStepping",{enabled:i})};e.subscriptions.push(Re(gC.commands,"extension.js-debug.enableSourceMapStepping",async()=>{n(!0)}),Re(gC.commands,"extension.js-debug.disableSourceMapStepping",async()=>{n(!1)}))}};Jp=E([(0,mh.injectable)(),H(0,(0,mh.inject)(it)),H(1,(0,mh.inject)(Ye))],Jp);var oi=class{constructor(e){this.extensionContext=e}get type(){return this.getType()}async resolveDebugConfiguration(e,t,n){if(t.type&&(t.type=this.getType()),"__pendingTargetId"in t)return t;let i=t;i.sourceMaps??=Ox.read(this.extensionContext.workspaceState);try{let o=await this.resolveDebugConfigurationAsync(e,i,n);return o&&this.commonResolution(o,e)}catch(o){vs.window.showErrorMessage(o.message,{modal:!0})}}applyDefaultRuntimeExecutable(e){if(e.runtimeExecutable)return;let t=At(vs.workspace,"debug.javascript.defaultRuntimeExecutable"),n=t?t[e.type]:void 0;n&&(e.runtimeExecutable=n)}commonResolution(e,t){return e.trace=A_(e.trace,this.extensionContext.logPath),e.__workspaceCachePath=this.extensionContext.storagePath,e.__breakOnConditionalError=At(vs.workspace,"debug.javascript.breakOnConditionalError",t)??!1,t?e.__workspaceFolder=t.uri.fsPath:(e.__workspaceFolder||=this.getSuggestedWorkspaceFolders(e).filter(St).filter(n=>!n.includes("${workspaceFolder}")).map(n=>(0,K8.isAbsolute)(n)?vs.workspace.getWorkspaceFolder(vs.Uri.file(n))?.uri.fsPath:n).find(St)||vs.workspace.workspaceFolders?.[0]?.uri.fsPath||"",e.__workspaceFolder?e=uI(e):e=cI(e)),e}getSuggestedWorkspaceFolders(e){return[]}};oi=E([(0,Nx.injectable)(),H(0,(0,Nx.inject)(it))],oi);var Ma=w(we()),Qp=require("fs"),Yp=w(V()),It=w(require("path")),En=w(require("vscode"));var X8=w(require("vscode"));function Fx(r){X8.debug.activeDebugConsole.appendLine(r)}var su=w(we()),J8=require("child_process"),Y8=require("fs"),Q8=require("path"),on=w(require("vscode"));var Qde=9229;async function Z8(){let r=await bC();if(!r)return;let e=At(on.workspace,"debug.javascript.pickAndAttachOptions"),t={...iI,...e,name:"process",processId:r};await yC(new cn(Y8.promises),t,!0),await on.debug.startDebugging(t.cwd?on.workspace.getWorkspaceFolder(on.Uri.file(t.cwd)):void 0,t)}async function yC(r,e,t=!1){let n=e.processId?.trim(),i=n&&tfe(n);if(!i||isNaN(i.pid))throw new Error(su.t("Attach to process: '{0}' doesn't look like a process id.",n||"<unknown>"));if(i.port||nfe(i.pid),e.port=i.port||Qde,delete e.processId,t){let o=await Zde(r,i.pid);o&&(e.cwd=o)}}async function Zde(r,e){let t=e&&await eh.getWorkingDirectory(e);if(!t)return on.workspace.workspaceFolders?.[0].uri.fsPath;let n=await qu(r,t,"package.json");if(!n)return t;let i=on.workspace.getWorkspaceFolder(on.Uri.file(t));return!i||tH(i.uri.fsPath,n)?n:i.uri.fsPath}async function bC(){try{let r=await rfe();return r?r.pidAndPort:null}catch(r){return await on.window.showErrorMessage(su.t("Process picker failed ({0})",r.message),{modal:!0}),null}}var efe=(r,e)=>`${r}:${e??""}`,tfe=r=>{let[e,t]=r.split(":");return{pid:Number(e),port:t?Number(t):void 0}};async function rfe(){let r=/^(?:node|iojs)(?:$|\b)/i,e=0,t=on.window.createQuickPick();t.placeholder=su.t("Pick the node.js process to attach to"),t.matchOnDescription=!0,t.matchOnDetail=!0,t.busy=!0,t.show();let n=!1,i=new Promise(s=>{t.onDidAccept(()=>s(t.selectedItems[0])),t.onDidHide(()=>s(void 0))});eh.lookup((s,a)=>{if(n)return a;process.platform==="win32"&&s.command.indexOf("\\??\\")===0&&(s.command=s.command.replace("\\??\\",""));let c=(0,Q8.basename)(s.command,".exe"),{port:u}=Jv(s.args);if(!u&&!r.test(c))return a;let l={label:c,description:s.args,pidAndPort:efe(s.pid,u),sortKey:s.date?s.date:e++,detail:u?su.t("process id: {0}, debug port: {1} ({2})",s.pid,u,"SIGUSR1"):su.t("process id: {0} ({1})",s.pid,"SIGUSR1")},p=a.findIndex(d=>d.sortKey<l.sortKey);return a.splice(p===-1?a.length:p,0,l),t.items=a,a},[]).then(()=>t.busy=!1).catch(s=>{on.window.showErrorMessage(`Error listing processes: ${s.message}`),t.dispose()});let o=await i;return n=!0,t.dispose(),o}function nfe(r){try{if(process.platform==="win32"){let e=`node -e process._debugProcess(${r})`;(0,J8.execSync)(e)}else process.kill(r,"SIGUSR1")}catch(e){throw new Error(su.t("Attach to process: cannot enable debug mode for process '{0}' ({1}).",r,e))}}var Oa=class extends oi{constructor(t,n,i){super(t);this.nvmResolver=n;this.fsUtils=i}async resolveDebugConfigurationWithSubstitutedVariables(t,n){let i=n;if(i.type==="pwa-node"&&i.request==="attach"&&typeof i.processId=="string"&&await yC(this.fsUtils,i),"port"in i&&typeof i.port=="string"&&(i.port=Number(i.port)),"attachSimplePort"in i&&typeof i.attachSimplePort=="string"&&(i.attachSimplePort=Number(i.attachSimplePort)),i.cwd){let o=await un(Qp.promises,i.cwd);if(!o){En.window.showErrorMessage(Ma.t("The configured `cwd` {0} does not exist.",i.cwd),{modal:!0});return}if(!o.isDirectory()){En.window.showErrorMessage(Ma.t("The configured `cwd` {0} is not a folder.",i.cwd),{modal:!0});return}}return i}async resolveDebugConfigurationAsync(t,n,i){if(!n.name&&!n.type&&!n.request&&(n=await xC(t,!0,n),n.request==="launch"&&!n.program)){En.window.showErrorMessage(Ma.t("Cannot find a program to debug"),{modal:!0});return}if(n.cwd||(n.cwd=n.localRoot||vC(n.request==="launch"?n.program:void 0,t)),n.remoteRoot&&!n.localRoot&&(n.localRoot="${workspaceFolder}"),n.request==="launch"){if(this.applyDefaultRuntimeExecutable(n),n.runtimeExecutable&&RH(n.runtimeExecutable)==="deno"&&!n.attachSimplePort){let s=await Xs();n.attachSimplePort=s,n.continueOnAttach??=!0;let a=[`--inspect-brk=127.0.0.1:${s}`,"--allow-all"];n.runtimeArgs?n.runtimeArgs.includes("run")?n.runtimeArgs=[...n.runtimeArgs,...a]:n.runtimeArgs=["run",...a,...n.runtimeArgs]:n.runtimeArgs=["run",...a]}let o=n.runtimeVersion;if(typeof o=="string"&&o!=="default"){let{directory:s,binary:a}=await this.nvmResolver.resolveNvmVersionPath(o);n.env=new jt(n.env).addToPath(s,"prepend",!0).value,n.runtimeExecutable=!n.runtimeExecutable||n.runtimeExecutable==="node"?a:n.runtimeExecutable}if(n.console==="integratedTerminal"&&!n.internalConsoleOptions&&(n.internalConsoleOptions="neverOpen"),n.attachSimplePort===null||n.attachSimplePort===void 0)Qv(n);else{if(n.attachSimplePort===0){n.attachSimplePort=await Xs(void 0,i);let s=`--inspect-brk=${n.attachSimplePort}`;n.runtimeArgs=n.runtimeArgs?[...n.runtimeArgs,s]:[s]}n.continueOnAttach=!n.stopOnEntry,n.stopOnEntry=!1}await ife(this.fsUtils,t,n)}return sI(n)}getType(){return"pwa-node"}getSuggestedWorkspaceFolders(t){return[t.rootPath,t.cwd]}};Oa=E([(0,Yp.injectable)(),H(0,(0,Yp.inject)(it)),H(1,(0,Yp.inject)(rx)),H(2,(0,Yp.inject)(Er))],Oa);function vC(r,e){if(e)return e.uri.fsPath;if(En.workspace.workspaceFolders&&En.workspace.workspaceFolders.length>0)return En.workspace.workspaceFolders[0].uri.fsPath;if(r){if(r==="${file}")return"${fileDirname}";if(It.isAbsolute(r))return It.dirname(r)}return"${workspaceFolder}"}function e4(r,e){if(r&&(e=ki(e,"workspaceFolder",r.uri.fsPath)),En.workspace.workspaceFolders?.length&&(e=ki(e,"workspaceRoot",En.workspace.workspaceFolders[0].uri.fsPath)),It.isAbsolute(e))return e;if(r)return It.join(r.uri.fsPath,e)}async function ife(r,e,t){if(t.outFiles||!e)return;let n;if(t.program?(n=e4(e,t.program),n&&(n=It.dirname(n))):t.cwd&&(n=e4(e,t.cwd)),!n||rH(e.uri.fsPath,n))return;let i=await Af(n,async o=>!o.includes("node_modules")&&await r.exists(It.join(o,"package.json")));if(i){let o=Xe(It.relative(e.uri.fsPath,i));o.length&&(t.outFiles=[...jh.outFiles,`\${workspaceFolder}/${o}/**/*.js`,`!\${workspaceFolder}/${o}/**/node_modules/**`])}}var ofe=["index.js","main.js"];async function xC(r,e,t){let n={type:"pwa-node",request:"launch",name:Ma.t("Launch Program"),skipFiles:["<node_internals>/**"]};t&&t.noDebug&&(n.noDebug=!0);let i=await t4(r,"package.json"),o,s=!1;if(i&&i.name==="mern-starter")return e&&Fx(Ma.t("Launch configuration for '{0}' project created.","Mern Starter")),afe(n),n;if(i&&(o=await ufe(r,i,e),o&&e&&Fx(Ma.t("Launch configuration created based on 'package.json'."))),!o){let a=En.window.activeTextEditor;a&&Gh.includes(a.document.languageId)&&(s=a.document.languageId!=="javascript",o=r?It.relative(r.uri.fsPath,a.document.uri.fsPath):a.document.uri.fsPath,It.isAbsolute(o)||(o="${workspaceFolder}"+It.sep+o))}if(!o&&r){let a=r.uri.fsPath;o=await eo(ofe.map(async c=>await un(Qp.promises,It.join(a,c))&&"${workspaceFolder}"+It.sep+c))}if(o||(o="${file}"),o&&(n.program=o,r||(n.__workspaceFolder=It.dirname(o))),s||En.workspace.textDocuments.some(a=>cfe(a.languageId))){e&&Fx(Ma.t("Adjust glob pattern(s) in the 'outFiles' attribute so that they cover the generated JavaScript."));let a="",c=await t4(r,"tsconfig.json");if(c?.compilerOptions?.outDir&&sfe()){let u=c.compilerOptions.outDir;It.isAbsolute(u)||(a=u,a.indexOf("./")===0&&(a=a.substr(2)),a[a.length-1]!=="/"&&(a+="/")),n.preLaunchTask="tsc: build - tsconfig.json"}n.outFiles=["${workspaceFolder}/"+a+"**/*.js"]}return n}function sfe(){let r=En.workspace.getConfiguration().get("typescript.tsc.autoDetect");return r!=="off"&&r!=="watch"}function afe(r){r.request==="launch"&&(r.runtimeExecutable="nodemon",r.program="${workspaceFolder}/index.js",r.restart=!0,r.env={BABEL_DISABLE_CACHE:"1",NODE_ENV:"development"},r.console="integratedTerminal",r.internalConsoleOptions="neverOpen")}function cfe(r){return r==="typescript"||r==="coffeescript"}async function t4(r,e){if(r)try{let t=await Qp.promises.readFile(It.join(r.uri.fsPath,e),"utf8");return JSON.parse(t)}catch{}}async function ufe(r,e,t){let n;try{if(e.main?n=e.main:e.scripts&&typeof e.scripts.start=="string"&&(n=e.scripts.start.split(" ").pop()),n){let i;if(It.isAbsolute(n)?i=n:(i=r?It.join(r.uri.fsPath,n):void 0,n=It.join("${workspaceFolder}",n)),t&&i&&!await un(Qp.promises,i)&&!await un(Qp.promises,i+".js"))return}}catch{}return n}var r4=w(require("vscode"));var Zp=class extends oi{async resolveDebugConfigurationAsync(e,t){if(t.cwd||(t.cwd=vC(void 0,e)),t.request==="launch"&&!t.command){await Nh(r4.commands,"extension.js-debug.createDebuggerTerminal",void 0,e);return}return t.remoteRoot&&!t.localRoot&&(t.localRoot="${workspaceFolder}"),aI(t)}getType(){return"node-terminal"}};var lfe=r=>r.request==="launch",pfe=r=>r.request==="attach",Na=class extends oi{constructor(t,n,i,o,s){super(t);this.nodeProvider=n;this.terminalProvider=i;this.location=o;this.fs=s}async resolveBrowserCommon(t,n){if(n.request,n.server&&"program"in n.server){let o={...n.server,type:"pwa-node",request:"launch",name:`${n.name}: Server`};n.server=await this.nodeProvider.resolveDebugConfiguration(t,o)}else n.server&&"command"in n.server&&(n.server=await this.terminalProvider.resolveDebugConfiguration(t,{...n.server,type:"node-terminal",request:"launch",name:`${n.name}: Server`}));let i=this.location==="remote"?"ui":"workspace";if(lfe(n)&&!n.browserLaunchLocation&&(n.browserLaunchLocation=i),pfe(n)&&!n.browserAttachLocation&&(n.browserAttachLocation=i),n.request==="launch"){let o=n;this.applyDefaultRuntimeExecutable(o)}}getSuggestedWorkspaceFolders(t){return[t.rootPath,t.webRoot]}async resolveDebugConfigurationWithSubstitutedVariables(t,n){if("__pendingTargetId"in n)return n;let i=n;if("port"in i&&typeof i.port=="string"&&(i.port=Number(i.port)),i.request==="launch"){let o=await this.ensureNoLockfile(i);if(o===void 0)return;i=o}return i}async ensureNoLockfile(t){if(t.request!=="launch")return t;let n=t;if(n.userDataDir===!1||n.port&&!await VO(n.port))return t;let i=typeof n.userDataDir=="string"?n.userDataDir:(0,td.join)(this.extensionContext.storagePath??(0,n4.tmpdir)(),n.runtimeArgs?.includes("--headless")?".headless-profile":".profile"),o=(0,td.join)(i,process.platform==="win32"?"lockfile":"SingletonLock");if(await eo([z$(this.fs,o),this.isVsCodeLocked((0,td.join)(i,"code.lock"))])){let a=ed.t("Debug Anyway");if(await hh.window.showErrorMessage(ed.t("It looks like a browser is already running from {0}. Please close it before trying to debug, otherwise VS Code may not be able to connect to it.",n.userDataDir===!0?ed.t("an old debug session"):ed.t("the configured userDataDir")),{modal:!0},a)!==a)return}return{...t,userDataDir:i}}async isVsCodeLocked(t){try{let n=Number(await this.fs.readFile(t,"utf-8"));return process.kill(n,0),!0}catch{return!1}}};Na=E([(0,ws.injectable)(),H(0,(0,ws.inject)(it)),H(1,(0,ws.inject)(Oa)),H(2,(0,ws.inject)(Zp)),H(3,(0,ws.inject)(Zo)),H(4,(0,ws.inject)(_e))],Na);var Fa=class extends bs{provide(){return this.createLaunchConfigFromContext()||this.getDefaultLaunch()}getTriggerKind(){return hh.DebugConfigurationProviderTriggerKind.Initial}createLaunchConfigFromContext(){let e=hh.window.activeTextEditor;if(e&&e.document.languageId==="html")return{type:this.getType(),request:"launch",name:`Open ${(0,td.basename)(e.document.uri.fsPath)}`,file:e.document.uri.fsPath}}getDefaultLaunch(){return{type:this.getType(),request:"launch",name:ed.t("Launch Chrome against localhost"),url:"http://localhost:8080",webRoot:"${workspaceFolder}"}}};Fa=E([(0,ws.injectable)()],Fa);var wC=w(V());var rd=class extends Na{async resolveDebugConfigurationAsync(e,t){if(!t.name&&!t.type&&!t.request){let n=new au().createLaunchConfigFromContext();if(!n)return null;t=n}return await this.resolveBrowserCommon(e,t),t.request==="attach"?{...qd,...t}:{...qh,...t}}getType(){return"pwa-chrome"}};rd=E([(0,wC.injectable)()],rd);var au=class extends Fa{getType(){return"pwa-chrome"}};au=E([(0,wC.injectable)()],au);var i4=w(we()),IC=w(V());var nd=class extends Na{async resolveDebugConfigurationAsync(e,t){if(!t.name&&!t.type&&!t.request){let n=new cu().createLaunchConfigFromContext();if(!n)return;t=n}return await this.resolveBrowserCommon(e,t),t.useWebView&&(t.timeout=t.timeout??0),t.request==="attach"?{...rI,...t}:{...nI,...t}}getType(){return"pwa-msedge"}};nd=E([(0,IC.injectable)()],nd);var cu=class extends Fa{getType(){return"pwa-msedge"}getDefaultLaunch(){return{...super.getDefaultLaunch(),name:i4.t("Launch Edge against localhost")}}};cu=E([(0,IC.injectable)()],cu);var Bx=w(we()),s4=w(yg()),_C=require("fs"),a4=w(V()),uu=require("path"),c4=w(require("vscode"));var id=class extends oi{async resolveDebugConfigurationAsync(e,t){if(t.debugWebWorkerHost===void 0){let n=await dfe(e,t);t={...t,debugWebWorkerHost:n.length===1&&n[0]==="web"}}return Vh(t),t.debugWebWorkerHost&&(t.outFiles=[]),Promise.resolve({...tI,...t})}async resolveDebugConfigurationWithSubstitutedVariables(e,t){let n=t;try{let i=await ffe(n);i&&(n.env={...n.env,...i.env},n.args=[...n.args||[],...i.config.launchArgs||[],`--extensionDevelopmentPath=${i.extensionDevelopmentPath}`,`--extensionTestsPath=${i.extensionTestsPath}`])}catch(i){if(i instanceof mn)return;throw i}return n}getType(){return"pwa-extensionHost"}};id=E([(0,a4.injectable)()],id);var o4="--extensionDevelopmentPath=",dfe=async(r,e)=>{let t=e.args?.find(o=>o.startsWith(o4));if(!t)return["workspace"];let n=ki(t.slice(o4.length),"workspaceFolder",r?.uri.fsPath??e.__workspaceFolder??""),i;try{let o=await _C.promises.readFile((0,uu.join)(n,"package.json"),"utf-8");i=JSON.parse(o).extensionKind??"workspace"}catch{return["workspace"]}return i instanceof Array?i:[i]},ffe=async r=>{let{testConfiguration:e}=r,{testConfigurationLabel:t}=r;if(!e)return;let n=(0,uu.join)("node_modules","@vscode","test-cli","out","bin.mjs"),i=await Af(e,c=>{let u=(0,uu.join)(c,n);return Vo(_C.promises,u)});if(!i)throw new Error(Bx.t("Cannot find `{0}` installed in {1}","@vscode/test-cli",(0,uu.dirname)(e)));let o=await(0,s4.default)(process.execPath,[(0,uu.join)(i,n),"--config",e,"--list-configuration"],{env:{...process.env,ELECTRON_RUN_AS_NODE:"1"}}),s=JSON.parse(o.stdout);if(s.length===1)return s[0];if(s.length&&!t&&(t=await c4.window.showQuickPick(s.map((c,u)=>c.config.label||String(u)),{title:Bx.t("Select test configuration to run")}),!t))throw new mn("cancelled");let a=s.find((c,u)=>c.config.label===t||String(u)===t);if(!a)throw new Error(Bx.t("Cannot find test configuration with label `{0}`, got: {1}",String(t),s.map((c,u)=>c.config.label||u).join(", ")));return a};var jx=w(we()),PC=w(V()),cd=w(require("path")),gh=w(require("vscode"));var od=w(we()),d4=w(require("fs")),Ux=w(require("path")),nt=w(require("vscode"));var u4=require("vscode"),AC=async r=>{try{return await u4.commands.executeCommand("npm.packageManager",r?.uri)}catch{return"npm"}},l4=async(r,e)=>`${await AC(e)} run ${r}`;async function f4(r){let e=await EC(r?[r]:void 0);if(!e)return;let t=async a=>{let c=nt.workspace.getWorkspaceFolder(nt.Uri.file(a.directory));Nh(nt.commands,"extension.js-debug.createDebuggerTerminal",await l4(a.name,c),c,{cwd:a.directory})};if(e.length===1)return t(e[0]);let n=e.some(a=>a.directory!==e[0].directory),i=nt.window.createQuickPick(),o,s=[];for(let a of e)a.directory!==o&&n&&(s.push({label:Ux.basename(a.directory),kind:nt.QuickPickItemKind.Separator}),o=a.directory),s.push({script:a,label:a.name,description:a.command});i.items=s,i.onDidAccept(async()=>{t(i.selectedItems[0].script),i.dispose()}),i.show()}var SC=(r,e)=>r.score>e.score?r:e;async function EC(r,e=!1){let t=r??nt.workspace.workspaceFolders??[];if(!t||t.length===0){e||nt.window.showErrorMessage(od.t("You need to open a workspace folder to debug npm scripts."));return}let n=(await Promise.all(t.map(s=>nt.workspace.findFiles(new nt.RelativePattern(s,"**/package.json"),"**/{node_modules,.vscode-test}/**")))).flat();if(n.length===0){e||nt.window.showErrorMessage(od.t("No package.json files found in your workspace."));return}let i=[],o={path:n[0].fsPath,score:0};for(let{fsPath:s}of new Set(n)){o=SC(o,{path:s,score:1});let a;try{a=JSON.parse(await Qg(s))}catch(c){e||p4("showWarningMessage",od.t("Could not read {0}: {1}",s,c.message),s),o=SC(o,{path:void 0,score:3});continue}if(o=SC(o,{path:void 0,score:2}),!!a.scripts)for(let c of Object.keys(a.scripts))i.push({directory:Ux.dirname(s),name:c,command:a.scripts[c]})}if(i.length===0){o.path&&!e&&p4("showErrorMessage",od.t("No npm scripts found in your package.json"),o.path);return}return i.sort((s,a)=>(s.name==="start"?-1:0)+(a.name==="start"?1:0)),i}var mfe=`{
  "scripts": {
    
  }
}
`;async function p4(r,e,t){let n=od.t("Edit package.json");if(await nt.window[r](e,n)!==n)return;if(d4.existsSync(t)){let a=await nt.workspace.openTextDocument(t);await nt.window.showTextDocument(a);return}let i=await nt.workspace.openTextDocument(nt.Uri.file(t).with({scheme:"untitled"})),o=await nt.window.showTextDocument(i);await o.edit(a=>a.insert(new nt.Position(0,0),mfe));let s=new nt.Position(2,5);o.selection=new nt.Selection(s,s)}var sd=class extends bs{provide(e){return xC(e,!0)}getType(){return"pwa-node"}getTriggerKind(){return gh.DebugConfigurationProviderTriggerKind.Initial}};sd=E([(0,PC.injectable)()],sd);var hfe=["cwd","program"],ad=class extends bs{async provide(e){let t=Bo(await Promise.all([this.getFromNpmScripts(e),this.getFromActiveFile()]));if(e)for(let n of t){let i=n;for(let o of hfe){let s=i[o];s&&cd.isAbsolute(s)&&(i[o]=cd.join("${workspaceFolder}",cd.relative(e.uri.fsPath,s)))}}return t}getType(){return"pwa-node"}getTriggerKind(){return gh.DebugConfigurationProviderTriggerKind.Dynamic}async getFromNpmScripts(e){let t={type:bu("node-terminal"),name:jx.t("JavaScript Debug Terminal"),request:"launch",cwd:e?.uri.fsPath};if(!e)return[t];let n=await EC([e],!0);if(!n)return[t];let i=await AC(e);return n.map(o=>({type:bu("node-terminal"),name:jx.t("Run Script: {0}",o.name),request:"launch",command:`${i} run ${o.name}`,cwd:o.directory})).concat(t)}getFromActiveFile(){let e=gh.window.activeTextEditor;return!e||!Gh.includes(e.document.languageId)||e.document.uri.scheme!=="file"?[]:[{type:bu("pwa-node"),name:jx.t("Run Current File"),request:"launch",program:e.document.uri.fsPath}]}};ad=E([(0,PC.injectable)()],ad);var m4=[rd,nd,id,Oa,Zp],h4=[au,cu,sd,ad];var ud=w(we()),Hh=w(V()),TC=require("url"),sn=w(require("vscode"));function CC(r,e){if(r){try{if(new TC.URL(r).hostname)return r}catch{}try{let t=`http://${r}`,n=new TC.URL(t);if(!e||n.port)return t}catch{}}}var ld=class{constructor(e,t){this.defaultBrowser=e;this.context=t}register(e){e.subscriptions.push(sn.commands.registerCommand("extension.js-debug.debugLink",t=>this.handle(t)))}async handle(e){if(e=e??await this.getLinkFromTextEditor()??await this.getLinkFromQuickInput(),!e)return;let t="pwa-chrome";try{await this.defaultBrowser.lookup()===3&&(t="pwa-msedge")}catch{}let n=At(sn.workspace,"debug.javascript.debugByLinkOptions")??{},i={...typeof n=="string"?{}:n,type:bu(t),name:e,request:"launch",url:e};sn.debug.startDebugging(sn.workspace.workspaceFolders?.[0],i),this.persistConfig(i)}getLinkFromTextEditor(){let e=sn.window.activeTextEditor;if(e)return CC(e.document.getText(e.selection),!0)}async getLinkFromQuickInput(){let e=await sn.env.clipboard.readText(),t=await sn.window.showInputBox({value:CC(e,!1)||this.mostRecentLink,placeHolder:"https://localhost:8080",validateInput:n=>{if(n&&!CC(n,!1))return ud.t("The URL provided is invalid")}});if(t)return this.mostRecentLink=t,t}async persistConfig(e){if(this.context.globalState.get("saveDebugLinks")===!1)return;let t=sn.workspace.getConfiguration("launch"),n=t.get("configurations")??[];if(n.some(a=>a.url===e.url))return;let i=ud.t("Yes"),o=ud.t("Never"),s=await sn.window.showInformationMessage(ud.t("Would you like to save a configuration in your launch.json for easy access later?"),i,ud.t("No"),o);s===o&&this.context.globalState.update("saveDebugLinks",!1),s===i&&await t.update("configurations",[...n,e])}};ld=E([(0,Hh.injectable)(),H(0,(0,Hh.inject)(rp)),H(1,(0,Hh.inject)(it))],ld);var pd=w(we()),fd=w(V()),Pn=w(require("vscode"));var g4="neverRemind",dd=class{constructor(e,t,n){this.fs=e;this.context=t;this.tracker=n;this.dismissedForSession=!1;this.isPrompting=!1}register(e){e.subscriptions.push(Re(Pn.commands,"extension.js-debug.getDiagnosticLogs",async()=>{let t=await this.getTargetSession();if(!t)return;let n=await Pn.window.showSaveDialog({filters:{JSON:["json"]}});n&&t.customRequest("saveDiagnosticLogs",{toFile:n.fsPath})}),Re(Pn.commands,"extension.js-debug.createDiagnostics",async()=>this.getDiagnosticInfo(await this.getTargetSession())),Pn.debug.onDidReceiveDebugSessionCustomEvent(async t=>{if(t.event==="openDiagnosticTool")return this.openDiagnosticTool(t.body.file);if(t.event!=="suggestDiagnosticTool"||this.dismissedForSession||this.context.workspaceState.get(g4)||this.isPrompting)return;this.isPrompting=!0;let n=pd.t("Yes"),i=pd.t("Not Now"),o=pd.t("Never"),s=await Pn.window.showInformationMessage("It looks like you might be having trouble with breakpoints. Would you like to open our diagnostic tool?",n,i,o);switch(this.isPrompting=!1,s){case n:this.getDiagnosticInfo(await this.getTargetSession(),!0);break;case o:e.workspaceState.update(g4,!0);break;case i:this.dismissedForSession=!0;break}}))}getTargetSession(){let e=Pn.debug.activeDebugSession;if(!e||!Ps(e?.type))return this.pickSession();if(Ye.isConcreteSession(e))return e;let t=this.tracker.getChildren(e);return t.length===1?t[0]:this.pickSession()}pickSession(){return Ye.pickSession(this.tracker.getConcreteSessions(),pd.t("Select the session you want to inspect:"))}async getDiagnosticInfo(e,t=!1){if(!e||!this.tracker.isRunning(e)){Pn.window.showErrorMessage(pd.t('It looks like your debug session has already ended. Try debugging again, then run the "Debug: Diagnose Breakpoint Problems" command.'));return}let{file:n}=await e.customRequest("createDiagnostics",{fromSuggestion:t});await this.openDiagnosticTool(n)}async openDiagnosticTool(e){let t=Pn.window.createWebviewPanel("jsDebugDiagnostics","Debug Diagnostics",Pn.ViewColumn.Active,{enableScripts:!0});t.webview.html=await this.fs.readFile(e,"utf-8")}};dd=E([(0,fd.injectable)(),H(0,(0,fd.inject)(_e)),H(1,(0,fd.inject)(it)),H(2,(0,fd.inject)(Ye))],dd);var md=w(we()),H4=w(V()),si=w(require("vscode"));var lu=class{register(e){e.subscriptions.push(si.debug.onDidReceiveDebugSessionCustomEvent(t=>{if(t.event!=="suggestDisableSourcemap"||!Ps(t.session.type))return;let n=t.body;this.unmap(t.session,n.source).catch(i=>si.window.showErrorMessage(i.message))}))}async unmap(e,t){(At(si.workspace,"debug.javascript.unmapMissingSources")||await this.prompt())&&await e.customRequest("disableSourcemap",{source:t})}async prompt(){let e=md.t("Always"),t=md.t("Always in this Workspace"),n=md.t("Yes");switch(await si.window.showInformationMessage(md.t("This is a missing file path referenced by a sourcemap. Would you like to debug the compiled version instead?"),e,t,md.t("No"),n)){case e:return Zw(si.workspace,"debug.javascript.unmapMissingSources",!0,si.ConfigurationTarget.Global),!0;case t:return Zw(si.workspace,"debug.javascript.unmapMissingSources",!0,si.ConfigurationTarget.Workspace),!0;case n:return!0;default:return!1}}};lu=E([(0,H4.injectable)()],lu);var pu=w(we()),Wx=w(V()),Di=w(require("vscode"));var y4="ms-vscode.wasm-dwarf-debugging",b4="dwarf.neverRemind",hd=class{constructor(e){this.context=e;this.didPromptForSession=this.context.workspaceState.get(b4,!1)}async load(){try{return await import("@vscode/dwarf-debugging")}catch{}let e=Di.extensions.getExtension(y4);if(e)return e.isActive||await e.activate(),e.exports}async prompt(){if(this.didPromptForSession)return;this.didPromptForSession=!0;let e=pu.t("Yes"),t=pu.t("Never"),n=await Di.window.showInformationMessage(pu.t({message:'VS Code can provide better debugging experience for WebAssembly via "DWARF Debugging" extension. Would you like to install it?',comment:'"DWARF Debugging" is the extension name and should not be localized.'}),e,pu.t("Not Now"),t);n===e?this.install():n===t&&this.context.workspaceState.update(b4,!0)}async install(){await Di.window.withProgress({location:Di.ProgressLocation.Notification,title:pu.t("Installing the DWARF debugger...")},async()=>{try{await Di.commands.executeCommand("workbench.extensions.installExtension",y4),Di.window.showInformationMessage(pu.t("Installation complete! The extension will be used after you restart your debug session."))}catch(e){Di.window.showErrorMessage(e.message||String(e))}})}};hd=E([(0,Wx.injectable)(),H(0,(0,Wx.inject)(it))],hd);var x4=w(we()),qx=w(V()),Ba=w(require("vscode"));var v4=r=>{if(r?.type!=="pwa-msedge")return!1;let e=r.configuration.__browserTargetType;return e==="iframe"||e==="page"},Hfe="ms-edgedevtools.vscode-edge-devtools",yfe="vscode-edge-devtools.attachToCurrentDebugTarget";function bfe(r){let e=r;for(;e.parentSession;)e=e.parentSession;return e}var gd=class{constructor(e){this.tracker=e}register(e){e.subscriptions.push(Re(Ba.commands,"extension.js-debug.openEdgeDevTools",async()=>{let t=Ba.debug.activeDebugSession&&v4(Ba.debug.activeDebugSession)?Ba.debug.activeDebugSession:await Ye.pickSession(this.tracker.getConcreteSessions().filter(v4),x4.t("Select the page where you want to open the devtools"));if(!t)return;let n=bfe(t);try{return await Ba.commands.executeCommand(yfe,t.id,n.configuration)}catch(i){if(i instanceof Error&&/command .+ not found/.test(i.message))return Ba.commands.executeCommand("workbench.extensions.action.showExtensionsWithIds",[Hfe]);throw i}}))}};gd=E([(0,qx.injectable)(),H(0,(0,qx.inject)(Ye))],gd);var A4=require("crypto"),Vx=w(V()),S4=require("path"),st=w(require("vscode"));var w4=({name:r,line:e,column:t,source:n})=>`${r} (${(0,S4.basename)(String(n.path))}:${e}:${t})`,I4=({name:r,line:e,column:t,source:n})=>`${r} (${n.path}:${e}:${t})`,_4=async({line:r,column:e,source:t})=>{if(t.sourceReference!==0||!t.path)return;let n=st.Uri.file(t.path),i=await st.workspace.openTextDocument(n),o=await st.window.showTextDocument(i),s=new st.Position(r-1,e-1);o.revealRange(new st.Range(s,s)),o.selection=new st.Selection(s,s)},LC=class{constructor(e,t){this.caller=e;this.target=t;this.treeItem=new st.TreeItem(`${w4(e)} \u2192 ${w4(t)}`,st.TreeItemCollapsibleState.None),this.treeItem.tooltip=`Breaks at ${I4(t)} containing ${I4(e)} will be skipped`,this.id=this.treeItem.id=(0,A4.createHash)("sha256").update(JSON.stringify([e,t])).digest("base64")}toDap(){return{caller:this.caller,target:this.target}}},Hd=class{constructor(e){this.sessionTracker=e;this._onDidChangeTreeData=new st.EventEmitter;this.allCallers=new Map;this.lastHadCallers=!1;this.onDidChangeTreeData=this._onDidChangeTreeData.event}register(e){e.subscriptions.push(st.window.createTreeView("jsExcludedCallers",{treeDataProvider:this}),Re(st.commands,"extension.js-debug.callers.add",async(t,n)=>{let i=await this.sessionTracker.getById(n.sessionId)?.customRequest("stackTrace",{threadId:0,startFrame:0,levels:1});if(!i?.stackFrames.length)return;let o=i.stackFrames[0],s=new LC({name:n.frameName,column:n.frameLocation.range.startColumn,line:n.frameLocation.range.startLineNumber,source:n.frameLocation.source},{name:o.name,column:o.column,line:o.line,source:o.source});this.allCallers.set(s.id,s),this.triggerUpdate()}),Re(st.commands,"extension.js-debug.callers.goToCaller",t=>_4(t.caller)),Re(st.commands,"extension.js-debug.callers.gotToTarget",t=>_4(t.target)),Re(st.commands,"extension.js-debug.callers.remove",async t=>{this.allCallers.delete(t.id),this.triggerUpdate()}),Re(st.commands,"extension.js-debug.callers.removeAll",async()=>{this.allCallers.clear(),this.triggerUpdate()}),this.sessionTracker.onSessionAdded(t=>{this.allCallers.size>0&&this.sendCallersToSession(t)}))}getTreeItem(e){return e.treeItem}getChildren(e){return e?[]:[...this.allCallers.values()]}sendCallersToSession(e){e.customRequest("setExcludedCallers",{callers:[...this.allCallers.values()].map(t=>t.toDap())})}triggerUpdate(){this._onDidChangeTreeData.fire(void 0);for(let t of this.sessionTracker.getConcreteSessions())this.sendCallersToSession(t);let e=this.allCallers.size>0;e!==this.lastHadCallers&&(jd(st.commands,"jsDebugHasExcludedCallers",e),this.lastHadCallers=e)}};Hd=E([(0,Vx.injectable)(),H(0,(0,Vx.inject)(Ye))],Hd);var DC=w(we()),yh=w(V());var E4="linkBpWarnIgnored",xfe="https://code.visualstudio.com/docs/nodejs/nodejs-debugging#_can-i-debug-if-im-using-symlinks",yd=class{constructor(e,t){this.vscode=e;this.context=t;this.didWarn=this.context.workspaceState.get(E4,!1)}async warn(){if(this.didWarn)return;this.didWarn=!0;let e=DC.t("Read More"),t=DC.t("Ignore"),n=await this.vscode.window.showWarningMessage("It looks like you have symlinked files. You might need to update your configuration to make this work as expected.",t,e);n===t?this.context.workspaceState.update(E4,!0):n===e&&this.vscode.env.openExternal(this.vscode.Uri.parse(xfe))}};yd=E([(0,yh.injectable)(),H(0,(0,yh.inject)(Fn)),H(1,(0,yh.inject)(it))],yd);var bh=w(we()),Gx=w(V()),C4=require("path"),Is=w(require("vscode"));var P4="omitLongPredictions",bd=class{constructor(e){this.context=e}register(e){e.subscriptions.push(Is.debug.onDidReceiveDebugSessionCustomEvent(t=>{t.event==="longPrediction"&&this.promptLongBreakpoint(t.session.workspaceFolder)}))}async promptLongBreakpoint(e){if(this.context.workspaceState.get(P4))return;let t=bh.t("It's taking a while to configure your breakpoints. You can speed this up by updating the 'outFiles' in your launch.json."),n=bh.t("Open launch.json"),i=bh.t("Don't show again"),o=await Is.window.showWarningMessage(t,i,n);if(o===i){this.context.workspaceState.update(P4,!0);return}if(o!==n)return;if(e||(e=await Is.window.showWorkspaceFolderPick()),!e){await Is.window.showWarningMessage(bh.t("No workspace folder open."));return}let s=await Is.workspace.openTextDocument((0,C4.join)(e.uri.fsPath,".vscode","launch.json"));await Is.window.showTextDocument(s)}};bd=E([(0,Gx.injectable)(),H(0,(0,Gx.inject)(it))],bd);var zx=w(V()),xd=require("vscode");var vd=class{constructor(e){this.leaseTracker=e;this.cachedResolutions=new Array(16).fill("");this.cachedResolutionIndex=0}register(e){typeof xd.workspace.registerPortAttributesProvider=="function"&&e.subscriptions.push(xd.workspace.registerPortAttributesProvider({portRange:[53e3,54e3]},this))}async providePortAttributes({port:e,pid:t}){if(t&&this.cachedResolutions.includes(`${e}:${t}`))return{port:e,autoForwardAction:xd.PortAutoForwardAction.Ignore};if(await this.leaseTracker.isRegistered(e)){if(t){let n=this.cachedResolutionIndex++%this.cachedResolutions.length;this.cachedResolutions[n]=`${e}:${t}`}return{port:e,autoForwardAction:xd.PortAutoForwardAction.Ignore}}}};vd=E([(0,zx.injectable)(),H(0,(0,zx.inject)(dt))],vd);var Kx=w(V()),L4=w(require("querystring")),du=w(require("vscode"));var wd=class{constructor(e){this.tracker=e;this.canPrettyPrintKey=new Xp("jsDebugCanPrettyPrint")}register(e){e.subscriptions.push(Re(du.commands,"extension.js-debug.prettyPrint",()=>this.prettifyActive()),du.window.onDidChangeActiveTextEditor(t=>this.updateEditorState(t)),this.tracker.onSessionAdded(()=>this.updateEditorState(du.window.activeTextEditor)),this.tracker.onSessionEnded(()=>this.updateEditorState(du.window.activeTextEditor)))}async prettifyActive(){let e=du.window.activeTextEditor;if(!e||!this.canPrettyPrint(e))return;let{sessionId:t,source:n}=wfe(e.document.uri),i=t&&this.tracker.getById(t);if(i)T4(i,n,e.selection.start);else for(let o of this.tracker.getConcreteSessions())T4(o,n,e.selection.start)}canPrettyPrint(e){return this.tracker.isDebugging&&e.document.languageId==="javascript"&&!e.document.fileName.endsWith("-pretty.js")}updateEditorState(e){if(!this.tracker.isDebugging){this.canPrettyPrintKey.value=void 0;return}e&&this.canPrettyPrint(e)&&e.document.uri.toString()!==this.canPrettyPrintKey.value?.[0]&&(this.canPrettyPrintKey.value=[e.document.uri.toString()])}};wd=E([(0,Kx.injectable)(),H(0,(0,Kx.inject)(Ye))],wd);var T4=(r,e,t)=>r.customRequest("prettyPrintSource",{source:e,line:t.line,column:t.character}),wfe=r=>{let e=L4.parse(r.query),t=e.session,n={path:r.fsPath,sourceReference:Number(e.ref)||0};return{sessionId:t,source:n}};var vh=w(we()),xh=w(V()),$4=w(require("path")),$i=w(require("vscode"));var D4="breakpointTerminationWarnedSlow",Id=class{constructor(e,t){this.fs=e;this.context=t;this.sortOrder=2;this.id="breakpoint";this.label=vh.t("Pick Breakpoint");this.description=vh.t("Run until a specific breakpoint is hit")}async onPick(e,t){if(t)return new Xx(t);let n=$i.window.createQuickPick();n.canSelectMany=!0,n.matchOnDescription=!0,n.busy=!0;let i=await new Promise(o=>{n.onDidAccept(()=>o(n.selectedItems)),n.onDidHide(()=>o(void 0)),n.onDidChangeActive(async s=>{if(!s.length)return;let a=s[0].location,c=await $i.workspace.openTextDocument(a.uri);$i.window.showTextDocument(c,{selection:a.range,preview:!0,preserveFocus:!0})}),n.show(),(async()=>{let s=$i.debug.breakpoints.filter(u=>u.enabled&&u instanceof $i.SourceBreakpoint),a=await Promise.all(s.map(u=>e.getDebugProtocolBreakpoint(u))),c=await this.getCandidates(a,s);n.items=c,n.selectedItems=c,n.busy=!1})()});if(n.dispose(),!!i)return await this.warnSlowCode(),new Xx(i.map(o=>Number(o.id)))}async warnSlowCode(){this.context.workspaceState.get(D4)||($i.window.showWarningMessage(vh.t('Profiling with breakpoints enabled can change the performance of your code. It can be useful to validate your findings with the "duration" or "manual" termination conditions.'),vh.t("Got it!")),await this.context.workspaceState.update(D4,!0))}async getCandidates(e,t){if(e.length!==t.length)throw new Error("Mismatched breakpoint array lengths");let n=Fo(o=>this.getFileLines(o));return(await Promise.all(t.map(async(o,s)=>{let a=e[s];if(!a||!a.id)return;let c=o.location,u=$i.workspace.getWorkspaceFolder(c.uri),l=u?$4.relative(u.uri.fsPath,c.uri.fsPath):c.uri.fsPath,p=await n(c.uri.fsPath);return{id:a.id,label:`${l}:${c.range.start.line}:${c.range.start.character}`,location:c,description:p?.[c.range.start.line]?.trim()}}))).filter(St)}async getFileLines(e){try{return(await this.fs.readFile(e,"utf-8")).split(`
`)}catch{return}}};Id=E([(0,xh.injectable)(),H(0,(0,xh.inject)(_e)),H(1,(0,xh.inject)(it))],Id);var Xx=class{constructor(e){this.breakpointIds=e}get customData(){return{stopAtBreakpoint:this.breakpointIds.slice()}}dispose(){}};var fu=w(we()),k4=w(V()),R4=w(require("vscode"));var Jx=w(we()),To=w(require("vscode"));var wh=class{constructor(e,t,n){this.session=e;this.impl=t;this.termination=n;this.statusChangeEmitter=new U;this.stopEmitter=new U;this._innerStatus=[];this.disposables=new Ce;this.state=0;this.onStatusChange=this.statusChangeEmitter.event;this.onStop=this.stopEmitter.event;this.disposables.push(To.debug.onDidReceiveDebugSessionCustomEvent(i=>{i.session===e&&i.event==="profilerStateUpdate"&&this.onStateUpdate(i.body)}),To.debug.onDidTerminateDebugSession(i=>{i===e&&this.stopEmitter.fire(void 0)})),n&&(this.disposables.push(n),n.attachTo?.(this))}get status(){return this._innerStatus.filter(e=>!!e).join(", ")||void 0}async start(){try{await To.window.withProgress({location:To.ProgressLocation.Window,title:Jx.t("Starting profile...")},()=>this.session.customRequest("startProfile",{type:this.impl.type,...this.termination?.customData}))}catch(e){To.window.showErrorMessage(e.message),this.stopEmitter.fire(void 0)}}dispose(){this.state=2,this.disposables.dispose()}setFile(e){this.file=e}async stop(){this.state===0&&(this.setStatus(-1,Jx.t("Saving")),this.state=1,await To.window.withProgress({location:To.ProgressLocation.Window,title:Jx.t("Stopping profile...")},()=>this.session.customRequest("stopProfile",{})))}onStateUpdate(e){if(e.running){this.setStatus(0,e.label);return}this.state=2,this.stopEmitter.fire(this.file),this.dispose()}setStatus(e,t){this.state===0&&(e===-1?this._innerStatus=[t]:this._innerStatus[e]=t,this.statusChangeEmitter.fire(this.status))}};var _d=class{constructor(){this.sortOrder=1;this.id="duration";this.label=fu.t("Duration");this.description=fu.t("Run for a specific amount of time")}async onPick(e,t){if(t)return new Yx(t*1e3);let n=R4.window.createInputBox();n.title=fu.t("Duration of Profile"),n.placeholder=fu.t('Profile duration in seconds, e.g "5"'),this.lastDuration&&(n.value=String(this.lastDuration)),n.onDidChangeValue(o=>{/^[0-9]+$/.test(o)?Number(o)<1?n.validationMessage=fu.t("Please enter a number greater than 1"):n.validationMessage=void 0:n.validationMessage=fu.t("Please enter a number")});let i=await new Promise(o=>{n.onDidAccept(()=>{if(n.validationMessage)return o(void 0);this.lastDuration=Number(n.value),o(new Yx(this.lastDuration*1e3))}),n.onDidHide(()=>o(void 0)),n.show()});return n.dispose(),i}};_d=E([(0,k4.injectable)()],_d);var Yx=class{constructor(e){this.duration=e;this.disposable=new Ce}attachTo(e){let t=Date.now()+this.duration,n=()=>e.setStatus(1,`${Math.round((t-Date.now())/1e3)}s`),i=setTimeout(()=>e.stop(),this.duration),o=setInterval(n,1e3);n(),this.disposable.callback(()=>{clearTimeout(i),clearInterval(o)})}dispose(){this.disposable.dispose()}};var $C=w(we()),M4=w(V());var Ad=class{constructor(){this.sortOrder=0;this.id="manual";this.label=$C.t("Manual");this.description=$C.t("Run until manually stopped")}async onPick(){return new Ih}};Ad=E([(0,M4.injectable)()],Ad);var Ih=class{dispose(){}};var Sd=Symbol("ITerminationConditionFactory");var Lo=w(we()),ja=w(V()),O4=require("os"),Qx=require("path"),ur=w(require("vscode"));var Ife=r=>"__pendingTargetId"in r.configuration,Ua=class{constructor(e,t,n,i){this.tracker=e;this.fs=t;this.sessionStates=n;this.terminationConditions=i;this.activeSessions=new Map;this.disposables=new Ce;this.disposables.push(ur.debug.onDidReceiveDebugSessionCustomEvent(o=>{if(o.event!=="profileStarted")return;let s=o.body,a=this.activeSessions.get(o.session.id);a||(a=new wh(o.session,Zr.ctors.find(c=>c.type===s.type)||Zr.ctors[0],new Ih),this.registerSession(a)),a.setFile(s.file)}))}async start(e){let t,n=[...this.tracker.getConcreteSessions()].filter(Ife);if(e.sessionId?t=n.find(u=>u.id===e.sessionId):t=await this.pickSession(n),!t)return;let i=t,o=this.activeSessions.get(i.id);if(o&&!await this.alreadyRunningSession(o))return;let s=await this.pickType(i,e.type);if(!s)return;let a;if(!s.instant&&(a=await this.pickTermination(i,e.termination),!a))return;let c=new wh(i,s,a);c&&(this.registerSession(c,e.onCompleteCommand),await c.start(),s.instant&&await c.stop())}async stop(e){let t;if(e)t=this.activeSessions.get(e);else{let n=await this.pickSession([...this.activeSessions.values()].map(i=>i.session));t=n&&this.activeSessions.get(n.id)}t&&(this.sessionStates.remove(t.session.id),await t.stop())}dispose(){for(let e of this.activeSessions.values())e.dispose();this.activeSessions.clear(),this.disposables.dispose()}registerSession(e,t){this.activeSessions.set(e.session.id,e),this.sessionStates.add(e.session.id,Lo.t("Profiling")),e.onStatusChange(()=>this.updateStatusBar()),e.onStop(n=>{n&&this.openProfileFile(e,t,e.session,n),this.activeSessions.delete(e.session.id),e.dispose(),this.updateStatusBar()}),this.updateStatusBar()}async openProfileFile(e,t,n,i){if(t)return Promise.all([ur.commands.executeCommand(t,{contents:await this.fs.readFile(i,"utf-8"),basename:(0,Qx.basename)(i)+e.impl.extension}),this.fs.unlink(i)]);let o=n.workspaceFolder?.uri.fsPath??ur.workspace.workspaceFolders?.[0].uri.fsPath??(0,O4.homedir)(),s=hb()+e.impl.extension,a=ur.Uri.file((0,Qx.join)(o,s));await K$(this.fs,i,a.fsPath),await ur.commands.executeCommand(e.impl.editable?"vscode.open":"revealInExplorer",a)}updateStatusBar(){if(this.activeSessions.size===0){this.statusBarItem?.hide(),jd(ur.commands,"jsDebugIsProfiling",!1);return}this.statusBarItem||(this.statusBarItem=ur.window.createStatusBarItem(ur.StatusBarAlignment.Right,500),this.statusBarItem.command="extension.js-debug.stopProfile"),jd(ur.commands,"jsDebugIsProfiling",!0);let e=Ns(this.activeSessions.values());e&&this.activeSessions.size===1?this.statusBarItem.text=e.status?Lo.t("{0} Click to Stop Profiling ({1})","$(loading~spin)",e.status):Lo.t("{0} Click to Stop Profiling","$(loading~spin)"):this.statusBarItem.text=Lo.t("{0} Click to Stop Profiling ({1} sessions)","$(loading~spin)",this.activeSessions.size),this.statusBarItem.show()}async alreadyRunningSession(e){let t=Lo.t("Yes"),n=Lo.t("No");return await ur.window.showErrorMessage(Lo.t("A profiling session is already running, would you like to stop it and start a new session?"),t,n)!==t?!1:(await this.stop(e.session.id),!0)}async pickSession(e){if(e.length===0)return;if(e.length===1)return e[0];let t=await ur.window.showQuickPick(e.map(n=>({label:n.name,id:n.id})));return t&&e.find(n=>n.id===t.id)}async pickType(e,t){let n=e.configuration;if(t)return Zr.ctors.find(o=>o.type===t&&o.canApplyTo(n));let i=await this.pickWithLastDefault(Lo.t("Type of profile"),Zr.ctors.filter(o=>o.canApplyTo(n)),this.lastChosenType);return i&&(this.lastChosenType=i.label),i}async pickTermination(e,t){if(t){let i=typeof t=="string"?{type:t}:t;return this.terminationConditions.find(o=>o.id===i.type)?.onPick(e,...i.args??[])}let n=await this.pickWithLastDefault(Lo.t("How long to run the profile"),this.terminationConditions,this.lastChosenTermination);return n&&(this.lastChosenTermination=n.label),n?.onPick(e)}async pickWithLastDefault(e,t,n){if(t.length<=1)return t[0];let i=ur.window.createQuickPick();i.title=e,i.items=t.slice().sort((s,a)=>s.label===n||a.label===n?s.label===n?-1:1:(s.sortOrder??0)-(a.sortOrder??0)).map(s=>({label:s.label,description:s.description,alwaysShow:!0}));let o=await new Promise(s=>{i.onDidAccept(()=>s(i.selectedItems[0]?.label)),i.onDidHide(()=>s(void 0)),i.show()});if(i.dispose(),!!o)return t.find(s=>s.label===o)}};Ua=E([(0,ja.injectable)(),H(0,(0,ja.inject)(Ye)),H(1,(0,ja.inject)(_e)),H(2,(0,ja.inject)(hl)),H(3,(0,ja.multiInject)(Sd))],Ua);var F4=w(V()),B4=require("vscode");var N4=(r,e)=>{let t=r;for(let[n,i]of Object.entries(e))typeof i=="object"&&i?t[n]=Object.assign(t[n]||{},i):t[n]=i};var Ed=class{constructor(){this.read=Se(()=>At(B4.workspace,"debug.javascript.resourceRequestOptions"))}provideOptions(e){N4(e,this.read()||{})}};Ed=E([(0,F4.injectable)()],Ed);var U4=w(V()),kC=require("vscode");var Pd=class{register(e){e.subscriptions.push(Re(kC.commands,"extension.node-debug.startWithStopOnEntry",()=>kC.commands.executeCommand("workbench.action.debug.start",{config:{stopOnEntry:!0}})))}};Pd=E([(0,U4.injectable)()],Pd);var eT=w(we()),Mw=w(V()),t5=w(e5()),r5=require("url"),pr=w(require("vscode"));var Ga=class{constructor(e){this.defaultBrowser=e;this.enabledTerminals=new WeakSet;this.disposable=new Ce;this.notifiedCantOpenOnWeb=!1;this.baseConfiguration=this.readConfig();this.disposable.push(pr.workspace.onDidChangeConfiguration(t=>{t.affectsConfiguration("debug.javascript.debugByLinkOptions")&&(this.baseConfiguration=this.readConfig())}))}enableHandlingInTerminal(e){this.enabledTerminals.add(e)}dispose(){this.disposable.dispose()}provideTerminalLinks(e){switch(this.baseConfiguration.enabled){case"off":return[];case"always":break;case"on":default:if(!this.enabledTerminals.has(e.terminal))return[]}let t=[],n=Se(()=>{if("cwd"in e.terminal.creationOptions&&e.terminal.creationOptions.cwd){let i=pr.workspace.getWorkspaceFolder(typeof e.terminal.creationOptions.cwd=="string"?pr.Uri.file(e.terminal.creationOptions.cwd):e.terminal.creationOptions.cwd);if(i)return i}return pr.workspace.workspaceFolders?.[0]});for(let i of(0,t5.find)(e.line,"url")){let o=-1;for(;(o=e.line.indexOf(i.value,o+1))!==-1;){let s;try{s=new r5.URL(i.href)}catch{continue}s.protocol==="http:"&&!i.value.startsWith("http:")&&!LH(s.hostname)&&(s.protocol="https:"),!(s.protocol!=="http:"&&s.protocol!=="https:")&&t.push({startIndex:o,length:i.value.length,tooltip:eT.t("Debug URL"),target:s,workspaceFolder:n()?.index})}}return t}async handleTerminalLink(e){await this.handleTerminalLinkInner(e)||pr.env.openExternal(pr.Uri.parse(e.target.toString()))}async handleTerminalLinkInner(e){if(!e.target)return!1;let t=e.target;if(pr.env.uiKind===pr.UIKind.Web)return this.notifiedCantOpenOnWeb||(pr.window.showInformationMessage(eT.t("We can't launch a browser in debug mode from here. If you want to debug this webpage, open this workspace from VS Code on your desktop.")),this.notifiedCantOpenOnWeb=!0),!1;DR(t.hostname)&&(t.hostname="localhost");let n="pwa-chrome";try{await this.defaultBrowser.lookup()===3&&(n="pwa-msedge")}catch{}let i=e.workspaceFolder!==void 0?pr.workspace.workspaceFolders?.[e.workspaceFolder]:void 0;return pr.debug.startDebugging(i,{...this.baseConfiguration,type:n,name:t.toString(),request:"launch",url:t.toString()}),!0}readConfig(){let e=At(pr.workspace,"debug.javascript.debugByLinkOptions");return typeof e=="boolean"&&(e=e?"on":"off"),typeof e=="string"?{enabled:e}:{enabled:"on",...e}}};Ga=E([(0,Mw.injectable)(),H(0,(0,Mw.inject)(rp))],Ga);var n5=r=>{r.bind(Fn).toConstantValue(require("vscode")),m4.forEach(e=>{r.bind(e).toSelf().inSingletonScope(),r.bind(kx).to(e)}),h4.forEach(e=>r.bind(Rx).to(e).inSingletonScope()),r.bind(Jr).to(bd).inSingletonScope(),r.bind(Jr).to(ld).inSingletonScope(),r.bind(Jr).to(Kp).inSingletonScope(),r.bind(Jr).to(lu).inSingletonScope(),r.bind(Jr).to(dd).inSingletonScope(),r.bind(Jr).to(Pd).inSingletonScope(),r.bind(Jr).to(vd).inSingletonScope(),r.bind(Jr).to(gd).inSingletonScope(),r.bind(Jr).to(Hd).inSingletonScope(),r.bind(Jr).to(wd).inSingletonScope(),r.bind(Jr).to(Jp).inSingletonScope(),r.bind(Gm).to(yd).inSingletonScope(),r.bind(Ye).toSelf().inSingletonScope().onActivation(pt),r.bind(Ua).toSelf().inSingletonScope().onActivation(pt),r.bind(Ga).toSelf().inSingletonScope(),r.bind(lu).toSelf().inSingletonScope(),r.bind(xc).to(hd).inSingletonScope(),r.bind(Sd).to(_d).inSingletonScope(),r.bind(Sd).to(Ad).inSingletonScope(),r.bind(Sd).to(Id).inSingletonScope()},i5=r=>{r.bind(hr).to(Hs).onActivation(pt),r.bind(Jl).to(Ed).inSingletonScope(),r.bind(ul).to(zp).inSingletonScope()};var s5=(r,e,t,n)=>{let i=new Fw.Container;return i.parent=r,i.bind(Ne).toConstantValue(e.launchConfig),i.bind(fl).toConstantValue(i),i.bind(Vr).toConstantValue(t),i.bind(Ht).toConstantValue(n),i.bind(yo).toConstantValue(e),i.bind(VW).toConstantValue(e.targetOrigin()),i.bind(ic).to(Fc).inSingletonScope(),i.bind(oo).to(cc).inSingletonScope(),i.bind(ZH).to(nl).inSingletonScope(),i.bind(qs).toSelf().inSingletonScope(),e.sourcePathResolver&&i.bind(tt).toConstantValue(e.sourcePathResolver),i.bind(Dc).toSelf(),i.bind(lb).toDynamicValue(o=>o.container.get(Dc).create()).inSingletonScope(),e.parent()&&(i.bind(pc).to(lc).inSingletonScope(),i.bind(so).to(Ju).inSingletonScope()),i.bind(Kt).to(process.env.DA_TEST_DISABLE_TELEMETRY?tu:Yr).inSingletonScope().onActivation(pt),i.bind(Un).toSelf().inSingletonScope(),i.bind(ir).toSelf().inSingletonScope(),i.bind(ra).toSelf().inSingletonScope(),i.bind(Vs).to(bo).inSingletonScope(),i.bind(Qs).toSelf().inSingletonScope(),i.bind(Ol).to(Ml).inSingletonScope(),i.bind($y).to(Al).inSingletonScope(),i.bind(Mn).to(tl).inSingletonScope(),i.bind(nb).to(kl).inSingletonScope(),i.bind(ta).to($l).inSingletonScope(),i.bind(hy).to(Hl).inSingletonScope().onActivation(pt),i.bind(ar).toSelf(),i.bind(yn).toSelf(),i.bind(bn).toSelf(),i.bind(mb).to(Zr).inSingletonScope(),i.bind(gb).to(Fl).inSingletonScope(),i.bind(Dy).to(Il).inSingletonScope().onActivation(pt),i},a5=r=>{let e=new Fw.Container;e.parent=r,e.bind(fl).toConstantValue(e),e.bind(ie).to(Xn).inSingletonScope().onActivation(pt),e.bind(ic).to(Fc).inSingletonScope(),e.bind(Kt).to(process.env.DA_TEST_DISABLE_TELEMETRY?tu:Yr).inSingletonScope().onActivation(pt),e.bind(Qi).to(Qi).inSingletonScope(),e.bind(Go).to(Go).inSingletonScope(),e.bind(Ql).to(Yl).inSingletonScope(),e.bind(Ku).to(cp).inSingletonScope(),e.bind(ei).to(xp),e.bind(Io).toSelf().inSingletonScope().onActivation(pt),e.bind(Eo).toSelf(),e.bind(hr).to(Ci).onActivation(pt),e.bind(hr).to(_p).onActivation(pt),e.bind(hr).to(Ap).onActivation(pt),e.bind(hr).to(Tp).onActivation(pt),e.bind(th).to(kp),e.bind(th).to(Rp),e.bind(Yc).to(vp).inSingletonScope(),i5(e),e.bind(hr).to(Pp).onActivation(pt),e.bind(Xc).toSelf().inSingletonScope().onActivation(pt),e.bind(hr).toService(Xc),e.bind(hr).to(pp).inSingletonScope().onActivation(pt),e.bind(hr).to(fp).inSingletonScope().onActivation(pt),e.bind(hr).to(dp).inSingletonScope().onActivation(pt),e.bind(hr).to(mp).inSingletonScope().onActivation(pt),e.bind(hr).to(Qn).onActivation(pt),e.bind(hr).toDynamicValue(()=>r.get(_o).createLauncher(e.get(ie))).inSingletonScope(),e.isBound(xc)||e.bind(xc).to(Rl).inSingletonScope(),e.bind(RA).to(gl).inSingletonScope().onActivation(pt);let t=n=>i=>new n(i.container.get(TA),i.container.get(_e),i.container.get(Of));return e.bind(vc).toDynamicValue(t(Nw.ChromeBrowserFinder)).inSingletonScope().whenTargetTagged("browser","chrome"),e.bind(vc).toDynamicValue(t(Nw.EdgeBrowserFinder)).inSingletonScope().whenTargetTagged("browser","edge"),e},c5=r=>{let e=new Fw.Container;return e.bind(fl).toConstantValue(e),e.bind(_o).toSelf().inSingletonScope(),e.bind(Pi).toSelf().inSingletonScope(),e.bind(ul).to(Mp).inSingletonScope(),e.bind(hl).toConstantValue(new vo),e.bind(rp).to(tp).inSingletonScope(),e.bind(po).toConstantValue(r.storagePath),e.bind(ml).toConstantValue(r.isVsCode),e.bind(rx).to(Dp),e.bind(dt).to(wl).inSingletonScope(),e.bind(TA).toConstantValue(process.env),e.bind(Of).toConstantValue(o5.default),e.bind(_e).toConstantValue(Ow.promises),e.bind(Er).toConstantValue(new cn(Ow.promises)),e.bind(Zo).toConstantValue(r.isRemote?"remote":"local"),r.context&&e.bind(it).toConstantValue(r.context),n5(e),e},u5=(r,e,t)=>{r.bind($m).toConstantValue(S2(e)),r.bind(Ne).toService($m),r.bind(Br).to(Hp).inSingletonScope(),r.bind(Nu).toConstantValue(t),r.bind(tt).toDynamicValue(n=>n.container.get(Br).create(e,n.container.get(ie))).inSingletonScope(),r.bind(Er).toConstantValue(Yg.create(e.__remoteFilePrefix,Ow.promises,t)),r.bind(tA).to(js).inSingletonScope().onActivation(pt),r.bind(Ws).to(Zu).inSingletonScope(),r.bind(bt).toSelf().inSingletonScope().onActivation(pt),r.bind(oo).to(cc).inSingletonScope(),r.bind(uc).toSelf().inSingletonScope(),r.bind(pc).to(lc).inSingletonScope(),r.bind(so).to(Xu).inSingletonScope()};var H5=w(we()),dr=w(require("vscode"));var l5=w(we()),As=w(V()),tT=w(require("path")),za=w(require("vscode"));var Hu=class extends tn{constructor(t,n,i,o,s,a){super(t,n,a,s);this.extensionContext=i;this.fs=o;this.telemetryItems=new Map}get deferredSocketName(){let t=this.extensionContext.environmentVariableCollection.get("VSCODE_INSPECTOR_OPTIONS");return t?new Uv({VSCODE_INSPECTOR_OPTIONS:t.value}).inspectorOptions?.inspectorIpc:void 0}getProcessTelemetry(t){return Promise.resolve(t instanceof wp?this.telemetryItems.get(t.processId()):void 0)}resolveParams(t){if(t.type==="node-terminal"&&t.request==="launch")return t}async launchProgram(t){await this.applyInspectorOptions(this.extensionContext.environmentVariableCollection,t),this.program=new gs,this.program.stopped.then(n=>this.onProgramTerminated(n))}async refreshVariables(){this.run&&await this.applyInspectorOptions(this.extensionContext.environmentVariableCollection,this.run)}async applyInspectorOptions(t,n){let i;try{i=await this.resolveNodePath(n.params)}catch(c){if(c instanceof K&&c.cause.id===9229)i=new Hr("node",void 0);else throw c}let o=At(za.workspace,"debug.javascript.autoAttachFilter"),a=(await this.resolveEnvironment(n,i,{deferredMode:!0,inspectorIpc:this.deferredSocketName??n.serverAddress+".deferred",autoAttachMode:o,aaPatterns:o==="smart"?this.readSmartPatterns():void 0})).defined();t.persistent=!0,t.description=new za.MarkdownString(l5.t({message:'Enables Node.js [auto attach]({0}) debugging in "{1}" mode',comment:["{Locked='[auto attach]({0})'}","the 2nd placeholder is the setting value"],args:["https://code.visualstudio.com/docs/nodejs/nodejs-debugging#_auto-attach",o]})),t.prepend("NODE_OPTIONS",a.NODE_OPTIONS),t.append("VSCODE_INSPECTOR_OPTIONS",a.VSCODE_INSPECTOR_OPTIONS)}readSmartPatterns(){let t=At(za.workspace,"debug.javascript.autoAttachSmartPattern"),n=za.workspace.workspaceFolders?.length===1?za.workspace.workspaceFolders[0].uri.fsPath:`{${za.workspace.workspaceFolders?.map(i=>i.uri.fsPath).join(",")}}`;return t?.map(i=>i.replace("${workspaceFolder}",n)).map(Xe)}async getBootloaderFile(t,n){let i=this.extensionContext.storagePath||this.extensionContext.globalStoragePath;if(i.includes(" ")&&n.isPreciselyKnown&&!n.has(0))throw new Dh(`The \`node\` version on your PATH is too old (${n.version?.major}), so we cannot enable auto-attach in your environment`,"https://github.com/microsoft/vscode-js-debug/issues/708");let o=tT.join(i,"bootloader.js");try{await this.fs.mkdir(i)}catch{}await Promise.all([x_(this.fs,jv,o),x_(this.fs,YW,tT.join(i,"watchdog.js"))]);let s=Xe(o);return{interpolatedPath:s.includes(" ")?`"${s}"`:s,dispose:()=>{}}}async spawnForChild(t){if(!this.run)return;let n=Number(t.pid??"0");this.telemetryItems.set(n,t.telemetry);let i=await ti.attach({...t,ipcAddress:this.run.serverAddress});i.onEnd(()=>{this.telemetryItems.delete(n),i.dispose()})}static clearVariables(t){t.environmentVariableCollection.clear()}};Hu=E([(0,As.injectable)(),H(0,(0,As.inject)(ei)),H(1,(0,As.inject)(ie)),H(2,(0,As.inject)(it)),H(3,(0,As.inject)(_e)),H(4,(0,As.inject)(Br)),H(5,(0,As.inject)(dt))],Hu);var Dh=class extends Error{constructor(t,n){super(t);this.helpLink=n}};var f5=w(we()),m5=require("os"),_t=w(require("vscode"));var p5=()=>{let r,e=Ge(),t=(n,i)=>i==="connect"?o=>{e.resolve(o),r=o}:i==="disconnect"?()=>{e=Ge(),r=void 0}:async(...o)=>(r||await e.promise)[i](...o);return new Proxy({},{get:t})};var nT=(r,e,t={},n=()=>!0)=>{let i=new Yr,o={...At(_t.workspace,"debug.javascript.terminalOptions"),internalConsoleOptions:"neverOpen"},s=p5();i.attachDap(s);let a=new Set,c=async u=>{let l=await e.getProcessTelemetry(u),p=l&&_t.Uri.file(l.cwd),d=p&&_t.workspace.getWorkspaceFolder(p);return d?d.uri:t.__workspaceFolder?_t.Uri.file(t.__workspaceFolder):_t.workspace.workspaceFolders?.[0].uri??p};return e.onTargetListChanged(async()=>{let u=await _t.workspace.requestWorkspaceTrust(),l=new Set;for(let p of e.targetList()){if(l.add(p),a.has(p)){a.delete(p);continue}let d=r.addDelegate(p,s,p.parent());if(!n(p)){p.detach();return}if(p.targetInfo.openerId&&!p.parent()){p.detach();return}if(!u){p.detach();return}if(!p.parent()){let h=await c(p);_t.debug.startDebugging(h&&_t.workspace.getWorkspaceFolder(h),{...o,type:"node-terminal",name:"Node.js Process",request:"attach",delegateId:d,cwd:h?.fsPath,__workspaceFolder:h})}}for(let p of a)r.removeDelegate(p);a=l}),e.launch(Cs({...o,type:"node-terminal",name:Wh.name,request:"launch",...t}),{dap:s,telemetryReporter:i,cancellationToken:or,get targetOrigin(){return new bp("<unset>")}})},h5=Symbol("Abort"),d5=(0,m5.homedir)(),Gfe=process.platform==="win32"?r=>r:r=>r.startsWith(d5)?`~${r.slice(d5.length)}`:r;async function zfe(){let r=_t.workspace.workspaceFolders;return!r||r.length<2?r?.[0]:(await _t.window.showQuickPick(r.map(t=>({label:t.name,description:Gfe(t.uri.fsPath),folder:t})),{placeHolder:f5.t("Select current working directory for new terminal")}))?.folder??h5}var rT=class extends Hs{constructor(){super(...arguments);this.optionsReadyEmitter=new U;this.onOptionsReady=this.optionsReadyEmitter.event}createTerminal(t){return this.optionsReadyEmitter.fire(t),new Promise(n=>{let i=_t.window.onDidOpenTerminal(o=>{i.dispose(),n(o)})})}};function g5(r,e,t,n){let i=new Map,o=(a,c)=>new Hs(c,a,n.get(_e),n.get(Pi),n.get(dt));async function s(a,c,u,l,p=o){if(!u){let f=await zfe();if(f===h5)return;u=f}if(c){for(let[f,g]of i)if(g.folder===u&&g.cwd===l?.cwd&&!g.launcher.targetList().length){f.show(!0),f.sendText(c);return}}let d=new Aa,h=p(d,new hs(d,n.get(_e),Wv));h.onTerminalCreated(f=>{i.set(f,{launcher:h,folder:u,cwd:l?.cwd}),t.enableHandlingInTerminal(f)});try{await nT(a,h,{command:c,...l,__workspaceFolder:u?.uri.fsPath},()=>{for(let[f,g]of i)if(g.launcher===h&&f.state.isInteractedWith)return!0;return!1})}catch(f){_t.window.showErrorMessage(f.message)}}r.subscriptions.push(_t.window.onDidCloseTerminal(a=>{i.delete(a)}),Re(_t.commands,"extension.js-debug.createDebuggerTerminal",(a,c,u)=>s(e,a,c,u)),_t.window.registerTerminalProfileProvider("extension.js-debug.debugTerminal",{provideTerminalProfile:()=>new Promise(a=>s(e,void 0,void 0,void 0,(c,u)=>{let l=new rT(u,c,n.get(_e),n.get(Pi),n.get(dt));return l.onOptionsReady(p=>a(new _t.TerminalProfile(p))),l}))}),_t.window.registerTerminalLinkProvider?.(t))}function y5(r,e,t){let n=new Map,i,o=s=>{let a=n.get(s);if(a)return a;let c=(async()=>{let u=new Aa,l=new Hu(new hs(u,t.get(_e),Wv),u,r,t.get(_e),t.get(Pi),t.get(dt)),p=At(dr.workspace,"debug.javascript.terminalOptions");if(s){let d=s?.uri.fsPath;p={...p,cwd:d,__workspaceFolder:d}}return await nT(e,l,p),l.onTargetListChanged(()=>{l.targetList().length===0&&!i?i=setTimeout(()=>{n.delete(s),l.terminate()},5*60*1e3):i&&(clearTimeout(i),i=void 0)}),l})();return n.set(s,c),c};r.subscriptions.push(Re(dr.commands,"extension.js-debug.setAutoAttachVariables",async()=>{try{return{ipcAddress:(await o(dr.workspace.workspaceFolders?.[0])).deferredSocketName}}catch(s){if(s instanceof Dh&&s.helpLink){let a=H5.t("Details");await dr.window.showErrorMessage(s.message,a)===a&&dr.env.openExternal(dr.Uri.parse(s.helpLink))}else await dr.window.showErrorMessage(s.message)}}),Re(dr.commands,"extension.js-debug.autoAttachToProcess",async s=>{try{let a=s.scriptName&&dr.workspace.getWorkspaceFolder(dr.Uri.file(s.scriptName));(await o(a||dr.workspace.workspaceFolders?.[0])).spawnForChild(s)}catch(a){console.error(a),dr.window.showErrorMessage(`Error activating auto attach: ${a.stack||a}`)}}),Re(dr.commands,"extension.js-debug.clearAutoAttachVariables",async()=>{Hu.clearVariables(r);for(let[s,a]of n.entries())n.delete(s),a.then(c=>c.terminate())}))}var b5=w(we()),v5=require("url"),vr=w(require("vscode"));var Bw=w(require("vscode"));var Dd=class{constructor(){this.tunnels=new Map;this.disposable=new Ce;this.disposable.push(Bw.debug.onDidTerminateDebugSession(e=>this.destroySession(e.id)))}dispose(){return this.disposable.dispose()}destroySession(e){let t=this.tunnels.get(e);t&&(t.dispose(),this.tunnels.delete(e))}async request(e,t){let n=this.tunnels.get(e);n||(n=await Bw.workspace.openTunnel({remoteAddress:{port:t.remotePort,host:"localhost"},localAddressPort:t.localPort??t.remotePort,label:t.label}),this.tunnels.set(e,n));let i;if(typeof n.localAddress=="string"){let[o,s]=n.localAddress.split(":");i={host:o,port:Number(s)}}else i=n.localAddress;return{remoteAddress:n.remoteAddress,localAddress:i}}};var Kfe=r=>e=>typeof e.localAddress=="string"?e.localAddress.endsWith(`:${r}`):e.localAddress.port===r,Xfe=async r=>{let e=r.params.url;if(!e)return;let t;try{t=new v5.URL(e)}catch{return}if(!At(vr.workspace,"debug.javascript.automaticallyTunnelRemoteServer"))return;let n=Number(t.port)||80;if(!(await vr.workspace.tunnels).some(Kfe(n)))try{await vr.workspace.openTunnel({remoteAddress:{port:n,host:"localhost"},localAddressPort:n})}catch{}},Jfe=async(r,e,t)=>{if(vr.env.uiKind===vr.UIKind.Web)return vr.debug.stopDebugging(r),vr.window.showErrorMessage(b5.t("We can't launch a browser in debug mode from here. Open this workspace in VS Code on your desktop to enable debugging."));try{let[,n]=await Promise.all([Xfe(t),e.request(r.id,{remotePort:t.serverPort,label:"Browser Debug Tunnel"}).catch(()=>{})]);await vr.commands.executeCommand("js-debug-companion.launchAndAttach",{proxyUri:n?`127.0.0.1:${n.localAddress.port}`:`127.0.0.1:${t.serverPort}`,wslInfo:process.env.WSL_DISTRO_NAME&&{execPath:process.execPath,distro:process.env.WSL_DISTRO_NAME,user:process.env.USER},...t})}catch(n){vr.window.showErrorMessage(`Error launching browser: ${n.message||n.stack}`)}},Yfe=async(r,e,{launchId:t})=>{await vr.commands.executeCommand("js-debug-companion.kill",{launchId:t}),e.destroySession(r.id)};function x5(r){let e=new Dd;r.subscriptions.push(e,vr.debug.onDidReceiveDebugSessionCustomEvent(async t=>{switch(t.event){case"launchBrowserInCompanion":return Jfe(t.session,e,t.body);case"killCompanionBrowser":return Yfe(t.session,e,t.body);default:}}))}var $e=w(require("vscode")),Ss=require("vscode");var Uw=()=>Ss.l10n.t("XHR/Fetch URLs"),kd=class extends $e.TreeItem{get checked(){return this.checkboxState===$e.TreeItemCheckboxState.Checked}constructor(e,t){super(e.match?Ss.l10n.t('URL contains "{0}"',e.match):Ss.l10n.t("Any XHR or fetch"),$e.TreeItemCollapsibleState.None),this.contextValue="xhrBreakpoint",this.id=e.match,this.match=e.match,this.checkboxState=t?$e.TreeItemCheckboxState.Checked:$e.TreeItemCheckboxState.Unchecked}static compare(e,t){return e.match.localeCompare(t.match)}},$h=class extends $e.TreeItem{constructor(t,n){super(t.title,$e.TreeItemCollapsibleState.None);this.parent=n;this.checkboxState=$e.TreeItemCheckboxState.Unchecked,this.id=t.id,this.group=t.group}get checked(){return this.checkboxState===$e.TreeItemCheckboxState.Checked}static compare(t,n){return t.id.localeCompare(n.id)}},$d=class extends $e.TreeItem{constructor(t){super(t,$e.TreeItemCollapsibleState.Collapsed);this.label=t;this.children=[];this.checkboxState=$e.TreeItemCheckboxState.Unchecked}get checked(){return this.checkboxState===$e.TreeItemCheckboxState.Checked}},iT=class{constructor(e){this._onDidChangeTreeData=new U;this.onDidChangeTreeData=this._onDidChangeTreeData.event;this.categories=new Map;this.xhrBreakpoints=[];for(let n of[...Tl().values()]){let i=this.categories.get(n.group);i||(i=new $d(n.group),this.categories.set(n.group,i)),i.children.push(new $h(n,i))}let t=new $d(Uw());t.contextValue="xhrCategory",t.checkboxState=void 0,this.categories.set(Uw(),t),this.xhrBreakpoints=[],this._debugSessionTracker=e,e.onSessionAdded(n=>{if(!Ye.isConcreteSession(n))return;let i=this.allBreakpoints.filter(o=>o.checked).map(o=>o.id);i.length!==0&&n.customRequest("setCustomBreakpoints",{xhr:this.xhrBreakpoints.filter(o=>o.checkboxState).map(o=>o.id),ids:i})})}get allCategories(){return this.categories.values()}get allBreakpoints(){return[...this.allCategories].flatMap(e=>e.children)}getTreeItem(e){return e}getChildren(e){if(!e)return[...this.categories.values()].sort((t,n)=>t.label.localeCompare(n.label));if(e instanceof $d){if(e.contextValue==="xhrCategory"){let t=Ss.l10n.t("Add new URL..."),n=new $e.TreeItem(t);return n.command={title:t,command:"extension.js-debug.addXHRBreakpoints"},[...this.xhrBreakpoints,n]}return this.categories.get(e.label)?.children}return[]}getParent(e){if(e instanceof $h)return this.categories.get(e.group);if(e instanceof kd)return this.categories.get(Uw())}setEnabled(e){for(let[t,n]of e){let i=n?$e.TreeItemCheckboxState.Checked:$e.TreeItemCheckboxState.Unchecked;if(t.checkboxState=i,t instanceof $d)for(let o of this.getChildren(t))o.checkboxState!==i&&(o.checkboxState=i);else if(t instanceof $h||t instanceof kd){let o=this.getParent(t);(!n&&o.checked||n&&this.getChildren(o).every(s=>s.checked||s.checkboxState==null))&&(o.checkboxState=i)}}this.updateDebuggersState(),this._onDidChangeTreeData.fire(void 0)}updateDebuggersState(){let e=this.allBreakpoints.filter(n=>n.checked).map(n=>n.id),t=this.xhrBreakpoints.filter(n=>n.checked).map(n=>n.id);for(let n of this._debugSessionTracker.getConcreteSessions())n.customRequest("setCustomBreakpoints",{xhr:t,ids:e})}addXHRBreakpoints(e){this.xhrBreakpoints.some(t=>t.id===e.id)||(this.xhrBreakpoints.push(e),this.updateDebuggersState(),this.syncXHRCategoryState(),this._onDidChangeTreeData.fire(void 0))}removeXHRBreakpoint(e){this.xhrBreakpoints=this.xhrBreakpoints.filter(t=>t!==e),this.updateDebuggersState(),this.syncXHRCategoryState(),this._onDidChangeTreeData.fire(void 0)}syncXHRCategoryState(){let e=this.categories.get(Uw());if(e){if(!this.xhrBreakpoints.length){e.checkboxState=void 0;return}e.checkboxState=this.xhrBreakpoints.every(t=>t.checkboxState===$e.TreeItemCheckboxState.Checked)?$e.TreeItemCheckboxState.Checked:$e.TreeItemCheckboxState.Unchecked}}};function w5(r,e){let t=new iT(e),n=$e.window.createTreeView("jsBrowserBreakpoints",{treeDataProvider:t,showCollapseAll:!0,manageCheckboxStateManually:!0});r.subscriptions.push(n.onDidChangeCheckboxState(async i=>{t.setEnabled(i.items.map(([o,s])=>[o,s===$e.TreeItemCheckboxState.Checked]))})),r.subscriptions.push(n),r.subscriptions.push($e.commands.registerCommand("extension.js-debug.addCustomBreakpoints",async()=>{let i=[...t.allCategories].flatMap(a=>[{kind:$e.QuickPickItemKind.Separator,id:"",label:a.label},...a.children.map(c=>({id:c.id,label:`${c.label}`,picked:c.checked}))]),o=await $e.window.showQuickPick(i,{canPickMany:!0,placeHolder:"Select breakpoints to enable"});if(!o)return;let s=new Set(o.map(a=>a.id));t.setEnabled(t.allBreakpoints.map(a=>[a,s.has(a.id)]))})),r.subscriptions.push($e.commands.registerCommand("extension.js-debug.removeAllCustomBreakpoints",()=>{t.setEnabled([...t.allBreakpoints,...t.xhrBreakpoints].map(i=>[i,!1]))})),r.subscriptions.push($e.commands.registerCommand("extension.js-debug.addXHRBreakpoints",()=>{let i=$e.window.createInputBox();i.title=Ss.l10n.t("Add XHR Breakpoint"),i.placeholder=Ss.l10n.t("Break when URL Contains"),i.onDidAccept(()=>{let o=i.value;t.addXHRBreakpoints(new kd({match:o},!0)),i.dispose()}),i.show()})),r.subscriptions.push($e.commands.registerCommand("extension.js-debug.editXHRBreakpoints",i=>{let o=$e.window.createInputBox();o.title=Ss.l10n.t("Edit XHR Breakpoint"),o.placeholder=Ss.l10n.t("Enter a URL or a pattern to match"),o.value=i.match,o.onDidAccept(()=>{let s=o.value;t.removeXHRBreakpoint(i),t.addXHRBreakpoints(new kd({match:s},i.checkboxState==$e.TreeItemCheckboxState.Checked)),o.dispose()}),o.show()})),r.subscriptions.push($e.commands.registerCommand("extension.js-debug.removeXHRBreakpoint",i=>{t.removeXHRBreakpoint(i)}))}var oT=w(require("vscode"));var I5=(r,e)=>{let t=e.get(Ua);r.subscriptions.push(Re(oT.commands,"extension.js-debug.startProfile",n=>t.start(typeof n=="string"?{sessionId:n}:n??{})),Re(oT.commands,"extension.js-debug.stopProfile",n=>t.stop(n)))};var jw=w(require("vscode"));var _5=(r,e)=>{let t=new Dd;r.subscriptions.push(t,Re(jw.commands,"extension.js-debug.requestCDPProxy",async(n,i)=>{let o=e.getById(n);if(!o)return;let s=await o.customRequest("requestCDPProxy");if(!i)return s;try{if(jw.env.remoteName!==void 0){let a=await t.request(n,{label:"Edge Devtools Tunnel",remotePort:s.port});return{host:a.localAddress.host,port:a.localAddress.port,path:s.path}}}catch{}return s}))};var A5=w(require("vscode"));var S5=(r,e)=>{r.subscriptions.push(Re(A5.commands,"extension.js-debug.revealPage",async t=>{await e.getById(t)?.customRequest("revealPage")}))};var kh=w(require("vscode")),E5=require("url");async function P5(r){if(!r){let e=kh.window.activeTextEditor;if(!e)return;r=e&&e.document.fileName}if(r&&kh.debug.activeDebugSession){let e;typeof r=="string"?zr(r)?e={resource:(0,E5.fileURLToPath)(r)}:e={resource:r}:e={sourceReference:r},await kh.debug.activeDebugSession.customRequest("toggleSkipFileStatus",e)}}var Ka=w(require("vscode"));var U5=require("fs"),j5=w(require("net"));var C5=`\r
\r
`,Qfe=0,Rh=class{constructor(e,t,n){this.inputStream=e;this.outputStream=t;this._contentLength=-1;this._connectionId=Qfe++;this.msgEmitter=new U;this.messageReceived=this.msgEmitter.event;this.endedEmitter=new U;this.closed=this.endedEmitter.event;this._handleData=e=>{let t=new Wn;for(this._rawData=Buffer.concat([this._rawData,e]);;){if(this._contentLength>=0){if(this._rawData.length>=this._contentLength){let n=this._rawData.toString("utf8",0,this._contentLength);if(this._rawData=this._rawData.slice(this._contentLength),this._contentLength=-1,n.length>0)try{let i=JSON.parse(n);this.logger?.verbose("dap.receive",void 0,{connectionId:this._connectionId,message:i}),this.msgEmitter.fire({message:i,receivedTime:t})}catch(i){console.error("Error handling data: "+(i&&i.message))}continue}}else{let n=this._rawData.indexOf(C5);if(n!==-1){let o=this._rawData.toString("utf8",0,n).split(`\r
`);for(let s=0;s<o.length;s++){let a=o[s].split(/: +/);a[0]==="Content-Length"&&(this._contentLength=+a[1])}this._rawData=this._rawData.slice(n+C5.length);continue}}break}};this.logger=n,this._rawData=Buffer.alloc(0),e.on("end",()=>this.endedEmitter.fire()),e.on("data",this._handleData)}send(e,t=!0,n){let i=JSON.stringify(e);if(t){let s=e;e.type==="response"&&e.command==="source"&&(s={...e,body:{...e.body,content:"<script source>"}}),this.logger?.verbose("dap.send",void 0,{connectionId:this._connectionId,message:s})}let o=`Content-Length: ${Buffer.byteLength(i,"utf8")}\r
\r
${i}`;if(this.outputStream.destroyed){this.logger?.warn("dap.send","Message not sent. Connection was closed."),n?.();return}this.outputStream.write(o,"utf8",s=>{n?.(),s&&(console.log(e),this.logger?.error("dap.send","Error while writing to output stream",s),this.close())})}close(){this.inputStream.destroy(),this.outputStream.destroy()}setLogger(e){return this.logger=e,this}};var F5=w(we()),Gw=w(require("os"));var Zfe={connect:async()=>cl},L5=r=>({async connect(e){return await e.Debugger.setAsyncCallStackDepth({maxDepth:r}),cl}}),eme=r=>{let e=new U,t=!1,n=()=>{t||(t=!0,e.fire())};return{async connect(i){if(t)return await i.Debugger.setAsyncCallStackDepth({maxDepth:r}),cl;let o=new Ce;return o.push(e.event(()=>{o.dispose(),i.Debugger.setAsyncCallStackDepth({maxDepth:r})}),i.Debugger.on("breakpointResolved",n),i.Debugger.on("paused",s=>{s.reason!=="instrumentation"&&n()})),o}}},T5=L5(32),D5=r=>r===!1?Zfe:r===!0?T5:"onAttach"in r?L5(r.onAttach):"onceBreakpointResolved"in r?eme(r.onceBreakpointResolved):T5;var ui=w(we());var Mh=class r{constructor(e,t,n,i){this.asyncStackPolicy=t;this.launchConfig=n;this._services=i;this._disposables=new Ce;this._customBreakpoints=[];this._xhrBreakpoints=[];this._threadDeferred=Ge();this.breakpointIdCounter=Uh();this._cdpProxyProvider=this._services.get(Dy);this._configurationDoneDeferred=Ge(),this.sourceContainer=i.get(ir),this.breakpointManager=i.get(Un);let o=i.get(lb),s=i.get(Kt);s.onFlush(()=>{s.report("breakpointStats",this.breakpointManager.statisticsForTelemetry()),s.report("statistics",this.sourceContainer.statistics())}),this.dap=e,this.dap.on("initialize",a=>this.onInitialize(a)),this.dap.on("setBreakpoints",a=>this._onSetBreakpoints(a)),this.dap.on("setExceptionBreakpoints",a=>this.setExceptionBreakpoints(a)),this.dap.on("configurationDone",()=>this.configurationDone()),this.dap.on("loadedSources",()=>this._onLoadedSources()),this.dap.on("disableSourcemap",a=>this._onDisableSourcemap(a)),this.dap.on("source",a=>this._onSource(a)),this.dap.on("threads",()=>this._onThreads()),this.dap.on("stackTrace",a=>this._withThread(c=>c.stackTrace(a))),this.dap.on("variables",a=>this._onVariables(a)),this.dap.on("readMemory",a=>this._onReadMemory(a)),this.dap.on("writeMemory",a=>this._onWriteMemory(a)),this.dap.on("setVariable",a=>this._onSetVariable(a)),this.dap.on("setExpression",a=>this._onSetExpression(a)),this.dap.on("continue",()=>this._withThread(a=>a.resume())),this.dap.on("pause",()=>this._withThread(a=>a.pause())),this.dap.on("next",()=>this._withThread(a=>a.stepOver())),this.dap.on("stepIn",a=>this._withThread(c=>c.stepInto(a.targetId))),this.dap.on("stepOut",()=>this._withThread(a=>a.stepOut())),this.dap.on("restartFrame",a=>this._withThread(c=>c.restartFrame(a))),this.dap.on("scopes",a=>this._withThread(c=>c.scopes(a))),this.dap.on("evaluate",a=>this.onEvaluate(a)),this.dap.on("completions",a=>this._withThread(c=>c.completions(a))),this.dap.on("exceptionInfo",()=>this._withThread(a=>a.exceptionInfo())),this.dap.on("setCustomBreakpoints",a=>this.setCustomBreakpoints(a)),this.dap.on("toggleSkipFileStatus",a=>this._toggleSkipFileStatus(a)),this.dap.on("toggleSkipFileStatus",a=>this._toggleSkipFileStatus(a)),this.dap.on("prettyPrintSource",a=>this._prettyPrintSource(a)),this.dap.on("revealPage",()=>this._withThread(a=>a.revealPage())),this.dap.on("getPerformance",()=>this._withThread(a=>o.retrieve(a.cdp()))),this.dap.on("breakpointLocations",a=>this._breakpointLocations(a)),this.dap.on("createDiagnostics",a=>this._dumpDiagnostics(a)),this.dap.on("requestCDPProxy",()=>this._requestCDPProxy()),this.dap.on("setExcludedCallers",a=>this._onSetExcludedCallers(a)),this.dap.on("saveDiagnosticLogs",({toFile:a})=>this._saveDiagnosticLogs(a)),this.dap.on("setSourceMapStepping",a=>this._setSourceMapStepping(a)),this.dap.on("stepInTargets",a=>this._stepInTargets(a)),this.dap.on("setDebuggerProperty",a=>this._setDebuggerProperty(a)),this.dap.on("setSymbolOptions",a=>this._setSymbolOptions(a))}_setDebuggerProperty(e){return this._thread?.cdp().DotnetDebugger.setDebuggerProperty(e),Promise.resolve({})}_setSymbolOptions(e){return this._thread?.cdp().DotnetDebugger.setSymbolOptions(e),Promise.resolve({})}_breakpointLocations(e){return this._withThread(async t=>{let n=this.sourceContainer.source(e.source);return n?{breakpoints:(await this.breakpointManager.getBreakpointLocations(t,n,new Bt(e.line,e.column||1),new Bt(e.endLine||e.line+1,e.endColumn||e.column||1))).map(o=>o.uiLocations.find(s=>s.source===n)).filter(St).map(o=>({line:o.lineNumber,column:o.columnNumber}))}:{breakpoints:[]}})}_stepInTargets(e){return this._withThread(async t=>({targets:await t.getStepInTargets(e.frameId)}))}_setSourceMapStepping({enabled:e}){return this.sourceContainer.doSourceMappedStepping=e,Promise.resolve({})}async _saveDiagnosticLogs(e){let t=this._services.get(ie).getRecentLogs();return await this._services.get(_e).writeFile(e,t.map(n=>JSON.stringify(n)).join(`
`)),{}}async launchBlocker(){await this._configurationDoneDeferred.promise,await this._thread?.debuggerReady.promise,await this._services.get(Ol).launchBlocker,await this.breakpointManager.launchBlocker()}async _onSetExcludedCallers({callers:e}){return(await this._threadDeferred.promise).setExcludedCallers(e),{}}async onInitialize(e){console.assert(e.linesStartAt1),console.assert(e.columnsStartAt1);let t=r.capabilities(!0);return setTimeout(()=>this.dap.initialized({}),0),setTimeout(()=>this._thread?.dapInitialized(),0),t}static capabilities(e=!1){return{supportsConfigurationDoneRequest:!0,supportsFunctionBreakpoints:!1,supportsConditionalBreakpoints:!0,supportsHitConditionalBreakpoints:!0,supportsEvaluateForHovers:!0,supportsReadMemoryRequest:!0,supportsWriteMemoryRequest:!0,exceptionBreakpointFilters:[{filter:"all",label:ui.t("Caught Exceptions"),default:!1,supportsCondition:!0,description:ui.t("Breaks on all throw errors, even if they're caught later."),conditionDescription:'error.name == "MyError"'},{filter:"uncaught",label:ui.t("Uncaught Exceptions"),default:!1,supportsCondition:!0,description:ui.t("Breaks only on errors or promise rejections that are not handled."),conditionDescription:'error.name == "MyError"'}],supportsStepBack:!1,supportsSetVariable:!0,supportsRestartFrame:!0,supportsGotoTargetsRequest:!1,supportsStepInTargetsRequest:!0,supportsCompletionsRequest:!0,supportsModulesRequest:!1,additionalModuleColumns:[],supportedChecksumAlgorithms:[],supportsRestartRequest:!0,supportsExceptionOptions:!1,supportsValueFormattingOptions:!0,supportsExceptionInfoRequest:!0,supportTerminateDebuggee:!0,supportsDelayedStackTraceLoading:!0,supportsLoadedSourcesRequest:!0,supportsLogPoints:!0,supportsTerminateThreadsRequest:!1,supportsSetExpression:!0,supportsTerminateRequest:!1,completionTriggerCharacters:[".","[",'"',"'"],supportsBreakpointLocationsRequest:!0,supportsClipboardContext:!0,supportsExceptionFilterOptions:!0,supportsEvaluationOptions:!!e,supportsDebuggerProperties:!!e,supportsSetSymbolOptions:!!e}}async _onSetBreakpoints(e){return this.breakpointManager.setBreakpoints(e,e.breakpoints?.map(()=>this.breakpointIdCounter())??[])}async setExceptionBreakpoints(e){return await this._services.get(Ol).setBreakpoints(e),{}}async configurationDone(){return this._configurationDoneDeferred.resolve(),{}}async _onLoadedSources(){return{sources:await this.sourceContainer.loadedSources()}}async _onDisableSourcemap(e){let t=this.sourceContainer.source(e.source);if(!t)return Je(ui.t("Source not found"));if(!(t instanceof Dt))return Je(ui.t("Source not a source map"));for(let n of t.compiledToSourceUrl.keys())this.sourceContainer.disableSourceMapForSource(n,!0);return await this._thread?.refreshStackTrace(),{}}async _onSource(e){e.source||(e.source={sourceReference:e.sourceReference}),e.source.path=hi(e.source.path);let t=this.sourceContainer.source(e.source);if(!t)return Je(ui.t("Source not found"));let n=await t.content();return n===void 0?(t instanceof Dt&&this.dap.suggestDisableSourcemap({source:e.source}),Je(ui.t("Unable to retrieve source content"))):{content:n,mimeType:t.getSuggestedMimeType}}async _onThreads(){let e=[];return this._thread&&e.push({id:this._thread.id,name:this._thread.name()}),{threads:e}}findVariableStore(e){if(!this._thread)return;let t=this._thread.pausedVariables();if(t&&e(t))return t;if(e(this._thread.replVariables))return this._thread.replVariables}async _onVariables(e){return{variables:await this.findVariableStore(n=>n.hasVariable(e.variablesReference))?.getVariables(e)??[]}}async _onReadMemory(e){let t=e.memoryReference,n=await this.findVariableStore(i=>i.hasMemory(t))?.readMemory(t,e.offset??0,e.count);return n?{address:"0",data:n.toString("base64"),unreadableBytes:e.count-n.length}:{address:"0",unreadableBytes:e.count}}async _onWriteMemory(e){let t=e.memoryReference;return{bytesWritten:await this.findVariableStore(i=>i.hasMemory(t))?.writeMemory(t,e.offset??0,Buffer.from(e.data,"base64"))}}async _onSetExpression(e){if(!this._thread)throw new K(j_());let t=await this._thread.evaluate({expression:`${e.expression} = ${yf(e.value)}`,context:"repl",frameId:e.frameId});return{value:t.result,variablesReference:t.variablesReference,indexedVariables:t.indexedVariables,namedVariables:t.namedVariables,presentationHint:t.presentationHint,type:t.type}}async _onSetVariable(e){let t=this.findVariableStore(n=>n.hasVariable(e.variablesReference));return t?(e.value=yf(e.value.trim()),t.setVariable(e)):Je(ui.t("Variable not found"))}_withThread(e){if(!this._thread)throw new K(j_());return e(this._thread)}async _refreshStackTrace(){if(!this._thread)return;this._thread.pausedDetails()&&await this._thread.refreshStackTrace()}createThread(e,t){this._thread=new Dl(this.sourceContainer,e,this.dap,t,this._services.get(Ws),this._services.get(ie),this._services.get(Mn),this._services.get($y),this.launchConfig,this.breakpointManager,this._services.get(nb),this._services.get(Ol),this._services.get(Qs),this._services.get(ta));let n=this._services.get(gb);return n.connect(this.dap,this._thread),"profileStartup"in this.launchConfig&&this.launchConfig.profileStartup&&n.start(this.dap,this._thread,{type:ar.type}),this._thread.updateCustomBreakpoints(this._xhrBreakpoints,this._customBreakpoints),this.asyncStackPolicy.connect(e).then(i=>this._disposables.push(i)).catch(i=>this._services.get(ie).error("internal","Error enabling async stacks",i)),this.breakpointManager.setThread(this._thread),this._services.get(bt).attach(e),this._threadDeferred.resolve(this._thread),this._thread}async setCustomBreakpoints({ids:e,xhr:t}){return await this._thread?.updateCustomBreakpoints(t,e),this._customBreakpoints=e,this._xhrBreakpoints=t,{}}async _toggleSkipFileStatus(e){return await this._services.get(Vs).toggleSkippingFile(e),await this._refreshStackTrace(),{}}async _prettyPrintSource(e){if(!e.source||!this._thread)return{canPrettyPrint:!1};e.source.path=hi(e.source.path);let t=this.sourceContainer.source(e.source);if(!t)return Je(ui.t("Source not found"));let n=await t.prettyPrint();if(!n)return Je(ui.t("Unable to pretty print"));let{map:i,source:o}=n;return await this.breakpointManager.moveBreakpoints(this._thread,t,i,o),this.sourceContainer.clearDisabledSourceMaps(t),await this._refreshStackTrace(),{}}onEvaluate(e){return e.expression===".scripts"?this._dumpDiagnostics({fromSuggestion:!1}).then(this.dap.openDiagnosticTool).then(()=>({result:"Opening diagnostic tool...",variablesReference:0})):this._withThread(t=>t.evaluate(e))}async _dumpDiagnostics(e){let t={file:await this._services.get(ra).generateHtml()};return e.fromSuggestion&&this._services.get(Kt).report("diagnosticPrompt",{event:"opened"}),t}async _requestCDPProxy(){return await this._cdpProxyProvider.proxy()}dispose(){this._disposables.dispose(),py(this._services)}};var $5=require("inspector"),k5=require("fs"),Ww=class{constructor(e){this.file=e;this.session=new $5.Session;this.session.connect()}async start(){try{await this.post("Profiler.enable")}catch{}await this.post("Profiler.start")}async stop(){let{profile:e}=await this.post("Profiler.stop");await k5.promises.writeFile(this.file,JSON.stringify(e))}dispose(){this.session.disconnect()}post(e,t){return new Promise((n,i)=>this.session.post(e,t,(o,s)=>{o?i(o):n(s)}))}};var qw=w(require("path"));function M5(r,e,t){let n=R5(r,e,"uncaughtException",t),i=R5(r,e,"unhandledRejection",t);return process.addListener("uncaughtException",n),process.addListener("unhandledRejection",i),{dispose:()=>{process.removeListener("uncaughtException",n),process.removeListener("unhandledRejection",i)}}}var R5=(r,e,t,n=!0)=>i=>{nme(i)&&(e.report("error",{"!error":i,error:n?void 0:i,exceptionType:t}),r.error("runtime.exception","Unhandled error in debug adapter",i))},tme=r=>typeof r=="object"&&!!r&&"stack"in r,rme=qw.dirname(qw.dirname(qw.dirname(__dirname)));function nme(r){return!O5||tme(r)&&!!r.stack?.includes(rme)}var O5=!1;function N5(){O5=!0}var Vw=class{constructor(e,t,n,i){this._delegate=e;this._rootServices=n;this._disposables=new Ce;this._serviceTree=new WeakMap;this._root=new yu(void 0);this.getLaunchers=Se(()=>{let e=new Set(this._rootServices.getAll(hr));for(let t of e)this._disposables.push(t.onTargetListChanged(()=>{let n=this.targetList();this._attachToNewTargets(n,t),this._terminateOrphanThreads(n)}));return e});this._dap=t.dap(),this._targetOrigin=i,this._disposables.callback(()=>py(n)),this._disposables.push(M5(n.get(ie),n.get(Kt),n.get(ml))),t.attachTelemetry(n.get(Kt));let o=this._dap,s=0,a;o.on("initialize",async c=>{this._rootServices.bind(Xr).toConstantValue(c);let u=Mh.capabilities();return c.clientID==="vscode"&&N5(),setTimeout(()=>o.initialized({}),0),u}),o.on("setExceptionBreakpoints",async()=>({})),o.on("setBreakpoints",async c=>(c.breakpoints?.length&&n.get(bt).notifyHadBreakpoint(),{breakpoints:c.breakpoints?.map(()=>({id:++s,verified:!1,message:F5.t("Unbound breakpoint")}))??[]})),o.on("configurationDone",async()=>({})),o.on("threads",async()=>({threads:[]})),o.on("loadedSources",async()=>({sources:[]})),o.on("breakpointLocations",()=>Promise.resolve({breakpoints:[]})),o.on("attach",async c=>(await this.boot(c,o),{})),o.on("launch",async c=>(await this.boot(c,o),{})),o.on("pause",async()=>({})),o.on("terminate",()=>this._terminateRoot(!0)),o.on("disconnect",c=>this._disconnectRoot(c)),o.on("restart",async({arguments:c})=>(await this._restart(c),{})),o.on("startSelfProfile",async({file:c})=>(a?.dispose(),a=new Ww(c),await a.start(),{})),o.on("stopSelfProfile",async()=>(a&&(await a.stop(),a.dispose(),a=void 0),{}))}async _terminateRoot(e){return this._root.state=1,await Promise.all([...this.getLaunchers()].map(t=>t.terminate(e))),await this._root.waitUntilChildrenAre(2),this._root.state=2,{}}async _disconnectRoot(e){return this._root.state<1&&await this._terminateRoot(e.terminateDebuggee),this._rootServices.get(Kt).flush(),await this._root.waitUntilChildrenAre(3),this._root.state=3,{}}async boot(e,t){return this._boot(Cs(e,this._rootServices.get(Zo)),t)}async _boot(e,t){ime(t),this.reportBootTelemetry(e),u5(this._rootServices,e,t),this._rootServices.get(ie).setup(ok(t,e.trace));let n=e.timeout>0?Xt.withTimeout(e.timeout):new Xt;e.rootPath&&(e.rootPath=hi(e.rootPath)),this._launchParams=e;let i=await Promise.all([...this.getLaunchers()].map(o=>this._launch(o,e,n.token)));return Promise.all(i.map(o=>o.terminated)).then(o=>{let s=o.find(St);this._markTargetAsTerminated(this._root,{restart:!!s?.restart})}),{}}reportBootTelemetry(e){let t=Cs({type:e.type,request:e.request,name:"<string>",__workspaceFolder:"<workspace>"}),n=(i,o)=>typeof i=="string"?o&&t[o]===i?i:"<string>":i instanceof Array?i.map(s=>n(s)):i&&typeof i=="object"?No(i,s=>n(s)):i;this._rootServices.get(Kt).report("launch",{type:e.type,request:e.request,os:`${Gw.platform()} ${Gw.arch()}`,nodeVersion:process.version,adapterVersion:Ja,parameters:No(e,n)})}async _restart(e){let t;if(e){let n=this._rootServices.get($m);t=Cs({__workspaceFolder:n.__workspaceFolder,...e},this._rootServices.get(Zo)),n.update(t)}await Promise.all([...this.getLaunchers()].map(n=>n.restart(t)))}async _launch(e,t,n){return(await this.captureLaunch(e,t,n)).blockSessionTermination?{terminated:new Promise(o=>{let s=this._disposables.push(e.onTerminated(a=>{s.dispose(),o(a)}))})}:{terminated:Promise.resolve(void 0)}}async captureLaunch(e,t,n){let i=e.constructor.name,o;try{o=await e.launch(t,{telemetryReporter:this._rootServices.get(Kt),cancellationToken:n,targetOrigin:this._targetOrigin,dap:this._dap})}catch(s){throw this._rootServices.get(ie).warn("runtime.launch","Launch returned error",{error:s,wasCancelled:n.isCancellationRequested,name:i}),s}return o.blockSessionTermination&&this._rootServices.get(ie).info("runtime.launch","Launched successfully",{name:i}),o}dispose(){this._disposables.dispose(),this._terminateOrphanThreads([])}targetList(){let e=[];for(let t of this.getLaunchers())e.push(...t.targetList());return e}async attach(e,t){if(!this._launchParams)throw new Error("Cannot launch before params have been set");let n=e.value;if(!n.canAttach())return;let i=await n.attach();if(!i)return;let o=await this._delegate.acquireDap(n),s=o.dap(),a=this._launchParams;this._asyncStackPolicy||(this._asyncStackPolicy=D5(a.showAsyncStacks));let c=n.parent(),u=c&&this._serviceTree.get(c)||this._rootServices,l=s5(u,n,s,i);o.attachTelemetry(l.get(Kt)),this._serviceTree.set(n,u);let p=new Mh(s,this._asyncStackPolicy,a,l),d=p.createThread(i,n),h=async()=>(await p.launchBlocker(),n.runIfWaitingForDebugger(),e.threadData.resolve({thread:d,debugAdapter:p}),{});s.on("disconnect",f=>this._disconnectTarget(e,f)),s.on("terminate",()=>this._terminateTarget(e)),s.on("restart",async()=>(n.canRestart()?n.restart():await this._restart(),Promise.resolve({}))),await this._delegate.initAdapter(p,n,t)?h():(s.on("attach",h),s.on("launch",h)),await n.afterBind()}_attachToNewTargets(e,t){for(let n of e.values()){if(!n.waitingForDebugger()||yu.targetNodes.has(n))continue;let i=n.parent(),o=i?yu.targetNodes.get(i):this._root;if(!o)throw new Error(`Got target with unknown parent: ${n.name()}`);let s=new yu(n);o.add(s),this.attach(s,t)}}async _terminateOrphanThreads(e,t){let n=[...this._root.all()].filter(i=>!e.includes(i.value));return Promise.all(n.map(i=>this._markTargetAsTerminated(i,t)))}async _markTargetAsTerminated(e,t={}){if(e.state>=1)return await e.waitUntil(2),{};if(e.state=1,B5(e)){let n=await e.threadData.promise;await n.thread.dispose(),n.debugAdapter.dap.terminated(t),n.debugAdapter.dispose()}else this._dap.terminated(t);return await e.waitUntilChildrenAre(2),e.state=2,{}}async _terminateTarget(e){return e.state>=3?{}:(e.value.canStop()?e.value.stop():this._terminateRoot(!0),await e.waitUntil(2),{})}async _disconnectTarget(e,t){if(e.state>=3)return{};e.state<1&&(t.terminateDebuggee!==!0&&e.value.canDetach()?await e.value.detach():e.value.canStop()?e.value.stop():this._terminateRoot(t.terminateDebuggee)),await e.waitUntil(2),await e.waitUntilChildrenAre(3),e.state=3,queueMicrotask(()=>this._delegate.releaseDap(e.value));let n=e.value.parent();return(n?yu.targetNodes.get(n):this._root)?.remove(e),{}}};function ime(r){Kh&&r.output({category:"console",output:`Note: Using the "preview" debug extension
`})}var B5=r=>!!r.value,yu=class r{constructor(e){this.value=e;this.threadData=Ge();this._state=0;this._children=new Set;this._stateChangeEmitter=new U;e&&r.targetNodes.set(e,this)}static{this.targetNodes=new WeakMap}get state(){return this._state}set state(e){e>this._state&&(this._state=e,this._stateChangeEmitter.fire(e))}add(e){this._children.add(e)}remove(e){this._children.delete(e)}async waitUntil(e){return this._state>=e?Promise.resolve():new Promise(t=>{let n=this._stateChangeEmitter.event(i=>{i>=e&&(n.dispose(),t())})})}async waitUntilChildrenAre(e){await Promise.all([...this._children].map(t=>t.waitUntil(e)))}*all(){B5(this)&&(yield this);for(let e of this._children)yield*e.all()}};var zw=class{constructor(e,t,n,i,o){this.debugSession=e;this.logger=n;this.sessionStates=i;this.parent=o;this.subscriptions=new Ce;t instanceof Ou?this.connection=t:(t.setLogger(n),this.connection=new Ou(t,this.logger))}listenToTarget(e){this.subscriptions.push(e.onNameChanged(()=>this.setName(e)),this.sessionStates.onAdd(([t])=>t===this.debugSession.id&&this.setName(e)),this.sessionStates.onRemove(([t])=>t===this.debugSession.id&&this.setName(e))),this.setName(e)}dispose(){this.subscriptions.dispose()}setName(e){let t=this.sessionStates.get(this.debugSession.id),n=e.name();this.parent instanceof Rd&&(n=`${this.parent.debugSession.name}: ${n}`),this.debugSession.name=t?`${n} (${t})`:n}},Rd=class extends zw{constructor(t,n,i){super(t,n,i.get(ie),i.get(hl));this.debugSession=t;this.services=i;this.connection.attachTelemetry(i.get(Kt))}get binder(){return this._binder}createBinder(t){this._binder=new Vw(t,this.connection,this.services,new Mv(this.debugSession.id))}dispose(){super.dispose(),this._binder?.dispose?.()}},Kw=class{constructor(e,t){this.globalContainer=e;this.sessionLauncher=t;this._disposables=[];this._sessions=new Map;this._pendingTarget=new Map;this._sessionForTarget=new Map;this._sessionForTargetCallbacks=new Map}terminate(e){let t=this._sessions.get(e.id);this._sessions.delete(e.id),t&&t.dispose()}hasPendingTargetId(e){return this._pendingTarget.has(e)}createNewRootSession(e,t){let n=new Rd(e,t,a5(this.globalContainer));return n.createBinder(this),this._sessions.set(e.id,n),n}createNewChildSession(e,t,n){let i=this._pendingTarget.get(t);if(!i)throw new Error(`Cannot find target ${t}`);let{target:o,parent:s}=i,a=new zw(e,n,s.logger,s.sessionStates,s);this._pendingTarget.delete(t),a.debugSession.name=o.name(),a.listenToTarget(o);let c=this._sessionForTargetCallbacks.get(o);return this._sessionForTargetCallbacks.delete(o),c?.fulfill?.(a),this._sessions.set(e.id,a),a}async acquireDap(e){return(await this.getOrLaunchSession(e)).connection}getOrLaunchSession(e){let t=this._sessionForTarget.get(e);if(t)return t;let n=new Promise(async(i,o)=>{let s,a=e.parent();if(a?s=await this.getOrLaunchSession(a):s=this._sessions.get(e.targetOrigin().id),!s)throw new Error("Expected to get a parent debug session for target");this._pendingTarget.set(e.id(),{target:e,parent:s}),this._sessionForTargetCallbacks.set(e,{fulfill:i,reject:o});let c=s.debugSession.configuration,u={type:c.type==="pwa-extensionHost"?"pwa-chrome":c.type,name:e.name(),request:s.debugSession.configuration.request,__pendingTargetId:e.id(),preRestartTask:c.preRestartTask??c.postDebugTask,postRestartTask:c.postRestartTask??c.preLaunchTask};this.sessionLauncher.launch(s,e,u)});return this._sessionForTarget.set(e,n),n}initAdapter(e,t,n){return Promise.resolve(!1)}releaseDap(e){this._sessionForTarget.delete(e);let t=this._sessionForTargetCallbacks.get(e);t&&t.reject(new Error("Target gone")),this._sessionForTargetCallbacks.delete(e)}dispose(){for(let e of this._sessions.values())e.dispose();this._sessions.clear(),this._pendingTarget.clear(),this._sessionForTarget.clear(),this._sessionForTargetCallbacks.clear();for(let e of this._disposables)e.dispose();this._disposables=[]}};var Xw=class{constructor(e,t,n="127.0.0.1"){this.host=n;this.disposables=[];this.servers=new Map;this.sessionManager=new Kw(e,t),this.portLeaseTracker=e.get(dt),this.disposables.push(this.sessionManager)}createDebugServer(e,t){return e.configuration.__pendingTargetId?this.createChildDebugServer(e):this.createRootDebugServer(e,t)}createRootDebugServer(e,t){return this.innerCreateServer(e,n=>this.sessionManager.createNewRootSession(e,n),t)}createRootDebugSessionFromStreams(e,t,n){let i=new Rh(t,n);return this.sessionManager.createNewRootSession(e,i)}createChildDebugServer(e,t){return this.innerCreateServer(e,n=>this.sessionManager.createNewChildSession(e,e.configuration.__pendingTargetId,n),t)}async innerCreateServer(e,t,n){let i=Ge(),o=a=>{let c=new Rh(a,a),u=t(c);i.resolve(u.connection)},s=n===void 0?await new Promise((a,c)=>{let u=Zg(),l=j5.createServer(o).on("error",c).on("close",()=>U5.promises.unlink(u).catch(()=>{})).listen(u,()=>a(l))}):await JO(this.portLeaseTracker,o,n,this.host);return this.servers.set(e.id,s),{server:s,connectionPromise:i.promise}}terminate(e){this.sessionManager.terminate(e),this.servers.get(e.id)?.close(),this.servers.delete(e.id)}dispose(){this.sessionManager.dispose()}};var sT=class{launch(e,t,n){Ka.debug.startDebugging(e.debugSession.workspaceFolder,{...n,...t.supplementalConfig,serverReadyAction:e.debugSession.configuration.serverReadyAction,__parentId:e.debugSession.id},{parentSession:e.debugSession,consoleMode:Ka.DebugConsoleMode.MergeWithParent,noDebug:e.debugSession.configuration.noDebug,compact:e instanceof Rd,lifecycleManagedByParent:!t.independentLifeycle})}},Jw=class{constructor(e){this.sessionServerManager=new Xw(e,new sT)}async createDebugAdapterDescriptor(e){let t=process.env.JS_DEBUG_USE_LOCAL_DAP_PORT;if(t)return new Ka.DebugAdapterServer(+t);let n=await this.sessionServerManager.createDebugServer(e);return new Ka.DebugAdapterNamedPipeServer(n.server.address())}terminate(e){this.sessionServerManager.terminate(e)}dispose(){this.sessionServerManager.dispose()}};function ome(r){Vt.l10n.bundle&&W5.config({contents:Vt.l10n.bundle});let e=c5({storagePath:process.platform==="win32"?(0,q5.tmpdir)():r.storagePath||r.extensionPath,isVsCode:!0,isRemote:!!process.env.JS_DEBUG_USE_COMPANION||Vt.extensions.getExtension(wT)?.extensionKind===Vt.ExtensionKind.Workspace,context:r});r.subscriptions.push(Re(Vt.commands,"extension.js-debug.npmScript",f4),Re(Vt.commands,"extension.js-debug.pickNodeProcess",bC),Re(Vt.commands,"extension.pwa-node-debug.attachNodeProcess",Z8),Re(Vt.commands,"extension.js-debug.toggleSkippingFile",P5));let t=e.getAll(kx);for(let s of t){let a=s;r.subscriptions.push(Vt.debug.registerDebugConfigurationProvider(s.type,a));let c=Ud.get(s.type);c&&r.subscriptions.push(Vt.debug.registerDebugConfigurationProvider(c,a))}let n=e.getAll(Rx);for(let s of n)Vt.debug.registerDebugConfigurationProvider(s.type,s,Vt.DebugConfigurationProviderTriggerKind!==void 0?s.triggerKind:void 0);let i=new Jw(e);r.subscriptions.push(...[...Qw].map(s=>Vt.debug.registerDebugAdapterDescriptorFactory(s,i))),r.subscriptions.push(Vt.debug.onDidTerminateDebugSession(s=>i.terminate(s))),r.subscriptions.push(i);let o=e.get(Ye);o.attach(),x5(r),w5(r,o),g5(r,e.get(_o),e.get(Ga),e),I5(r,e),y5(r,e.get(_o),e),S5(r,o),_5(r,o),e.getAll(Jr).forEach(s=>s.register(r))}function sme(){}0&&(module.exports={activate,deactivate});
/*! Bundled license information:

reflect-metadata/Reflect.js:
  (*! *****************************************************************************
  Copyright (C) Microsoft. All rights reserved.
  Licensed under the Apache License, Version 2.0 (the "License"); you may not use
  this file except in compliance with the License. You may obtain a copy of the
  License at http://www.apache.org/licenses/LICENSE-2.0
  
  THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
  WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
  MERCHANTABLITY OR NON-INFRINGEMENT.
  
  See the Apache Version 2.0 License for specific language governing permissions
  and limitations under the License.
  ***************************************************************************** *)

is-number/index.js:
  (*!
   * is-number <https://github.com/jonschlinkert/is-number>
   *
   * Copyright (c) 2014-present, Jon Schlinkert.
   * Released under the MIT License.
   *)

to-regex-range/index.js:
  (*!
   * to-regex-range <https://github.com/micromatch/to-regex-range>
   *
   * Copyright (c) 2015-present, Jon Schlinkert.
   * Released under the MIT License.
   *)

fill-range/index.js:
  (*!
   * fill-range <https://github.com/jonschlinkert/fill-range>
   *
   * Copyright (c) 2014-present, Jon Schlinkert.
   * Licensed under the MIT License.
   *)

object-assign/index.js:
  (*
  object-assign
  (c) Sindre Sorhus
  @license MIT
  *)

normalize-path/index.js:
  (*!
   * normalize-path <https://github.com/jonschlinkert/normalize-path>
   *
   * Copyright (c) 2014-2018, Jon Schlinkert.
   * Released under the MIT License.
   *)

is-extglob/index.js:
  (*!
   * is-extglob <https://github.com/jonschlinkert/is-extglob>
   *
   * Copyright (c) 2014-2016, Jon Schlinkert.
   * Licensed under the MIT License.
   *)

is-glob/index.js:
  (*!
   * is-glob <https://github.com/jonschlinkert/is-glob>
   *
   * Copyright (c) 2014-2017, Jon Schlinkert.
   * Released under the MIT License.
   *)

is-windows/index.js:
  (*!
   * is-windows <https://github.com/jonschlinkert/is-windows>
   *
   * Copyright © 2015-2018, Jon Schlinkert.
   * Released under the MIT License.
   *)

mime-db/index.js:
  (*!
   * mime-db
   * Copyright(c) 2014 Jonathan Ong
   * MIT Licensed
   *)

mime-types/index.js:
  (*!
   * mime-types
   * Copyright(c) 2014 Jonathan Ong
   * Copyright(c) 2015 Douglas Christopher Wilson
   * MIT Licensed
   *)
*/
//# sourceMappingURL=extension.js.map
