<h4><strong>IMPORTANT:&nbsp;If you're using Kafka on Windows WSL2</strong></h4><p><br></p><p>When running a command from the CLI outside of WSL2 or your Java programs, you may get the following error:</p><p><br></p><figure><img src="https://img-b.udemycdn.com/redactor/raw/article_lecture/2022-06-02_13-07-39-50ab98e5020e6b48790037ab0830d4d6.png"></figure><p><br></p><h4><strong>If do you get that error, please run the instructions below</strong></h4><p>(this is to edge a <a href="https://github.com/microsoft/WSL/issues/4851" rel="noopener noreferrer" target="_blank">WSL2 networking bug</a> with Kafka, so we have to disable IPv6 on WSL2 to remediate)</p><p> </p><p><strong>First, stop Kafka and Zookeeper.</strong></p><p><br></p><p>Then, please run these commands on your end on WSL2, one by one.</p><p>Your password will be prompted on the first command. </p><p><br></p><pre class="prettyprint linenums">sudo sysctl -w net.ipv6.conf.all.disable_ipv6=1</pre><p>and<br></p><pre class="prettyprint linenums">sudo sysctl -w net.ipv6.conf.default.disable_ipv6=1</pre><p><br></p><p>and then, go to <code>config/server.properties</code> and edit the file to add the line:</p><p><br></p><pre class="prettyprint linenums">listeners=PLAINTEXT://localhost:9092
</pre><p><br></p><p><strong>When the three commands have succeeded, relaunch Zookeeper and Kafka.&nbsp;</strong></p><p>You should be able to connect from your Java programs or CLI without a problem!</p><p><br></p><h4>In case the fix above does not help</h4><p><br></p><p>Try the fixes outlined in these pages:</p><ul><li><p><a href="https://docs.conduktor.io/kafka-cluster-connection/setting-up-a-connection-to-kafka/connecting-to-kafka-running-on-windows-wsl-2" rel="noopener noreferrer" target="_blank">https://docs.conduktor.io/kafka-cluster-connection/setting-up-a-connection-to-kafka/connecting-to-kafka-running-on-windows-wsl-2 </a></p></li><li><p><a href="https://stackoverflow.com/questions/64177422/unable-to-produce-to-kafka-topic-that-is-running-on-wsl-2-from-windows" rel="noopener noreferrer" target="_blank">https://stackoverflow.com/questions/64177422/unable-to-produce-to-kafka-topic-that-is-running-on-wsl-2-from-windows </a></p></li></ul><p><br></p><h4><strong>If after using these fixes, you still can't connect to Kafka, we recommend either</strong></h4><ul><li><p>Running Kafka on&nbsp;Windows non-WSL2 (next lecture)</p></li><li><p>Running Kafka using Conduktor</p></li></ul><p><br></p><p><strong>Happy learning!</strong></p>